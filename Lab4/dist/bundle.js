/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={258:(t,e,n)=>{n.d(e,{ZR:()=>i.ZR,Jn:()=>I,l4:()=>u,H9:()=>f,Vr:()=>p,Af:()=>l,Z8:()=>v,lz:()=>d,qX:()=>g,Xd:()=>m,wN:()=>y,P2:()=>_,Mq:()=>T,C6:()=>S,ZF:()=>E,TP:()=>A,KN:()=>N,Ub:()=>D});var r=n(909),s=n(594),i=n(589);class o{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const a="@firebase/app",c=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},l=new Map,d=new Map;function f(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function p(t,e){t.container.addOrOverwriteComponent(e)}function m(t){const e=t.name;if(d.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;d.set(e,t);for(const e of l.values())f(e,t);return!0}function g(t,e){return t.container.getProvider(e)}function y(t,e,n=u){g(t,e).clearInstance(n)}function v(){d.clear()}const w=new i.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const I="9.0.0";function E(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},e),s=n.name;if("string"!=typeof s||!s)throw w.create("bad-app-name",{appName:String(s)});const o=l.get(s);if(o){if((0,i.vZ)(t,o.options)&&(0,i.vZ)(n,o.config))return o;throw w.create("duplicate-app",{appName:s})}const a=new r.H0(s);for(const t of d.values())a.addComponent(t);const c=new b(t,n,a);return l.set(s,c),c}function T(t=u){const e=l.get(t);if(!e)throw w.create("no-app",{appName:t});return e}function S(){return Array.from(l.values())}async function _(t){const e=t.name;l.has(e)&&(l.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function N(t,e,n){var s;let i=null!==(s=h[t])&&void 0!==s?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${i}" with version "${e}":`];return o&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}m(new r.wA(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}function A(t,e){if(null!==t&&"function"!=typeof t)throw w.create("invalid-log-argument");(0,s.Am)(t,e)}function D(t){(0,s.Ub)(t)}m(new r.wA("platform-logger",(t=>new o(t)),"PRIVATE")),N(a,"0.7.0",undefined),N("fire-js","")},909:(t,e,n)=>{n.d(e,{wA:()=>i,H0:()=>c});var r=n(655),s=n(589),i=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}try{for(var s=(0,r.XA)(this.instancesDeferred.entries()),i=s.next();!i.done;i=s.next()){var a=(0,r.CR)(i.value,2),c=a[0],u=a[1],h=this.normalizeInstanceIdentifier(c);try{var l=this.getOrInitializeService({instanceIdentifier:h});u.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.CR)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var s=t.options,i=void 0===s?{}:s,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var h=(0,r.CR)(u.value,2),l=h[0],d=h[1];o===this.normalizeInstanceIdentifier(l)&&d.resolve(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(r,s);var i=this.instances.get(r);return i&&t(i,r),function(){s.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,s,i=this.onInitCallbacks.get(e);if(i)try{for(var o=(0,r.XA)(i),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,s=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:s}),this.instances.set(n,i),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(t){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},594:(t,e,n)=>{function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),s=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}var s;n.d(e,{in:()=>i,Yd:()=>l,Ub:()=>d,Am:()=>f});var i,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},c=i.INFO,u=((s={})[i.DEBUG]="log",s[i.VERBOSE]="log",s[i.INFO]="info",s[i.WARN]="warn",s[i.ERROR]="error",s),h=function(t,e){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+i+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],t)),this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],t)),this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],t)),this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],t)),this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],t)),this._logHandler.apply(this,r([this,i.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:a,args:s,type:e.name})}},r=0,s=o;r<s.length;r++)n(s[r])}},589:(t,e,n)=>{n.d(e,{BH:()=>a,LL:()=>v,ZR:()=>y,Sg:()=>c,vZ:()=>I,m9:()=>S,z$:()=>u,ru:()=>l,d:()=>f,w1:()=>p,uI:()=>h,b$:()=>d,G6:()=>g,Mn:()=>m});var r=n(655),s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296==(64512&s)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],s=0;s<t.length;s+=3){var i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,l=(3&i)<<4|a>>4,d=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(d=64)),r.push(n[h],n[l],n[d],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){var i=t[n++];e[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){var o=((7&s)<<18|(63&(i=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{i=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],s=0;s<t.length;){var i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0,a=++s<t.length?n[t.charAt(s)]:64,c=++s<t.length?n[t.charAt(s)]:64;if(++s,null==i||null==o||null==a||null==c)throw Error();var u=i<<2|o>>4;if(r.push(u),64!==a){var h=o<<4&240|a>>2;if(r.push(h),64!==c){var l=a<<6&192|c;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){var e=s(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function l(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return u().indexOf("MSAppHost/")>=0}function g(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var y=function(t){function e(n,r,s){var i=t.call(this,r)||this;return i.code=n,i.customData=s,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return(0,r.ZT)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},s=this.service+"/"+t,i=this.errors[t],o=i?w(i,r):"Error",a=this.serviceName+": "+o+" ("+s+").",c=new y(s,a,r);return c},t}();function w(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function I(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),s=0,i=n;s<i.length;s++){var o=i[s];if(!r.includes(o))return!1;var a=t[o],c=e[o];if(E(a)&&E(c)){if(!I(a,c))return!1}else if(a!==c)return!1}for(var u=0,h=r;u<h.length;u++)if(o=h[u],!n.includes(o))return!1;return!0}function E(t){return null!==t&&"object"==typeof t}function T(){}function S(t){return t&&t._delegate?t._delegate:t}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var s=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(s<<1|s>>>31)}var i,o,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(i=h^c&(u^h),o=1518500249):(i=c^u^h,o=1859775393):r<60?(i=c&u|h&(c|u),o=2400959708):(i=c^u^h,o=3395469782),s=(a<<5|a>>>27)+i+l+o+n[r]&4294967295,l=h,h=u,u=4294967295&(c<<30|c>>>2),c=a,a=s;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,s=this.buf_,i=this.inbuf_;r<e;){if(0===i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(s[i]=t.charCodeAt(r),++r,++i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<e;)if(s[i]=t[r],++r,++i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var s=24;s>=0;s-=8)t[r]=this.chain_[n]>>s&255,++r;return t}}(),function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,s=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var s=r[n];if(s in t&&"function"==typeof t[s])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{s.finalError?r.error(s.finalError):r.complete()}catch(t){}})),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))}}()},503:(t,e,n)=>{n.r(e),n.d(e,{FirebaseError:()=>r.ZR,SDK_VERSION:()=>r.Jn,_DEFAULT_ENTRY_NAME:()=>r.l4,_addComponent:()=>r.H9,_addOrOverwriteComponent:()=>r.Vr,_apps:()=>r.Af,_clearComponents:()=>r.Z8,_components:()=>r.lz,_getProvider:()=>r.qX,_registerComponent:()=>r.Xd,_removeServiceInstance:()=>r.wN,deleteApp:()=>r.P2,getApp:()=>r.Mq,getApps:()=>r.C6,initializeApp:()=>r.ZF,onLog:()=>r.TP,registerVersion:()=>r.KN,setLogLevel:()=>r.Ub});var r=n(258);(0,r.KN)("firebase","9.0.2","app")},956:(t,e,n)=>{n.r(e),n.d(e,{AbstractUserDataWriter:()=>Tf,Bytes:()=>vd,CACHE_SIZE_UNLIMITED:()=>Zl,CollectionReference:()=>zl,DocumentReference:()=>jl,DocumentSnapshot:()=>Jd,FieldPath:()=>gd,FieldValue:()=>wd,Firestore:()=>td,FirestoreError:()=>Or,GeoPoint:()=>bd,LoadBundleTask:()=>Xl,Query:()=>Kl,QueryConstraint:()=>rf,QueryDocumentSnapshot:()=>Xd,QuerySnapshot:()=>Zd,SnapshotMetadata:()=>Yd,Timestamp:()=>Qr,Transaction:()=>Kf,WriteBatch:()=>Nf,_DatabaseId:()=>kl,_DocumentKey:()=>gs,_EmptyCredentialsProvider:()=>Fr,_FieldPath:()=>ns,_cast:()=>Fl,_debugAssert:()=>xr,_isBase64Available:()=>ss,_logWarn:()=>Ar,_validateIsNotUsedTogether:()=>Rl,addDoc:()=>Vf,arrayRemove:()=>Qf,arrayUnion:()=>Hf,clearIndexedDbPersistence:()=>cd,collection:()=>$l,collectionGroup:()=>Gl,connectFirestoreEmulator:()=>Bl,deleteDoc:()=>Ff,deleteField:()=>$f,disableNetwork:()=>ld,doc:()=>Hl,documentId:()=>yd,enableIndexedDbPersistence:()=>id,enableMultiTabIndexedDbPersistence:()=>od,enableNetwork:()=>hd,endAt:()=>vf,endBefore:()=>yf,ensureFirestoreConfigured:()=>rd,executeWrite:()=>Bf,getDoc:()=>Df,getDocFromCache:()=>kf,getDocFromServer:()=>xf,getDocs:()=>Lf,getDocsFromCache:()=>Rf,getDocsFromServer:()=>Of,getFirestore:()=>nd,increment:()=>Wf,initializeFirestore:()=>ed,limit:()=>lf,limitToLast:()=>df,loadBundle:()=>fd,namedQuery:()=>pd,onSnapshot:()=>Uf,onSnapshotsInSync:()=>qf,orderBy:()=>uf,query:()=>sf,queryEqual:()=>Wl,refEqual:()=>Ql,runTransaction:()=>zf,serverTimestamp:()=>Gf,setDoc:()=>Mf,setLogLevel:()=>Sr,snapshotEqual:()=>ef,startAfter:()=>mf,startAt:()=>pf,terminate:()=>dd,updateDoc:()=>Pf,waitForPendingWrites:()=>ud,where:()=>af,writeBatch:()=>Yf});var r=n(258),s=n(909),i=n(594),o=n(589),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},a(t,e)};function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var u,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l=l||{},d=h||self;function f(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:w).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function E(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return e.prototype[n].apply(t,s)}}function T(){this.s=this.s,this.o=this.o}var S={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}(this);delete S[t]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,s="string"==typeof t?t.split(""):t,i=0;i<r;i++)i in s&&e.call(n,s[i],i,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}var k,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function L(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var O=d.navigator;if(O){var M=O.userAgent;if(M){k=M;break t}}k=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function F(t){var e={};for(var n in t)e[n]=t[n];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,s=1;s<arguments.length;s++){for(n in r=arguments[s])t[n]=r[n];for(var i=0;i<V.length;i++)n=V[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=f;var B,j,K=L(k,"Opera"),z=L(k,"Trident")||L(k,"MSIE"),$=L(k,"Edge"),G=$||z,H=L(k,"Gecko")&&!(L(k.toLowerCase(),"webkit")&&!L(k,"Edge"))&&!(L(k,"Trident")||L(k,"MSIE"))&&!L(k,"Edge"),Q=L(k.toLowerCase(),"webkit")&&!L(k,"Edge");function W(){var t=d.document;return t?t.documentMode:void 0}t:{var Y="",J=(j=k,H?/rv:([^\);]+)(\)|;)/.exec(j):$?/Edge\/([\d\.]+)/.exec(j):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):Q?/WebKit\/(\S+)/.exec(j):K?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(J&&(Y=J?J[1]:""),z){var X=W();if(null!=X&&X>parseFloat(Y)){B=String(X);break t}}B=Y}var Z,tt={};function et(){return t=tt,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=x(String(B)).split("."),n=x("9").split("."),r=Math.max(e.length,n.length),s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=R(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||R(0==i[2].length,0==o[2].length)||R(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}();var t}d.document&&z?Z=W()||parseInt(B,10)||void 0:Z=void 0;var nt=Z,rt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(t){}return t}();function st(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(H){t:{try{q(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}st.prototype.h=function(){this.defaultPrevented=!0},E(it,st);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=s,this.key=++ct,this.ca=this.fa=!1}function ht(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function dt(t,e){var n=e.type;if(n in t.g){var r,s=t.g[n],i=_(s,e);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(ht(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ft(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==r)return s}return-1}lt.prototype.add=function(t,e,n,r,s){var i=t.toString();(t=this.g[i])||(t=this.g[i]=[],this.h++);var o=ft(t,e,r,s);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ut(e,this.src,i,!!r,s)).fa=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function gt(t,e,n,r,s){if(r&&r.once)return vt(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)gt(t,e[i],n,r,s);return null}return n=_t(n),t&&t[at]?t.N(e,n,m(r)?!!r.capture:!!r,s):yt(t,e,n,!1,r,s)}function yt(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=m(s)?!!s.capture:!!s,a=Tt(t);if(a||(t[pt]=a=new lt(t)),(n=a.add(e,n,r,o,i)).proxy)return n;if(r=function(){var t=Et;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(s=o),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)vt(t,e[i],n,r,s);return null}return n=_t(n),t&&t[at]?t.O(e,n,m(r)?!!r.capture:!!r,s):yt(t,e,n,!0,r,s)}function wt(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)wt(t,e[i],n,r,s);else r=m(r)?!!r.capture:!!r,n=_t(n),t&&t[at]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ft(i=t.g[e],n,r,s))&&(ht(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.g[e],t.h--))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ft(e,n,r,s)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[at])dt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(dt(n,t),0==n.h&&(n.src=null,e[pt]=null)):ht(t)}}}function It(t){return t in mt?mt[t]:mt[t]="on"+t}function Et(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&bt(t),t=n.call(r,e)}return t}function Tt(t){return(t=t[pt])instanceof lt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"==typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Nt(){T.call(this),this.i=new lt(this),this.P=this,this.I=null}function At(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new st(e,t);else if(e instanceof st)e.target=e.target||t;else{var s=e;U(e=new st(r,t),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Dt(o,r,!0,e)&&s}if(s=Dt(o=e.g=t,r,!0,e)&&s,s=Dt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=Dt(o=e.g=n[i],r,!1,e)&&s}function Dt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&dt(t.i,o),s=!1!==a.call(c,r)&&s}}return s&&!r.defaultPrevented}E(Nt,T),Nt.prototype[at]=!0,Nt.prototype.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},Nt.prototype.M=function(){if(Nt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ht(n[r]);delete e.g[t],e.h--}}this.I=null},Nt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ct=d.JSON.stringify;function kt(){var t=Vt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var xt,Lt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Ot}),(function(t){return t.reset()})),Ot=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Mt(t){d.setTimeout((function(){throw t}),0)}function Pt(t,e){xt||function(){var t=d.Promise.resolve(void 0);xt=function(){t.then(Ut)}}(),Ft||(xt(),Ft=!0),Vt.add(t,e)}var Ft=!1,Vt=new Lt;function Ut(){for(var t;t=kt();){try{t.h.call(t.g)}catch(t){Mt(t)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ft=!1}function qt(t,e){Nt.call(this),this.h=t||1,this.g=e||d,this.j=b(this.kb,this),this.l=Date.now()}function Bt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"==typeof t)n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Kt(t){t.g=jt((function(){t.g=null,t.i&&(t.i=!1,Kt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}E(qt,Nt),(u=qt.prototype).da=!1,u.S=null,u.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),At(this,"tick"),this.da&&(Bt(this),this.start()))}},u.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},u.M=function(){qt.Z.M.call(this),Bt(this),delete this.g};var zt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Kt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(T);function $t(t){T.call(this),this.h=t,this.g={}}E($t,T);var Gt=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var s=0;s<n.length;s++){var i=gt(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Qt(t){P(t.g,(function(t,e){this.g.hasOwnProperty(e)&&bt(t)}),t),t.g={}}function Wt(){this.g=!0}function Yt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return Ct(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}$t.prototype.M=function(){$t.Z.M.call(this),Qt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Jt={},Xt=null;function Zt(){return Xt=Xt||new Nt}function te(t){st.call(this,Jt.Ma,t)}function ee(t){var e=Zt();At(e,new te(e,t))}function ne(t,e){st.call(this,Jt.STAT_EVENT,t),this.stat=e}function re(t){var e=Zt();At(e,new ne(e,t))}function se(t,e){st.call(this,Jt.Na,t),this.size=e}function ie(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}Jt.Ma="serverreachability",E(te,st),Jt.STAT_EVENT="statevent",E(ne,st),Jt.Na="timingevent",E(se,st);var oe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ae={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ce(){}function ue(t){return t.h||(t.h=t.i())}function he(){}ce.prototype.h=null;var le,de={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fe(){st.call(this,"d")}function pe(){st.call(this,"c")}function me(){}function ge(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $t(this),this.P=ve,t=G?125:void 0,this.W=new qt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}E(fe,st),E(pe,st),E(me,ce),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},le=new me;var ve=45e3,we={},be={};function Ie(t,e,n){t.K=1,t.v=ze(Ve(e)),t.s=n,t.U=!0,Ee(t,null)}function Ee(t,e){t.F=Date.now(),Ne(t),t.A=Ve(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ye,t.g=ir(t.l,n?e:null,!t.s),0<t.O&&(t.L=new zt(b(t.Ia,t,t.g),t.O)),Ht(t.V,t.g,"readystatechange",t.gb),e=t.H?F(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,r,s,i){t.info((function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var h=u[0];u=u[1];var l=h.split("_");o=2<=l.length&&"type"==l[1]?o+(h+"=")+u+"&":o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Te(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Se(t,e,n){for(var r,s=!0;!t.I&&t.C<n.length;){if((r=_e(t,n))==be){4==e&&(t.o=4,re(14),s=!1),Yt(t.j,t.m,null,"[Incomplete Response]");break}if(r==we){t.o=4,re(15),Yt(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}Yt(t.j,t.m,r,null),xe(t,r)}Te(t)&&r!=be&&r!=we&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,re(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(e),e.L=!0,re(11))):(Yt(t.j,t.m,n,"[Invalid Chunked Response]"),ke(t),Ce(t))}function _e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?be:(n=Number(e.substring(n,r)),isNaN(n)?we:(r+=1)+n>e.length?be:(e=e.substr(r,n),t.C=r+n,e))}function Ne(t){t.Y=Date.now()+t.P,Ae(t,t.P)}function Ae(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ie(b(t.eb,t),e)}function De(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ce(t){0==t.l.G||t.I||tr(t.l,t)}function ke(t){De(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Bt(t.W),Qt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function xe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ln(n.i,t)))if(n.I=t.N,!t.J&&ln(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Zn(n),jn(n)}Yn(n),re(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=ie(b(n.ab,n),6e3));if(1>=hn(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else nr(n,11)}else if((t.J||n.g==t)&&Zn(n),!C(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){var i=s[e];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var o=i[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=i[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=i[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var h=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=r.i;!l.g&&(L(h,"spdy")||L(h,"quic")||L(h,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(dn(l,l.h),l.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ke(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=sr(r,r.H?r.la:null,r.W),f.J){fn(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(De(p),Ne(p)),r.g=f}else Wn(r);0<n.l.length&&$n(n)}else"stop"!=i[0]&&"close"!=i[0]||nr(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?nr(n,7):Bn(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}ee(4)}catch(i){}}function Le(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)N(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var r=t.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,t)n[r++]=s;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length;for(var i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}}function Re(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Me(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)Me(s,r=t.g[e])||(t.g[n++]=r,s[r]=1),e++;t.g.length=n}}function Me(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(u=ge.prototype).setTimeout=function(t){this.P=t},u.gb=function(t){t=t.target;var e=this.L;e&&3==Pn(t)?e.l():this.Ia(t)},u.Ia=function(t){try{if(t==this.g)t:{var e=Pn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||G||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=r?3:2),De(this);var s=this.g.ba();this.N=s;e:if(Te(this)){var i=Fn(this.g);t="";var o=i.length,a=4==Pn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ke(this),Ce(this);var c="";break e}this.h.i=new d.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==s,function(t,e,n,r,s,i,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+i+" "+o}))}(this.j,this.u,this.A,this.m,this.X,e,s),this.i){if(this.$&&!this.J){e:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(u)){var l=u;break e}}l=null}if(!(s=l)){this.i=!1,this.o=3,re(12),ke(this),Ce(this);break t}Yt(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xe(this,s)}this.U?(Se(this,e,c),G&&this.i&&3==e&&(Ht(this.V,this.W,"tick",this.fb),this.W.start())):(Yt(this.j,this.m,c,null),xe(this,c)),4==e&&ke(this),this.i&&!this.I&&(4==e?tr(this.l,this):(this.i=!1,Ne(this)))}else 400==s&&0<c.indexOf("Unknown SID")?(this.o=3,re(12)):(this.o=0,re(13)),ke(this),Ce(this)}}}catch(e){}},u.fb=function(){if(this.g){var t=Pn(this.g),e=this.g.ga();this.C<e.length&&(De(this),Se(this,t,e),this.i&&4!=t&&Ne(this))}},u.cancel=function(){this.I=!0,ke(this)},u.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),re(17)),ke(this),this.o=2,Ce(this)):Ae(this,this.Y-t)},(u=Re.prototype).R=function(){Oe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},u.T=function(){return Oe(this),this.g.concat()},u.get=function(t,e){return Me(this.h,t)?this.h[t]:e},u.set=function(t,e){Me(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},u.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);t.call(e,i,s,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Fe){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,qe(this,t.i),Be(this,t.m),this.l=t.l,e=t.h;var n=new Ze;n.i=e.i,e.g&&(n.g=new Re(e.g),n.h=e.h),je(this,n),this.o=t.o}else t&&(n=String(t).match(Pe))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=$e(n[2]||""),qe(this,n[3]||"",!0),Be(this,n[4]),this.l=$e(n[5]||"",!0),je(this,n[6]||"",!0),this.o=$e(n[7]||"")):(this.g=!!e,this.h=new Ze(null,this.g))}function Ve(t){return new Fe(t)}function Ue(t,e,n){t.j=n?$e(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qe(t,e,n){t.i=n?$e(e,!0):e}function Be(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function je(t,e,n){e instanceof Ze?(t.h=e,function(t,e){e&&!t.j&&(tn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ge(e,Je)),t.h=new Ze(e,t.g))}function Ke(t,e,n){t.h.set(e,n)}function ze(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $e(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ge(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ge(e,Qe,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ge(e,Qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ge(n,"/"==n.charAt(0)?Ye:We,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ge(n,Xe)),t.join("")};var Qe=/[#\/\?@]/g,We=/[#\?:]/g,Ye=/[#\?]/g,Je=/[#\?@]/g,Xe=/#/g;function Ze(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tn(t){t.g||(t.g=new Re,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=sn(t,e),Me(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Me((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Oe(t)))}function nn(t,e){return tn(t),e=sn(t,e),Me(t.g.h,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.i=null,t.g.set(sn(t,e),D(n)),t.h+=n.length)}function sn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(u=Ze.prototype).add=function(t,e){tn(this),this.i=null,t=sn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},u.forEach=function(t,e){tn(this),this.g.forEach((function(n,r){N(n,(function(n){t.call(e,n,r,this)}),this)}),this)},u.T=function(){tn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var s=t[r],i=0;i<s.length;i++)n.push(e[r]);return n},u.R=function(t){tn(this);var e=[];if("string"==typeof t)nn(this,t)&&(e=A(e,this.g.get(sn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},u.set=function(t,e){return tn(this),this.i=null,nn(this,t=sn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},u.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),t.push(o)}}return this.i=t.join("&")};var on=function(t,e){this.h=t,this.g=e};function an(t){this.l=t||cn,t=d.PerformanceNavigationTiming?0<(t=d.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cn=10;function un(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hn(t){return t.h?1:t.g?t.g.size:0}function ln(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dn(t,e){t.g?t.g.add(e):t.h=e}function fn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var s=c(t.g.values()),i=s.next();!i.done;i=s.next()){var o=i.value;r=r.concat(o.D)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return D(t.i)}function mn(){}function gn(){this.g=new mn}function yn(t,e,n){var r=n||"";try{Le(t,(function(t,n){var s=t;m(t)&&(s=Ct(t)),e.push(r+n+"="+encodeURIComponent(s))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function vn(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(t){}}function wn(t){this.l=t.$b||null,this.j=t.ib||!1}function bn(t,e){Nt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=In,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){var t,e;if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=c(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},mn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},mn.prototype.parse=function(t){return d.JSON.parse(t,void 0)},E(wn,ce),wn.prototype.g=function(){return new bn(this.l,this.j)},wn.prototype.i=function(t){return function(){return t}}({}),E(bn,Nt);var In=0;function En(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sn(t)}function Sn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(u=bn.prototype).open=function(t,e){if(this.readyState!=In)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sn(this)},u.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},u.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=In},u.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},u.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):Sn(this),3==this.readyState&&En(this)}},u.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},u.Ta=function(t){this.g&&(this.response=t,Tn(this))},u.ha=function(){this.g&&Tn(this)},u.setRequestHeader=function(t,e){this.v.append(t,e)},u.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var _n=d.JSON.parse;function Nn(t){Nt.call(this),this.headers=new Re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=An,this.K=this.L=!1}E(Nn,Nt);var An="",Dn=/^https?$/i,Cn=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ln(t),On(t)}function Ln(t){t.D||(t.D=!0,At(t,"complete"),At(t,"error"))}function Rn(t){if(t.h&&void 0!==l&&(!t.C[1]||4!=Pn(t)||2!=t.ba()))if(t.v&&4==Pn(t))jt(t.Fa,0,t);else if(At(t,"readystatechange"),4==Pn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var s;if(s=0===n){var i=String(t.H).match(Pe)[1]||null;if(!i&&d.self&&d.self.location){var o=d.self.location.protocol;i=o.substr(0,o.length-1)}s=!Dn.test(i?i.toLowerCase():"")}e=s}if(e)At(t,"complete"),At(t,"success");else{t.m=6;try{var a=2<Pn(t)?t.g.statusText:""}catch(t){a=""}t.j=a+" ["+t.ba()+"]",Ln(t)}}finally{On(t)}}}function On(t,e){if(t.g){Mn(t);var n=t.g,r=t.C[0]?f:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Mn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function Pn(t){return t.g?t.g.readyState:0}function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case An:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qn(t){this.za=0,this.l=[],this.h=new Wt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new an(t&&t.concurrentRequestLimit),this.Ca=new gn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Bn(t){if(Kn(t),3==t.G){var e=t.V++,n=Ve(t.F);Ke(n,"SID",t.J),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Hn(t,n),(e=new ge(t,t.h,e,void 0)).K=2,e.v=ze(Ve(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=ir(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ne(e)}rr(t)}function jn(t){t.g&&(Jn(t),t.g.cancel(),t.g=null)}function Kn(t){jn(t),t.u&&(d.clearTimeout(t.u),t.u=null),Zn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&d.clearTimeout(t.m),t.m=null)}function zn(t,e){t.l.push(new on(t.Za++,e)),3==t.G&&$n(t)}function $n(t){un(t.i)||t.m||(t.m=!0,Pt(t.Ha,t),t.C=0)}function Gn(t,e){var n;n=e?e.m:t.V++;var r=Ve(t.F);Ke(r,"SID",t.J),Ke(r,"RID",n),Ke(r,"AID",t.U),Hn(t,r),t.o&&t.s&&Vn(r,t.o,t.s),n=new ge(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Qn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),dn(t.i,n),Ie(n,r,e)}function Hn(t,e){t.j&&Le({},(function(t,n){Ke(e,n,t)}))}function Qn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?b(t.j.Oa,t.j,t):null;t:for(var s=t.l,i=-1;;){var o=["count="+n];-1==i?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var a=!0,c=0;c<n;c++){var u=s[c].h,h=s[c].g;if(0>(u-=i))i=Math.max(0,s[c].h-100),a=!1;else try{yn(h,o,"req"+u+"_")}catch(t){r&&r(h)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Wn(t){t.g||t.u||(t.Y=1,Pt(t.Ga,t),t.A=0)}function Yn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ie(b(t.Ga,t),er(t,t.A)),t.A++,0))}function Jn(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function Xn(t){t.g=new ge(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ve(t.oa);Ke(e,"RID","rpc"),Ke(e,"SID",t.J),Ke(e,"CI",t.N?"0":"1"),Ke(e,"AID",t.U),Hn(t,e),Ke(e,"TYPE","xmlhttp"),t.o&&t.s&&Vn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ze(Ve(e)),n.s=null,n.U=!0,Ee(n,t)}function Zn(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function tr(t,e){var n=null;if(t.g==e){Zn(t),Jn(t),t.g=null;var r=2}else{if(!ln(t.i,e))return;n=e.D,fn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;At(r=Zt(),new se(r,n,e,s)),$n(t)}else Wn(t);else if(3==(s=e.o)||0==s&&0<t.I||!(1==r&&function(t,e){return!(hn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ie(b(t.Ha,t,e),er(t,t.C)),t.C++,0)))}(t,e)||2==r&&Yn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:nr(t,5);break;case 4:nr(t,10);break;case 3:nr(t,6);break;default:nr(t,2)}}function er(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function nr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=b(t.jb,t);n||(n=new Fe("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ue(n,"https"),ze(n)),function(t,e){var n=new Wt;if(d.Image){var r=new Image;r.onload=I(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=I(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=I(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=I(vn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else re(2);t.G=0,t.j&&t.j.va(e),rr(t),Kn(t)}function rr(t){t.G=0,t.I=-1,t.j&&(0==pn(t.i).length&&0==t.l.length||(t.i.i.length=0,D(t.l),t.l.length=0),t.j.ua())}function sr(t,e,n){var r=function(t){return t instanceof Fe?Ve(t):new Fe(t,void 0)}(n);if(""!=r.i)e&&qe(r,e+"."+r.i),Be(r,r.m);else{var s=d.location;r=function(t,e,n,r){var s=new Fe(null,void 0);return t&&Ue(s,t),e&&qe(s,e),n&&Be(s,n),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&P(t.aa,(function(t,e){Ke(r,e,t)})),e=t.D,n=t.sa,e&&n&&Ke(r,e,n),Ke(r,"VER",t.ma),Hn(t,r),r}function ir(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Nn(new wn({ib:!0})):new Nn(t.qa)).L=t.H,e}function or(){}function ar(){if(z&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function cr(t,e){Nt.call(this),this.g=new qn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new lr(this)}function ur(t){fe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hr(){pe.call(this),this.status=1}function lr(t){this.g=t}(u=Nn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():le.g(),this.C=this.u?ue(this.u):ue(le),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void xn(this,t)}t=n||"";var s=new Re(this.headers);r&&Le(r,(function(t,e){s.set(e,t)})),r=function(t){t:{for(var e=kn,n=t.length,r="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.T()),n=d.FormData&&t instanceof d.FormData,!(0<=_(Cn,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mn(this),0<this.B&&((this.K=function(t){return z&&et()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){xn(this,t)}},u.pa=function(){void 0!==l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},u.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),On(this))},u.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),On(this,!0)),Nn.Z.M.call(this)},u.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},u.cb=function(){Rn(this)},u.ba=function(){try{return 2<Pn(this)?this.g.status:-1}catch(t){return-1}},u.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},u.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_n(e)}},u.Da=function(){return this.m},u.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(u=qn.prototype).ma=8,u.G=1,u.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},u.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ge(this,this.h,t,void 0),n=this.s;if(this.P&&(n?U(n=F(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,s=0;s<this.l.length;s++){var i=this.l[s];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=s;break t}if(4096===r||s===this.l.length-1){r=s+1;break t}}r=1e3}else r=1e3;r=Qn(this,e,r),Ke(s=Ve(this.F),"RID",t),Ke(s,"CVER",22),this.D&&Ke(s,"X-HTTP-Session-Id",this.D),Hn(this,s),this.o&&n&&Vn(s,this.o,n),dn(this.i,e),this.Ra&&Ke(s,"TYPE","init"),this.ja?(Ke(s,"$req",r),Ke(s,"SID","null"),e.$=!0,Ie(e,s,null)):Ie(e,s,r),this.G=2}}else 3==this.G&&(t?Gn(this,t):0==this.l.length||un(this.i)||Gn(this))},u.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ie(b(this.bb,this),t)}},u.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,re(10),jn(this),Xn(this))},u.ab=function(){null!=this.v&&(this.v=null,jn(this),Yn(this),re(19))},u.jb=function(t){t?(this.h.info("Successfully pinged google.com"),re(2)):(this.h.info("Failed to ping google.com"),re(1))},(u=or.prototype).xa=function(){},u.wa=function(){},u.va=function(){},u.ua=function(){},u.Oa=function(){},ar.prototype.g=function(t,e){return new cr(t,e)},E(cr,Nt),cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Pt(b(t.hb,t,e))),re(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=sr(t,null,t.W),$n(t)},cr.prototype.close=function(){Bn(this.g)},cr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,zn(this.g,e)}else this.v?((e={}).__data__=Ct(t),zn(this.g,e)):zn(this.g,t)},cr.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,cr.Z.M.call(this)},E(ur,fe),E(hr,pe),E(lr,or),lr.prototype.xa=function(){At(this.g,"a")},lr.prototype.wa=function(t){At(this.g,new ur(t))},lr.prototype.va=function(t){At(this.g,new hr(t))},lr.prototype.ua=function(){At(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ae.COMPLETE="complete",he.EventType=de,de.OPEN="a",de.CLOSE="b",de.ERROR="c",de.MESSAGE="d",Nt.prototype.listen=Nt.prototype.N,Nn.prototype.listenOnce=Nn.prototype.O,Nn.prototype.getLastError=Nn.prototype.La,Nn.prototype.getLastErrorCode=Nn.prototype.Da,Nn.prototype.getStatus=Nn.prototype.ba,Nn.prototype.getResponseJson=Nn.prototype.Qa,Nn.prototype.getResponseText=Nn.prototype.ga,Nn.prototype.send=Nn.prototype.ea;var dr=oe,fr=ae,pr=Jt,mr=10,gr=11,yr=wn,vr=he,wr=Nn;class br{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Ir="9.0.2";const Er=new i.Yd("@firebase/firestore");function Tr(){return Er.logLevel}function Sr(t){Er.setLogLevel(t)}function _r(t,...e){if(Er.logLevel<=i.in.DEBUG){const n=e.map(Dr);Er.debug(`Firestore (${Ir}): ${t}`,...n)}}function Nr(t,...e){if(Er.logLevel<=i.in.ERROR){const n=e.map(Dr);Er.error(`Firestore (${Ir}): ${t}`,...n)}}function Ar(t,...e){if(Er.logLevel<=i.in.WARN){const n=e.map(Dr);Er.warn(`Firestore (${Ir}): ${t}`,...n)}}function Dr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Cr(t="Unexpected state"){const e=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function kr(t,e){t||Cr()}function xr(t,e){t||Cr()}function Lr(t,e){return t}const Rr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Or extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Pr{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Fr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(br.UNAUTHENTICATED)))}shutdown(){}}class Vr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ur{constructor(t){this.t=t,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,t.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{_r("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(_r("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}}),0),i()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(_r("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(kr("string"==typeof e.accessToken),new Pr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kr(null===t||"string"==typeof t),new br(t)}}class qr{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=br.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Br{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new qr(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function Kr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}jr.T=-1;class zr{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Kr(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<e&&(n+=t.charAt(r[s]%t.length))}return n}}function $r(t,e){return t<e?-1:t>e?1:0}function Gr(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}function Hr(t){return t+"\0"}class Qr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Or(Rr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qr.fromMillis(Date.now())}static fromDate(t){return Qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Qr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$r(this.nanoseconds,t.nanoseconds):$r(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Wr(t)}static min(){return new Wr(new Qr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Yr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Zr{constructor(t,e,n){void 0===e?e=0:e>t.length&&Cr(),void 0===n?n=t.length-e:n>t.length-e&&Cr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Zr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Zr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),s=e.get(r);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ts extends Zr{construct(t,e,n){return new ts(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Or(Rr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ts(e)}static emptyPath(){return new ts([])}}const es=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends Zr{construct(t,e,n){return new ns(t,e,n)}static isValidIdentifier(t){return es.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ns(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Or(Rr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let i=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Or(Rr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Or(Rr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(i=!i,r++):"."!==e||i?(n+=e,r++):(s(),r++)}if(s(),i)throw new Or(Rr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ns(e)}static emptyPath(){return new ns([])}}class rs{constructor(t){this.fields=t,t.sort(ns.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}function ss(){return"undefined"!=typeof atob}class is{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new is(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new is(e)}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $r(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}is.EMPTY_BYTE_STRING=new is("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(kr(!!t),"string"==typeof t){let e=0;const n=os.exec(t);if(kr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cs(t.seconds),nanos:cs(t.nanos)}}function cs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function us(t){return"string"==typeof t?is.fromBase64String(t):is.fromUint8Array(t)}function hs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ls(t){const e=t.mapValue.fields.__previous_value__;return hs(e)?ls(e):e}function ds(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}function fs(t){return null==t}function ps(t){return 0===t&&1/t==-1/0}function ms(t){return"number"==typeof t&&Number.isInteger(t)&&!ps(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class gs{constructor(t){this.path=t}static fromPath(t){return new gs(ts.fromString(t))}static fromName(t){return new gs(ts.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===ts.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ts.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gs(new ts(t.slice()))}}function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hs(t)?4:10:Cr()}function vs(t,e){const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ds(t).isEqual(ds(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=as(t.timestampValue),r=as(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return us(t.bytesValue).isEqual(us(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return cs(t.geoPointValue.latitude)===cs(e.geoPointValue.latitude)&&cs(t.geoPointValue.longitude)===cs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return cs(t.integerValue)===cs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=cs(t.doubleValue),r=cs(e.doubleValue);return n===r?ps(n)===ps(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Gr(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Yr(n)!==Yr(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!vs(n[t],r[t])))return!1;return!0}(t,e);default:return Cr()}}function ws(t,e){return void 0!==(t.values||[]).find((t=>vs(t,e)))}function bs(t,e){const n=ys(t),r=ys(e);if(n!==r)return $r(n,r);switch(n){case 0:return 0;case 1:return $r(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=cs(t.integerValue||t.doubleValue),r=cs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Is(t.timestampValue,e.timestampValue);case 4:return Is(ds(t),ds(e));case 5:return $r(t.stringValue,e.stringValue);case 6:return function(t,e){const n=us(t),r=us(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=$r(n[t],r[t]);if(0!==e)return e}return $r(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=$r(cs(t.latitude),cs(e.latitude));return 0!==n?n:$r(cs(t.longitude),cs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=bs(n[t],r[t]);if(e)return e}return $r(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),s=e.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let t=0;t<r.length&&t<i.length;++t){const e=$r(r[t],i[t]);if(0!==e)return e;const o=bs(n[r[t]],s[i[t]]);if(0!==o)return o}return $r(r.length,i.length)}(t.mapValue,e.mapValue);default:throw Cr()}}function Is(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $r(t,e);const n=as(t),r=as(e),s=$r(n.seconds,r.seconds);return 0!==s?s:$r(n.nanos,r.nanos)}function Es(t){return Ts(t)}function Ts(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=as(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?us(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,gs.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Ts(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const s of e)r?r=!1:n+=",",n+=`${s}:${Ts(t.fields[s])}`;return n+"}"}(t.mapValue):Cr();var e,n}function Ss(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _s(t){return!!t&&"integerValue"in t}function Ns(t){return!!t&&"arrayValue"in t}function As(t){return!!t&&"nullValue"in t}function Ds(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cs(t){return!!t&&"mapValue"in t}function ks(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ks(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ks(t.arrayValue.values[n]);return e}return Object.assign({},t)}class xs{constructor(t){this.value=t}static empty(){return new xs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Cs(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ks(e)}setAll(t){let e=ns.emptyPath(),n={},r=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=s.popLast()}t?n[s.lastSegment()]=ks(t):r.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,n,r)}delete(t){const e=this.field(t.popLast());Cs(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Cs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Jr(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new xs(ks(this.value))}}function Ls(t){const e=[];return Jr(t.fields,((t,n)=>{const r=new ns([t]);if(Cs(n)){const t=Ls(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new rs(e)}class Rs{constructor(t,e,n,r,s){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=s}static newInvalidDocument(t){return new Rs(t,0,Wr.min(),xs.empty(),0)}static newFoundDocument(t,e,n){return new Rs(t,1,e,n,0)}static newNoDocument(t,e){return new Rs(t,2,e,xs.empty(),0)}static newUnknownDocument(t,e){return new Rs(t,3,e,xs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Rs(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Os{constructor(t,e=null,n=[],r=[],s=null,i=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.A=null}}function Ms(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Os(t,e,n,r,s,i,o)}function Ps(t){const e=Lr(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>function(t){return t.field.canonicalString()+t.op.toString()+Es(t.value)}(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),fs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Ws(e.startAt)),e.endAt&&(t+="|ub:",t+=Ws(e.endAt)),e.A=t}return e.A}function Fs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Js(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],r=e.filters[s],n.op!==r.op||!n.field.isEqual(r.field)||!vs(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zs(t.startAt,e.startAt)&&Zs(t.endAt,e.endAt)}function Vs(t){return gs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Us extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new qs(t,e,n):"array-contains"===e?new zs(t,n):"in"===e?new $s(t,n):"not-in"===e?new Gs(t,n):"array-contains-any"===e?new Hs(t,n):new Us(t,e,n)}static R(t,e,n){return"in"===e?new Bs(t,n):new js(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(bs(e,this.value)):null!==e&&ys(this.value)===ys(e)&&this.P(bs(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Cr()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qs extends Us{constructor(t,e,n){super(t,e,n),this.key=gs.fromName(n.referenceValue)}matches(t){const e=gs.comparator(t.key,this.key);return this.P(e)}}class Bs extends Us{constructor(t,e){super(t,"in",e),this.keys=Ks(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class js extends Us{constructor(t,e){super(t,"not-in",e),this.keys=Ks(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ks(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>gs.fromName(t.referenceValue)))}class zs extends Us{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ns(e)&&ws(e.arrayValue,this.value)}}class $s extends Us{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ws(this.value.arrayValue,e)}}class Gs extends Us{constructor(t,e){super(t,"not-in",e)}matches(t){if(ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ws(this.value.arrayValue,e)}}class Hs extends Us{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ns(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>ws(this.value.arrayValue,t)))}}class Qs{constructor(t,e){this.position=t,this.before=e}}function Ws(t){return`${t.before?"b":"a"}:${t.position.map((t=>Es(t))).join(",")}`}class Ys{constructor(t,e="asc"){this.field=t,this.dir=e}}function Js(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xs(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(r=i.field.isKeyField()?gs.comparator(gs.fromName(o.referenceValue),n.key):bs(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}class ti{constructor(t,e=null,n=[],r=[],s=null,i="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function ei(t,e,n,r,s,i,o,a){return new ti(t,e,n,r,s,i,o,a)}function ni(t){return new ti(t)}function ri(t){return!fs(t.limit)&&"F"===t.limitType}function si(t){return!fs(t.limit)&&"L"===t.limitType}function ii(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function oi(t){for(const e of t.filters)if(e.v())return e.field;return null}function ai(t){return null!==t.collectionGroup}function ci(t){const e=Lr(t);if(null===e.V){e.V=[];const t=oi(e),n=ii(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new Ys(t)),e.V.push(new Ys(ns.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Ys(ns.keyField(),t))}}}return e.V}function ui(t){const e=Lr(t);if(!e.S)if("F"===e.limitType)e.S=Ms(e.path,e.collectionGroup,ci(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of ci(e)){const e="desc"===n.dir?"asc":"desc";t.push(new Ys(n.field,e))}const n=e.endAt?new Qs(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Qs(e.startAt.position,!e.startAt.before):null;e.S=Ms(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function hi(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function li(t,e){return Fs(ui(t),ui(e))&&t.limitType===e.limitType}function di(t){return`${Ps(ui(t))}|lt:${t.limitType}`}function fi(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Es(e.value)}`;var e})).join(", ")}]`),fs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: "+Ws(t.startAt)),t.endAt&&(e+=", endAt: "+Ws(t.endAt)),`Target(${e})`}(ui(t))}; limitType=${t.limitType})`}function pi(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):gs.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xs(t.startAt,ci(t),e)||t.endAt&&Xs(t.endAt,ci(t),e))}(t,e)}function mi(t){return(e,n)=>{let r=!1;for(const s of ci(t)){const t=gi(s,e,n);if(0!==t)return t;r=r||s.field.isKeyField()}return 0}}function gi(t,e,n){const r=t.field.isKeyField()?gs.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),s=n.data.field(t);return null!==r&&null!==s?bs(r,s):Cr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Cr()}}function yi(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ps(e)?"-0":e}}function vi(t){return{integerValue:""+t}}function wi(t,e){return ms(e)?vi(e):yi(t,e)}class bi{constructor(){this._=void 0}}function Ii(t,e,n){return t instanceof Si?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _i?Ni(t,e):t instanceof Ai?Di(t,e):function(t,e){const n=Ti(t,e),r=ki(n)+ki(t.C);return _s(n)&&_s(t.C)?vi(r):yi(t.N,r)}(t,e)}function Ei(t,e,n){return t instanceof _i?Ni(t,e):t instanceof Ai?Di(t,e):n}function Ti(t,e){return t instanceof Ci?_s(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Si extends bi{}class _i extends bi{constructor(t){super(),this.elements=t}}function Ni(t,e){const n=xi(e);for(const e of t.elements)n.some((t=>vs(t,e)))||n.push(e);return{arrayValue:{values:n}}}class Ai extends bi{constructor(t){super(),this.elements=t}}function Di(t,e){let n=xi(e);for(const e of t.elements)n=n.filter((t=>!vs(t,e)));return{arrayValue:{values:n}}}class Ci extends bi{constructor(t,e){super(),this.N=t,this.C=e}}function ki(t){return cs(t.integerValue||t.doubleValue)}function xi(t){return Ns(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Li{constructor(t,e){this.field=t,this.transform=e}}class Ri{constructor(t,e){this.version=t,this.transformResults=e}}class Oi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oi}static exists(t){return new Oi(void 0,t)}static updateTime(t){return new Oi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mi(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Pi{}function Fi(t,e,n){t instanceof ji?function(t,e,n){const r=t.value.clone(),s=$i(t.fieldTransforms,e,n.transformResults);r.setAll(s),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(t,e,n){if(!Mi(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=$i(t.fieldTransforms,e,n.transformResults),s=e.data;s.setAll(zi(t)),s.setAll(r),e.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vi(t,e,n){t instanceof ji?function(t,e,n){if(!Mi(t.precondition,e))return;const r=t.value.clone(),s=Gi(t.fieldTransforms,n,e);r.setAll(s),e.convertToFoundDocument(Bi(e),r).setHasLocalMutations()}(t,e,n):t instanceof Ki?function(t,e,n){if(!Mi(t.precondition,e))return;const r=Gi(t.fieldTransforms,n,e),s=e.data;s.setAll(zi(t)),s.setAll(r),e.convertToFoundDocument(Bi(e),s).setHasLocalMutations()}(t,e,n):function(t,e){Mi(t.precondition,e)&&e.convertToNoDocument(Wr.min())}(t,e)}function Ui(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),s=Ti(r.transform,t||null);null!=s&&(null==n&&(n=xs.empty()),n.set(r.field,s))}return n||null}function qi(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Gr(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _i&&e instanceof _i||t instanceof Ai&&e instanceof Ai?Gr(t.elements,e.elements,vs):t instanceof Ci&&e instanceof Ci?vs(t.C,e.C):t instanceof Si&&e instanceof Si}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Bi(t){return t.isFoundDocument()?t.version:Wr.min()}class ji extends Pi{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ki extends Pi{constructor(t,e,n,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}}function zi(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $i(t,e,n){const r=new Map;kr(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Ei(o,a,n[s]))}return r}function Gi(t,e,n){const r=new Map;for(const s of t){const t=s.transform,i=n.data.field(s.field);r.set(s.field,Ii(t,i,e))}return r}class Hi extends Pi{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Qi extends Pi{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Wi{constructor(t){this.count=t}}var Yi,Ji;function Xi(t){switch(t){case Rr.OK:return Cr();case Rr.CANCELLED:case Rr.UNKNOWN:case Rr.DEADLINE_EXCEEDED:case Rr.RESOURCE_EXHAUSTED:case Rr.INTERNAL:case Rr.UNAVAILABLE:case Rr.UNAUTHENTICATED:return!1;case Rr.INVALID_ARGUMENT:case Rr.NOT_FOUND:case Rr.ALREADY_EXISTS:case Rr.PERMISSION_DENIED:case Rr.FAILED_PRECONDITION:case Rr.ABORTED:case Rr.OUT_OF_RANGE:case Rr.UNIMPLEMENTED:case Rr.DATA_LOSS:return!0;default:return Cr()}}function Zi(t){if(void 0===t)return Nr("GRPC error has no .code"),Rr.UNKNOWN;switch(t){case Yi.OK:return Rr.OK;case Yi.CANCELLED:return Rr.CANCELLED;case Yi.UNKNOWN:return Rr.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return Rr.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return Rr.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return Rr.INTERNAL;case Yi.UNAVAILABLE:return Rr.UNAVAILABLE;case Yi.UNAUTHENTICATED:return Rr.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return Rr.INVALID_ARGUMENT;case Yi.NOT_FOUND:return Rr.NOT_FOUND;case Yi.ALREADY_EXISTS:return Rr.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return Rr.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return Rr.FAILED_PRECONDITION;case Yi.ABORTED:return Rr.ABORTED;case Yi.OUT_OF_RANGE:return Rr.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return Rr.UNIMPLEMENTED;case Yi.DATA_LOSS:return Rr.DATA_LOSS;default:return Cr()}}(Ji=Yi||(Yi={}))[Ji.OK=0]="OK",Ji[Ji.CANCELLED=1]="CANCELLED",Ji[Ji.UNKNOWN=2]="UNKNOWN",Ji[Ji.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ji[Ji.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ji[Ji.NOT_FOUND=5]="NOT_FOUND",Ji[Ji.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ji[Ji.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ji[Ji.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ji[Ji.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ji[Ji.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ji[Ji.ABORTED=10]="ABORTED",Ji[Ji.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ji[Ji.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ji[Ji.INTERNAL=13]="INTERNAL",Ji[Ji.UNAVAILABLE=14]="UNAVAILABLE",Ji[Ji.DATA_LOSS=15]="DATA_LOSS";class to{constructor(t,e){this.comparator=t,this.root=e||no.EMPTY}insert(t,e){return new to(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,no.BLACK,null,null))}remove(t){return new to(this.comparator,this.root.remove(t,this.comparator).copy(null,null,no.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eo(this.root,t,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eo(this.root,t,this.comparator,!0)}}class eo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class no{constructor(t,e,n,r,s){this.key=t,this.value=e,this.color=null!=n?n:no.RED,this.left=null!=r?r:no.EMPTY,this.right=null!=s?s:no.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,s){return new no(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return no.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();const t=this.left.check();if(t!==this.right.check())throw Cr();return t+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw Cr()}get value(){throw Cr()}get color(){throw Cr()}get left(){throw Cr()}get right(){throw Cr()}copy(t,e,n,r,s){return this}insert(t,e,n){return new no(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ro{constructor(t){this.comparator=t,this.data=new to(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new so(this.data.getIterator())}getIteratorFrom(t){return new so(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof ro))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ro(this.comparator);return e.data=t,e}}class so{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const io=new to(gs.comparator);function oo(){return io}const ao=new to(gs.comparator);function co(){return ao}const uo=new to(gs.comparator);function ho(){return uo}const lo=new ro(gs.comparator);function fo(...t){let e=lo;for(const n of t)e=e.add(n);return e}const po=new ro($r);function mo(){return po}class go{constructor(t,e,n,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,yo.createSynthesizedTargetChangeForCurrentChange(t,e)),new go(Wr.min(),n,mo(),oo(),fo())}}class yo{constructor(t,e,n,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new yo(is.EMPTY_BYTE_STRING,e,fo(),fo(),fo())}}class vo{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class wo{constructor(t,e){this.targetId=t,this.O=e}}class bo{constructor(t,e,n=is.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Io{constructor(){this.F=0,this.M=So(),this.L=is.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=fo(),e=fo(),n=fo();return this.M.forEach(((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Cr()}})),new yo(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=So()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Eo{constructor(t){this.tt=t,this.et=new Map,this.nt=oo(),this.st=To(),this.it=new ro($r)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,(e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:Cr()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach(((t,n)=>{this.ht(n)&&e(n)}))}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(Vs(t))if(0===n){const n=new gs(t.path);this.at(e,n,Rs.newNoDocument(n,Wr.min()))}else kr(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach(((n,r)=>{const s=this.dt(r);if(s){if(n.current&&Vs(s.target)){const e=new gs(s.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.at(r,e,Rs.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}}));let n=fo();this.st.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))}));const r=new go(t,e,this.it,this.nt,n);return this.nt=oo(),this.st=To(),this.it=new ro($r),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new Io,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new ro($r),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||_r("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Et(t)}lt(t){this.et.set(t,new Io),this.tt.getRemoteKeysForTarget(t).forEach((e=>{this.at(t,e,null)}))}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function To(){return new to(gs.comparator)}function So(){return new to(gs.comparator)}const _o={asc:"ASCENDING",desc:"DESCENDING"},No={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ao{constructor(t,e){this.databaseId=t,this.D=e}}function Do(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Co(t,e){return t.D?e.toBase64():e.toUint8Array()}function ko(t,e){return Do(t,e.toTimestamp())}function xo(t){return kr(!!t),Wr.fromTimestamp(function(t){const e=as(t);return new Qr(e.seconds,e.nanos)}(t))}function Lo(t,e){return function(t){return new ts(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ro(t){const e=ts.fromString(t);return kr(ra(e)),e}function Oo(t,e){return Lo(t.databaseId,e.path)}function Mo(t,e){const n=Ro(e);if(n.get(1)!==t.databaseId.projectId)throw new Or(Rr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Or(Rr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gs(Uo(n))}function Po(t,e){return Lo(t.databaseId,e)}function Fo(t){const e=Ro(t);return 4===e.length?ts.emptyPath():Uo(e)}function Vo(t){return new ts(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uo(t){return kr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qo(t,e,n){return{name:Oo(t,e),fields:n.value.mapValue.fields}}function Bo(t,e,n){const r=Mo(t,e.name),s=xo(e.updateTime),i=new xs({mapValue:{fields:e.fields}}),o=Rs.newFoundDocument(r,s,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function jo(t,e){let n;if(e instanceof ji)n={update:qo(t,e.key,e.value)};else if(e instanceof Hi)n={delete:Oo(t,e.key)};else if(e instanceof Ki)n={update:qo(t,e.key,e.data),updateMask:na(e.fieldMask)};else{if(!(e instanceof Qi))return Cr();n={verify:Oo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Si)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _i)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ai)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ci)return{fieldPath:e.field.canonicalString(),increment:n.C};throw Cr()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ko(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Cr()}(t,e.precondition)),n}function Ko(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?Oi.updateTime(xo(t.updateTime)):void 0!==t.exists?Oi.exists(t.exists):Oi.none()}(e.currentDocument):Oi.none(),r=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)kr("REQUEST_TIME"===e.setToServerValue),n=new Si;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new _i(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new Ai(t)}else"increment"in e?n=new Ci(t,e.increment):Cr();const r=ns.fromServerFormat(e.fieldPath);return new Li(r,n)}(t,e))):[];if(e.update){e.update.name;const s=Mo(t,e.update.name),i=new xs({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new rs(e.map((t=>ns.fromServerFormat(t))))}(e.updateMask);return new Ki(s,i,t,n,r)}return new ji(s,i,n,r)}if(e.delete){const r=Mo(t,e.delete);return new Hi(r,n)}if(e.verify){const r=Mo(t,e.verify);return new Qi(r,n)}return Cr()}function zo(t,e){return{documents:[Po(t,e.path)]}}function $o(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Po(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Po(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Ds(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(As(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ds(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(As(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:Jo(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);s&&(n.structuredQuery.where=s);const i=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Xo(t.field),direction:Yo(t.dir)}}(t)))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(t,e){return t.D||fs(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Qo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Qo(e.endAt)),n}function Go(t){let e=Fo(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){kr(1===r);const t=n.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let i=[];n.where&&(i=Ho(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Ys(Zo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,fs(e)?null:e}(n.limit));let c=null;n.startAt&&(c=Wo(n.startAt));let u=null;return n.endAt&&(u=Wo(n.endAt)),ei(e,s,o,i,a,"F",c,u)}function Ho(t){return t?void 0!==t.unaryFilter?[ea(t)]:void 0!==t.fieldFilter?[ta(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>Ho(t))).reduce(((t,e)=>t.concat(e))):Cr():[]}function Qo(t){return{before:t.before,values:t.position}}function Wo(t){const e=!!t.before,n=t.values||[];return new Qs(n,e)}function Yo(t){return _o[t]}function Jo(t){return No[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return ns.fromServerFormat(t.fieldPath)}function ta(t){return Us.create(Zo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cr()}}(t.fieldFilter.op),t.fieldFilter.value)}function ea(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Zo(t.unaryFilter.field);return Us.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zo(t.unaryFilter.field);return Us.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zo(t.unaryFilter.field);return Us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zo(t.unaryFilter.field);return Us.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Cr()}}function na(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ra(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function sa(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oa(e)),e=ia(t.get(n),e);return oa(e)}function ia(t,e){let n=e;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function oa(t){return t+""}function aa(t){const e=t.length;if(kr(e>=2),2===e)return kr(""===t.charAt(0)&&""===t.charAt(1)),ts.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const e=t.indexOf("",i);switch((e<0||e>n)&&Cr(),t.charAt(e+1)){case"":const n=t.substring(i,e);let o;0===s.length?o=n:(s+=n,o=s,s=""),r.push(o);break;case"":s+=t.substring(i,e),s+="\0";break;case"":s+=t.substring(i,e+1);break;default:Cr()}i=e+2}return new ts(r)}class ca{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class ua{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}ua.store="owner",ua.key="owner";class ha{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}ha.store="mutationQueues",ha.keyPath="userId";class la{constructor(t,e,n,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s}}la.store="mutations",la.keyPath="batchId",la.userMutationsIndex="userMutationsIndex",la.userMutationsKeyPath=["userId","batchId"];class da{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,sa(e)]}static key(t,e,n){return[t,sa(e),n]}}da.store="documentMutations",da.PLACEHOLDER=new da;class fa{constructor(t,e){this.path=t,this.readTime=e}}class pa{constructor(t,e){this.path=t,this.version=e}}class ma{constructor(t,e,n,r,s,i){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=i}}ma.store="remoteDocuments",ma.readTimeIndex="readTimeIndex",ma.readTimeIndexPath="readTime",ma.collectionReadTimeIndex="collectionReadTimeIndex",ma.collectionReadTimeIndexPath=["parentPath","readTime"];class ga{constructor(t){this.byteSize=t}}ga.store="remoteDocumentGlobal",ga.key="remoteDocumentGlobalKey";class ya{constructor(t,e,n,r,s,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=i,this.query=o}}ya.store="targets",ya.keyPath="targetId",ya.queryTargetsIndexName="queryTargetsIndex",ya.queryTargetsKeyPath=["canonicalId","targetId"];class va{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}va.store="targetDocuments",va.keyPath=["targetId","path"],va.documentTargetsIndex="documentTargetsIndex",va.documentTargetsKeyPath=["path","targetId"];class wa{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}wa.key="targetGlobalKey",wa.store="targetGlobal";class ba{constructor(t,e){this.collectionId=t,this.parent=e}}ba.store="collectionParents",ba.keyPath=["collectionId","parent"];class Ia{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}Ia.store="clientMetadata",Ia.keyPath="clientId";class Ea{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}Ea.store="bundles",Ea.keyPath="bundleId";class Ta{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}Ta.store="namedQueries",Ta.keyPath="name";const Sa=[ha.store,la.store,da.store,ma.store,ya.store,ua.store,wa.store,va.store,Ia.store,ga.store,ba.store,Ea.store,Ta.store],_a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}class Aa{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Aa(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Aa?e:Aa.resolve(e)}catch(t){return Aa.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Aa.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Aa.reject(e)}static resolve(t){return new Aa(((e,n)=>{e(t)}))}static reject(t){return new Aa(((e,n)=>{n(t)}))}static waitFor(t){return new Aa(((e,n)=>{let r=0,s=0,i=!1;t.forEach((t=>{++r,t.next((()=>{++s,i&&s===r&&e()}),(t=>n(t)))})),i=!0,s===r&&e()}))}static or(t){let e=Aa.resolve(!1);for(const n of t)e=e.next((t=>t?Aa.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}}class Da{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Tt=new Mr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{e.error?this.Tt.reject(new xa(t,e.error)):this.Tt.resolve()},this.transaction.onerror=e=>{const n=Pa(e.target.error);this.Tt.reject(new xa(t,n))}}static open(t,e,n,r){try{return new Da(e,t.transaction(r,n))}catch(t){throw new xa(e,t)}}get It(){return this.Tt.promise}abort(t){t&&this.Tt.reject(t),this.aborted||(_r("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Ra(e)}}class Ca{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===Ca.Rt((0,o.z$)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return _r("SimpleDb","Removing database:",t),Oa(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Ca.Pt())return!0;const t=(0,o.z$)(),e=Ca.Rt(t),n=0<e&&e<10,r=Ca.vt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||s)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(t){return this.db||(_r("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=t=>{const n=t.target.result;e(n)},r.onblocked=()=>{n(new xa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const r=e.target.error;"VersionError"===r.name?n(new Or(Rr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Or(Rr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new xa(t,r))},r.onupgradeneeded=t=>{_r("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.At.Ct(e,r.transaction,t.oldVersion,this.version).next((()=>{_r("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Nt&&(this.db.onversionchange=t=>this.Nt(t)),this.db}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,r){const s="readonly"===e;let i=0;for(;;){++i;try{this.db=await this.Dt(t);const e=Da.open(this.db,t,s?"readonly":"readwrite",n),i=r(e).catch((t=>(e.abort(t),Aa.reject(t)))).toPromise();return i.catch((()=>{})),await e.It,i}catch(t){const e="FirebaseError"!==t.name&&i<3;if(_r("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ka{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Oa(this.kt.delete())}}class xa extends Or{constructor(t,e){super(Rr.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function La(t){return"IndexedDbTransactionError"===t.name}class Ra{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(_r("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(_r("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Oa(n)}add(t){return _r("SimpleDb","ADD",this.store.name,t,t),Oa(this.store.add(t))}get(t){return Oa(this.store.get(t)).next((e=>(void 0===e&&(e=null),_r("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return _r("SimpleDb","DELETE",this.store.name,t),Oa(this.store.delete(t))}count(){return _r("SimpleDb","COUNT",this.store.name),Oa(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),r=[];return this.Bt(n,((t,e)=>{r.push(e)})).next((()=>r))}Ut(t,e){_r("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const r=this.cursor(n);return this.Bt(r,((t,e,n)=>n.delete()))}Kt(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new Aa(((n,r)=>{e.onerror=t=>{const e=Pa(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next((t=>{t?r.continue():n()})):n()}}))}Bt(t,e){const n=[];return new Aa(((r,s)=>{t.onerror=t=>{s(t.target.error)},t.onsuccess=t=>{const s=t.target.result;if(!s)return void r();const i=new ka(s),o=e(s.primaryKey,s.value,i);if(o instanceof Aa){const t=o.catch((t=>(i.done(),Aa.reject(t))));n.push(t)}i.isDone?r():null===i.Ft?s.continue():s.continue(i.Ft)}})).next((()=>Aa.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Oa(t){return new Aa(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Pa(t.target.error);n(e)}}))}let Ma=!1;function Pa(t){const e=Ca.Rt((0,o.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new Or("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ma||(Ma=!0,setTimeout((()=>{throw t}),0)),t}}return t}class Fa extends Na{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function Va(t,e){const n=Lr(t);return Ca.St(n.Qt,e)}class Ua{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&Fi(r,t,n[e])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Vi(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Vi(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Wr.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),fo())}isEqual(t){return this.batchId===t.batchId&&Gr(this.mutations,t.mutations,((t,e)=>qi(t,e)))&&Gr(this.baseMutations,t.baseMutations,((t,e)=>qi(t,e)))}}class qa{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){kr(t.mutations.length===n.length);let r=ho();const s=t.mutations;for(let t=0;t<s.length;t++)r=r.insert(s[t].key,n[t].version);return new qa(t,e,n,r)}}class Ba{constructor(t,e,n,r,s=Wr.min(),i=Wr.min(),o=is.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o}withSequenceNumber(t){return new Ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ja{constructor(t){this.Wt=t}}function Ka(t,e){if(e.document)return Bo(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=gs.fromSegments(e.noDocument.path),n=Qa(e.noDocument.readTime),r=Rs.newNoDocument(t,n);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=gs.fromSegments(e.unknownDocument.path),n=Qa(e.unknownDocument.version);return Rs.newUnknownDocument(t,n)}return Cr()}function za(t,e,n){const r=$a(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n=function(t,e){return{name:Oo(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Do(t,e.version.toTimestamp())}}(t.Wt,e),i=e.hasCommittedMutations;return new ma(null,null,n,i,r,s)}if(e.isNoDocument()){const t=e.key.path.toArray(),n=Ha(e.version),i=e.hasCommittedMutations;return new ma(null,new fa(t,n),null,i,r,s)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=Ha(e.version);return new ma(new pa(t,n),null,null,!0,r,s)}return Cr()}function $a(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ga(t){const e=new Qr(t[0],t[1]);return Wr.fromTimestamp(e)}function Ha(t){const e=t.toTimestamp();return new ca(e.seconds,e.nanoseconds)}function Qa(t){const e=new Qr(t.seconds,t.nanoseconds);return Wr.fromTimestamp(e)}function Wa(t,e){const n=(e.baseMutations||[]).map((e=>Ko(t.Wt,e)));for(let t=0;t<e.mutations.length-1;++t){const n=e.mutations[t];if(t+1<e.mutations.length&&void 0!==e.mutations[t+1].transform){const r=e.mutations[t+1];n.updateTransforms=r.transform.fieldTransforms,e.mutations.splice(t+1,1),++t}}const r=e.mutations.map((e=>Ko(t.Wt,e))),s=Qr.fromMillis(e.localWriteTimeMs);return new Ua(e.batchId,s,n,r)}function Ya(t){const e=Qa(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Qa(t.lastLimboFreeSnapshotVersion):Wr.min();let r;var s;return void 0!==t.query.documents?(kr(1===(s=t.query).documents.length),r=ui(ni(Fo(s.documents[0])))):r=function(t){return ui(Go(t))}(t.query),new Ba(r,t.targetId,0,t.lastListenSequenceNumber,e,n,is.fromBase64String(t.resumeToken))}function Ja(t,e){const n=Ha(e.snapshotVersion),r=Ha(e.lastLimboFreeSnapshotVersion);let s;s=Vs(e.target)?zo(t.Wt,e.target):$o(t.Wt,e.target);const i=e.resumeToken.toBase64();return new ya(e.targetId,Ps(e.target),n,i,e.sequenceNumber,r,s)}function Xa(t){const e=Go({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?hi(e,e.limit,"L"):e}class Za{getBundleMetadata(t,e){return tc(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:Qa(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return tc(t).put({bundleId:(n=e).id,createTime:Ha(xo(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return ec(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Xa(e.bundledQuery),readTime:Qa(e.readTime)};var e}))}saveNamedQuery(t,e){return ec(t).put(function(t){return{name:t.name,readTime:Ha(xo(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function tc(t){return Va(t,Ea.store)}function ec(t){return Va(t,Ta.store)}class nc{constructor(){this.Gt=new rc}addToCollectionParentIndex(t,e){return this.Gt.add(e),Aa.resolve()}getCollectionParents(t,e){return Aa.resolve(this.Gt.getEntries(e))}}class rc{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ro(ts.comparator),s=!r.has(n);return this.index[e]=r.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new ro(ts.comparator)).toArray()}}class sc{constructor(){this.zt=new rc}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((()=>{this.zt.add(e)}));const s={collectionId:n,parent:sa(r)};return ic(t).put(s)}return Aa.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[Hr(e),""],!1,!0);return ic(t).Lt(r).next((t=>{for(const r of t){if(r.collectionId!==e)break;n.push(aa(r.parent))}return n}))}}function ic(t){return Va(t,ba.store)}const oc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ac{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new ac(t,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cc(t,e,n){const r=t.store(la.store),s=t.store(da.store),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Kt({range:o},((t,e,n)=>(a++,n.delete())));i.push(c.next((()=>{kr(1===a)})));const u=[];for(const t of n.mutations){const r=da.key(e,t.key.path,n.batchId);i.push(s.delete(r)),u.push(t.key)}return Aa.waitFor(i).next((()=>u))}function uc(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Cr();e=t.noDocument}return JSON.stringify(e).length}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);class hc{constructor(t,e,n,r){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,n,r){kr(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new hc(s,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).Kt({index:la.userMutationsIndex,range:n},((t,n,r)=>{e=!1,r.done()})).next((()=>e))}addMutationBatch(t,e,n,r){const s=fc(t),i=dc(t);return i.add({}).next((o=>{kr("number"==typeof o);const a=new Ua(o,e,n,r),c=function(t,e,n){const r=n.baseMutations.map((e=>jo(t.Wt,e))),s=n.mutations.map((e=>jo(t.Wt,e)));return new la(e,n.batchId,n.localWriteTime.toMillis(),r,s)}(this.N,this.userId,a),u=[];let h=new ro(((t,e)=>$r(t.canonicalString(),e.canonicalString())));for(const t of r){const e=da.key(this.userId,t.key.path,o);h=h.add(t.key.path.popLast()),u.push(i.put(c)),u.push(s.put(e,da.PLACEHOLDER))}return h.forEach((e=>{u.push(this.Ht.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.Jt[o]=a.keys()})),Aa.waitFor(u).next((()=>a))}))}lookupMutationBatch(t,e){return dc(t).get(e).next((t=>t?(kr(t.userId===this.userId),Wa(this.N,t)):null))}Xt(t,e){return this.Jt[e]?Aa.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return dc(t).Kt({index:la.userMutationsIndex,range:r},((t,e,r)=>{e.userId===this.userId&&(kr(e.batchId>=n),s=Wa(this.N,e)),r.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return dc(t).Kt({index:la.userMutationsIndex,range:e,reverse:!0},((t,e,r)=>{n=e.batchId,r.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dc(t).Lt(la.userMutationsIndex,e).next((t=>t.map((t=>Wa(this.N,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=da.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),s=[];return fc(t).Kt({range:r},((n,r,i)=>{const[o,a,c]=n,u=aa(a);if(o===this.userId&&e.path.isEqual(u))return dc(t).get(c).next((t=>{if(!t)throw Cr();kr(t.userId===this.userId),s.push(Wa(this.N,t))}));i.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ro($r);const r=[];return e.forEach((e=>{const s=da.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(s),o=fc(t).Kt({range:i},((t,r,s)=>{const[i,o,a]=t,c=aa(o);i===this.userId&&e.path.isEqual(c)?n=n.add(a):s.done()}));r.push(o)})),Aa.waitFor(r).next((()=>this.Zt(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,s=da.prefixForPath(this.userId,n),i=IDBKeyRange.lowerBound(s);let o=new ro($r);return fc(t).Kt({range:i},((t,e,s)=>{const[i,a,c]=t,u=aa(a);i===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):s.done()})).next((()=>this.Zt(t,o)))}Zt(t,e){const n=[],r=[];return e.forEach((e=>{r.push(dc(t).get(e).next((t=>{if(null===t)throw Cr();kr(t.userId===this.userId),n.push(Wa(this.N,t))})))})),Aa.waitFor(r).next((()=>n))}removeMutationBatch(t,e){return cc(t.Qt,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.te(e.batchId)})),Aa.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return Aa.resolve();const n=IDBKeyRange.lowerBound(da.prefixForUser(this.userId)),r=[];return fc(t).Kt({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=aa(t[1]);r.push(e)}else n.done()})).next((()=>{kr(0===r.length)}))}))}containsKey(t,e){return lc(t,this.userId,e)}ee(t){return pc(t).get(this.userId).next((t=>t||new ha(this.userId,-1,"")))}}function lc(t,e,n){const r=da.prefixForPath(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return fc(t).Kt({range:i,qt:!0},((t,n,r)=>{const[i,a,c]=t;i===e&&a===s&&(o=!0),r.done()})).next((()=>o))}function dc(t){return Va(t,la.store)}function fc(t){return Va(t,da.store)}function pc(t){return Va(t,ha.store)}class mc{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new mc(0)}static ie(){return new mc(-1)}}class gc{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next((e=>{const n=new mc(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.re(t).next((t=>Wr.fromTimestamp(new Qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.re(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.re(t).next((r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r))))}addTargetData(t,e){return this.ae(t,e).next((()=>this.re(t).next((n=>(n.targetCount+=1,this.ce(e,n),this.oe(t,n))))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>yc(t).delete(e.targetId))).next((()=>this.re(t))).next((e=>(kr(e.targetCount>0),e.targetCount-=1,this.oe(t,e))))}removeTargets(t,e,n){let r=0;const s=[];return yc(t).Kt(((i,o)=>{const a=Ya(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,s.push(this.removeTargetData(t,a)))})).next((()=>Aa.waitFor(s))).next((()=>r))}forEachTarget(t,e){return yc(t).Kt(((t,n)=>{const r=Ya(n);e(r)}))}re(t){return vc(t).get(wa.key).next((t=>(kr(null!==t),t)))}oe(t,e){return vc(t).put(wa.key,e)}ae(t,e){return yc(t).put(Ja(this.N,e))}ce(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next((t=>t.targetCount))}getTargetData(t,e){const n=Ps(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return yc(t).Kt({range:r,index:ya.queryTargetsIndexName},((t,n,r)=>{const i=Ya(n);Fs(e,i.target)&&(s=i,r.done())})).next((()=>s))}addMatchingKeys(t,e,n){const r=[],s=wc(t);return e.forEach((e=>{const i=sa(e.path);r.push(s.put(new va(n,i))),r.push(this.referenceDelegate.addReference(t,n,e))})),Aa.waitFor(r)}removeMatchingKeys(t,e,n){const r=wc(t);return Aa.forEach(e,(e=>{const s=sa(e.path);return Aa.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=wc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wc(t);let s=fo();return r.Kt({range:n,qt:!0},((t,e,n)=>{const r=aa(t[1]),i=new gs(r);s=s.add(i)})).next((()=>s))}containsKey(t,e){const n=sa(e.path),r=IDBKeyRange.bound([n],[Hr(n)],!1,!0);let s=0;return wc(t).Kt({index:va.documentTargetsIndex,qt:!0,range:r},(([t,e],n,r)=>{0!==t&&(s++,r.done())})).next((()=>s>0))}Et(t,e){return yc(t).get(e).next((t=>t?Ya(t):null))}}function yc(t){return Va(t,ya.store)}function vc(t){return Va(t,wa.store)}function wc(t){return Va(t,va.store)}async function bc(t){if(t.code!==Rr.FAILED_PRECONDITION||t.message!==_a)throw t;_r("LocalStore","Unexpectedly lost primary lease")}function Ic([t,e],[n,r]){const s=$r(t,n);return 0===s?$r(e,r):s}class Ec{constructor(t){this.ue=t,this.buffer=new ro(Ic),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Ic(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Tc{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){const e=this.de?3e5:6e4;_r("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.we=null,this.de=!0;try{await t.collectGarbage(this.garbageCollector)}catch(t){La(t)?_r("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await bc(t)}await this._e(t)}))}}class Sc{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return Aa.resolve(jr.T);const n=new Ec(e);return this.me.forEachTarget(t,(t=>n.fe(t.sequenceNumber))).next((()=>this.me.ye(t,(t=>n.fe(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector","Garbage collection skipped; disabled"),Aa.resolve(oc)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oc):this.pe(t,e)))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,r,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(_r("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(s=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),Tr()<=i.in.DEBUG&&_r("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${s} targets in `+(c-a)+"ms\n"+`\tRemoved ${t} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-h}ms`),Aa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:t}))))}}class _c{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Sc(t,e)}(this,e)}ge(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Ee(t){let e=0;return this.ye(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Te(t,((t,n)=>e(n)))}addReference(t,e,n){return Nc(t,n)}removeReference(t,e,n){return Nc(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Nc(t,e)}Ie(t,e){return function(t,e){let n=!1;return pc(t).jt((r=>lc(t,r,e).next((t=>(t&&(n=!0),Aa.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Te(t,((i,o)=>{if(o<=e){const e=this.Ie(t,i).next((e=>{if(!e)return s++,n.getEntry(t,i).next((()=>(n.removeEntry(i),wc(t).delete([0,sa(i.path)]))))}));r.push(e)}})).next((()=>Aa.waitFor(r))).next((()=>n.apply(t))).next((()=>s))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Nc(t,e)}Te(t,e){const n=wc(t);let r,s=jr.T;return n.Kt({index:va.documentTargetsIndex},(([t,n],{path:i,sequenceNumber:o})=>{0===t?(s!==jr.T&&e(new gs(aa(r)),s),s=o,r=i):s=jr.T})).next((()=>{s!==jr.T&&e(new gs(aa(r)),s)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Nc(t,e){return wc(t).put(function(t,e){return new va(0,sa(t.path),e)}(e,t.currentSequenceNumber))}class Ac{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Jr(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return Xr(this.inner)}}class Dc{constructor(){this.changes=new Ac((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Wr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Rs.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Aa.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Cc{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return Lc(t).put(Rc(e),n)}removeEntry(t,e){const n=Lc(t),r=Rc(e);return n.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.Ae(t,n))))}getEntry(t,e){return Lc(t).get(Rc(e)).next((t=>this.Re(e,t)))}be(t,e){return Lc(t).get(Rc(e)).next((t=>({document:this.Re(e,t),size:uc(t)})))}getEntries(t,e){let n=oo();return this.Pe(t,e,((t,e)=>{const r=this.Re(t,e);n=n.insert(t,r)})).next((()=>n))}ve(t,e){let n=oo(),r=new to(gs.comparator);return this.Pe(t,e,((t,e)=>{const s=this.Re(t,e);n=n.insert(t,s),r=r.insert(t,uc(e))})).next((()=>({documents:n,Ve:r})))}Pe(t,e,n){if(e.isEmpty())return Aa.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),s=e.getIterator();let i=s.getNext();return Lc(t).Kt({range:r},((t,e,r)=>{const o=gs.fromSegments(t);for(;i&&gs.comparator(i,o)<0;)n(i,null),i=s.getNext();i&&i.isEqual(o)&&(n(i,e),i=s.hasNext()?s.getNext():null),i?r.Mt(i.path.toArray()):r.done()})).next((()=>{for(;i;)n(i,null),i=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(t,e,n){let r=oo();const s=e.path.length+1,i={};if(n.isEqual(Wr.min())){const t=e.path.toArray();i.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),r=$a(n);i.range=IDBKeyRange.lowerBound([t,r],!0),i.index=ma.collectionReadTimeIndex}return Lc(t).Kt(i,((t,n,i)=>{if(t.length!==s)return;const o=Ka(this.N,n);e.path.isPrefixOf(o.key.path)?pi(e,o)&&(r=r.insert(o.key,o)):i.done()})).next((()=>r))}newChangeBuffer(t){return new kc(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return xc(t).get(ga.key).next((t=>(kr(!!t),t)))}Ae(t,e){return xc(t).put(ga.key,e)}Re(t,e){if(e){const t=Ka(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(Wr.min()))return t}return Rs.newInvalidDocument(t)}}class kc extends Dc{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Ac((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,r=new ro(((t,e)=>$r(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((s,i)=>{const o=this.De.get(s);if(i.document.isValidDocument()){const a=za(this.Se.N,i.document,this.getReadTime(s));r=r.add(s.path.popLast());const c=uc(a);n+=c-o,e.push(this.Se.addEntry(t,s,a))}else if(n-=o,this.trackRemovals){const n=za(this.Se.N,Rs.newNoDocument(s,Wr.min()),this.getReadTime(s));e.push(this.Se.addEntry(t,s,n))}else e.push(this.Se.removeEntry(t,s))})),r.forEach((n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))})),e.push(this.Se.updateMetadata(t,n)),Aa.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next((t=>(this.De.set(e,t.size),t.document)))}getAllFromCache(t,e){return this.Se.ve(t,e).next((({documents:t,Ve:e})=>(e.forEach(((t,e)=>{this.De.set(t,e)})),t)))}}function xc(t){return Va(t,ga.store)}function Lc(t){return Va(t,ma.store)}function Rc(t){return t.path.toArray()}class Oc{constructor(t){this.N=t}Ct(t,e,n,r){kr(n<r&&n>=0&&r<=11);const s=new Da("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ua.store)}(t),function(t){t.createObjectStore(ha.store,{keyPath:ha.keyPath}),t.createObjectStore(la.store,{keyPath:la.keyPath,autoIncrement:!0}).createIndex(la.userMutationsIndex,la.userMutationsKeyPath,{unique:!0}),t.createObjectStore(da.store)}(t),Mc(t),function(t){t.createObjectStore(ma.store)}(t));let i=Aa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(va.store),t.deleteObjectStore(ya.store),t.deleteObjectStore(wa.store)}(t),Mc(t)),i=i.next((()=>function(t){const e=t.store(wa.store),n=new wa(0,0,Wr.min().toTimestamp(),0);return e.put(wa.key,n)}(s)))),n<4&&r>=4&&(0!==n&&(i=i.next((()=>function(t,e){return e.store(la.store).Lt().next((n=>{t.deleteObjectStore(la.store),t.createObjectStore(la.store,{keyPath:la.keyPath,autoIncrement:!0}).createIndex(la.userMutationsIndex,la.userMutationsKeyPath,{unique:!0});const r=e.store(la.store),s=n.map((t=>r.put(t)));return Aa.waitFor(s)}))}(t,s)))),i=i.next((()=>{!function(t){t.createObjectStore(Ia.store,{keyPath:Ia.keyPath})}(t)}))),n<5&&r>=5&&(i=i.next((()=>this.Ce(s)))),n<6&&r>=6&&(i=i.next((()=>(function(t){t.createObjectStore(ga.store)}(t),this.Ne(s))))),n<7&&r>=7&&(i=i.next((()=>this.xe(s)))),n<8&&r>=8&&(i=i.next((()=>this.ke(t,s)))),n<9&&r>=9&&(i=i.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(ma.store);e.createIndex(ma.readTimeIndex,ma.readTimeIndexPath,{unique:!1}),e.createIndex(ma.collectionReadTimeIndex,ma.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(i=i.next((()=>this.$e(s)))),n<11&&r>=11&&(i=i.next((()=>{!function(t){t.createObjectStore(Ea.store,{keyPath:Ea.keyPath})}(t),function(t){t.createObjectStore(Ta.store,{keyPath:Ta.keyPath})}(t)}))),i}Ne(t){let e=0;return t.store(ma.store).Kt(((t,n)=>{e+=uc(n)})).next((()=>{const n=new ga(e);return t.store(ga.store).put(ga.key,n)}))}Ce(t){const e=t.store(ha.store),n=t.store(la.store);return e.Lt().next((e=>Aa.forEach(e,(e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(la.userMutationsIndex,r).next((n=>Aa.forEach(n,(n=>{kr(n.userId===e.userId);const r=Wa(this.N,n);return cc(t,e.userId,r).next((()=>{}))}))))}))))}xe(t){const e=t.store(va.store),n=t.store(ma.store);return t.store(wa.store).get(wa.key).next((t=>{const r=[];return n.Kt(((n,s)=>{const i=new ts(n),o=function(t){return[0,sa(t)]}(i);r.push(e.get(o).next((n=>n?Aa.resolve():(n=>e.put(new va(0,sa(n),t.highestListenSequenceNumber)))(i))))})).next((()=>Aa.waitFor(r)))}))}ke(t,e){t.createObjectStore(ba.store,{keyPath:ba.keyPath});const n=e.store(ba.store),r=new rc,s=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:sa(r)})}};return e.store(ma.store).Kt({qt:!0},((t,e)=>{const n=new ts(t);return s(n.popLast())})).next((()=>e.store(da.store).Kt({qt:!0},(([t,e,n],r)=>{const i=aa(e);return s(i.popLast())}))))}$e(t){const e=t.store(ya.store);return e.Kt(((t,n)=>{const r=Ya(n),s=Ja(this.N,r);return e.put(s)}))}}function Mc(t){t.createObjectStore(va.store,{keyPath:va.keyPath}).createIndex(va.documentTargetsIndex,va.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ya.store,{keyPath:ya.keyPath}).createIndex(ya.queryTargetsIndexName,ya.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wa.store)}const Pc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fc{constructor(t,e,n,r,s,i,o,a,c,u){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=s,this.window=i,this.document=o,this.Fe=c,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!Fc.bt())throw new Or(Rr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _c(this,r),this.We=e+"main",this.N=new ja(a),this.Ge=new Ca(this.We,11,new Oc(this.N)),this.ze=new gc(this.referenceDelegate,this.N),this.Ht=new sc,this.He=function(t,e){return new Cc(t,e)}(this.N,this.Ht),this.Je=new Za,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Or(Rr.FAILED_PRECONDITION,Pc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.ze.getHighestSequenceNumber(t)))})).then((t=>{this.Le=new jr(t,this.Fe)})).then((()=>{this.Be=!0})).catch((t=>(this.Ge&&this.Ge.close(),Promise.reject(t))))}nn(t){return this.Qe=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Xe()})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Uc(t).put(new Ia(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.sn(t).next((t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))))}))})).next((()=>this.rn(t))).next((e=>this.isPrimary&&!e?this.on(t).next((()=>!1)):!!e&&this.an(t).next((()=>!0)))))).catch((t=>{if(La(t))return _r("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return _r("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable((()=>this.Qe(t))),this.isPrimary=t}))}sn(t){return Vc(t).get(ua.key).next((t=>Aa.resolve(this.cn(t))))}un(t){return Uc(t).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=Va(t,Ia.store);return e.Lt().next((t=>{const n=this.fn(t,18e5),r=t.filter((t=>-1===n.indexOf(t)));return Aa.forEach(r,(t=>e.delete(t.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ye)for(const e of t)this.Ye.removeItem(this.dn(e.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Xe().then((()=>this.hn())).then((()=>this.en()))))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Aa.resolve(!0):Vc(t).get(ua.key).next((e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new Or(Rr.FAILED_PRECONDITION,Pc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(t).Lt().next((t=>void 0===this.fn(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,r=this.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&_r("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[ua.store,Ia.store],(t=>{const e=new Fa(t,jr.T);return this.on(e).next((()=>this.un(e)))})),this.Ge.close(),this.yn()}fn(t,e){return t.filter((t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId)))}pn(){return this.runTransaction("getActiveClients","readonly",(t=>Uc(t).Lt().next((t=>this.fn(t,18e5).map((t=>t.clientId))))))}get started(){return this.Be}getMutationQueue(t){return hc.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){_r("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite";let s;return this.Ge.runTransaction(t,r,Sa,(r=>(s=new Fa(r,this.Le?this.Le.next():jr.T),"readwrite-primary"===e?this.sn(s).next((t=>!!t||this.rn(s))).next((e=>{if(!e)throw Nr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.Qe(!1))),new Or(Rr.FAILED_PRECONDITION,_a);return n(s)})).next((t=>this.an(s).next((()=>t)))):this.En(s).next((()=>n(s)))))).then((t=>(s.raiseOnCommittedEvent(),t)))}En(t){return Vc(t).get(ua.key).next((t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Or(Rr.FAILED_PRECONDITION,Pc)}))}an(t){const e=new ua(this.clientId,this.allowTabSynchronization,Date.now());return Vc(t).put(ua.key,e)}static bt(){return Ca.bt()}on(t){const e=Vc(t);return e.get(ua.key).next((t=>this.cn(t)?(_r("IndexedDbPersistence","Releasing primary lease."),e.delete(ua.key)):Aa.resolve()))}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(Nr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe())))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,o.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return _r("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Nr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Nr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Vc(t){return Va(t,ua.store)}function Uc(t){return Va(t,Ia.store)}function qc(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Bc{constructor(t,e){this.progress=t,this.Tn=e}}class jc{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.Rn(t,e,n)))}Rn(t,e,n){return this.He.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}bn(t,e){t.forEach(((t,n)=>{for(const t of e)t.applyToLocalView(n)}))}Pn(t,e){return this.He.getEntries(t,e).next((e=>this.vn(t,e).next((()=>e))))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.bn(e,t)))}getDocumentsMatchingQuery(t,e,n){return function(t){return gs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):ai(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new gs(e)).next((t=>{let e=co();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Sn(t,e,n){const r=e.collectionGroup;let s=co();return this.Ht.getCollectionParents(t,r).next((i=>Aa.forEach(i,(i=>{const o=function(t,e){return new ti(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,i.child(r));return this.Dn(t,o,n).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}Dn(t,e,n){let r,s;return this.He.getDocumentsMatchingQuery(t,e,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e)))).next((e=>(s=e,this.Cn(t,s,r).next((t=>{r=t;for(const t of s)for(const e of t.mutations){const n=e.key;let s=r.get(n);null==s&&(s=Rs.newInvalidDocument(n),r=r.insert(n,s)),Vi(e,s,t.localWriteTime),s.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((t,n)=>{pi(e,n)||(r=r.remove(t))})),r)))}Cn(t,e,n){let r=fo();for(const t of e)for(const e of t.mutations)e instanceof Ki&&null===n.get(e.key)&&(r=r.add(e.key));let s=n;return this.He.getEntries(t,r).next((t=>(t.forEach(((t,e)=>{e.isFoundDocument()&&(s=s.insert(t,e))})),s)))}}class Kc{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=fo(),r=fo();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new Kc(t,e.fromCache,n,r)}}class zc{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Wr.min())?this.Fn(t,e):this.On.Pn(t,r).next((s=>{const o=this.Mn(e,s);return(ri(e)||si(e))&&this.Ln(e.limitType,o,r,n)?this.Fn(t,e):(Tr()<=i.in.DEBUG&&_r("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),fi(e)),this.On.getDocumentsMatchingQuery(t,e,n).next((t=>(o.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}Mn(t,e){let n=new ro(mi(t));return e.forEach(((e,r)=>{pi(t,r)&&(n=n.add(r))})),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fn(t,e){return Tr()<=i.in.DEBUG&&_r("QueryEngine","Using full collection scan to execute query:",fi(e)),this.On.getDocumentsMatchingQuery(t,e,Wr.min())}}class $c{constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new to($r),this.qn=new Ac((t=>Ps(t)),Fs),this.Kn=Wr.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new jc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Un)))}}function Gc(t,e,n,r){return new $c(t,e,n,r)}async function Hc(t,e){const n=Lr(t);let r=n.In,s=n.Qn;const i=await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.In.getAllMutationBatches(t).next((o=>(i=o,r=n.persistence.getMutationQueue(e),s=new jc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)))).next((e=>{const n=[],r=[];let o=fo();for(const t of i){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return s.Pn(t,o).next((t=>({Wn:t,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=s,n.Bn.$n(n.Qn),i}function Qc(t){const e=Lr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.ze.getLastRemoteSnapshotVersion(t)))}function Wc(t,e,n,r,s){let i=fo();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=oo();return n.forEach(((n,o)=>{const a=t.get(n),c=(null==s?void 0:s.get(n))||r;o.isNoDocument()&&o.version.isEqual(Wr.min())?(e.removeEntry(n,c),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),i=i.insert(n,o)):_r("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}function Yc(t,e){const n=Lr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e))))}function Jc(t,e){const n=Lr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.ze.getTargetData(t,e).next((s=>s?(r=s,Aa.resolve(r)):n.ze.allocateTargetId(t).next((s=>(r=new Ba(e,s,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}async function Xc(t,e,n){const r=Lr(t),s=r.Un.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(t=>r.persistence.referenceDelegate.removeTarget(t,s)))}catch(t){if(!La(t))throw t;_r("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Un=r.Un.remove(e),r.qn.delete(s.target)}function Zc(t,e,n){const r=Lr(t);let s=Wr.min(),i=fo();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Lr(t),s=r.qn.get(n);return void 0!==s?Aa.resolve(r.Un.get(s)):r.ze.getTargetData(e,n)}(r,t,ui(e)).next((e=>{if(e)return s=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next((t=>{i=t}))})).next((()=>r.Bn.getDocumentsMatchingQuery(t,e,n?s:Wr.min(),n?i:fo()))).next((t=>({documents:t,Gn:i})))))}function tu(t,e){const n=Lr(t),r=Lr(n.ze),s=n.Un.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",(t=>r.Et(t,e).next((t=>t?t.target:null))))}function eu(t){const e=Lr(t);return e.persistence.runTransaction("Get new document changes","readonly",(t=>function(t,e,n){const r=Lr(t);let s=oo(),i=$a(n);const o=Lc(e),a=IDBKeyRange.lowerBound(i,!0);return o.Kt({index:ma.readTimeIndex,range:a},((t,e)=>{const n=Ka(r.N,e);s=s.insert(n.key,n),i=e.readTime})).next((()=>({Tn:s,readTime:Ga(i)})))}(e.jn,t,e.Kn))).then((({Tn:t,readTime:n})=>(e.Kn=n,t)))}async function nu(t,e,n=fo()){const r=await Jc(t,ui(Xa(e.bundledQuery))),s=Lr(t);return s.persistence.runTransaction("Save named query","readwrite",(t=>{const i=xo(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return s.Je.saveNamedQuery(t,e);const o=r.withResumeToken(is.EMPTY_BYTE_STRING,i);return s.Un=s.Un.insert(o.targetId,o),s.ze.updateTargetData(t,o).next((()=>s.ze.removeMatchingKeysForTargetId(t,r.targetId))).next((()=>s.ze.addMatchingKeys(t,n,r.targetId))).next((()=>s.Je.saveNamedQuery(t,e)))}))}class ru{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Aa.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:xo(n.createTime)}),Aa.resolve()}getNamedQuery(t,e){return Aa.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:Xa(t.bundledQuery),readTime:xo(t.readTime)}}(e)),Aa.resolve()}}class su{constructor(){this.Zn=new ro(iu.ts),this.es=new ro(iu.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new iu(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.rs(new iu(t,e))}os(t,e){t.forEach((t=>this.removeReference(t,e)))}cs(t){const e=new gs(new ts([])),n=new iu(e,t),r=new iu(e,t+1),s=[];return this.es.forEachInRange([n,r],(t=>{this.rs(t),s.push(t.key)})),s}us(){this.Zn.forEach((t=>this.rs(t)))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new gs(new ts([])),n=new iu(e,t),r=new iu(e,t+1);let s=fo();return this.es.forEachInRange([n,r],(t=>{s=s.add(t.key)})),s}containsKey(t){const e=new iu(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class iu{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return gs.comparator(t.key,e.key)||$r(t.ls,e.ls)}static ns(t,e){return $r(t.ls,e.ls)||gs.comparator(t.key,e.key)}}class ou{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new ro(iu.ts)}checkEmpty(t){return Aa.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const s=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const i=new Ua(s,e,n,r);this.In.push(i);for(const e of r)this.ds=this.ds.add(new iu(e.key,s)),this.Ht.addToCollectionParentIndex(t,e.key.path.popLast());return Aa.resolve(i)}lookupMutationBatch(t,e){return Aa.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this._s(n),s=r<0?0:r;return Aa.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return Aa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Aa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new iu(e,0),r=new iu(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([n,r],(t=>{const e=this.ws(t.ls);s.push(e)})),Aa.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ro($r);return e.forEach((t=>{const e=new iu(t,0),r=new iu(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],(t=>{n=n.add(t.ls)}))})),Aa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let s=n;gs.isDocumentKey(s)||(s=s.child(""));const i=new iu(new gs(s),0);let o=new ro($r);return this.ds.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)}),i),Aa.resolve(this.gs(o))}gs(t){const e=[];return t.forEach((t=>{const n=this.ws(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){kr(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Aa.forEach(e.mutations,(r=>{const s=new iu(r.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.ds=n}))}te(t){}containsKey(t,e){const n=new iu(e,0),r=this.ds.firstAfterOrEqual(n);return Aa.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.In.length,Aa.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class au{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new to(gs.comparator),this.size=0}addEntry(t,e,n){const r=e.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-i,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Aa.resolve(n?n.document.clone():Rs.newInvalidDocument(e))}getEntries(t,e){let n=oo();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():Rs.newInvalidDocument(t))})),Aa.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=oo();const s=new gs(e.path.child("")),i=this.docs.getIteratorFrom(s);for(;i.hasNext();){const{key:t,value:{document:s,readTime:o}}=i.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||pi(e,s)&&(r=r.insert(s.key,s.clone()))}return Aa.resolve(r)}Es(t,e){return Aa.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new cu(this)}getSize(t){return Aa.resolve(this.size)}}class cu extends Dc{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),Aa.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class uu{constructor(t){this.persistence=t,this.Ts=new Ac((t=>Ps(t)),Fs),this.lastRemoteSnapshotVersion=Wr.min(),this.highestTargetId=0,this.Is=0,this.As=new su,this.targetCount=0,this.Rs=mc.se()}forEachTarget(t,e){return this.Ts.forEach(((t,n)=>e(n))),Aa.resolve()}getLastRemoteSnapshotVersion(t){return Aa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Aa.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Aa.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Aa.resolve()}ae(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new mc(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Aa.resolve()}updateTargetData(t,e){return this.ae(e),Aa.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Aa.resolve()}removeTargets(t,e,n){let r=0;const s=[];return this.Ts.forEach(((i,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Ts.delete(i),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),Aa.waitFor(s).next((()=>r))}getTargetCount(t){return Aa.resolve(this.targetCount)}getTargetData(t,e){const n=this.Ts.get(e)||null;return Aa.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Aa.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach((e=>{s.push(r.markPotentiallyOrphaned(t,e))})),Aa.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Aa.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Aa.resolve(n)}containsKey(t,e){return Aa.resolve(this.As.containsKey(e))}}class hu{constructor(t,e){this.bs={},this.Le=new jr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new uu(this),this.Ht=new nc,this.He=function(t,e){return new au(t,e)}(this.Ht,(t=>this.referenceDelegate.Ps(t))),this.N=new ja(e),this.Je=new ru(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new ou(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){_r("MemoryPersistence","Starting transaction:",t);const r=new lu(this.Le.next());return this.referenceDelegate.vs(),n(r).next((t=>this.referenceDelegate.Vs(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ss(t,e){return Aa.or(Object.values(this.bs).map((n=>()=>n.containsKey(t,e))))}}class lu extends Na{constructor(t){super(),this.currentSequenceNumber=t}}class du{constructor(t){this.persistence=t,this.Ds=new su,this.Cs=null}static Ns(t){return new du(t)}get xs(){if(this.Cs)return this.Cs;throw Cr()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Aa.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Aa.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Aa.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach((t=>this.xs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.xs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Aa.forEach(this.xs,(n=>{const r=gs.fromPath(n);return this.ks(t,r).next((t=>{t||e.removeEntry(r)}))})).next((()=>(this.Cs=null,e.apply(t))))}updateLimboDocument(t,e){return this.ks(t,e).next((t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())}))}Ps(t){return 0}ks(t,e){return Aa.or([()=>Aa.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function fu(t,e){return`firestore_clients_${t}_${e}`}function pu(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function mu(t,e){return`firestore_targets_${t}_${e}`}class gu{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static $s(t,e,n){const r=JSON.parse(n);let s,i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(s=new Or(r.error.code,r.error.message))),i?new gu(t,e,r.state,s):(Nr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yu{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let r,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(r=new Or(n.error.code,n.error.message))),s?new yu(t,n.state,r):(Nr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vu{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,s=mo();for(let t=0;r&&t<n.activeTargetIds.length;++t)r=ms(n.activeTargetIds[t]),s=s.add(n.activeTargetIds[t]);return r?new vu(t,s):(Nr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wu{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wu(e.clientId,e.onlineState):(Nr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class bu{constructor(){this.activeTargetIds=mo()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Iu{constructor(t,e,n,r,s){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new to($r),this.started=!1,this.Ks=[];const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.js=fu(this.persistenceKey,this.Ls),this.Qs=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new bu),this.Ws=new RegExp(`^firestore_clients_${i}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${i}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${i}_(\\d+)$`),this.Hs=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.pn();for(const e of t){if(e===this.Ls)continue;const t=this.getItem(fu(this.persistenceKey,e));if(t){const n=vu.$s(e,t);n&&(this.qs=this.qs.insert(n.clientId,n))}}this.Ys();const e=this.storage.getItem(this.Hs);if(e){const t=this.Xs(e);t&&this.Zs(t)}for(const t of this.Ks)this.Us(t);this.Ks=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach(((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(mu(this.persistenceKey,t));if(n){const r=yu.$s(t,n);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(mu(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach((t=>{this.ni(t)})),this.currentUser=t,n.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return _r("SharedClientState","READ",t,e),e}setItem(t,e){_r("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){_r("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){const e=t;if(e.storageArea===this.storage){if(_r("SharedClientState","EVENT",e.key,e.newValue),e.key===this.js)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.Ws.test(e.key)){if(null==e.newValue){const t=this.ai(e.key);return this.ci(t,null)}{const t=this.ui(e.key,e.newValue);if(t)return this.ci(t.clientId,t)}}else if(this.Gs.test(e.key)){if(null!==e.newValue){const t=this.hi(e.key,e.newValue);if(t)return this.li(t)}}else if(this.zs.test(e.key)){if(null!==e.newValue){const t=this.fi(e.key,e.newValue);if(t)return this.di(t)}}else if(e.key===this.Hs){if(null!==e.newValue){const t=this.Xs(e.newValue);if(t)return this.Zs(t)}}else if(e.key===this.Qs){const t=function(t){let e=jr.T;if(null!=t)try{const n=JSON.parse(t);kr("number"==typeof n),e=n}catch(t){Nr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==jr.T&&this.sequenceNumberHandler(t)}else if(e.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(e)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const r=new gu(this.currentUser,t,e,n),s=pu(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Os())}ni(t){const e=pu(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){const e={clientId:this.Ls,onlineState:t};this.storage.setItem(this.Hs,JSON.stringify(e))}ii(t,e,n){const r=mu(this.persistenceKey,t),s=new yu(t,e,n);this.setItem(r,s.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ai(t);return vu.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),r=Number(n[1]),s=void 0!==n[2]?n[2]:null;return gu.$s(new br(s),r,e)}fi(t,e){const n=this.zs.exec(t),r=Number(n[1]);return yu.$s(r,e)}Xs(t){return wu.$s(t)}async li(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine._i(t.batchId,t.state,t.error);_r("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),s=this.ti(n),i=[],o=[];return s.forEach((t=>{r.has(t)||i.push(t)})),r.forEach((t=>{s.has(t)||o.push(t)})),this.syncEngine.gi(i,o).then((()=>{this.qs=n}))}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=mo();return t.forEach(((t,n)=>{e=e.unionWith(n.activeTargetIds)})),e}}class Eu{constructor(){this.yi=new bu,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new bu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Tu{Ei(t){}shutdown(){}}class Su{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){_r("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){_r("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Nu{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class Au extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.Fi=e+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const s=this.Bi(t,e);_r("RestConnection","Sending: ",s,n);const i={};return this.Ui(i,r),this.qi(t,s,i,n).then((t=>(_r("RestConnection","Received: ",t),t)),(e=>{throw Ar("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",n),e}))}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Ir,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){const n=_u[t];return`${this.Fi}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise(((s,i)=>{const o=new wr;o.listenOnce(fr.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case dr.NO_ERROR:const e=o.getResponseJson();_r("Connection","XHR received:",JSON.stringify(e)),s(e);break;case dr.TIMEOUT:_r("Connection",'RPC "'+t+'" timed out'),i(new Or(Rr.DEADLINE_EXCEEDED,"Request time out"));break;case dr.HTTP_ERROR:const n=o.getStatus();if(_r("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Rr).indexOf(e)>=0?e:Rr.UNKNOWN}(t.status);i(new Or(e,t.message))}else i(new Or(Rr.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Or(Rr.UNAVAILABLE,"Connection failed."));break;default:Cr()}}finally{_r("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ar,s=Zt(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(i.xmlHttpFactory=new yr({})),this.Ui(i.initMessageHeaders,e),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(i.httpHeadersOverwriteParam="$httpHeaders");const a=n.join("");_r("Connection","Creating WebChannel: "+a,i);const c=r.createWebChannel(a,i);let u=!1,h=!1;const l=new Nu({vi:t=>{h?_r("Connection","Not sending because WebChannel is closed:",t):(u||(_r("Connection","Opening WebChannel transport."),c.open(),u=!0),_r("Connection","WebChannel sending:",t),c.send(t))},Vi:()=>c.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(c,vr.EventType.OPEN,(()=>{h||_r("Connection","WebChannel transport opened.")})),d(c,vr.EventType.CLOSE,(()=>{h||(h=!0,_r("Connection","WebChannel transport closed"),l.$i())})),d(c,vr.EventType.ERROR,(t=>{h||(h=!0,Ar("Connection","WebChannel transport errored:",t),l.$i(new Or(Rr.UNAVAILABLE,"The operation could not be completed")))})),d(c,vr.EventType.MESSAGE,(t=>{var e;if(!h){const n=t.data[0];kr(!!n);const r=n,s=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(s){_r("Connection","WebChannel received error:",s);const t=s.status;let e=function(t){const e=Yi[t];if(void 0!==e)return Zi(e)}(t),n=s.message;void 0===e&&(e=Rr.INTERNAL,n="Unknown error status: "+t+" with message "+s.message),h=!0,l.$i(new Or(e,n)),c.close()}else _r("Connection","WebChannel received:",n),l.Oi(n)}})),d(s,pr.STAT_EVENT,(t=>{t.stat===mr?_r("Connection","Detected buffering proxy"):t.stat===gr&&_r("Connection","Detected no buffering proxy")})),setTimeout((()=>{l.ki()}),0),l}}function Du(){return"undefined"!=typeof window?window:null}function Cu(){return"undefined"!=typeof document?document:null}function ku(t){return new Ao(t,!0)}class xu{constructor(t,e,n=1e3,r=1.5,s=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&_r("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),t()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Lu{constructor(t,e,n,r,s,i){this.Oe=t,this.er=n,this.nr=r,this.credentialsProvider=s,this.listener=i,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new xu(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(t){this._r(),this.stream.send(t)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(t,e){this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Rr.RESOURCE_EXHAUSTED?(Nr(e.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):e&&e.code===Rr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ci(e)}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then((t=>{this.sr===e&&this.yr(t)}),(e=>{t((()=>{const t=new Or(Rr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.pr(t)}))}))}yr(t){const e=this.gr(this.sr);this.stream=this.Er(t),this.stream.Si((()=>{e((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((t=>{e((()=>this.pr(t)))})),this.stream.onMessage((t=>{e((()=>this.onMessage(t)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(t){return _r("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget((()=>this.sr===t?e():(_r("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ru extends Lu{constructor(t,e,n,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,n,s),this.N=r}Er(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Cr()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(t,e){return t.D?(kr(void 0===e||"string"==typeof e),is.fromBase64String(e||"")):(kr(void 0===e||e instanceof Uint8Array),is.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Rr.UNKNOWN:Zi(t.code);return new Or(e,t.message||"")}(o);n=new bo(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Mo(t,r.document.name),i=xo(r.document.updateTime),o=new xs({mapValue:{fields:r.document.fields}}),a=Rs.newFoundDocument(s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vo(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Mo(t,r.document),i=r.readTime?xo(r.readTime):Wr.min(),o=Rs.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Mo(t,r.document),i=r.removedTargetIds||[];n=new vo([],i,s,null)}else{if(!("filter"in e))return Cr();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,s=new Wi(r),i=t.targetId;n=new wo(i,s)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return Wr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Wr.min():e.readTime?xo(e.readTime):Wr.min()}(t);return this.listener.Tr(e,n)}Ir(t){const e={};e.database=Vo(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=Vs(r)?{documents:zo(t,r)}:{query:$o(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Co(t,e.resumeToken):e.snapshotVersion.compareTo(Wr.min())>0&&(n.readTime=Do(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,t);n&&(e.labels=n),this.wr(e)}Ar(t){const e={};e.database=Vo(this.N),e.removeTarget=t,this.wr(e)}}class Ou extends Lu{constructor(t,e,n,r,s){super(t,"write_stream_connection_backoff","write_stream_idle",e,n,s),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(t){return this.nr.ji("Write",t)}onMessage(t){if(kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(t,e){return t&&t.length>0?(kr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?xo(t.updateTime):xo(e);return n.isEqual(Wr.min())&&(n=xo(e)),new Ri(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=xo(t.commitTime);return this.listener.vr(n,e)}return kr(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=Vo(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>jo(this.N,t)))};this.wr(e)}}class Mu extends class{}{constructor(t,e,n){super(),this.credentials=t,this.nr=e,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Or(Rr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(t,e,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Rr.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Or(Rr.UNKNOWN,t.toString())}))}Ki(t,e,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(t,e,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Rr.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Or(Rr.UNKNOWN,t.toString())}))}terminate(){this.Dr=!0}}class Pu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Nr(e),this.$r=!1):_r("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Fu{constructor(t,e,n,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=s,this.Qr.Ei((t=>{n.enqueueAndForget((async()=>{Gu(this)&&(_r("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Lr(t);e.Kr.add(4),await Uu(e),e.Wr.set("Unknown"),e.Kr.delete(4),await Vu(e)}(this))}))})),this.Wr=new Pu(n,r)}}async function Vu(t){if(Gu(t))for(const e of t.jr)await e(!0)}async function Uu(t){for(const e of t.jr)await e(!1)}function qu(t,e){const n=Lr(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),$u(n)?zu(n):uh(n).cr()&&ju(n,e))}function Bu(t,e){const n=Lr(t),r=uh(n);n.qr.delete(e),r.cr()&&Ku(n,e),0===n.qr.size&&(r.cr()?r.lr():Gu(n)&&n.Wr.set("Unknown"))}function ju(t,e){t.Gr.Y(e.targetId),uh(t).Ir(e)}function Ku(t,e){t.Gr.Y(e),uh(t).Ar(e)}function zu(t){t.Gr=new Eo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.qr.get(e)||null}),uh(t).start(),t.Wr.Or()}function $u(t){return Gu(t)&&!uh(t).ar()&&t.qr.size>0}function Gu(t){return 0===Lr(t).Kr.size}function Hu(t){t.Gr=void 0}async function Qu(t){t.qr.forEach(((e,n)=>{ju(t,e)}))}async function Wu(t,e){Hu(t),$u(t)?(t.Wr.Lr(e),zu(t)):t.Wr.set("Unknown")}async function Yu(t,e,n){if(t.Wr.set("Online"),e instanceof bo&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.qr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.qr.delete(r),t.Gr.removeTarget(r))}(t,e)}catch(n){_r("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ju(t,n)}else if(e instanceof vo?t.Gr.rt(e):e instanceof wo?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(Wr.min()))try{const e=await Qc(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Gr._t(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=t.qr.get(r);s&&t.qr.set(r,s.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.qr.get(e);if(!n)return;t.qr.set(e,n.withResumeToken(is.EMPTY_BYTE_STRING,n.snapshotVersion)),Ku(t,e);const r=new Ba(n.target,e,1,n.sequenceNumber);ju(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){_r("RemoteStore","Failed to raise snapshot:",e),await Ju(t,e)}}async function Ju(t,e,n){if(!La(e))throw e;t.Kr.add(1),await Uu(t),t.Wr.set("Offline"),n||(n=()=>Qc(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_r("RemoteStore","Retrying IndexedDB access"),await n(),t.Kr.delete(1),await Vu(t)}))}function Xu(t,e){return e().catch((n=>Ju(t,n,e)))}async function Zu(t){const e=Lr(t),n=hh(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;th(e);)try{const t=await Yc(e.localStore,r);if(null===t){0===e.Ur.length&&n.lr();break}r=t.batchId,eh(e,t)}catch(t){await Ju(e,t)}nh(e)&&rh(e)}function th(t){return Gu(t)&&t.Ur.length<10}function eh(t,e){t.Ur.push(e);const n=hh(t);n.cr()&&n.br&&n.Pr(e.mutations)}function nh(t){return Gu(t)&&!hh(t).ar()&&t.Ur.length>0}function rh(t){hh(t).start()}async function sh(t){hh(t).Sr()}async function ih(t){const e=hh(t);for(const n of t.Ur)e.Pr(n.mutations)}async function oh(t,e,n){const r=t.Ur.shift(),s=qa.from(r,e,n);await Xu(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Zu(t)}async function ah(t,e){e&&hh(t).br&&await async function(t,e){if(Xi(n=e.code)&&n!==Rr.ABORTED){const n=t.Ur.shift();hh(t).hr(),await Xu(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Zu(t)}var n}(t,e),nh(t)&&rh(t)}async function ch(t,e){const n=Lr(t);e?(n.Kr.delete(2),await Vu(n)):e||(n.Kr.add(2),await Uu(n),n.Wr.set("Unknown"))}function uh(t){return t.zr||(t.zr=function(t,e,n){const r=Lr(t);return r.Cr(),new Ru(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Qu.bind(null,t),Ci:Wu.bind(null,t),Tr:Yu.bind(null,t)}),t.jr.push((async e=>{e?(t.zr.hr(),$u(t)?zu(t):t.Wr.set("Unknown")):(await t.zr.stop(),Hu(t))}))),t.zr}function hh(t){return t.Hr||(t.Hr=function(t,e,n){const r=Lr(t);return r.Cr(),new Ou(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:sh.bind(null,t),Ci:ah.bind(null,t),Vr:ih.bind(null,t),vr:oh.bind(null,t)}),t.jr.push((async e=>{e?(t.Hr.hr(),await Zu(t)):(await t.Hr.stop(),t.Ur.length>0&&(_r("RemoteStore",`Stopping write stream with ${t.Ur.length} pending writes`),t.Ur=[]))}))),t.Hr}class lh{constructor(t,e,n,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,s){const i=Date.now()+n,o=new lh(t,e,i,r,s);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Or(Rr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dh(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),La(t))return new Or(Rr.UNAVAILABLE,`${e}: ${t}`);throw t}class fh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||gs.comparator(e.key,n.key):(t,e)=>gs.comparator(t.key,e.key),this.keyedMap=co(),this.sortedSet=new to(this.comparator)}static emptySet(t){return new fh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new fh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class ph{constructor(){this.Jr=new to(gs.comparator)}track(t){const e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Cr():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal(((e,n)=>{t.push(n)})),t}}class mh{constructor(t,e,n,r,s,i,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new mh(t,e,fh.emptySet(e),s,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&li(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class gh{constructor(){this.Xr=void 0,this.listeners=[]}}class yh{constructor(){this.queries=new Ac((t=>di(t)),li),this.onlineState="Unknown",this.Zr=new Set}}async function vh(t,e){const n=Lr(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new gh),s)try{i.Xr=await n.onListen(r)}catch(t){const n=dh(t,`Initialization of query '${fi(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,i),i.listeners.push(e),e.eo(n.onlineState),i.Xr&&e.no(i.Xr)&&Eh(n)}async function wh(t,e){const n=Lr(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const t=i.listeners.indexOf(e);t>=0&&(i.listeners.splice(t,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function bh(t,e){const n=Lr(t);let r=!1;for(const t of e){const e=t.query,s=n.queries.get(e);if(s){for(const e of s.listeners)e.no(t)&&(r=!0);s.Xr=t}}r&&Eh(n)}function Ih(t,e,n){const r=Lr(t),s=r.queries.get(e);if(s)for(const t of s.listeners)t.onError(n);r.queries.delete(e)}function Eh(t){t.Zr.forEach((t=>{t.next()}))}class Th{constructor(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new mh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)}oo(t){if(t.docChanges.length>0)return!0;const e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}co(t){t=mh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class Sh{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class _h{constructor(t){this.N=t}zn(t){return Mo(this.N,t)}Hn(t){return t.metadata.exists?Bo(this.N,t.document,!1):Rs.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return xo(t)}}class Nh{constructor(t,e,n){this.lo=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=Ah(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,n=new _h(this.N);for(const r of t)if(r.metadata.queries){const t=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||fo()).add(t);e.set(n,r)}}return e}async complete(){const t=await async function(t,e,n,r){const s=Lr(t);let i=fo(),o=oo(),a=ho();for(const t of n){const n=e.zn(t.metadata.name);t.document&&(i=i.add(n)),o=o.insert(n,e.Hn(t)),a=a.insert(n,e.Jn(t.metadata.readTime))}const c=s.jn.newChangeBuffer({trackRemovals:!0}),u=await Jc(s,function(t){return ui(ni(ts.fromString(`__bundle__/docs/${t}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(t=>Wc(t,c,o,Wr.min(),a).next((e=>(c.apply(t),e))).next((e=>s.ze.removeMatchingKeysForTargetId(t,u.targetId).next((()=>s.ze.addMatchingKeys(t,i,u.targetId))).next((()=>s.Qn.vn(t,e))).next((()=>e))))))}(this.localStore,new _h(this.N),this.documents,this.lo.id),e=this.wo(this.documents);for(const t of this.queries)await nu(this.localStore,t,e.get(t.name));return this.progress.taskState="Success",new Bc(Object.assign({},this.progress),t)}}function Ah(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Dh{constructor(t){this.key=t}}class Ch{constructor(t){this.key=t}}class kh{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=fo(),this.mutatedKeys=fo(),this.po=mi(t),this.Eo=new fh(this.po)}get To(){return this._o}Io(t,e){const n=e?e.Ao:new ph,r=e?e.Eo:this.Eo;let s=e?e.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a=ri(this.query)&&r.size===this.query.limit?r.last():null,c=si(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const u=r.get(t),h=pi(this.query,e)?e:null,l=!!u&&this.mutatedKeys.has(u.key),d=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let f=!1;u&&h?u.data.isEqual(h.data)?l!==d&&(n.track({type:3,doc:h}),f=!0):this.Ro(u,h)||(n.track({type:2,doc:h}),f=!0,(a&&this.po(h,a)>0||c&&this.po(h,c)<0)&&(o=!0)):!u&&h?(n.track({type:0,doc:h}),f=!0):u&&!h&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(h?(i=i.add(h),s=d?s.add(t):s.delete(t)):(i=i.delete(t),s=s.delete(t)))})),ri(this.query)||si(this.query))for(;i.size>this.query.limit;){const t=ri(this.query)?i.last():i.first();i=i.delete(t.key),s=s.delete(t.key),n.track({type:1,doc:t})}return{Eo:i,Ao:n,Ln:o,mutatedKeys:s}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;const s=t.Ao.Yr();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cr()}};return n(t)-n(e)}(t.type,e.type)||this.po(t.doc,e.doc))),this.bo(n);const i=e?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==s.length||a?{snapshot:new mh(this.query,t.Eo,r,s,t.mutatedKeys,0===o,a,!1),vo:i}:{vo:i}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ph,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach((t=>this._o=this._o.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this._o=this._o.delete(t))),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=fo(),this.Eo.forEach((t=>{this.Vo(t.key)&&(this.yo=this.yo.add(t.key))}));const e=[];return t.forEach((t=>{this.yo.has(t)||e.push(new Ch(t))})),this.yo.forEach((n=>{t.has(n)||e.push(new Dh(n))})),e}So(t){this._o=t.Gn,this.yo=fo();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return mh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class xh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Lh{constructor(t){this.key=t,this.Co=!1}}class Rh{constructor(t,e,n,r,s,i){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.No={},this.xo=new Ac((t=>di(t)),li),this.ko=new Map,this.$o=new Set,this.Oo=new to(gs.comparator),this.Fo=new Map,this.Mo=new su,this.Lo={},this.Bo=new Map,this.Uo=mc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function Oh(t,e){const n=ol(t);let r,s;const i=n.xo.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Do();else{const t=await Jc(n.localStore,ui(e)),i=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,s=await Mh(n,e,r,"current"===i),n.isPrimaryClient&&qu(n.remoteStore,t)}return s}async function Mh(t,e,n,r){t.Ko=(e,n,r)=>async function(t,e,n,r){let s=e.view.Io(n);s.Ln&&(s=await Zc(t.localStore,e.query,!1).then((({documents:t})=>e.view.Io(t,s))));const i=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(s,t.isPrimaryClient,i);return Gh(t,e.targetId,o.vo),o.snapshot}(t,e,n,r);const s=await Zc(t.localStore,e,!0),i=new kh(e,s.Gn),o=i.Io(s.documents),a=yo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=i.applyChanges(o,t.isPrimaryClient,a);Gh(t,n,c.vo);const u=new xh(e,n,i);return t.xo.set(e,u),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),c.snapshot}async function Ph(t,e){const n=Lr(t),r=n.xo.get(e),s=n.ko.get(r.targetId);if(s.length>1)return n.ko.set(r.targetId,s.filter((t=>!li(t,e)))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Bu(n.remoteStore,r.targetId),zh(n,r.targetId)})).catch(bc)):(zh(n,r.targetId),await Xc(n.localStore,r.targetId,!0))}async function Fh(t,e){const n=Lr(t);try{const t=await function(t,e){const n=Lr(t),r=e.snapshotVersion;let s=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const i=n.jn.newChangeBuffer({trackRemovals:!0});s=n.Un;const o=[];e.targetChanges.forEach(((e,i)=>{const a=s.get(i);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,i).next((()=>n.ze.addMatchingKeys(t,e.addedDocuments,i))));const c=e.resumeToken;if(c.approximateByteSize()>0){const u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);s=s.insert(i,u),function(t,e,n){return kr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.ze.updateTargetData(t,u))}}));let a=oo();if(e.documentUpdates.forEach(((r,s)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Wc(t,i,e.documentUpdates,r,void 0).next((t=>{a=t}))),!r.isEqual(Wr.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next((e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return Aa.waitFor(o).next((()=>i.apply(t))).next((()=>n.Qn.vn(t,a))).next((()=>a))})).then((t=>(n.Un=s,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Fo.get(e);r&&(kr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?kr(r.Co):t.removedDocuments.size>0&&(kr(r.Co),r.Co=!1))})),await Wh(n,t,e)}catch(t){await bc(t)}}function Vh(t,e,n){const r=Lr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xo.forEach(((n,r)=>{const s=r.view.eo(e);s.snapshot&&t.push(s.snapshot)})),function(t,e){const n=Lr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.listeners)t.eo(e)&&(r=!0)})),r&&Eh(n)}(r.eventManager,e),t.length&&r.No.Tr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uh(t,e,n){const r=Lr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Fo.get(e),i=s&&s.key;if(i){let t=new to(gs.comparator);t=t.insert(i,Rs.newNoDocument(i,Wr.min()));const n=fo().add(i),s=new go(Wr.min(),new Map,new ro($r),t,n);await Fh(r,s),r.Oo=r.Oo.remove(i),r.Fo.delete(e),Qh(r)}else await Xc(r.localStore,e,!1).then((()=>zh(r,e,n))).catch(bc)}async function qh(t,e){const n=Lr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Lr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const s=n.batch,i=s.keys();let o=Aa.resolve();return i.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const i=n.docVersions.get(t);kr(null!==i),e.version.compareTo(i)<0&&(s.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),o.next((()=>t.In.removeMutationBatch(e,s)))}(n,t,e,s).next((()=>s.apply(t))).next((()=>n.In.performConsistencyCheck(t))).next((()=>n.Qn.Pn(t,r)))}))}(n.localStore,e);Kh(n,r,null),jh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wh(n,t)}catch(t){await bc(t)}}async function Bh(t,e,n){const r=Lr(t);try{const t=await function(t,e){const n=Lr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.In.lookupMutationBatch(t,e).next((e=>(kr(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e)))).next((()=>n.In.performConsistencyCheck(t))).next((()=>n.Qn.Pn(t,r)))}))}(r.localStore,e);Kh(r,e,n),jh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wh(r,t)}catch(n){await bc(n)}}function jh(t,e){(t.Bo.get(e)||[]).forEach((t=>{t.resolve()})),t.Bo.delete(e)}function Kh(t,e,n){const r=Lr(t);let s=r.Lo[r.currentUser.toKey()];if(s){const t=s.get(e);t&&(n?t.reject(n):t.resolve(),s=s.remove(e)),r.Lo[r.currentUser.toKey()]=s}}function zh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ko.get(e))t.xo.delete(r),n&&t.No.jo(r,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach((e=>{t.Mo.containsKey(e)||$h(t,e)}))}function $h(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);null!==n&&(Bu(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),Qh(t))}function Gh(t,e,n){for(const r of n)r instanceof Dh?(t.Mo.addReference(r.key,e),Hh(t,r)):r instanceof Ch?(_r("SyncEngine","Document no longer in limbo: "+r.key),t.Mo.removeReference(r.key,e),t.Mo.containsKey(r.key)||$h(t,r.key)):Cr()}function Hh(t,e){const n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.$o.has(r)||(_r("SyncEngine","New document in limbo: "+n),t.$o.add(r),Qh(t))}function Qh(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new gs(ts.fromString(e)),r=t.Uo.next();t.Fo.set(r,new Lh(n)),t.Oo=t.Oo.insert(n,r),qu(t.remoteStore,new Ba(ui(ni(n.path)),r,2,jr.T))}}async function Wh(t,e,n){const r=Lr(t),s=[],i=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((t,a)=>{o.push(r.Ko(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),s.push(t);const e=Kc.kn(a.targetId,t);i.push(e)}})))})),await Promise.all(o),r.No.Tr(s),await async function(t,e){const n=Lr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Aa.forEach(e,(e=>Aa.forEach(e.Nn,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Aa.forEach(e.xn,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!La(t))throw t;_r("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.Un.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(e,s)}}}(r.localStore,i))}async function Yh(t,e){const n=Lr(t);if(!n.currentUser.isEqual(e)){_r("SyncEngine","User change. New user:",e.toKey());const t=await Hc(n.localStore,e);n.currentUser=e,function(t,e){t.Bo.forEach((t=>{t.forEach((t=>{t.reject(new Or(Rr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Wh(n,t.Wn)}}function Jh(t,e){const n=Lr(t),r=n.Fo.get(e);if(r&&r.Co)return fo().add(r.key);{let t=fo();const r=n.ko.get(e);if(!r)return t;for(const e of r){const r=n.xo.get(e);t=t.unionWith(r.view.To)}return t}}async function Xh(t,e){const n=Lr(t),r=await Zc(n.localStore,e.query,!0),s=e.view.So(r);return n.isPrimaryClient&&Gh(n,e.targetId,s.vo),s}async function Zh(t){const e=Lr(t);return eu(e.localStore).then((t=>Wh(e,t)))}async function tl(t,e,n,r){const s=Lr(t),i=await function(t,e){const n=Lr(t),r=Lr(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(t=>r.Xt(t,e).next((e=>e?n.Qn.Pn(t,e):Aa.resolve(null)))))}(s.localStore,e);null!==i?("pending"===n?await Zu(s.remoteStore):"acknowledged"===n||"rejected"===n?(Kh(s,e,r||null),jh(s,e),function(t,e){Lr(Lr(t).In).te(e)}(s.localStore,e)):Cr(),await Wh(s,i)):_r("SyncEngine","Cannot apply mutation batch with id: "+e)}async function el(t,e,n){const r=Lr(t),s=[],i=[];for(const t of e){let e;const n=r.ko.get(t);if(n&&0!==n.length){e=await Jc(r.localStore,ui(n[0]));for(const t of n){const e=r.xo.get(t),n=await Xh(r,e);n.snapshot&&i.push(n.snapshot)}}else{const n=await tu(r.localStore,t);e=await Jc(r.localStore,n),await Mh(r,nl(n),t,!1)}s.push(e)}return r.No.Tr(i),s}function nl(t){return ei(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rl(t){const e=Lr(t);return Lr(Lr(e.localStore).persistence).pn()}async function sl(t,e,n,r){const s=Lr(t);if(s.qo)_r("SyncEngine","Ignoring unexpected query state notification.");else if(s.ko.has(e))switch(n){case"current":case"not-current":{const t=await eu(s.localStore),r=go.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);await Wh(s,t,r);break}case"rejected":await Xc(s.localStore,e,!0),zh(s,e,r);break;default:Cr()}}async function il(t,e,n){const r=ol(t);if(r.qo){for(const t of e){if(r.ko.has(t)){_r("SyncEngine","Adding an already active target "+t);continue}const e=await tu(r.localStore,t),n=await Jc(r.localStore,e);await Mh(r,nl(e),n.targetId,!1),qu(r.remoteStore,n)}for(const t of n)r.ko.has(t)&&await Xc(r.localStore,t,!1).then((()=>{Bu(r.remoteStore,t),zh(r,t)})).catch(bc)}}function ol(t){const e=Lr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uh.bind(null,e),e.No.Tr=bh.bind(null,e.eventManager),e.No.jo=Ih.bind(null,e.eventManager),e}function al(t){const e=Lr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bh.bind(null,e),e}class cl{constructor(){this.synchronizeTabs=!1}async initialize(t){this.N=ku(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),await this.persistence.start(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t)}zo(t){return null}Ho(t){return Gc(this.persistence,new zc,t.initialUser,this.N)}Go(t){return new hu(du.Ns,this.N)}Wo(t){return new Eu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ul extends cl{constructor(t,e,n){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await async function(t){const e=Lr(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",(t=>function(t){const e=Lc(t);let n=Wr.min();return e.Kt({index:ma.readTimeIndex,reverse:!0},((t,e,r)=>{e.readTime&&(n=Ga(e.readTime)),r.done()})).next((()=>n))}(t))).then((t=>{e.Kn=t}))}(this.localStore),await this.Jo.initialize(this,t),await al(this.Jo.syncEngine),await Zu(this.Jo.remoteStore),await this.persistence.nn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ho(t){return Gc(this.persistence,new zc,t.initialUser,this.N)}zo(t){const e=this.persistence.referenceDelegate.garbageCollector;return new Tc(e,t.asyncQueue)}Go(t){const e=qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ac.withCacheSize(this.cacheSizeBytes):ac.DEFAULT;return new Fc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Du(),Cu(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new Eu}}class hl extends ul{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Jo.syncEngine;this.sharedClientState instanceof Iu&&(this.sharedClientState.syncEngine={_i:tl.bind(null,e),mi:sl.bind(null,e),gi:il.bind(null,e),pn:rl.bind(null,e),wi:Zh.bind(null,e)},await this.sharedClientState.start()),await this.persistence.nn((async t=>{await async function(t,e){const n=Lr(t);if(ol(n),al(n),!0===e&&!0!==n.qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await el(n,t.toArray());n.qo=!0,await ch(n.remoteStore,!0);for(const t of e)qu(n.remoteStore,t)}else if(!1===e&&!1!==n.qo){const t=[];let e=Promise.resolve();n.ko.forEach(((r,s)=>{n.sharedClientState.isLocalQueryTarget(s)?t.push(s):e=e.then((()=>(zh(n,s),Xc(n.localStore,s,!0)))),Bu(n.remoteStore,s)})),await e,await el(n,t),function(t){const e=Lr(t);e.Fo.forEach(((t,n)=>{Bu(e.remoteStore,n)})),e.Mo.us(),e.Fo=new Map,e.Oo=new to(gs.comparator)}(n),n.qo=!1,await ch(n.remoteStore,!1)}}(this.Jo.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop())}))}Wo(t){const e=Du();if(!Iu.bt(e))throw new Or(Rr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Iu(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class ll{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Vh(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yh.bind(null,this.syncEngine),await ch(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new yh}createDatastore(t){const e=ku(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Au(r));var r;return function(t,e,n){return new Mu(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,s=t=>Vh(this.syncEngine,t,0),i=Su.bt()?new Su:new Tu,new Fu(e,n,r,s,i);var e,n,r,s,i}createSyncEngine(t,e){return function(t,e,n,r,s,i,o){const a=new Rh(t,e,n,r,s,i);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Lr(t);_r("RemoteStore","RemoteStore shutting down."),e.Kr.add(5),await Uu(e),e.Qr.shutdown(),e.Wr.set("Unknown")}(this.remoteStore)}}function dl(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class fl{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class pl{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new Mr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((t=>{t&&t.ho()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))}),(t=>this.metadata.reject(t)))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const t=await this.na();if(null===t)return null;const e=this.ta.decode(t),n=Number(e);isNaN(n)&&this.sa(`length string (${e}) is not valid number`);const r=await this.ia(n);return new Sh(JSON.parse(r),t.length+n)}ra(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async na(){for(;this.ra()<0&&!await this.oa(););if(0===this.buffer.length)return null;const t=this.ra();t<0&&this.sa("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async ia(t){for(;this.buffer.length<t;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const e=this.ta.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}async oa(){const t=await this.Zo.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}class ml{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Or(Rr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=Lr(t),r=Vo(n.N)+"/documents",s={documents:e.map((t=>Oo(n.N,t)))},i=await n.Ki("BatchGetDocuments",r,s),o=new Map;i.forEach((t=>{const e=function(t,e){return"found"in e?function(t,e){kr(!!e.found),e.found.name,e.found.updateTime;const n=Mo(t,e.found.name),r=xo(e.found.updateTime),s=new xs({mapValue:{fields:e.found.fields}});return Rs.newFoundDocument(n,r,s)}(t,e):"missing"in e?function(t,e){kr(!!e.missing),kr(!!e.readTime);const n=Mo(t,e.missing),r=xo(e.readTime);return Rs.newNoDocument(n,r)}(t,e):Cr()}(n.N,t);o.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=o.get(t.toString());kr(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new Hi(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const n=gs.fromPath(e);this.mutations.push(new Qi(n,this.precondition(n)))})),await async function(t,e){const n=Lr(t),r=Vo(n.N)+"/documents",s={writes:e.map((t=>jo(n.N,t)))};await n.Li("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Cr();e=Wr.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Or(Rr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oi.updateTime(e):Oi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Wr.min()))throw new Or(Rr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(e)}return Oi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class gl{constructor(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new xu(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi((async()=>{const t=new ml(this.datastore),e=this.ua(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.ha(t)}))))})).catch((t=>{this.ha(t)}))}))}ua(t){try{const e=this.updateFunction(t);return!fs(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget((()=>(this.ca(),Promise.resolve())))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Xi(e)}return!1}}class yl{constructor(t,e,n){this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=br.UNAUTHENTICATED,this.clientId=zr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,(async t=>{_r("FirestoreClient","Received user=",t.uid),await this.credentialListener(t),this.user=t}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Or(Rr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),t.resolve()}catch(e){const n=dh(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function vl(t,e){t.asyncQueue.verifyOperationInProgress(),_r("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Hc(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function wl(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bl(t);_r("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>async function(t,e){const n=Lr(t);n.asyncQueue.verifyOperationInProgress(),_r("RemoteStore","RemoteStore received new credentials");const r=Gu(n);n.Kr.add(3),await Uu(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Kr.delete(3),await Vu(n)}(e.remoteStore,t))),t.onlineComponents=e}async function bl(t){return t.offlineComponents||(_r("FirestoreClient","Using default OfflineComponentProvider"),await vl(t,new cl)),t.offlineComponents}async function Il(t){return t.onlineComponents||(_r("FirestoreClient","Using default OnlineComponentProvider"),await wl(t,new ll)),t.onlineComponents}function El(t){return bl(t).then((t=>t.persistence))}function Tl(t){return bl(t).then((t=>t.localStore))}function Sl(t){return Il(t).then((t=>t.remoteStore))}function _l(t){return Il(t).then((t=>t.syncEngine))}async function Nl(t){const e=await Il(t),n=e.eventManager;return n.onListen=Oh.bind(null,e.syncEngine),n.onUnlisten=Ph.bind(null,e.syncEngine),n}function Al(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,s){const i=new fl({next:i=>{e.enqueueAndForget((()=>wh(t,o)));const a=i.docs.has(n);!a&&i.fromCache?s.reject(new Or(Rr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?s.reject(new Or(Rr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:t=>s.reject(t)}),o=new Th(ni(n.path),i,{includeMetadataChanges:!0,uo:!0});return vh(t,o)}(await Nl(t),t.asyncQueue,e,n,r))),r.promise}function Dl(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,s){const i=new fl({next:n=>{e.enqueueAndForget((()=>wh(t,o))),n.fromCache&&"server"===r.source?s.reject(new Or(Rr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:t=>s.reject(t)}),o=new Th(n,i,{includeMetadataChanges:!0,uo:!0});return vh(t,o)}(await Nl(t),t.asyncQueue,e,n,r))),r.promise}class Cl{constructor(t,e,n,r,s,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class kl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const xl=new Map;function Ll(t,e,n){if(!n)throw new Or(Rr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rl(t,e,n,r){if(!0===e&&!0===r)throw new Or(Rr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ol(t){if(!gs.isDocumentKey(t))throw new Or(Rr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ml(t){if(gs.isDocumentKey(t))throw new Or(Rr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){if(t.constructor){const e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Cr()}function Fl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Or(Rr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pl(t);throw new Or(Rr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Vl(t,e){if(e<=0)throw new Or(Rr.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Ul{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Or(Rr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Or(Rr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Rl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ql{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ul({}),this._settingsFrozen=!1,t instanceof kl?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Or(Rr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(t.options.projectId)}(t))}get app(){if(!this._app)throw new Or(Rr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Or(Rr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ul(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Fr;switch(t.type){case"gapi":const e=t.client;return kr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Br(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Or(Rr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=xl.get(t);e&&(_r("ComponentProvider","Removing Datastore"),xl.delete(t),e.terminate())}(this),Promise.resolve()}}function Bl(t,e,n,r={}){var s;const i=(t=Fl(t,ql))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Ar("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=br.MOCK_USER;else{e=(0,o.Sg)(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Or(Rr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new br(i)}t._credentials=new Vr(new Pr(e,n))}}class jl{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jl(this.firestore,t,this._key)}}class Kl{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Kl(this.firestore,t,this._query)}}class zl extends Kl{constructor(t,e,n){super(t,e,ni(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jl(this.firestore,null,new gs(t))}withConverter(t){return new zl(this.firestore,t,this._path)}}function $l(t,e,...n){if(t=(0,o.m9)(t),Ll("collection","path",e),t instanceof ql){const r=ts.fromString(e,...n);return Ml(r),new zl(t,null,r)}{if(!(t instanceof jl||t instanceof zl))throw new Or(Rr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ts.fromString(e,...n));return Ml(r),new zl(t.firestore,null,r)}}function Gl(t,e){if(t=Fl(t,ql),Ll("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Or(Rr.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kl(t,null,function(t){return new ti(ts.emptyPath(),t)}(e))}function Hl(t,e,...n){if(t=(0,o.m9)(t),1===arguments.length&&(e=zr.I()),Ll("doc","path",e),t instanceof ql){const r=ts.fromString(e,...n);return Ol(r),new jl(t,null,new gs(r))}{if(!(t instanceof jl||t instanceof zl))throw new Or(Rr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ts.fromString(e,...n));return Ol(r),new jl(t.firestore,t instanceof zl?t.converter:null,new gs(r))}}function Ql(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),(t instanceof jl||t instanceof zl)&&(e instanceof jl||e instanceof zl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Wl(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),t instanceof Kl&&e instanceof Kl&&t.firestore===e.firestore&&li(t._query,e._query)&&t.converter===e.converter}class Yl{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new xu(this,"async_queue_retry"),this.Ea=()=>{const t=Cu();t&&_r("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const t=Cu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ta(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=Cu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ea)}}enqueue(t){if(this.Ta(),this.wa)return new Promise((()=>{}));const e=new Mr;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.da.push(t),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(t){if(!La(t))throw t;_r("AsyncQueue","Operation failed with retryable error: "+t)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(t){const e=this.fa.then((()=>(this.ga=!0,t().catch((t=>{throw this.ma=t,this.ga=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((t=>(this.ga=!1,t))))));return this.fa=e,e}enqueueAfterDelay(t,e,n){this.Ta(),this.pa.indexOf(t)>-1&&(e=0);const r=lh.createAndSchedule(this,t,e,n,(t=>this.Ra(t)));return this._a.push(r),r}Ta(){this.ma&&Cr()}verifyOperationInProgress(){}async ba(){let t;do{t=this.fa,await t}while(t!==this.fa)}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then((()=>{this._a.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()}))}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function Jl(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(t)}class Xl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}const Zl=-1;class td extends ql{constructor(t,e){super(t,e),this.type="firestore",this._queue=new Yl,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sd(this),this._firestoreClient.terminate()}}function ed(t,e){const n=(0,r.qX)(t,"firestore");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,o.vZ)(r,e))return t;throw new Or(Rr.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Or(Rr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e})}function nd(t=(0,r.Mq)()){return(0,r.qX)(t,"firestore").getImmediate()}function rd(t){return t._firestoreClient||sd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sd(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new Cl(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new yl(t._credentials,t._queue,r)}function id(t,e){md(t=Fl(t,td));const n=rd(t),r=t._freezeSettings(),s=new ll;return ad(n,s,new ul(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function od(t){md(t=Fl(t,td));const e=rd(t),n=t._freezeSettings(),r=new ll;return ad(e,r,new hl(r,n.cacheSizeBytes))}function ad(t,e,n){const r=new Mr;return t.asyncQueue.enqueue((async()=>{try{await vl(t,n),await wl(t,e),r.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===Rr.FAILED_PRECONDITION||t.code===Rr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.reject(t)}})).then((()=>r.promise))}function cd(t){if(t._initialized&&!t._terminated)throw new Or(Rr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!Ca.bt())return Promise.resolve();const e=t+"main";await Ca.delete(e)}(qc(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function ud(t){return function(t){const e=new Mr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e){const n=Lr(t);Gu(n.remoteStore)||_r("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=Lr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.In.getHighestUnacknowledgedBatchId(t)))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Bo.get(t)||[];r.push(e),n.Bo.set(t,r)}catch(t){const n=dh(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}(await _l(t),e))),e.promise}(rd(t=Fl(t,td)))}function hd(t){return function(t){return t.asyncQueue.enqueue((async()=>{const e=await El(t),n=await Sl(t);return e.setNetworkEnabled(!0),function(t){const e=Lr(t);return e.Kr.delete(0),Vu(e)}(n)}))}(rd(t=Fl(t,td)))}function ld(t){return function(t){return t.asyncQueue.enqueue((async()=>{const e=await El(t),n=await Sl(t);return e.setNetworkEnabled(!1),async function(t){const e=Lr(t);e.Kr.add(0),await Uu(e),e.Wr.set("Offline")}(n)}))}(rd(t=Fl(t,td)))}function dd(t){return(0,r.wN)(t.app,"firestore"),t._delete()}function fd(t,e){const n=rd(t=Fl(t,td)),r=new Xl;return function(t,e,n,r){const s=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new pl(t,e)}(function(t,e){if(t instanceof Uint8Array)return dl(t,e);if(t instanceof ArrayBuffer)return dl(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,ku(e));t.asyncQueue.enqueueAndForget((async()=>{!function(t,e,n){const r=Lr(t);(async function(t,e,n){try{const r=await e.getMetadata();if(await function(t,e){const n=Lr(t),r=xo(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(t=>n.Je.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(r)>=0))}(t.localStore,r))return await e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r));n._updateProgress(Ah(r));const s=new Nh(r,t.localStore,e.N);let i=await e.Qo();for(;i;){const t=await s.fo(i);t&&n._updateProgress(t),i=await e.Qo()}const o=await s.complete();await Wh(t,o.Tn,void 0),await function(t,e){const n=Lr(t);return n.persistence.runTransaction("Save bundle","readwrite",(t=>n.Je.saveBundleMetadata(t,e)))}(t.localStore,r),n._completeWith(o.progress)}catch(t){Ar("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}})(r,e,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await _l(t),s,r)}))}(n,t._databaseId,e,r),r}function pd(t,e){return function(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const n=Lr(t);return n.persistence.runTransaction("Get named query","readonly",(t=>n.Je.getNamedQuery(t,e)))}(await Tl(t),e)))}(rd(t=Fl(t,td)),e).then((e=>e?new Kl(t,null,e.query):null))}function md(t){if(t._initialized||t._terminated)throw new Or(Rr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Or(Rr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function yd(){return new gd("__name__")}class vd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vd(is.fromBase64String(t))}catch(t){throw new Or(Rr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new vd(is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wd{constructor(t){this._methodName=t}}class bd{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Or(Rr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Or(Rr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $r(this._lat,t._lat)||$r(this._long,t._long)}}const Id=/^__.*__$/;class Ed{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ki(t,this.data,this.fieldMask,e,this.fieldTransforms):new ji(t,this.data,e,this.fieldTransforms)}}class Td{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Ki(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Sd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cr()}}class _d{constructor(t,e,n,r,s,i){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Sa(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new _d(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.ka(t),r}$a(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return $d(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(Sd(this.Da)&&Id.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class Nd{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||ku(t)}Ba(t,e,n,r=!1){return new _d({Da:t,methodName:e,La:n,path:ns.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ad(t){const e=t._freezeSettings(),n=ku(t._databaseId);return new Nd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dd(t,e,n,r,s,i={}){const o=t.Ba(i.merge||i.mergeFields?2:0,e,n,s);Bd("Data must be an object, but it was:",o,r);const a=Ud(r,o);let c,u;if(i.merge)c=new rs(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const t=[];for(const r of i.mergeFields){const s=jd(e,r,n);if(!o.contains(s))throw new Or(Rr.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Gd(t,s)||t.push(s)}c=new rs(t),u=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,u=o.fieldTransforms;return new Ed(new xs(a),c,u)}class Cd extends wd{_toFieldTransform(t){if(2!==t.Da)throw 1===t.Da?t.Fa(`${this._methodName}() can only appear at the top level of your update data`):t.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cd}}function kd(t,e,n){return new _d({Da:3,La:e.settings.La,methodName:t._methodName,xa:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class xd extends wd{_toFieldTransform(t){return new Li(t.path,new Si)}isEqual(t){return t instanceof xd}}class Ld extends wd{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=kd(this,t,!0),n=this.Ua.map((t=>Vd(t,e))),r=new _i(n);return new Li(t.path,r)}isEqual(t){return this===t}}class Rd extends wd{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=kd(this,t,!0),n=this.Ua.map((t=>Vd(t,e))),r=new Ai(n);return new Li(t.path,r)}isEqual(t){return this===t}}class Od extends wd{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new Ci(t.N,wi(t.N,this.qa));return new Li(t.path,e)}isEqual(t){return this===t}}function Md(t,e,n,r){const s=t.Ba(1,e,n);Bd("Data must be an object, but it was:",s,r);const i=[],a=xs.empty();Jr(r,((t,r)=>{const c=zd(e,t,n);r=(0,o.m9)(r);const u=s.$a(c);if(r instanceof Cd)i.push(c);else{const t=Vd(r,u);null!=t&&(i.push(c),a.set(c,t))}}));const c=new rs(i);return new Td(a,c,s.fieldTransforms)}function Pd(t,e,n,r,s,i){const a=t.Ba(1,e,n),c=[jd(e,r,n)],u=[s];if(i.length%2!=0)throw new Or(Rr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<i.length;t+=2)c.push(jd(e,i[t])),u.push(i[t+1]);const h=[],l=xs.empty();for(let t=c.length-1;t>=0;--t)if(!Gd(h,c[t])){const e=c[t];let n=u[t];n=(0,o.m9)(n);const r=a.$a(e);if(n instanceof Cd)h.push(e);else{const t=Vd(n,r);null!=t&&(h.push(e),l.set(e,t))}}const d=new rs(h);return new Td(l,d,a.fieldTransforms)}function Fd(t,e,n,r=!1){return Vd(n,t.Ba(r?4:3,e))}function Vd(t,e){if(qd(t=(0,o.m9)(t)))return Bd("Unsupported field value:",e,t),Ud(t,e);if(t instanceof wd)return function(t,e){if(!Sd(e.Da))throw e.Fa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Fa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const s of t){let t=Vd(s,e.Oa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wi(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Qr.fromDate(t);return{timestampValue:Do(e.N,n)}}if(t instanceof Qr){const n=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Do(e.N,n)}}if(t instanceof bd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vd)return{bytesValue:Co(e.N,t._byteString)};if(t instanceof jl){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Lo(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Fa(`Unsupported field value: ${Pl(t)}`)}(t,e)}function Ud(t,e){const n={};return Xr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,((t,r)=>{const s=Vd(r,e.Na(t));null!=s&&(n[t]=s)})),{mapValue:{fields:n}}}function qd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qr||t instanceof bd||t instanceof vd||t instanceof jl||t instanceof wd)}function Bd(t,e,n){if(!qd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Pl(n);throw"an object"===r?e.Fa(t+" a custom object"):e.Fa(t+" "+r)}}function jd(t,e,n){if((e=(0,o.m9)(e))instanceof gd)return e._internalPath;if("string"==typeof e)return zd(t,e);throw $d("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Kd=new RegExp("[~\\*/\\[\\]]");function zd(t,e,n){if(e.search(Kd)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch(r){throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Or(Rr.INVALID_ARGUMENT,a+t+c)}function Gd(t,e){return t.some((t=>t.isEqual(e)))}class Hd{constructor(t,e,n,r,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Wd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Qd extends Hd{data(){return super.data()}}function Wd(t,e){return"string"==typeof e?zd(t,e):e instanceof gd?e._internalPath:e._delegate._internalPath}class Yd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jd extends Hd{constructor(t,e,n,r,s,i){super(t,e,n,r,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Xd extends Jd{data(t={}){return super.data(t)}}class Zd{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Yd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Xd(this._firestore,this._userDataWriter,n.key,n,new Yd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Or(Rr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new Xd(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Yd(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Xd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Yd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let s=-1,i=-1;return 0!==e.type&&(s=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),i=n.indexOf(e.doc.key)),{type:tf(e.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cr()}}function ef(t,e){return t instanceof Jd&&e instanceof Jd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Zd&&e instanceof Zd&&t._firestore===e._firestore&&Wl(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function nf(t){if(si(t)&&0===t.explicitOrderBy.length)throw new Or(Rr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rf{}function sf(t,...e){for(const n of e)t=n._apply(t);return t}class of extends rf{constructor(t,e,n){super(),this.Ka=t,this.ja=e,this.Qa=n,this.type="where"}_apply(t){const e=Ad(t.firestore),n=function(t,e,n,r,s,i,o){let a;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Or(Rr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on FieldPath.documentId().`);if("in"===i||"not-in"===i){If(o,i);const e=[];for(const n of o)e.push(bf(r,t,n));a={arrayValue:{values:e}}}else a=bf(r,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||If(o,i),a=Fd(n,"where",o,"in"===i||"not-in"===i);const c=Us.create(s,i,a);return function(t,e){if(e.v()){const n=oi(t);if(null!==n&&!n.isEqual(e.field))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=ii(t);null!==r&&Ef(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Or(Rr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Or(Rr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Kl(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function af(t,e,n){const r=e,s=Wd("where",t);return new of(s,r,n)}class cf extends rf{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Or(Rr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Or(Rr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ys(e,n);return function(t,e){if(null===ii(t)){const n=oi(t);null!==n&&Ef(0,n,e.field)}}(t,r),r}(t._query,this.Ka,this.Wa);return new Kl(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new ti(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function uf(t,e="asc"){const n=e,r=Wd("orderBy",t);return new cf(r,n)}class hf extends rf{constructor(t,e,n){super(),this.type=t,this.Ga=e,this.za=n}_apply(t){return new Kl(t.firestore,t.converter,hi(t._query,this.Ga,this.za))}}function lf(t){return Vl("limit",t),new hf("limit",t,"F")}function df(t){return Vl("limitToLast",t),new hf("limitToLast",t,"L")}class ff extends rf{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=wf(t,this.type,this.Ha,this.Ja);return new Kl(t.firestore,t.converter,function(t,e){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function pf(...t){return new ff("startAt",t,!0)}function mf(...t){return new ff("startAfter",t,!1)}class gf extends rf{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=wf(t,this.type,this.Ha,this.Ja);return new Kl(t.firestore,t.converter,function(t,e){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function yf(...t){return new gf("endBefore",t,!0)}function vf(...t){return new gf("endAt",t,!1)}function wf(t,e,n,r){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof Hd)return function(t,e,n,r,s){if(!r)throw new Or(Rr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const n of ci(t))if(n.field.isKeyField())i.push(Ss(e,r.key));else{const t=r.data.field(n.field);if(hs(t))throw new Or(Rr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=n.field.canonicalString();throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}i.push(t)}return new Qs(i,s)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Ad(t.firestore);return function(t,e,n,r,s,i){const o=t.explicitOrderBy;if(s.length>o.length)throw new Or(Rr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let i=0;i<s.length;i++){const c=s[i];if(o[i].field.isKeyField()){if("string"!=typeof c)throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!ai(t)&&-1!==c.indexOf("/"))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=t.path.child(ts.fromString(c));if(!gs.isDocumentKey(n))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new gs(n);a.push(Ss(e,s))}else{const t=Fd(n,r,c);a.push(t)}}return new Qs(a,i)}(t._query,t.firestore._databaseId,s,e,n,r)}}function bf(t,e,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new Or(Rr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ai(e)&&-1!==n.indexOf("/"))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ts.fromString(n));if(!gs.isDocumentKey(r))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ss(t,new gs(r))}if(n instanceof jl)return Ss(t,n._key);throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pl(n)}.`)}function If(t,e){if(!Array.isArray(t)||0===t.length)throw new Or(Rr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Or(Rr.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ef(t,e,n){if(!n.isEqual(e))throw new Or(Rr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Tf{convertValue(t,e="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return cs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Cr()}}convertObject(t,e){const n={};return Jr(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new bd(cs(t.latitude),cs(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ls(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ds(t));default:return null}}convertTimestamp(t){const e=as(t);return new Qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ts.fromString(t);kr(ra(n));const r=new kl(n.get(1),n.get(3)),s=new gs(n.popFirst(5));return r.isEqual(e)||Nr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function Sf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _f extends Tf{constructor(t){super(),this.firestore=t}convertBytes(t){return new vd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new jl(this.firestore,null,e)}}class Nf{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ad(t)}set(t,e,n){this._verifyNotCommitted();const r=Af(t,this._firestore),s=Sf(r.converter,e,n),i=Dd(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Oi.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const s=Af(t,this._firestore);let i;return i="string"==typeof(e=(0,o.m9)(e))||e instanceof gd?Pd(this._dataReader,"WriteBatch.update",s._key,e,n,r):Md(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(i.toMutation(s._key,Oi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Af(t,this._firestore);return this._mutations=this._mutations.concat(new Hi(e._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Or(Rr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(t,e){if((t=(0,o.m9)(t)).firestore!==e)throw new Or(Rr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Df(t){t=Fl(t,jl);const e=Fl(t.firestore,td);return Al(rd(e),t._key).then((n=>jf(e,t,n)))}class Cf extends Tf{constructor(t){super(),this.firestore=t}convertBytes(t){return new vd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new jl(this.firestore,null,e)}}function kf(t){t=Fl(t,jl);const e=Fl(t.firestore,td),n=rd(e),r=new Cf(e);return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await function(t,e){const n=Lr(t);return n.persistence.runTransaction("read document","readonly",(t=>n.Qn.An(t,e)))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Or(Rr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const r=dh(t,`Failed to get document '${e} from cache`);n.reject(r)}}(await Tl(t),e,n))),n.promise}(n,t._key).then((n=>new Jd(e,r,t._key,n,new Yd(null!==n&&n.hasLocalMutations,!0),t.converter)))}function xf(t){t=Fl(t,jl);const e=Fl(t.firestore,td);return Al(rd(e),t._key,{source:"server"}).then((n=>jf(e,t,n)))}function Lf(t){t=Fl(t,Kl);const e=Fl(t.firestore,td),n=rd(e),r=new Cf(e);return nf(t._query),Dl(n,t._query).then((n=>new Zd(e,r,t,n)))}function Rf(t){t=Fl(t,Kl);const e=Fl(t.firestore,td),n=rd(e),r=new Cf(e);return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await Zc(t,e,!0),s=new kh(e,r.Gn),i=s.Io(r.documents),o=s.applyChanges(i,!1);n.resolve(o.snapshot)}catch(t){const r=dh(t,`Failed to execute query '${e} against cache`);n.reject(r)}}(await Tl(t),e,n))),n.promise}(n,t._query).then((n=>new Zd(e,r,t,n)))}function Of(t){t=Fl(t,Kl);const e=Fl(t.firestore,td),n=rd(e),r=new Cf(e);return Dl(n,t._query,{source:"server"}).then((n=>new Zd(e,r,t,n)))}function Mf(t,e,n){t=Fl(t,jl);const r=Fl(t.firestore,td),s=Sf(t.converter,e,n);return Bf(r,[Dd(Ad(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,Oi.none())])}function Pf(t,e,n,...r){t=Fl(t,jl);const s=Fl(t.firestore,td),i=Ad(s);let a;return a="string"==typeof(e=(0,o.m9)(e))||e instanceof gd?Pd(i,"updateDoc",t._key,e,n,r):Md(i,"updateDoc",t._key,e),Bf(s,[a.toMutation(t._key,Oi.exists(!0))])}function Ff(t){return Bf(Fl(t.firestore,td),[new Hi(t._key,Oi.none())])}function Vf(t,e){const n=Fl(t.firestore,td),r=Hl(t),s=Sf(t.converter,e);return Bf(n,[Dd(Ad(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,Oi.exists(!1))]).then((()=>r))}function Uf(t,...e){var n,r,s;t=(0,o.m9)(t);let i={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||Jl(e[a])||(i=e[a],a++);const c={includeMetadataChanges:i.includeMetadataChanges};if(Jl(e[a])){const t=e[a];e[a]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[a+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[a+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}let u,h,l;if(t instanceof jl)h=Fl(t.firestore,td),l=ni(t._key.path),u={next:n=>{e[a]&&e[a](jf(h,t,n))},error:e[a+1],complete:e[a+2]};else{const n=Fl(t,Kl);h=Fl(n.firestore,td),l=n._query;const r=new Cf(h);u={next:t=>{e[a]&&e[a](new Zd(h,r,n,t))},error:e[a+1],complete:e[a+2]},nf(t._query)}return function(t,e,n,r){const s=new fl(r),i=new Th(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>vh(await Nl(t),i))),()=>{s.Xo(),t.asyncQueue.enqueueAndForget((async()=>wh(await Nl(t),i)))}}(rd(h),l,c,u)}function qf(t,e){return function(t,e){const n=new fl(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){Lr(t).Zr.add(e),e.next()}(await Nl(t),n))),()=>{n.Xo(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){Lr(t).Zr.delete(e)}(await Nl(t),n)))}}(rd(t=Fl(t,td)),Jl(e)?e:{next:e})}function Bf(t,e){return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=al(t);try{const t=await function(t,e){const n=Lr(t),r=Qr.now(),s=e.reduce(((t,e)=>t.add(e.key)),fo());let i;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.Qn.Pn(t,s).next((s=>{i=s;const o=[];for(const t of e){const e=Ui(t,i.get(t.key));null!=e&&o.push(new Ki(t.key,e,Ls(e.value.mapValue),Oi.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})))).then((t=>(t.applyToLocalDocumentSet(i),{batchId:t.batchId,changes:i})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Lo[t.currentUser.toKey()];r||(r=new to($r)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,t.batchId,n),await Wh(r,t.changes),await Zu(r.remoteStore)}catch(t){const e=dh(t,"Failed to persist write");n.reject(e)}}(await _l(t),e,n))),n.promise}(rd(t),e)}function jf(t,e,n){const r=n.docs.get(e._key),s=new Cf(t);return new Jd(t,s,e._key,r,new Yd(n.hasPendingWrites,n.fromCache),e.converter)}class Kf extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ad(t)}get(t){const e=Af(t,this._firestore),n=new _f(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return Cr();const r=t[0];if(r.isFoundDocument())return new Hd(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new Hd(this._firestore,n,e._key,null,e.converter);throw Cr()}))}set(t,e,n){const r=Af(t,this._firestore),s=Sf(r.converter,e,n),i=Dd(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(t,e,n,...r){const s=Af(t,this._firestore);let i;return i="string"==typeof(e=(0,o.m9)(e))||e instanceof gd?Pd(this._dataReader,"Transaction.update",s._key,e,n,r):Md(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,i),this}delete(t){const e=Af(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Af(t,this._firestore),n=new Cf(this._firestore);return super.get(t).then((t=>new Jd(this._firestore,n,e._key,t._document,new Yd(!1,!1),e.converter)))}}function zf(t,e){return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((async()=>{const r=await function(t){return Il(t).then((t=>t.datastore))}(t);new gl(t.asyncQueue,r,e,n).run()})),n.promise}(rd(t),(n=>e(new Kf(t,n))))}function $f(){return new Cd("deleteField")}function Gf(){return new xd("serverTimestamp")}function Hf(...t){return new Ld("arrayUnion",t)}function Qf(...t){return new Rd("arrayRemove",t)}function Wf(t){return new Od("increment",t)}function Yf(t){return rd(t=Fl(t,td)),new Nf(t,(e=>Bf(t,e)))}!function(t){Ir=t}(r.Jn),(0,r.Xd)(new s.wA("firestore",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=new td(n,new Ur(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r}),"PUBLIC")),(0,r.KN)("@firebase/firestore","3.0.2",void 0)},327:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,s){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,s,(e=t[n](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.AppFireStoreStorage=void 0;var o=n(503),a=n(956),c=n(956),u=n(518),h=function(){function t(){this.firebaseConfig={apiKey:"AIzaSyC21XhRttz95nbr-vOikJxVhlzOcB4rPTY",authDomain:"notekeep-a35d2.firebaseapp.com",projectId:"notekeep-a35d2",storageBucket:"notekeep-a35d2.appspot.com",messagingSenderId:"12311041099",appId:"1:12311041099:web:6c24f6e9e1e4c4bd4ce9ce",measurementId:"G-J8NLNTKFQ2"},this.notatki="Notatki",(0,o.initializeApp)(this.firebaseConfig),this.db=(0,a.getFirestore)()}return t.prototype.saveNotes=function(t){var e,n,o,a;return r(this,void 0,void 0,(function(){var r,u,h,l;return s(this,(function(s){switch(s.label){case 0:console.log("test"),s.label=1;case 1:s.trys.push([1,15,,16]),s.label=2;case 2:s.trys.push([2,8,9,14]),e=i(t),s.label=3;case 3:return[4,e.next()];case 4:return(n=s.sent()).done?[3,7]:(r=n.value,[4,(0,c.addDoc)((0,c.collection)(this.db,this.notatki),{id:r.id,title:r.title,textContent:r.textContent,color:r.color,isPinned:r.isPinned,date:r.date})]);case 5:u=s.sent(),console.log("Document written with ID: ",u.id),s.label=6;case 6:return[3,3];case 7:return[3,14];case 8:return h=s.sent(),o={error:h},[3,14];case 9:return s.trys.push([9,,12,13]),n&&!n.done&&(a=e.return)?[4,a.call(e)]:[3,11];case 10:s.sent(),s.label=11;case 11:return[3,13];case 12:if(o)throw o.error;return[7];case 13:return[7];case 14:return[3,16];case 15:return l=s.sent(),console.error("Error adding document: ",l),[3,16];case 16:return[2]}}))}))},t.prototype.getNotes=function(){return r(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,(0,a.getDocs)((0,c.collection)(this.db,this.notatki))];case 1:return t=n.sent(),e=[],t.forEach((function(t){console.log(),e.push(new u.Note(t.id,t.data().title,t.data().textContent,t.data().color,t.data().isPinned))})),[2,e]}}))}))},t.prototype.removeNote=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,(0,a.deleteDoc)((0,a.doc)(this.db,this.notatki,t)).then((function(t){console.log(t)}))];case 1:return e.sent(),[2]}}))}))},t.prototype.add=function(t){return r(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,c.addDoc)((0,c.collection)(this.db,this.notatki),{id:t.id,title:t.title,textContent:t.textContent,color:t.color,isPinned:t.isPinned,date:t.date})];case 1:return e=r.sent(),console.log("Document written with ID: ",e.id),[3,3];case 2:return n=r.sent(),console.error(n),[3,3];case 3:return[2]}}))}))},t.prototype.update=function(t,e){return r(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return console.log(t),n=(0,a.doc)(this.db,this.notatki,t),[4,(0,a.updateDoc)(n,{id:e.id,title:e.title,textContent:e.textContent,color:e.color,isPinned:e.isPinned,date:e.date})];case 1:return r.sent(),[2]}}))}))},t}();e.AppFireStoreStorage=h},171:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AppStorage=void 0;var n=function(){function t(){}return t.prototype.saveNotes=function(t){t.forEach((function(t){localStorage.setItem("Notatka"+t.id,JSON.stringify(t))}))},t.prototype.getNotes=function(){return new Promise((function(t,e){t(Object.keys(localStorage).filter((function(t){return t.startsWith("Notatka")})).map((function(t){return JSON.parse(localStorage[t])})))}))},t.prototype.removeNote=function(t){localStorage.removeItem("Notatka"+t)},t.prototype.add=function(){},t.prototype.update=function(t,e){console.log("Notatka"+t),console.log(e),localStorage.setItem("Notatka"+t,JSON.stringify(e))},t}();e.AppStorage=n},518:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;e.Note=function(t,e,n,r,s){this.id=t,this.title=e,this.textContent=n,this.color=r,this.isPinned=s,this.date=new Date}},911:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Notes=void 0;var i=n(327),o=n(171),a=n(913),c=n(518),u=function(){function t(t){this.notatki=[],this.ui=t,new c.Note("1","Tytu","textContent","#ffffff",!0),new c.Note("2","Tytu","textContent","#ffffff",!1),console.log(a.locationOfSaving),"firestore"===a.locationOfSaving?this.storage=new i.AppFireStoreStorage:this.storage=new o.AppStorage,this.getNotes()}return t.prototype.getNotes=function(){return r(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return[4,this.storage.getNotes().then((function(e){e.forEach((function(e){return t.notatki.push(e)})),console.log(t.notatki),t.ui.renderNotes(e)}))];case 1:return e.sent(),this.removeButtonsEvent(),this.createNote(),this.updateNote(),[2]}}))}))},t.prototype.deleteNotes=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(e){return this.notatki=this.notatki.filter((function(e){return e.id!==t})),console.log(this.notatki),this.storage.removeNote(t),[2]}))}))},t.prototype.add=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(e){return this.storage.add(t),[2]}))}))},t.prototype.update=function(t){return r(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){return"local"===a.locationOfSaving?(e=this.notatki.find((function(e){return e.id===t})).id,this.notatki[+e].isPinned=!this.notatki[+e].isPinned,this.storage.update(t,this.notatki[+e])):(n=this.notatki.find((function(e){return e.id.toString()==t})),console.log(n),n.isPinned=!n.isPinned,console.log(n),this.storage.update(t,n)),[2]}))}))},t.prototype.createNote=function(){var t=this;document.getElementById("accept").addEventListener("click",(function(){var e=document.getElementById("title"),n=document.getElementById("content"),r=document.getElementById("color"),s=new c.Note(t.notatki.length.toString(),e.value,n.value,r.value,!1);t.notatki.push(s),t.ui.renderNotes(t.notatki),t.storage.add(s),t.removeButtonsEvent(),t.updateNote()}))},t.prototype.updateNote=function(){var t=this;document.querySelectorAll(".repin-button").forEach((function(e){e.addEventListener("click",(function(){var n=document.getElementById(e.parentElement.id);if("unpin"==n.className){var r=document.getElementById("pinned");n.className="pin",r.insertBefore(n,null)}else{var s=document.getElementById("unpinned");n.className="unpin",s.insertBefore(n,null)}t.update(e.parentElement.id)}))}))},t.prototype.removeButtonsEvent=function(){var t=this;document.querySelectorAll(".remove-button").forEach((function(e){e.addEventListener("click",(function(){document.getElementById(e.parentElement.id).remove(),t.deleteNotes(e.parentElement.id)}))}))},t}();e.Notes=u},913:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.locationOfSaving=void 0,e.locationOfSaving="firestore"},380:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.userInterface=void 0;var n=function(){function t(){}return t.prototype.renderNotes=function(t){document.getElementById("pinned").innerHTML="",document.getElementById("unpinned").innerHTML="",t.forEach((function(t){var e=document.getElementById(t.isPinned?"pinned":"unpinned"),n=document.createElement("div"),r=document.createElement("h1"),s=document.createElement("p"),i=document.createElement("button"),o=document.createElement("button");n.id=t.id,n.className=t.isPinned?"pin":"unpin",n.style.margin="1em",n.style.backgroundColor=t.color,n.style.height="10em",n.style.width="20em",n.style.borderRadius="10%",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center",r.textContent=t.title,n.appendChild(r),s.textContent=t.textContent,s.style.margin="0",n.appendChild(s),i.className="remove-button",i.textContent="remove",o.className="repin-button",o.textContent="repin",n.appendChild(i),n.appendChild(o),e.appendChild(n)}))},t}();e.userInterface=n},655:(t,e,n)=>{n.d(e,{ZT:()=>s,pi:()=>i,mG:()=>o,Jh:()=>a,XA:()=>c,CR:()=>u,ev:()=>h});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},i.apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,s,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){s={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function h(t,e,n){if(n||2===arguments.length)for(var r,s=0,i=e.length;s<i;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create}},r={};function s(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t].call(i.exports,i,i.exports,s),i.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=s(911),e=s(380),new function(){this.ui=new e.userInterface,this.notes=new t.Notes(this.ui)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ0MsT0FBT2xaLE1BQVEsSUFBSWlhLFNBQVMsY0FBYixHQUNkLE1BQU92WSxHQUNSLEdBQXNCLGlCQUFYNlEsT0FBcUIsT0FBT0EsUUFMakIsR0NBeEIwc0QsRUFBb0JwbUQsRUFBSSxDQUFDZixFQUFLMG5ELElBQVV2OEQsT0FBT2dELFVBQVUwUyxlQUFlblEsS0FBS3NQLEVBQUswbkQsR0NDbEZQLEVBQW9CeDBELEVBQUsyMEQsSUFDSCxvQkFBWHRtRCxRQUEwQkEsT0FBTzJtRCxhQUMxQ3g4RCxPQUFPcUosZUFBZTh5RCxFQUFTdG1ELE9BQU8ybUQsWUFBYSxDQUFFdDNELE1BQU8sV0FFN0RsRixPQUFPcUosZUFBZTh5RCxFQUFTLGFBQWMsQ0FBRWozRCxPQUFPLEtuQkZ2RCxTQUNBLFNBOEZZLElBVlIsV0FFSW5JLEtBQUt3MUMsR0FBSyxJQUFJLEVBQUF5bUIsY0FDZGo4RCxLQUFLeTZELE1BQVEsSUFBSSxFQUFBd0MsTUFBTWo5RCxLQUFLdzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90ZWtlZXAvLi9zcmMvQXBwLnRzIiwid2VicGFjazovL25vdGVrZWVwLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL25vdGVrZWVwLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvZmlyZXN0b3JlL2Rpc3QvaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL3NyYy9BcHBGaXJlU3RvcmVTdG9yYWdlLnRzIiwid2VicGFjazovL25vdGVrZWVwLy4vc3JjL0FwcFN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvLi9zcmMvTm90ZS50cyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL3NyYy9Ob3Rlcy50cyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvLi9zcmMvdXNlckludGVyZmFjZS50cyIsIndlYnBhY2s6Ly9ub3Rla2VlcC8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL25vdGVrZWVwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbm90ZWtlZXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9ub3Rla2VlcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIC8vIGltcG9ydCB7IElXZWF0aGVyRGF0YSB9IGZyb20gJy4vaW50ZXJmYWNlJztcclxuLy8gaW1wb3J0IHsgdXNlckludGVyZmFjZSB9IGZyb20gJy4vdWknO1xyXG5cclxuaW1wb3J0IHsgTm90ZXMgfSBmcm9tIFwiLi9Ob3Rlc1wiO1xyXG5pbXBvcnQgeyB1c2VySW50ZXJmYWNlIH0gZnJvbSBcIi4vdXNlckludGVyZmFjZVwiO1xyXG5cclxuLy8gZXhwb3J0IGNsYXNzIEFwcCB7XHJcbi8vICAgICBvcHdBcGlLZXkgPSAnYzc1ZDNjOGI3MTcwMzhmYWFhYmY3NWMzZTkyNDgzMDQnO1xyXG4vLyAgICAgYWRkQ2l0eUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbi8vICAgICBjaXR5SW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbi8vICAgICB1aTogdXNlckludGVyZmFjZTtcclxuXHJcbi8vICAgICBjb25zdHJ1Y3Rvcih1aTogdXNlckludGVyZmFjZSkge1xyXG4vLyAgICAgICAgIHRoaXMuZ2V0SW5wdXRCdG4oKTtcclxuLy8gICAgICAgICB0aGlzLmdldENpdHlEYXRhKCk7XHJcbi8vICAgICAgICAgdGhpcy5nZXRXZWF0aGVyQWxsQ2l0aWVzKCk7XHJcbi8vICAgICAgICAgdGhpcy51aSA9IHVpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGdldElucHV0QnRuKCkge1xyXG4vLyAgICAgICAgIHRoaXMuY2l0eUlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaXR5SW5wdXRcIik7XHJcbi8vICAgICAgICAgdGhpcy5hZGRDaXR5QnRuID0gPEhUTUxCdXR0b25FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2l0eUFkZEJ1dHRvblwiKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBnZXRDaXR5RGF0YSgpIHtcclxuLy8gICAgICAgICB0aGlzLmFkZENpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuLy8gICAgICAgICAgICAgY29uc3QgY2l0eSA9IGF3YWl0IHRoaXMuZ2V0Q2l0eUluZm8odGhpcy5jaXR5SW5wdXQudmFsdWUpO1xyXG4vLyAgICAgICAgICAgICBpZiAoY2l0eS5jb2QgPT09IDIwMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgbGV0IGlzQWRkZWQgPSB0aGlzLnNhdmVDaXRpZXMoY2l0eS5uYW1lKTtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChpc0FkZGVkKVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMudWkucmVuZGVyV2VhdGhlckVsZW1lbnQoY2l0eSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJUYWtpZWdvIG1pYXN0YSBuaWUgbWEgbmEgxZt3aWVjaWUhXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgZ2V0V2VhdGhlckFsbENpdGllcygpIHtcclxuLy8gICAgICAgICBsZXQgY2l0eTogc3RyaW5nW10gPSB0aGlzLmdldERhdGEoKTtcclxuLy8gICAgICAgICBjaXR5LmZvckVhY2goYXN5bmMgKGVsZW1lbnQpID0+IHtcclxuLy8gICAgICAgICAgICAgbGV0IGluZm8gPSBhd2FpdCB0aGlzLmdldENpdHlJbmZvKGVsZW1lbnQpO1xyXG4vLyAgICAgICAgICAgICBpZiAoaW5mby5jb2QgPT09IDIwMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mbyk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnVpLnJlbmRlcldlYXRoZXJFbGVtZW50KGluZm8pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSlcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzYXZlQ2l0aWVzKGNpdHk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4vLyAgICAgICAgIGxldCBleGlzdGluZ0NpdGllcyA9IHRoaXMuZ2V0RGF0YSgpO1xyXG4vLyAgICAgICAgIGlmICghZXhpc3RpbmdDaXRpZXMuaW5jbHVkZXMoY2l0eSkpIHtcclxuLy8gICAgICAgICAgICAgZXhpc3RpbmdDaXRpZXMucHVzaChjaXR5KTtcclxuLy8gICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NpdGllcycsIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nQ2l0aWVzKSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiVG8gbWlhc3RvIGp1xbwgamVzdCFcIik7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgYXN5bmMgZ2V0Q2l0eUluZm8oY2l0eTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgY29uc3Qgd2VhdGhlciA9IGF3YWl0IHRoaXMuZ2V0V2VhdGhlcihjaXR5KTtcclxuLy8gICAgICAgICByZXR1cm4gd2VhdGhlcjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBhc3luYyBnZXRXZWF0aGVyKGNpdHk6IHN0cmluZyk6IFByb21pc2U8SVdlYXRoZXJEYXRhPiB7XHJcbi8vICAgICAgICAgY29uc3Qgb3BlbldlYXRoZXJVcmwgPSBgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eX0mQVBQSUQ9JHt0aGlzLm9wd0FwaUtleX0mdW5pdHM9bWV0cmljYDtcclxuLy8gICAgICAgICBjb25zdCB3ZWF0aGVyUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChvcGVuV2VhdGhlclVybCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2VhdGhlckRhdGE6IElXZWF0aGVyRGF0YSA9IGF3YWl0IHdlYXRoZXJSZXNwb25zZS5qc29uKCk7XHJcbi8vICAgICAgICAgcmV0dXJuIHdlYXRoZXJEYXRhO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGdldERhdGEoKSB7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXRpZXMnKTtcclxuLy8gICAgICAgICBpZiAoZGF0YSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gW107XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBub3RlczogTm90ZXNcclxuICAgIHVpOiB1c2VySW50ZXJmYWNlXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy51aSA9IG5ldyB1c2VySW50ZXJmYWNlKCk7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5ldyBOb3Rlcyh0aGlzLnVpKVxyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50Q29udGFpbmVyIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBMb2dnZXIsIHNldFVzZXJMb2dIYW5kbGVyLCBzZXRMb2dMZXZlbCBhcyBzZXRMb2dMZXZlbCQxIH0gZnJvbSAnQGZpcmViYXNlL2xvZ2dlcic7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIGRlZXBFcXVhbCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmV4cG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBpbml0aWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJ5IGluc3RhbGxhdGlvbnMgb25cclxuICAgIC8vIGF1dGggdG9rZW4gcmVmcmVzaCwgYW5kIGluc3RhbGxhdGlvbnMgd2lsbCBzZW5kIHRoaXMgc3RyaW5nLlxyXG4gICAgZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCkge1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpO1xyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBwcm92aWRlcnMgYW5kIGdldCBsaWJyYXJ5L3ZlcnNpb24gcGFpcnMgZnJvbSBhbnkgdGhhdCBhcmVcclxuICAgICAgICAvLyB2ZXJzaW9uIGNvbXBvbmVudHMuXHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyc1xyXG4gICAgICAgICAgICAubWFwKHByb3ZpZGVyID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSBwcm92aWRlci5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtzZXJ2aWNlLmxpYnJhcnl9LyR7c2VydmljZS52ZXJzaW9ufWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIobG9nU3RyaW5nID0+IGxvZ1N0cmluZylcclxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHByb3ZpZGVyIGNoZWNrIGlmIHRoaXMgcHJvdmlkZXIgcHJvdmlkZXMgYSBWZXJzaW9uU2VydmljZVxyXG4gKlxyXG4gKiBOT1RFOiBVc2luZyBQcm92aWRlcjwnYXBwLXZlcnNpb24nPiBpcyBhIGhhY2sgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcHJvdmlkZXJcclxuICogcHJvdmlkZXMgVmVyc2lvblNlcnZpY2UuIFRoZSBwcm92aWRlciBpcyBub3QgbmVjZXNzYXJpbHkgYSAnYXBwLXZlcnNpb24nXHJcbiAqIHByb3ZpZGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSB7XHJcbiAgICBjb25zdCBjb21wb25lbnQgPSBwcm92aWRlci5nZXRDb21wb25lbnQoKTtcclxuICAgIHJldHVybiAoY29tcG9uZW50ID09PSBudWxsIHx8IGNvbXBvbmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50LnR5cGUpID09PSBcIlZFUlNJT05cIiAvKiBWRVJTSU9OICovO1xyXG59XG5cbmNvbnN0IG5hbWUkbyA9IFwiQGZpcmViYXNlL2FwcFwiO1xuY29uc3QgdmVyc2lvbiQxID0gXCIwLjcuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdAZmlyZWJhc2UvYXBwJyk7XG5cbmNvbnN0IG5hbWUkbiA9IFwiQGZpcmViYXNlL2FwcC1jb21wYXRcIjtcblxuY29uc3QgbmFtZSRtID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGwgPSBcIkBmaXJlYmFzZS9hbmFseXRpY3NcIjtcblxuY29uc3QgbmFtZSRrID0gXCJAZmlyZWJhc2UvYXBwLWNoZWNrLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGogPSBcIkBmaXJlYmFzZS9hcHAtY2hlY2tcIjtcblxuY29uc3QgbmFtZSRpID0gXCJAZmlyZWJhc2UvYXV0aFwiO1xuXG5jb25zdCBuYW1lJGggPSBcIkBmaXJlYmFzZS9hdXRoLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGcgPSBcIkBmaXJlYmFzZS9kYXRhYmFzZVwiO1xuXG5jb25zdCBuYW1lJGYgPSBcIkBmaXJlYmFzZS9kYXRhYmFzZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSRlID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zXCI7XG5cbmNvbnN0IG5hbWUkZCA9IFwiQGZpcmViYXNlL2Z1bmN0aW9ucy1jb21wYXRcIjtcblxuY29uc3QgbmFtZSRjID0gXCJAZmlyZWJhc2UvaW5zdGFsbGF0aW9uc1wiO1xuXG5jb25zdCBuYW1lJGIgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGEgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmdcIjtcblxuY29uc3QgbmFtZSQ5ID0gXCJAZmlyZWJhc2UvbWVzc2FnaW5nLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJDggPSBcIkBmaXJlYmFzZS9wZXJmb3JtYW5jZVwiO1xuXG5jb25zdCBuYW1lJDcgPSBcIkBmaXJlYmFzZS9wZXJmb3JtYW5jZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSQ2ID0gXCJAZmlyZWJhc2UvcmVtb3RlLWNvbmZpZ1wiO1xuXG5jb25zdCBuYW1lJDUgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJDQgPSBcIkBmaXJlYmFzZS9zdG9yYWdlXCI7XG5cbmNvbnN0IG5hbWUkMyA9IFwiQGZpcmViYXNlL3N0b3JhZ2UtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkMiA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG5jb25zdCBuYW1lJDEgPSBcIkBmaXJlYmFzZS9maXJlc3RvcmUtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUgPSBcImZpcmViYXNlXCI7XG5jb25zdCB2ZXJzaW9uID0gXCI5LjAuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcclxuY29uc3QgUExBVEZPUk1fTE9HX1NUUklORyA9IHtcclxuICAgIFtuYW1lJG9dOiAnZmlyZS1jb3JlJyxcclxuICAgIFtuYW1lJG5dOiAnZmlyZS1jb3JlLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRsXTogJ2ZpcmUtYW5hbHl0aWNzJyxcclxuICAgIFtuYW1lJG1dOiAnZmlyZS1hbmFseXRpY3MtY29tcGF0JyxcclxuICAgIFtuYW1lJGpdOiAnZmlyZS1hcHAtY2hlY2snLFxyXG4gICAgW25hbWUka106ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxyXG4gICAgW25hbWUkaV06ICdmaXJlLWF1dGgnLFxyXG4gICAgW25hbWUkaF06ICdmaXJlLWF1dGgtY29tcGF0JyxcclxuICAgIFtuYW1lJGddOiAnZmlyZS1ydGRiJyxcclxuICAgIFtuYW1lJGZdOiAnZmlyZS1ydGRiLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRlXTogJ2ZpcmUtZm4nLFxyXG4gICAgW25hbWUkZF06ICdmaXJlLWZuLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRjXTogJ2ZpcmUtaWlkJyxcclxuICAgIFtuYW1lJGJdOiAnZmlyZS1paWQtY29tcGF0JyxcclxuICAgIFtuYW1lJGFdOiAnZmlyZS1mY20nLFxyXG4gICAgW25hbWUkOV06ICdmaXJlLWZjbS1jb21wYXQnLFxyXG4gICAgW25hbWUkOF06ICdmaXJlLXBlcmYnLFxyXG4gICAgW25hbWUkN106ICdmaXJlLXBlcmYtY29tcGF0JyxcclxuICAgIFtuYW1lJDZdOiAnZmlyZS1yYycsXHJcbiAgICBbbmFtZSQ1XTogJ2ZpcmUtcmMtY29tcGF0JyxcclxuICAgIFtuYW1lJDRdOiAnZmlyZS1nY3MnLFxyXG4gICAgW25hbWUkM106ICdmaXJlLWdjcy1jb21wYXQnLFxyXG4gICAgW25hbWUkMl06ICdmaXJlLWZzdCcsXHJcbiAgICBbbmFtZSQxXTogJ2ZpcmUtZnN0LWNvbXBhdCcsXHJcbiAgICAnZmlyZS1qcyc6ICdmaXJlLWpzJyxcclxuICAgIFtuYW1lXTogJ2ZpcmUtanMtYWxsJ1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBfYXBwcyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJlZ2lzdGVyZWQgY29tcG9uZW50cy5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5jb25zdCBfY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIEBwYXJhbSBjb21wb25lbnQgLSB0aGUgY29tcG9uZW50IGJlaW5nIGFkZGVkIHRvIHRoaXMgYXBwJ3MgY29udGFpbmVyXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhcHAuY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2dnZXIuZGVidWcoYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmYWlsZWQgdG8gcmVnaXN0ZXIgd2l0aCBGaXJlYmFzZUFwcCAke2FwcC5uYW1lfWAsIGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgYXBwLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCB0byByZWdpc3RlclxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX3JlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xyXG4gICAgaWYgKF9jb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgVGhlcmUgd2VyZSBtdWx0aXBsZSBhdHRlbXB0cyB0byByZWdpc3RlciBjb21wb25lbnQgJHtjb21wb25lbnROYW1lfS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgIC8vIGFkZCB0aGUgY29tcG9uZW50IHRvIGV4aXN0aW5nIGFwcCBpbnN0YW5jZXNcclxuICAgIGZvciAoY29uc3QgYXBwIG9mIF9hcHBzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGFwcCAtIEZpcmViYXNlQXBwIGluc3RhbmNlXHJcbiAqIEBwYXJhbSBuYW1lIC0gc2VydmljZSBuYW1lXHJcbiAqXHJcbiAqIEByZXR1cm5zIHRoZSBwcm92aWRlciBmb3IgdGhlIHNlcnZpY2Ugd2l0aCB0aGUgbWF0Y2hpbmcgbmFtZVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpIHtcclxuICAgIHJldHVybiBhcHAuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoYXBwLCBuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUUpIHtcclxuICAgIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxufVxyXG4vKipcclxuICogVGVzdCBvbmx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpIHtcclxuICAgIF9jb21wb25lbnRzLmNsZWFyKCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgRVJST1JTID0ge1xyXG4gICAgW1wibm8tYXBwXCIgLyogTk9fQVBQICovXTogXCJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXHJcbiAgICAgICAgJ2NhbGwgRmlyZWJhc2UgQXBwLmluaXRpYWxpemVBcHAoKScsXHJcbiAgICBbXCJiYWQtYXBwLW5hbWVcIiAvKiBCQURfQVBQX05BTUUgKi9dOiBcIklsbGVnYWwgQXBwIG5hbWU6ICd7JGFwcE5hbWV9XCIsXHJcbiAgICBbXCJkdXBsaWNhdGUtYXBwXCIgLyogRFVQTElDQVRFX0FQUCAqL106IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGV4aXN0cyB3aXRoIGRpZmZlcmVudCBvcHRpb25zIG9yIGNvbmZpZ1wiLFxyXG4gICAgW1wiYXBwLWRlbGV0ZWRcIiAvKiBBUFBfREVMRVRFRCAqL106IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGRlbGV0ZWRcIixcclxuICAgIFtcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi9dOiAnZmlyZWJhc2UueyRhcHBOYW1lfSgpIHRha2VzIGVpdGhlciBubyBhcmd1bWVudCBvciBhICcgK1xyXG4gICAgICAgICdGaXJlYmFzZSBBcHAgaW5zdGFuY2UuJyxcclxuICAgIFtcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi9dOiAnRmlyc3QgYXJndW1lbnQgdG8gYG9uTG9nYCBtdXN0IGJlIG51bGwgb3IgYSBmdW5jdGlvbi4nXHJcbn07XHJcbmNvbnN0IEVSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5KCdhcHAnLCAnRmlyZWJhc2UnLCBFUlJPUlMpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBGaXJlYmFzZUFwcEltcGwge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLl9pc0RlbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID1cclxuICAgICAgICAgICAgY29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ2FwcCcsICgpID0+IHRoaXMsIFwiUFVCTElDXCIgLyogUFVCTElDICovKSk7XHJcbiAgICB9XHJcbiAgICBnZXQgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xyXG4gICAgfVxyXG4gICAgc2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCh2YWwpIHtcclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gdmFsO1xyXG4gICAgfVxyXG4gICAgZ2V0IG5hbWUoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9wdGlvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcclxuICAgIH1cclxuICAgIGdldCBjb250YWluZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIGdldCBpc0RlbGV0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGVsZXRlZDtcclxuICAgIH1cclxuICAgIHNldCBpc0RlbGV0ZWQodmFsKSB7XHJcbiAgICAgICAgdGhpcy5faXNEZWxldGVkID0gdmFsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxyXG4gICAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXHJcbiAgICAgKi9cclxuICAgIGNoZWNrRGVzdHJveWVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFwcC1kZWxldGVkXCIgLyogQVBQX0RFTEVURUQgKi8sIHsgYXBwTmFtZTogdGhpcy5fbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBjdXJyZW50IFNESyB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBTREtfVkVSU0lPTiA9IHZlcnNpb247XHJcbmZ1bmN0aW9uIGluaXRpYWxpemVBcHAob3B0aW9ucywgcmF3Q29uZmlnID0ge30pIHtcclxuICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByYXdDb25maWc7XHJcbiAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHsgbmFtZTogREVGQVVMVF9FTlRSWV9OQU1FLCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sIHJhd0NvbmZpZyk7XHJcbiAgICBjb25zdCBuYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJiYWQtYXBwLW5hbWVcIiAvKiBCQURfQVBQX05BTUUgKi8sIHtcclxuICAgICAgICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdGluZ0FwcCA9IF9hcHBzLmdldChuYW1lKTtcclxuICAgIGlmIChleGlzdGluZ0FwcCkge1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgZXhpc3RpbmcgYXBwIGlmIG9wdGlvbnMgYW5kIGNvbmZpZyBkZWVwIGVxdWFsIHRoZSBvbmVzIGluIHRoZSBleGlzdGluZyBhcHAuXHJcbiAgICAgICAgaWYgKGRlZXBFcXVhbChvcHRpb25zLCBleGlzdGluZ0FwcC5vcHRpb25zKSAmJlxyXG4gICAgICAgICAgICBkZWVwRXF1YWwoY29uZmlnLCBleGlzdGluZ0FwcC5jb25maWcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FwcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiZHVwbGljYXRlLWFwcFwiIC8qIERVUExJQ0FURV9BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpO1xyXG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgX2NvbXBvbmVudHMudmFsdWVzKCkpIHtcclxuICAgICAgICBjb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdBcHAgPSBuZXcgRmlyZWJhc2VBcHBJbXBsKG9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKTtcclxuICAgIF9hcHBzLnNldChuYW1lLCBuZXdBcHApO1xyXG4gICAgcmV0dXJuIG5ld0FwcDtcclxufVxyXG4vKipcclxuICogUmV0cmlldmVzIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlLlxyXG4gKlxyXG4gKiBXaGVuIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLiBXaGVuIGFuIGFwcCBuYW1lXHJcbiAqIGlzIHByb3ZpZGVkLCB0aGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBuYW1lIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBBbiBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBhcHAgYmVpbmcgcmV0cmlldmVkIGhhcyBub3QgeWV0IGJlZW5cclxuICogaW5pdGlhbGl6ZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUmV0dXJuIHRoZSBkZWZhdWx0IGFwcFxyXG4gKiBjb25zdCBhcHAgPSBnZXRBcHAoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUmV0dXJuIGEgbmFtZWQgYXBwXHJcbiAqIGNvbnN0IG90aGVyQXBwID0gZ2V0QXBwKFwib3RoZXJBcHBcIik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gbmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGFwcCB0byByZXR1cm4uIElmIG5vIG5hbWUgaXNcclxuICogICBwcm92aWRlZCwgdGhlIGRlZmF1bHQgaXMgYFwiW0RFRkFVTFRdXCJgLlxyXG4gKlxyXG4gKiBAcmV0dXJucyBUaGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3ZpZGVkIGFwcCBuYW1lLlxyXG4gKiAgIElmIG5vIGFwcCBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBhcHAgaXMgcmV0dXJuZWQuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEFwcChuYW1lID0gREVGQVVMVF9FTlRSWV9OQU1FKSB7XHJcbiAgICBjb25zdCBhcHAgPSBfYXBwcy5nZXQobmFtZSk7XHJcbiAgICBpZiAoIWFwcCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwXCIgLyogTk9fQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXBwO1xyXG59XHJcbi8qKlxyXG4gKiBBIChyZWFkLW9ubHkpIGFycmF5IG9mIGFsbCBpbml0aWFsaXplZCBhcHBzLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHBzKCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oX2FwcHMudmFsdWVzKCkpO1xyXG59XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHRoaXMgYXBwIHVudXNhYmxlIGFuZCBmcmVlcyB0aGUgcmVzb3VyY2VzIG9mIGFsbCBhc3NvY2lhdGVkXHJcbiAqIHNlcnZpY2VzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGRlbGV0ZUFwcChhcHApXHJcbiAqICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAqICAgICBjb25zb2xlLmxvZyhcIkFwcCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICogICB9KVxyXG4gKiAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gKiAgICAgY29uc29sZS5sb2coXCJFcnJvciBkZWxldGluZyBhcHA6XCIsIGVycm9yKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFwcChhcHApIHtcclxuICAgIGNvbnN0IG5hbWUgPSBhcHAubmFtZTtcclxuICAgIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICBfYXBwcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXBwLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXJzKClcclxuICAgICAgICAgICAgLm1hcChwcm92aWRlciA9PiBwcm92aWRlci5kZWxldGUoKSkpO1xyXG4gICAgICAgIGFwcC5pc0RlbGV0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgYSBsaWJyYXJ5J3MgbmFtZSBhbmQgdmVyc2lvbiBmb3IgcGxhdGZvcm0gbG9nZ2luZyBwdXJwb3Nlcy5cclxuICogQHBhcmFtIGxpYnJhcnkgLSBOYW1lIG9mIDFwIG9yIDNwIGxpYnJhcnkgKGUuZy4gZmlyZXN0b3JlLCBhbmd1bGFyZmlyZSlcclxuICogQHBhcmFtIHZlcnNpb24gLSBDdXJyZW50IHZlcnNpb24gb2YgdGhhdCBsaWJyYXJ5LlxyXG4gKiBAcGFyYW0gdmFyaWFudCAtIEJ1bmRsZSB2YXJpYW50LCBlLmcuLCBub2RlLCBybiwgZXRjLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclZlcnNpb24obGlicmFyeUtleU9yTmFtZSwgdmVyc2lvbiwgdmFyaWFudCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgLy8gVE9ETzogV2UgY2FuIHVzZSB0aGlzIGNoZWNrIHRvIHdoaXRlbGlzdCBzdHJpbmdzIHdoZW4vaWYgd2Ugc2V0IHVwXHJcbiAgICAvLyBhIGdvb2Qgd2hpdGVsaXN0IHN5c3RlbS5cclxuICAgIGxldCBsaWJyYXJ5ID0gKF9hID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbGlicmFyeUtleU9yTmFtZTtcclxuICAgIGlmICh2YXJpYW50KSB7XHJcbiAgICAgICAgbGlicmFyeSArPSBgLSR7dmFyaWFudH1gO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGlicmFyeU1pc21hdGNoID0gbGlicmFyeS5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgY29uc3QgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICBjb25zdCB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGxpYnJhcnkgXCIke2xpYnJhcnl9XCIgd2l0aCB2ZXJzaW9uIFwiJHt2ZXJzaW9ufVwiOmBcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgd2FybmluZy5wdXNoKGBsaWJyYXJ5IG5hbWUgXCIke2xpYnJhcnl9XCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFwiL1wiKWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChgdmVyc2lvbiBuYW1lIFwiJHt2ZXJzaW9ufVwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcIi9cIilgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KGAke2xpYnJhcnl9LXZlcnNpb25gLCAoKSA9PiAoeyBsaWJyYXJ5LCB2ZXJzaW9uIH0pLCBcIlZFUlNJT05cIiAvKiBWRVJTSU9OICovKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGhhbmRsZXIgZm9yIGFsbCBGaXJlYmFzZSBTREtzLlxyXG4gKiBAcGFyYW0gbG9nQ2FsbGJhY2sgLSBBbiBvcHRpb25hbCBjdXN0b20gbG9nIGhhbmRsZXIgdGhhdCBleGVjdXRlcyB1c2VyIGNvZGUgd2hlbmV2ZXJcclxuICogdGhlIEZpcmViYXNlIFNESyBtYWtlcyBhIGxvZ2dpbmcgY2FsbC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gb25Mb2cobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIGlmIChsb2dDYWxsYmFjayAhPT0gbnVsbCAmJiB0eXBlb2YgbG9nQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi8pO1xyXG4gICAgfVxyXG4gICAgc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpO1xyXG59XHJcbi8qKlxyXG4gKiBTZXRzIGxvZyBsZXZlbCBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCBhcmUgY2FwdHVyZWQgKGkuZS4gaWZcclxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBpbmZvYCwgZXJyb3JzIGFyZSBsb2dnZWQsIGJ1dCBgZGVidWdgIGFuZFxyXG4gKiBgdmVyYm9zZWAgbG9ncyBhcmUgbm90KS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobG9nTGV2ZWwpIHtcclxuICAgIHNldExvZ0xldmVsJDEobG9nTGV2ZWwpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHModmFyaWFudCkge1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ3BsYXRmb3JtLWxvZ2dlcicsIGNvbnRhaW5lciA9PiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbChjb250YWluZXIpLCBcIlBSSVZBVEVcIiAvKiBQUklWQVRFICovKSk7XHJcbiAgICAvLyBSZWdpc3RlciBgYXBwYCBwYWNrYWdlLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkbywgdmVyc2lvbiQxLCB2YXJpYW50KTtcclxuICAgIC8vIFJlZ2lzdGVyIHBsYXRmb3JtIFNESyBpZGVudGlmaWVyIChubyB2ZXJzaW9uKS5cclxuICAgIHJlZ2lzdGVyVmVyc2lvbignZmlyZS1qcycsICcnKTtcclxufVxuXG4vKipcclxuICogRmlyZWJhc2UgQXBwXHJcbiAqXHJcbiAqIEByZW1hcmtzIFRoaXMgcGFja2FnZSBjb29yZGluYXRlcyB0aGUgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHRoZSBkaWZmZXJlbnQgRmlyZWJhc2UgY29tcG9uZW50c1xyXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cclxuICovXHJcbnJlZ2lzdGVyQ29yZUNvbXBvbmVudHMoKTtcblxuZXhwb3J0IHsgU0RLX1ZFUlNJT04sIERFRkFVTFRfRU5UUllfTkFNRSBhcyBfREVGQVVMVF9FTlRSWV9OQU1FLCBfYWRkQ29tcG9uZW50LCBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQsIF9hcHBzLCBfY2xlYXJDb21wb25lbnRzLCBfY29tcG9uZW50cywgX2dldFByb3ZpZGVyLCBfcmVnaXN0ZXJDb21wb25lbnQsIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UsIGRlbGV0ZUFwcCwgZ2V0QXBwLCBnZXRBcHBzLCBpbml0aWFsaXplQXBwLCBvbkxvZywgcmVnaXN0ZXJWZXJzaW9uLCBzZXRMb2dMZXZlbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IF9fdmFsdWVzLCBfX3JlYWQsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fc3ByZWFkQXJyYXkgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBpbnN0YW5jZUZhY3RvcnksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSB7fTtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gXCJMQVpZXCIgLyogTEFaWSAqLztcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gbnVsbDtcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXMgPSBmdW5jdGlvbiAobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xyXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxyXG4gKi9cclxudmFyIFByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIobmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vbkluaXRDYWxsYmFja3MgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsaXRwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxyXG4gICAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGRlZmVycmVkKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgc2VydmljZSBpZiBpdCBjYW4gYmUgYXV0by1pbml0aWFsaXplZFxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyBnZXQoKSwgaXQgc2hvdWxkIG5vdCBjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgcmV0dXJuIHRoZSB1bnJlc29sdmVkIHByb21pc2UgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmdldChub3JtYWxpemVkSWRlbnRpZmllcikucHJvbWlzZTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaWRlbnRpZmllcik7XHJcbiAgICAgICAgdmFyIG9wdGlvbmFsID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9wdGlvbmFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEluIGNhc2UgYSBjb21wb25lbnQgaXMgbm90IGluaXRpYWxpemVkIGFuZCBzaG91bGQvY2FuIG5vdCBiZSBhdXRvLWluaXRpYWxpemVkIGF0IHRoZSBtb21lbnQsIHJldHVybiBudWxsIGlmIHRoZSBvcHRpb25hbCBmbGFnIGlzIHNldCwgb3IgdGhyb3dcclxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2VydmljZSBcIiArIHRoaXMubmFtZSArIFwiIGlzIG5vdCBhdmFpbGFibGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLnNldENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgIT09IHRoaXMubmFtZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk1pc21hdGNoaW5nIENvbXBvbmVudCBcIiArIGNvbXBvbmVudC5uYW1lICsgXCIgZm9yIFByb3ZpZGVyIFwiICsgdGhpcy5uYW1lICsgXCIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgZm9yIFwiICsgdGhpcy5uYW1lICsgXCIgaGFzIGFscmVhZHkgYmVlbiBwcm92aWRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgLy8gcmV0dXJuIGVhcmx5IHdpdGhvdXQgYXR0ZW1wdGluZyB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnQgaWYgdGhlIGNvbXBvbmVudCByZXF1aXJlcyBleHBsaWNpdCBpbml0aWFsaXphdGlvbiAoY2FsbGluZyBgUHJvdmlkZXIuaW5pdGlhbGl6ZSgpYClcclxuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2aWNlIGlzIGVhZ2VyLCBpbml0aWFsaXplIHRoZSBkZWZhdWx0IGluc3RhbmNlXHJcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHsgaW5zdGFuY2VJZGVudGlmaWVyOiBERUZBVUxUX0VOVFJZX05BTUUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgZm9yIGFuIGVhZ2VyIENvbXBvbmVudCB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZWFnZXJcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlIGEgZmF0YWwgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbnZlc3RpZ2F0ZSBpZiB3ZSBuZWVkIHRvIG1ha2UgaXQgY29uZmlndXJhYmxlLCBiZWNhdXNlIHNvbWUgY29tcG9uZW50IG1heSB3YW50IHRvIGNhdXNlXHJcbiAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yIGluIHRoaXMgY2FzZT9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc2VydmljZSBpbnN0YW5jZXMgZm9yIHRoZSBwZW5kaW5nIHByb21pc2VzIGFuZCByZXNvbHZlIHRoZW1cclxuICAgICAgICAgICAgLy8gTk9URTogaWYgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyBpcyBmYWxzZSwgb25seSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gYW5kIGFsbCBwcm9taXNlcyB3aXRoIHJlc29sdmUgd2l0aCBpdCByZWdhcmRsZXNzIG9mIHRoZSBpZGVudGlmaWVyLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kID0gX19yZWFkKF9jLnZhbHVlLCAyKSwgaW5zdGFuY2VJZGVudGlmaWVyID0gX2RbMF0sIGluc3RhbmNlRGVmZXJyZWQgPSBfZFsxXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGBnZXRPckluaXRpYWxpemVTZXJ2aWNlKClgIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgdmFsaWQgaW5zdGFuY2Ugc2luY2UgYSBjb21wb25lbnQgaXMgZ3VhcmFudGVlZC4gdXNlICEgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5LlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24sIGl0IHNob3VsZCBub3QgY2F1c2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IGxlYXZlIHRoZSBwcm9taXNlIHVucmVzb2x2ZWQuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jbGVhckluc3RhbmNlID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICAvLyBhcHAuZGVsZXRlKCkgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIG9uIGV2ZXJ5IHByb3ZpZGVyIHRvIGRlbGV0ZSB0aGUgc2VydmljZXNcclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBtYXJrIHRoZSBwcm92aWRlciBhcyBkZWxldGVkP1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXMgPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnSU5URVJOQUwnIGluIHNlcnZpY2U7IH0pIC8vIGxlZ2FjeSBzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gc2VydmljZS5JTlRFUk5BTC5kZWxldGUoKTsgfSkpKSwgX19yZWFkKHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gJ19kZWxldGUnIGluIHNlcnZpY2U7IH0pIC8vIG1vZHVsYXJpemVkIHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiBzZXJ2aWNlLl9kZWxldGUoKTsgfSkpKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0NvbXBvbmVudFNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5nZXQoaWRlbnRpZmllcikgfHwge307XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgIHZhciBlXzIsIF9hO1xyXG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF9iID0gb3B0cy5vcHRpb25zLCBvcHRpb25zID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0cy5pbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKHRoaXMubmFtZSArIFwiKFwiICsgbm9ybWFsaXplZElkZW50aWZpZXIgKyBcIikgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgXCIgKyB0aGlzLm5hbWUgKyBcIiBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB5ZXRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXIsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2Ugd2FpdGluZyBmb3IgdGhlIHNlcnZpY2UgaW5zdGFuY2VcclxuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZSA9IF9fcmVhZChfZC52YWx1ZSwgMiksIGluc3RhbmNlSWRlbnRpZmllciA9IF9lWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZElkZW50aWZpZXIgPT09IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCAgYWZ0ZXIgdGhlIHByb3ZpZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkIGJ5IGNhbGxpbmcgcHJvdmlkZXIuaW5pdGlhbGl6ZSgpLlxyXG4gICAgICogVGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgU1lOQ0hST05PVVNMWSwgc28gaXQgc2hvdWxkIG5vdCBleGVjdXRlIGFueSBsb25ncnVubmluZyB0YXNrcyBpbiBvcmRlciB0byBub3QgYmxvY2sgdGhlIHByb2dyYW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQW4gb3B0aW9uYWwgaW5zdGFuY2UgaWRlbnRpZmllclxyXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnJlZ2lzdGVyIHRoZSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUub25Jbml0ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHZhciBleGlzdGluZ0NhbGxiYWNrcyA9IChfYSA9IHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChub3JtYWxpemVkSWRlbnRpZmllcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBTZXQoKTtcclxuICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZXhpc3RpbmdDYWxsYmFja3MpO1xyXG4gICAgICAgIHZhciBleGlzdGluZ0luc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhleGlzdGluZ0luc3RhbmNlLCBub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGV4aXN0aW5nQ2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZSBvbkluaXQgY2FsbGJhY2tzIHN5bmNocm9ub3VzbHlcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgc2VydmljZSBpbnN0YW5jZWBcclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmludm9rZU9uSW5pdENhbGxiYWNrcyA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgaWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBlXzMsIF9hO1xyXG4gICAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQoaWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjYWxsYmFja3NfMSA9IF9fdmFsdWVzKGNhbGxiYWNrcyksIGNhbGxiYWNrc18xXzEgPSBjYWxsYmFja3NfMS5uZXh0KCk7ICFjYWxsYmFja3NfMV8xLmRvbmU7IGNhbGxiYWNrc18xXzEgPSBjYWxsYmFja3NfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGluc3RhbmNlLCBpZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5pdCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzXzFfMSAmJiAhY2FsbGJhY2tzXzFfMS5kb25lICYmIChfYSA9IGNhbGxiYWNrc18xLnJldHVybikpIF9hLmNhbGwoY2FsbGJhY2tzXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2UgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2VJZGVudGlmaWVyID0gX2EuaW5zdGFuY2VJZGVudGlmaWVyLCBfYiA9IF9hLm9wdGlvbnMsIG9wdGlvbnMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlICYmIHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGluc3RhbmNlSWRlbnRpZmllciksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEludm9rZSBvbkluaXQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgICAgKiBOb3RlIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkIGlzIGRpZmZlcmVudCwgd2hpY2ggaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IGNyZWF0b3IsXHJcbiAgICAgICAgICAgICAqIHdoaWxlIG9uSW5pdCBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQgYnkgY29uc3VtZXJzIG9mIHRoZSBwcm92aWRlci5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuaW52b2tlT25Jbml0Q2FsbGJhY2tzKGluc3RhbmNlLCBpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogT3JkZXIgaXMgaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAqIG9uSW5zdGFuY2VDcmVhdGVkKCkgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7IHdoaWNoXHJcbiAgICAgICAgICAgICAqIG1ha2VzIGBpc0luaXRpYWxpemVkKClgIHJldHVybiB0cnVlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKHRoaXMuY29udGFpbmVyLCBpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChfYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UgfHwgbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzID8gaWRlbnRpZmllciA6IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpZGVudGlmaWVyOyAvLyBhc3N1bWUgbXVsdGlwbGUgaW5zdGFuY2VzIGFyZSBzdXBwb3J0ZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgcHJvdmlkZWQuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zaG91bGRBdXRvSW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKCEhdGhpcy5jb21wb25lbnQgJiZcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgIT09IFwiRVhQTElDSVRcIiAvKiBFWFBMSUNJVCAqLyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb3ZpZGVyO1xyXG59KCkpO1xyXG4vLyB1bmRlZmluZWQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgc2VydmljZSBmYWN0b3J5IGZvciB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG5mdW5jdGlvbiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpZGVudGlmaWVyKSB7XHJcbiAgICByZXR1cm4gaWRlbnRpZmllciA9PT0gREVGQVVMVF9FTlRSWV9OQU1FID8gdW5kZWZpbmVkIDogaWRlbnRpZmllcjtcclxufVxyXG5mdW5jdGlvbiBpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSA9PT0gXCJFQUdFUlwiIC8qIEVBR0VSICovO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDb21wb25lbnRDb250YWluZXIgdGhhdCBwcm92aWRlcyBQcm92aWRlcnMgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXHJcbiAqL1xyXG52YXIgQ29tcG9uZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgYmVpbmcgYWRkZWRcclxuICAgICAqIEBwYXJhbSBvdmVyd3JpdGUgV2hlbiBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLFxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIHRydWU6IG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgY29tcG9uZW50IHdpdGggdGhlIG5ldyBjb21wb25lbnQgYW5kIGNyZWF0ZSBhIG5ld1xyXG4gICAgICogcHJvdmlkZXIgd2l0aCB0aGUgbmV3IGNvbXBvbmVudC4gSXQgY2FuIGJlIHVzZWZ1bCBpbiB0ZXN0cyB3aGVyZSB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IG1vY2tzXHJcbiAgICAgKiBmb3IgZGlmZmVyZW50IHRlc3RzLlxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIGZhbHNlOiB0aHJvdyBhbiBleGNlcHRpb25cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IFwiICsgY29tcG9uZW50Lm5hbWUgKyBcIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgd2l0aCBcIiArIHRoaXMubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLnNldENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSBleGlzdGluZyBwcm92aWRlciBmcm9tIHRoZSBjb250YWluZXIsIHNvIHdlIGNhbiByZWdpc3RlciB0aGUgbmV3IGNvbXBvbmVudFxyXG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVycy5kZWxldGUoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0UHJvdmlkZXIgcHJvdmlkZXMgYSB0eXBlIHNhZmUgaW50ZXJmYWNlIHdoZXJlIGl0IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgZmllbGQgbmFtZVxyXG4gICAgICogcHJlc2VudCBpbiBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlLlxyXG4gICAgICpcclxuICAgICAqIEZpcmViYXNlIFNES3MgcHJvdmlkaW5nIHNlcnZpY2VzIHNob3VsZCBleHRlbmQgTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZSB0byByZWdpc3RlclxyXG4gICAgICogdGhlbXNlbHZlcy5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5nZXRQcm92aWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmVhdGUgYSBQcm92aWRlciBmb3IgYSBzZXJ2aWNlIHRoYXQgaGFzbid0IHJlZ2lzdGVyZWQgd2l0aCBGaXJlYmFzZVxyXG4gICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBQcm92aWRlcihuYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQobmFtZSwgcHJvdmlkZXIpO1xyXG4gICAgICAgIHJldHVybiBwcm92aWRlcjtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudENvbnRhaW5lcjtcclxufSgpKTtcblxuZXhwb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250YWluZXIsIFByb3ZpZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBmb3IgYWxsIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2VzXHJcbiAqL1xyXG52YXIgaW5zdGFuY2VzID0gW107XHJcbi8qKlxyXG4gKiBUaGUgSlMgU0RLIHN1cHBvcnRzIDUgbG9nIGxldmVscyBhbmQgYWxzbyBhbGxvd3MgYSB1c2VyIHRoZSBhYmlsaXR5IHRvXHJcbiAqIHNpbGVuY2UgdGhlIGxvZ3MgYWx0b2dldGhlci5cclxuICpcclxuICogVGhlIG9yZGVyIGlzIGEgZm9sbG93czpcclxuICogREVCVUcgPCBWRVJCT1NFIDwgSU5GTyA8IFdBUk4gPCBFUlJPUlxyXG4gKlxyXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgd2lsbCBiZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYElORk9gLCBlcnJvcnMgd2lsbCBzdGlsbCBiZSBsb2dnZWQsIGJ1dCBgREVCVUdgIGFuZFxyXG4gKiBgVkVSQk9TRWAgbG9ncyB3aWxsIG5vdClcclxuICovXHJcbnZhciBMb2dMZXZlbDtcclxuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJWRVJCT1NFXCJdID0gMV0gPSBcIlZFUkJPU0VcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSU5GT1wiXSA9IDJdID0gXCJJTkZPXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldBUk5cIl0gPSAzXSA9IFwiV0FSTlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFUlJPUlwiXSA9IDRdID0gXCJFUlJPUlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJTSUxFTlRcIl0gPSA1XSA9IFwiU0lMRU5UXCI7XHJcbn0pKExvZ0xldmVsIHx8IChMb2dMZXZlbCA9IHt9KSk7XHJcbnZhciBsZXZlbFN0cmluZ1RvRW51bSA9IHtcclxuICAgICdkZWJ1Zyc6IExvZ0xldmVsLkRFQlVHLFxyXG4gICAgJ3ZlcmJvc2UnOiBMb2dMZXZlbC5WRVJCT1NFLFxyXG4gICAgJ2luZm8nOiBMb2dMZXZlbC5JTkZPLFxyXG4gICAgJ3dhcm4nOiBMb2dMZXZlbC5XQVJOLFxyXG4gICAgJ2Vycm9yJzogTG9nTGV2ZWwuRVJST1IsXHJcbiAgICAnc2lsZW50JzogTG9nTGV2ZWwuU0lMRU5UXHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgbGV2ZWxcclxuICovXHJcbnZhciBkZWZhdWx0TG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPO1xyXG4vKipcclxuICogQnkgZGVmYXVsdCwgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlIChpblxyXG4gKiBjaHJvbWUpLiBUbyBhdm9pZCBmb3JjaW5nIHVzZXJzIHRvIGhhdmUgdG8gb3B0LWluIHRvIHRoZXNlIGxvZ3MgdHdpY2VcclxuICogKGkuZS4gb25jZSBmb3IgZmlyZWJhc2UsIGFuZCBvbmNlIGluIHRoZSBjb25zb2xlKSwgd2UgYXJlIHNlbmRpbmcgYERFQlVHYFxyXG4gKiBsb2dzIHRvIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uLlxyXG4gKi9cclxudmFyIENvbnNvbGVNZXRob2QgPSAoX2EgPSB7fSxcclxuICAgIF9hW0xvZ0xldmVsLkRFQlVHXSA9ICdsb2cnLFxyXG4gICAgX2FbTG9nTGV2ZWwuVkVSQk9TRV0gPSAnbG9nJyxcclxuICAgIF9hW0xvZ0xldmVsLklORk9dID0gJ2luZm8nLFxyXG4gICAgX2FbTG9nTGV2ZWwuV0FSTl0gPSAnd2FybicsXHJcbiAgICBfYVtMb2dMZXZlbC5FUlJPUl0gPSAnZXJyb3InLFxyXG4gICAgX2EpO1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgbG9nIGhhbmRsZXIgd2lsbCBmb3J3YXJkIERFQlVHLCBWRVJCT1NFLCBJTkZPLCBXQVJOLCBhbmQgRVJST1JcclxuICogbWVzc2FnZXMgb24gdG8gdGhlaXIgY29ycmVzcG9uZGluZyBjb25zb2xlIGNvdW50ZXJwYXJ0cyAoaWYgdGhlIGxvZyBtZXRob2RcclxuICogaXMgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGxvZyBsZXZlbClcclxuICovXHJcbnZhciBkZWZhdWx0TG9nSGFuZGxlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgbG9nVHlwZSkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGlmIChsb2dUeXBlIDwgaW5zdGFuY2UubG9nTGV2ZWwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgdmFyIG1ldGhvZCA9IENvbnNvbGVNZXRob2RbbG9nVHlwZV07XHJcbiAgICBpZiAobWV0aG9kKSB7XHJcbiAgICAgICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIF9fc3ByZWFkQXJyYXlzKFtcIltcIiArIG5vdyArIFwiXSAgXCIgKyBpbnN0YW5jZS5uYW1lICsgXCI6XCJdLCBhcmdzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6IFwiICsgbG9nVHlwZSArIFwiKVwiKTtcclxuICAgIH1cclxufTtcclxudmFyIExvZ2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZXMgeW91IGFuIGluc3RhbmNlIG9mIGEgTG9nZ2VyIHRvIGNhcHR1cmUgbWVzc2FnZXMgYWNjb3JkaW5nIHRvXHJcbiAgICAgKiBGaXJlYmFzZSdzIGxvZ2dpbmcgc2NoZW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRoYXQgdGhlIGxvZ3Mgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGhcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gTG9nZ2VyKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBsb2cgbGV2ZWwgb2YgdGhlIGdpdmVuIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IGRlZmF1bHRMb2dMZXZlbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbWFpbiAoaW50ZXJuYWwpIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqIENhbiBiZSBzZXQgdG8gYSBuZXcgZnVuY3Rpb24gaW4gaW50ZXJuYWwgcGFja2FnZSBjb2RlIGJ1dCBub3QgYnkgdXNlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gZGVmYXVsdExvZ0hhbmRsZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG9wdGlvbmFsLCBhZGRpdGlvbmFsLCB1c2VyLWRlZmluZWQgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhcHR1cmUgdGhlIGN1cnJlbnQgaW5zdGFuY2UgZm9yIGxhdGVyIHVzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluc3RhbmNlcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsIFwibG9nTGV2ZWxcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9nTGV2ZWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKCEodmFsIGluIExvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdmFsdWUgXFxcIlwiICsgdmFsICsgXCJcXFwiIGFzc2lnbmVkIHRvIGBsb2dMZXZlbGBcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3Igc2V0dGVyL2dldHRlciBoYXZpbmcgdG8gYmUgdGhlIHNhbWUgdHlwZS5cclxuICAgIExvZ2dlci5wcm90b3R5cGUuc2V0TG9nTGV2ZWwgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IGxldmVsU3RyaW5nVG9FbnVtW3ZhbF0gOiB2YWw7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsIFwibG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJ1c2VyTG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGFsbCBiYXNlZCBvbiB0aGUgYGNvbnNvbGVgIGludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuREVCVUddLCBhcmdzKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuREVCVUddLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5WRVJCT1NFXSwgYXJncykpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLlZFUkJPU0VdLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuSU5GT10sIGFyZ3MpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5JTkZPXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLldBUk5dLCBhcmdzKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuV0FSTl0sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuRVJST1JdLCBhcmdzKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuRVJST1JdLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExvZ2dlcjtcclxufSgpKTtcclxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWwpIHtcclxuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnN0KSB7XHJcbiAgICAgICAgaW5zdC5zZXRMb2dMZXZlbChsZXZlbCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucykge1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgY3VzdG9tTG9nTGV2ZWwgPSBudWxsO1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubGV2ZWwpIHtcclxuICAgICAgICAgICAgY3VzdG9tTG9nTGV2ZWwgPSBsZXZlbFN0cmluZ1RvRW51bVtvcHRpb25zLmxldmVsXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvZ0NhbGxiYWNrID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGFyZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYXJnKSB7IHJldHVybiBhcmc7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA+PSAoY3VzdG9tTG9nTGV2ZWwgIT09IG51bGwgJiYgY3VzdG9tTG9nTGV2ZWwgIT09IHZvaWQgMCA/IGN1c3RvbUxvZ0xldmVsIDogaW5zdGFuY2UubG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWxbbGV2ZWxdLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGluc3RhbmNlLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBpbnN0YW5jZXNfMSA9IGluc3RhbmNlczsgX2kgPCBpbnN0YW5jZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNfMVtfaV07XHJcbiAgICAgICAgX2xvb3BfMShpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgTG9nTGV2ZWwsIExvZ2dlciwgc2V0TG9nTGV2ZWwsIHNldFVzZXJMb2dIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzIH0gZnJvbSAndHNsaWInO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxudmFyIENPTlNUQU5UUyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBjbGllbnQgTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQ0xJRU5UOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBBZG1pbiBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9BRE1JTjogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEZpcmViYXNlIFNESyBWZXJzaW9uXHJcbiAgICAgKi9cclxuICAgIFNES19WRVJTSU9OOiAnJHtKU0NPUkVfVkVSU0lPTn0nXHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHByb3ZpZGVkIGFzc2VydGlvbiBpcyBmYWxzeVxyXG4gKi9cclxudmFyIGFzc2VydCA9IGZ1bmN0aW9uIChhc3NlcnRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghYXNzZXJ0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgYXNzZXJ0aW9uRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIEVycm9yIG9iamVjdCBzdWl0YWJsZSBmb3IgdGhyb3dpbmcuXHJcbiAqL1xyXG52YXIgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xyXG4gICAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXHJcbiAgICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXHJcbiAgICAgICAgbWVzc2FnZSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBzdHJpbmdUb0J5dGVBcnJheSQxID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIHZhciBvdXQgPSBbXTtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmXHJcbiAgICAgICAgICAgIGkgKyAxIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4MDNmZik7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBUdXJucyBhbiBhcnJheSBvZiBudW1iZXJzIGludG8gdGhlIHN0cmluZyBnaXZlbiBieSB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcclxuICogY2hhcmFjdGVycyB0byB3aGljaCB0aGUgbnVtYmVycyBjb3JyZXNwb25kLlxyXG4gKiBAcGFyYW0gYnl0ZXMgQXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgY2hhcmFjdGVycy5cclxuICogQHJldHVybiBTdHJpbmdpZmljYXRpb24gb2YgdGhlIGFycmF5LlxyXG4gKi9cclxudmFyIGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgdmFyIG91dCA9IFtdO1xyXG4gICAgdmFyIHBvcyA9IDAsIGMgPSAwO1xyXG4gICAgd2hpbGUgKHBvcyA8IGJ5dGVzLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjMSA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPiAxOTEgJiYgYzEgPCAyMjQpIHtcclxuICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgYzQgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciB1ID0gKCgoYzEgJiA3KSA8PCAxOCkgfCAoKGMyICYgNjMpIDw8IDEyKSB8ICgoYzMgJiA2MykgPDwgNikgfCAoYzQgJiA2MykpIC1cclxuICAgICAgICAgICAgICAgIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGQ4MDAgKyAodSA+PiAxMCkpO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkYzAwICsgKHUgJiAxMDIzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcclxufTtcclxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3RcclxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcclxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcclxudmFyIGJhc2U2NCA9IHtcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byBjaGFyYWN0ZXJzLlxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byB3ZWJzYWZlIGNoYXJhY3RlcnMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgd2Vic2FmZSBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY2hhclRvQnl0ZU1hcFdlYlNhZmVfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldCwgc2hhcmVkIGJldHdlZW5cclxuICAgICAqIEVOQ09ERURfVkFMUyBhbmQgRU5DT0RFRF9WQUxTX1dFQlNBRkVcclxuICAgICAqL1xyXG4gICAgRU5DT0RFRF9WQUxTX0JBU0U6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicgKyAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICsgJzAxMjM0NTY3ODknLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldC4gVmFsdWUgNjQgKD0pIGlzIHNwZWNpYWw7IGl0IG1lYW5zIFwibm90aGluZy5cIlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJysvPSc7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgd2Vic2FmZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgZ2V0IEVOQ09ERURfVkFMU19XRUJTQUZFKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJy1fLic7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgYnJvd3NlciBzdXBwb3J0cyB0aGUgYXRvYiBhbmQgYnRvYSBmdW5jdGlvbnMuIFRoaXMgZXh0ZW5zaW9uXHJcbiAgICAgKiBzdGFydGVkIGF0IE1vemlsbGEgYnV0IGlzIG5vdyBpbXBsZW1lbnRlZCBieSBtYW55IGJyb3dzZXJzLiBXZSB1c2UgdGhlXHJcbiAgICAgKiBBU1NVTUVfKiB2YXJpYWJsZXMgdG8gYXZvaWQgcHVsbGluZyBpbiB0aGUgZnVsbCB1c2VyYWdlbnQgZGV0ZWN0aW9uIGxpYnJhcnlcclxuICAgICAqIGJ1dCBzdGlsbCBhbGxvd2luZyB0aGUgc3RhbmRhcmQgcGVyLWJyb3dzZXIgY29tcGlsYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgSEFTX05BVElWRV9TVVBQT1JUOiB0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJyxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhbiBhcnJheSBvZiBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQW4gYXJyYXkgb2YgYnl0ZXMgKG51bWJlcnMgd2l0aFxyXG4gICAgICogICAgIHZhbHVlIGluIFswLCAyNTVdKSB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBCb29sZWFuIGluZGljYXRpbmcgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlQnl0ZUFycmF5OiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIHZhciBieXRlVG9DaGFyTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5ieXRlVG9DaGFyTWFwXztcclxuICAgICAgICB2YXIgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTEgPSBpbnB1dFtpXTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMiA9IGkgKyAxIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBpbnB1dFtpICsgMV0gOiAwO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGhhdmVCeXRlMyA/IGlucHV0W2kgKyAyXSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMSA9IGJ5dGUxID4+IDI7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XHJcbiAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRCeXRlNCA9IDY0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZVN0cmluZzogZnVuY3Rpb24gKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBidG9hKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQnl0ZUFycmF5KHN0cmluZ1RvQnl0ZUFycmF5JDEoaW5wdXQpLCB3ZWJTYWZlKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nOiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxyXG4gICAgICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcclxuICAgICAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF0b2IoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5VG9TdHJpbmcodGhpcy5kZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBJbiBiYXNlLTY0IGRlY29kaW5nLCBncm91cHMgb2YgZm91ciBjaGFyYWN0ZXJzIGFyZSBjb252ZXJ0ZWQgaW50byB0aHJlZVxyXG4gICAgICogYnl0ZXMuICBJZiB0aGUgZW5jb2RlciBkaWQgbm90IGFwcGx5IHBhZGRpbmcsIHRoZSBpbnB1dCBsZW5ndGggbWF5IG5vdFxyXG4gICAgICogYmUgYSBtdWx0aXBsZSBvZiA0LlxyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgZ3JvdXAgd2lsbCBoYXZlIGZld2VyIHRoYW4gNCBjaGFyYWN0ZXJzLCBhbmRcclxuICAgICAqIHBhZGRpbmcgd2lsbCBiZSBpbmZlcnJlZC4gIElmIHRoZSBncm91cCBoYXMgb25lIG9yIHR3byBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzXHJcbiAgICAgKiB0byBvbmUgYnl0ZS4gIElmIHRoZSBncm91cCBoYXMgdGhyZWUgY2hhcmFjdGVycywgaXQgZGVjb2RlcyB0byB0d28gYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgd2ViLXNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIGJ5dGVzIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXk6IGZ1bmN0aW9uIChpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICB2YXIgY2hhclRvQnl0ZU1hcCA9IHdlYlNhZmVcclxuICAgICAgICAgICAgPyB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1xyXG4gICAgICAgICAgICA6IHRoaXMuY2hhclRvQnl0ZU1hcF87XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOykge1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMiA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGhhdmVCeXRlMiA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDA7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGhhdmVCeXRlMyA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTQgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG91dEJ5dGUyID0gKChieXRlMiA8PCA0KSAmIDB4ZjApIHwgKGJ5dGUzID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ5dGU0ICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRCeXRlMyA9ICgoYnl0ZTMgPDwgNikgJiAweGMwKSB8IGJ5dGU0O1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogTGF6eSBzdGF0aWMgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uIENhbGxlZCBiZWZvcmVcclxuICAgICAqIGFjY2Vzc2luZyBhbnkgb2YgdGhlIHN0YXRpYyBtYXAgdmFyaWFibGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW5pdF86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYnl0ZVRvQ2hhck1hcF8pIHtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgcXVpY2sgbWFwcGluZ3MgYmFjayBhbmQgZm9ydGgsIHNvIHdlIHByZWNvbXB1dGUgdHdvIG1hcHMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5FTkNPREVEX1ZBTFMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF9baV0gPSB0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuYnl0ZVRvQ2hhck1hcF9baV1dID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgLy8gQmUgZm9yZ2l2aW5nIHdoZW4gZGVjb2RpbmcgYW5kIGNvcnJlY3RseSBkZWNvZGUgYm90aCBlbmNvZGluZ3MuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSB0aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZ1xyXG4gKi9cclxudmFyIGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciB1dGY4Qnl0ZXMgPSBzdHJpbmdUb0J5dGVBcnJheSQxKHN0cik7XHJcbiAgICByZXR1cm4gYmFzZTY0LmVuY29kZUJ5dGVBcnJheSh1dGY4Qnl0ZXMsIHRydWUpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nICh3aXRob3V0IFwiLlwiIHBhZGRpbmcgaW4gdGhlIGVuZCkuXHJcbiAqIGUuZy4gVXNlZCBpbiBKU09OIFdlYiBUb2tlbiAoSldUKSBwYXJ0cy5cclxuICovXHJcbnZhciBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIC8vIFVzZSBiYXNlNjR1cmwgZW5jb2RpbmcgYW5kIHJlbW92ZSBwYWRkaW5nIGluIHRoZSBlbmQgKGRvdCBjaGFyYWN0ZXJzKS5cclxuICAgIHJldHVybiBiYXNlNjRFbmNvZGUoc3RyKS5yZXBsYWNlKC9cXC4vZywgJycpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGRlY29kaW5nXHJcbiAqXHJcbiAqIE5PVEU6IERPIE5PVCB1c2UgdGhlIGdsb2JhbCBhdG9iKCkgZnVuY3Rpb24gLSBpdCBkb2VzIE5PVCBzdXBwb3J0IHRoZVxyXG4gKiBiYXNlNjRVcmwgdmFyaWFudCBlbmNvZGluZy5cclxuICpcclxuICogQHBhcmFtIHN0ciBUbyBiZSBkZWNvZGVkXHJcbiAqIEByZXR1cm4gRGVjb2RlZCByZXN1bHQsIGlmIHBvc3NpYmxlXHJcbiAqL1xyXG52YXIgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICpcclxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gc291cmNlO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVZhbHVlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgY2FzZSBPYmplY3Q6XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBcnJheTpcclxuICAgICAgICAgICAgLy8gQWx3YXlzIGNvcHkgdGhlIGFycmF5IHNvdXJjZSBhbmQgb3ZlcndyaXRlIHRoZSB0YXJnZXQuXHJcbiAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAvLyBOb3QgYSBwbGFpbiBPYmplY3QgLSB0cmVhdCBpdCBhcyBhIHNjYWxhci5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XHJcbiAgICAgICAgLy8gdXNlIGlzVmFsaWRLZXkgdG8gZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGUgcG9sbHV0aW9uLiBTZWUgaHR0cHM6Ly9zbnlrLmlvL3Z1bG4vU05ZSy1KUy1MT0RBU0gtNDUwMjAyXHJcbiAgICAgICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgIWlzVmFsaWRLZXkocHJvcCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBpc1ZhbGlkS2V5KGtleSkge1xyXG4gICAgcmV0dXJuIGtleSAhPT0gJ19fcHJvdG9fXyc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERlZmVycmVkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnJlamVjdCA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqZWN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgQVBJIGludGVybmFscyBhcmUgbm90IHByb21pc2VpZmllZCBhbmQgY2Fubm90IGJlY2F1c2Ugb3VyIGNhbGxiYWNrIEFQSXMgaGF2ZSBzdWJ0bGUgZXhwZWN0YXRpb25zIGFyb3VuZFxyXG4gICAgICogaW52b2tpbmcgcHJvbWlzZXMgaW5saW5lLCB3aGljaCBQcm9taXNlcyBhcmUgZm9yYmlkZGVuIHRvIGRvLiBUaGlzIG1ldGhvZCBhY2NlcHRzIGFuIG9wdGlvbmFsIG5vZGUtc3R5bGUgY2FsbGJhY2tcclxuICAgICAqIGFuZCByZXR1cm5zIGEgbm9kZS1zdHlsZSBjYWxsYmFjayB3aGljaCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBEZWZlcnJlZCdzIHByb21pc2UuXHJcbiAgICAgKi9cclxuICAgIERlZmVycmVkLnByb3RvdHlwZS53cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEF0dGFjaGluZyBub29wIGhhbmRsZXIganVzdCBpbiBjYXNlIGRldmVsb3BlciB3YXNuJ3QgZXhwZWN0aW5nXHJcbiAgICAgICAgICAgICAgICAvLyBwcm9taXNlc1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gU29tZSBvZiBvdXIgY2FsbGJhY2tzIGRvbid0IGV4cGVjdCBhIHZhbHVlIGFuZCBvdXIgb3duIHRlc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQgdGhhdCB0aGUgcGFyYW1ldGVyIGxlbmd0aCBpcyAxXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2subGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlZmVycmVkO1xyXG59KCkpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVNb2NrVXNlclRva2VuKHRva2VuLCBwcm9qZWN0SWQpIHtcclxuICAgIGlmICh0b2tlbi51aWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcInVpZFwiIGZpZWxkIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYnkgbW9ja1VzZXJUb2tlbi4gUGxlYXNlIHVzZSBcInN1YlwiIGluc3RlYWQgZm9yIEZpcmViYXNlIEF1dGggVXNlciBJRC4nKTtcclxuICAgIH1cclxuICAgIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSBcIm5vbmVcIiBhcyB0aGUgYWxnb3JpdGhtLlxyXG4gICAgdmFyIGhlYWRlciA9IHtcclxuICAgICAgICBhbGc6ICdub25lJyxcclxuICAgICAgICB0eXBlOiAnSldUJ1xyXG4gICAgfTtcclxuICAgIHZhciBwcm9qZWN0ID0gcHJvamVjdElkIHx8ICdkZW1vLXByb2plY3QnO1xyXG4gICAgdmFyIGlhdCA9IHRva2VuLmlhdCB8fCAwO1xyXG4gICAgdmFyIHN1YiA9IHRva2VuLnN1YiB8fCB0b2tlbi51c2VyX2lkO1xyXG4gICAgaWYgKCFzdWIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBheWxvYWQgPSBfX2Fzc2lnbih7IFxyXG4gICAgICAgIC8vIFNldCBhbGwgcmVxdWlyZWQgZmllbGRzIHRvIGRlY2VudCBkZWZhdWx0c1xyXG4gICAgICAgIGlzczogXCJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vXCIgKyBwcm9qZWN0LCBhdWQ6IHByb2plY3QsIGlhdDogaWF0LCBleHA6IGlhdCArIDM2MDAsIGF1dGhfdGltZTogaWF0LCBzdWI6IHN1YiwgdXNlcl9pZDogc3ViLCBmaXJlYmFzZToge1xyXG4gICAgICAgICAgICBzaWduX2luX3Byb3ZpZGVyOiAnY3VzdG9tJyxcclxuICAgICAgICAgICAgaWRlbnRpdGllczoge31cclxuICAgICAgICB9IH0sIHRva2VuKTtcclxuICAgIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSB0aGUgZW1wdHkgc3RyaW5nIGFzIGEgc2lnbmF0dXJlLlxyXG4gICAgdmFyIHNpZ25hdHVyZSA9ICcnO1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShoZWFkZXIpKSxcclxuICAgICAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSksXHJcbiAgICAgICAgc2lnbmF0dXJlXHJcbiAgICBdLmpvaW4oJy4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBuYXZpZ2F0b3IudXNlckFnZW50IHN0cmluZyBvciAnJyBpZiBpdCdzIG5vdCBkZWZpbmVkLlxyXG4gKiBAcmV0dXJuIHVzZXIgYWdlbnQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRVQSgpIHtcclxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQ29yZG92YSAvIFBob25lR2FwIC8gSW9uaWMgZnJhbWV3b3JrcyBvbiBhIG1vYmlsZSBkZXZpY2UuXHJcbiAqXHJcbiAqIERlbGliZXJhdGVseSBkb2VzIG5vdCByZWx5IG9uIGNoZWNraW5nIGBmaWxlOi8vYCBVUkxzIChhcyB0aGlzIGZhaWxzIFBob25lR2FwXHJcbiAqIGluIHRoZSBSaXBwbGUgZW11bGF0b3IpIG5vciBDb3Jkb3ZhIGBvbkRldmljZVJlYWR5YCwgd2hpY2ggd291bGQgbm9ybWFsbHlcclxuICogd2FpdCBmb3IgYSBjYWxsYmFjay5cclxuICovXHJcbmZ1bmN0aW9uIGlzTW9iaWxlQ29yZG92YSgpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFNldHRpbmcgdXAgYW4gYnJvYWRseSBhcHBsaWNhYmxlIGluZGV4IHNpZ25hdHVyZSBmb3IgV2luZG93XHJcbiAgICAgICAgLy8ganVzdCB0byBkZWFsIHdpdGggdGhpcyBjYXNlIHdvdWxkIHByb2JhYmx5IGJlIGEgYmFkIGlkZWEuXHJcbiAgICAgICAgISEod2luZG93Wydjb3Jkb3ZhJ10gfHwgd2luZG93WydwaG9uZWdhcCddIHx8IHdpbmRvd1snUGhvbmVHYXAnXSkgJiZcclxuICAgICAgICAvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChnZXRVQSgpKSk7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBOb2RlLmpzLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgTm9kZS5qcyBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cclxuICovXHJcbi8vIE5vZGUgZGV0ZWN0aW9uIGxvZ2ljIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9pbGlha2FuL2RldGVjdC1ub2RlL1xyXG5mdW5jdGlvbiBpc05vZGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQnJvd3NlciBFbnZpcm9ubWVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGY7XHJcbn1cclxuZnVuY3Rpb24gaXNCcm93c2VyRXh0ZW5zaW9uKCkge1xyXG4gICAgdmFyIHJ1bnRpbWUgPSB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0J1xyXG4gICAgICAgID8gY2hyb21lLnJ1bnRpbWVcclxuICAgICAgICA6IHR5cGVvZiBicm93c2VyID09PSAnb2JqZWN0J1xyXG4gICAgICAgICAgICA/IGJyb3dzZXIucnVudGltZVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiB0eXBlb2YgcnVudGltZSA9PT0gJ29iamVjdCcgJiYgcnVudGltZS5pZCAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3JbJ3Byb2R1Y3QnXSA9PT0gJ1JlYWN0TmF0aXZlJyk7XHJcbn1cclxuLyoqIERldGVjdHMgRWxlY3Ryb24gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNFbGVjdHJvbigpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ0VsZWN0cm9uLycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgSW50ZXJuZXQgRXhwbG9yZXIuICovXHJcbmZ1bmN0aW9uIGlzSUUoKSB7XHJcbiAgICB2YXIgdWEgPSBnZXRVQSgpO1xyXG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ01TSUUgJykgPj0gMCB8fCB1YS5pbmRleE9mKCdUcmlkZW50LycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgVW5pdmVyc2FsIFdpbmRvd3MgUGxhdGZvcm0gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNVV1AoKSB7XHJcbiAgICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdNU0FwcEhvc3QvJykgPj0gMDtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgU0RLIGJ1aWxkIGlzIHRoZSBOb2RlIHZlcnNpb24uXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpdCdzIHRoZSBOb2RlIFNESyBidWlsZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzTm9kZVNkaygpIHtcclxuICAgIHJldHVybiBDT05TVEFOVFMuTk9ERV9DTElFTlQgPT09IHRydWUgfHwgQ09OU1RBTlRTLk5PREVfQURNSU4gPT09IHRydWU7XHJcbn1cclxuLyoqIFJldHVybnMgdHJ1ZSBpZiB3ZSBhcmUgcnVubmluZyBpbiBTYWZhcmkuICovXHJcbmZ1bmN0aW9uIGlzU2FmYXJpKCkge1xyXG4gICAgcmV0dXJuICghaXNOb2RlKCkgJiZcclxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdTYWZhcmknKSAmJlxyXG4gICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdDaHJvbWUnKSk7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0luZGV4ZWREQkF2YWlsYWJsZSgpIHtcclxuICAgIHJldHVybiAnaW5kZXhlZERCJyBpbiBzZWxmICYmIGluZGV4ZWREQiAhPSBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCB2YWxpZGF0ZXMgYnJvd3Nlci9zdyBjb250ZXh0IGZvciBpbmRleGVkREIgYnkgb3BlbmluZyBhIGR1bW15IGluZGV4ZWREQiBkYXRhYmFzZSBhbmQgcmVqZWN0XHJcbiAqIGlmIGVycm9ycyBvY2N1ciBkdXJpbmcgdGhlIGRhdGFiYXNlIG9wZW4gb3BlcmF0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIGV4Y2VwdGlvbiBpZiBjdXJyZW50IGJyb3dzZXIvc3cgY29udGV4dCBjYW4ndCBydW4gaWRiLm9wZW4gKGV4OiBTYWZhcmkgaWZyYW1lLCBGaXJlZm94XHJcbiAqIHByaXZhdGUgYnJvd3NpbmcpXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcHJlRXhpc3RfMSA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciBEQl9DSEVDS19OQU1FXzEgPSAndmFsaWRhdGUtYnJvd3Nlci1jb250ZXh0LWZvci1pbmRleGVkZGItYW5hbHl0aWNzLW1vZHVsZSc7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0XzEgPSBzZWxmLmluZGV4ZWREQi5vcGVuKERCX0NIRUNLX05BTUVfMSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3RfMS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0XzEucmVzdWx0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgZGF0YWJhc2Ugb25seSB3aGVuIGl0IGRvZXNuJ3QgcHJlLWV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZUV4aXN0XzEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9DSEVDS19OQU1FXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdF8xLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByZUV4aXN0XzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdF8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKChfYSA9IHJlcXVlc3RfMS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpIHx8ICcnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyB3aGV0aGVyIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICogQHJldHVybiB0cnVlIGlmIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICovXHJcbmZ1bmN0aW9uIGFyZUNvb2tpZXNFbmFibGVkKCkge1xyXG4gICAgaWYgKCFuYXZpZ2F0b3IgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqIFBvbHlmaWxsIGZvciBgZ2xvYmFsVGhpc2Agb2JqZWN0LlxyXG4gKiBAcmV0dXJucyB0aGUgYGdsb2JhbFRoaXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIGVudmlyb25tZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgRVJST1JfTkFNRSA9ICdGaXJlYmFzZUVycm9yJztcclxuLy8gQmFzZWQgb24gY29kZSBmcm9tOlxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNDdXN0b21fRXJyb3JfVHlwZXNcclxudmFyIEZpcmViYXNlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRmlyZWJhc2VFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZpcmViYXNlRXJyb3IoY29kZSwgbWVzc2FnZSwgY3VzdG9tRGF0YSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29kZSA9IGNvZGU7XHJcbiAgICAgICAgX3RoaXMuY3VzdG9tRGF0YSA9IGN1c3RvbURhdGE7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IEVSUk9SX05BTUU7XHJcbiAgICAgICAgLy8gRml4IEZvciBFUzVcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgRmlyZWJhc2VFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vIE1haW50YWlucyBwcm9wZXIgc3RhY2sgdHJhY2UgZm9yIHdoZXJlIG91ciBlcnJvciB3YXMgdGhyb3duLlxyXG4gICAgICAgIC8vIE9ubHkgYXZhaWxhYmxlIG9uIFY4LlxyXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xyXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfdGhpcywgRXJyb3JGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRmlyZWJhc2VFcnJvcjtcclxufShFcnJvcikpO1xyXG52YXIgRXJyb3JGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXJyb3JGYWN0b3J5KHNlcnZpY2UsIHNlcnZpY2VOYW1lLCBlcnJvcnMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTtcclxuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcclxuICAgIH1cclxuICAgIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGNvZGUpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGRhdGFbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXN0b21EYXRhID0gZGF0YVswXSB8fCB7fTtcclxuICAgICAgICB2YXIgZnVsbENvZGUgPSB0aGlzLnNlcnZpY2UgKyBcIi9cIiArIGNvZGU7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy5lcnJvcnNbY29kZV07XHJcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0ZW1wbGF0ZSA/IHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgY3VzdG9tRGF0YSkgOiAnRXJyb3InO1xyXG4gICAgICAgIC8vIFNlcnZpY2UgTmFtZTogRXJyb3IgbWVzc2FnZSAoc2VydmljZS9jb2RlKS5cclxuICAgICAgICB2YXIgZnVsbE1lc3NhZ2UgPSB0aGlzLnNlcnZpY2VOYW1lICsgXCI6IFwiICsgbWVzc2FnZSArIFwiIChcIiArIGZ1bGxDb2RlICsgXCIpLlwiO1xyXG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBGaXJlYmFzZUVycm9yKGZ1bGxDb2RlLCBmdWxsTWVzc2FnZSwgY3VzdG9tRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFcnJvckZhY3Rvcnk7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgZGF0YSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoUEFUVEVSTiwgZnVuY3Rpb24gKF8sIGtleSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IFN0cmluZyh2YWx1ZSkgOiBcIjxcIiArIGtleSArIFwiPz5cIjtcclxuICAgIH0pO1xyXG59XHJcbnZhciBQQVRURVJOID0gL1xce1xcJChbXn1dKyl9L2c7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cclxuICovXHJcbmZ1bmN0aW9uIGpzb25FdmFsKHN0cikge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YXNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBpbnRvIGNvbnN0aXR1ZW50IHBhcnRzLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIHdpdGggaW52YWxpZCAvIGluY29tcGxldGUgY2xhaW1zIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGRlY29kZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGhlYWRlciA9IHt9LCBjbGFpbXMgPSB7fSwgZGF0YSA9IHt9LCBzaWduYXR1cmUgPSAnJztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcclxuICAgICAgICBoZWFkZXIgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMF0pIHx8ICcnKTtcclxuICAgICAgICBjbGFpbXMgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMV0pIHx8ICcnKTtcclxuICAgICAgICBzaWduYXR1cmUgPSBwYXJ0c1syXTtcclxuICAgICAgICBkYXRhID0gY2xhaW1zWydkJ10gfHwge307XHJcbiAgICAgICAgZGVsZXRlIGNsYWltc1snZCddO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXI6IGhlYWRlcixcclxuICAgICAgICBjbGFpbXM6IGNsYWltcyxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlXHJcbiAgICB9O1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyB0aW1lLWJhc2VkIGNsYWltcy4gV2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGVcclxuICogdG9rZW4gaXMgd2l0aGluIHRoZSB0aW1lIHdpbmRvdyBhdXRob3JpemVkIGJ5IHRoZSAnbmJmJyAobm90LWJlZm9yZSkgYW5kICdpYXQnIChpc3N1ZWQtYXQpIGNsYWltcy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGlzVmFsaWRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIHZhciBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XHJcbiAgICB2YXIgdmFsaWRTaW5jZSA9IDAsIHZhbGlkVW50aWwgPSAwO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnbmJmJykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snbmJmJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snaWF0J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSBjbGFpbXNbJ2V4cCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgMjRoIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IHZhbGlkU2luY2UgKyA4NjQwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCEhbm93ICYmXHJcbiAgICAgICAgISF2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgISF2YWxpZFVudGlsICYmXHJcbiAgICAgICAgbm93ID49IHZhbGlkU2luY2UgJiZcclxuICAgICAgICBub3cgPD0gdmFsaWRVbnRpbCk7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIHJldHVybnMgaXRzIGlzc3VlZCBhdCB0aW1lIGlmIHZhbGlkLCBudWxsIG90aGVyd2lzZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBudWxsIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGlzc3VlZEF0VGltZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICByZXR1cm4gY2xhaW1zWydpYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyBmb3JtYXQuIEV4cGVjdHMgYSB2YWxpZCBpc3N1ZWQtYXQgdGltZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGlzVmFsaWRGb3JtYXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBkZWNvZGVkID0gZGVjb2RlKHRva2VuKSwgY2xhaW1zID0gZGVjb2RlZC5jbGFpbXM7XHJcbiAgICByZXR1cm4gISFjbGFpbXMgJiYgdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKTtcclxufTtcclxuLyoqXHJcbiAqIEF0dGVtcHRzIHRvIHBlZXIgaW50byBhbiBhdXRoIHRva2VuIGFuZCBkZXRlcm1pbmUgaWYgaXQncyBhbiBhZG1pbiBhdXRoIHRva2VuIGJ5IGxvb2tpbmcgYXQgdGhlIGNsYWltcyBwb3J0aW9uLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG52YXIgaXNBZG1pbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltc1snYWRtaW4nXSA9PT0gdHJ1ZTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gY29udGFpbnMob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59XHJcbmZ1bmN0aW9uIHNhZmVHZXQob2JqLCBrZXkpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc0VtcHR5KG9iaikge1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBtYXAob2JqLCBmbiwgY29udGV4dE9iaikge1xyXG4gICAgdmFyIHJlcyA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXldID0gZm4uY2FsbChjb250ZXh0T2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyoqXHJcbiAqIERlZXAgZXF1YWwgdHdvIG9iamVjdHMuIFN1cHBvcnQgQXJyYXlzIGFuZCBPYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcclxuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBhS2V5c18xID0gYUtleXM7IF9pIDwgYUtleXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgayA9IGFLZXlzXzFbX2ldO1xyXG4gICAgICAgIGlmICghYktleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYVByb3AgPSBhW2tdO1xyXG4gICAgICAgIHZhciBiUHJvcCA9IGJba107XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGFQcm9wKSAmJiBpc09iamVjdChiUHJvcCkpIHtcclxuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYVByb3AsIGJQcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFQcm9wICE9PSBiUHJvcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2EgPSAwLCBiS2V5c18xID0gYktleXM7IF9hIDwgYktleXNfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICB2YXIgayA9IGJLZXlzXzFbX2FdO1xyXG4gICAgICAgIGlmICghYUtleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHRoaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHF1ZXJ5c3RyaW5nLWZvcm1hdHRlZCBzdHJpbmcgKGUuZy4gJmFyZz12YWwmYXJnMj12YWwyKSBmcm9tIGFcclxuICogcGFyYW1zIG9iamVjdCAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICogTm90ZTogWW91IG11c3QgcHJlcGVuZCBpdCB3aXRoID8gd2hlbiBhZGRpbmcgaXQgdG8gYSBVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeXN0cmluZ1BhcmFtcykge1xyXG4gICAgdmFyIHBhcmFtcyA9IFtdO1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChhcnJheVZhbCkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJyYXlWYWwpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMocXVlcnlzdHJpbmdQYXJhbXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XHJcbiAgICAgICAgX2xvb3BfMShrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJhbXMubGVuZ3RoID8gJyYnICsgcGFyYW1zLmpvaW4oJyYnKSA6ICcnO1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgcXVlcnlzdHJpbmcgKGUuZy4gP2FyZz12YWwmYXJnMj12YWwyKSBpbnRvIGEgcGFyYW1zIG9iamVjdFxyXG4gKiAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nRGVjb2RlKHF1ZXJ5c3RyaW5nKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICB2YXIgdG9rZW5zID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sICcnKS5zcGxpdCgnJicpO1xyXG4gICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRva2VuLnNwbGl0KCc9JyksIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xyXG4gICAgICAgICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmo7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3QgdGhlIHF1ZXJ5IHN0cmluZyBwYXJ0IG9mIGEgVVJMLCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgcXVlc3Rpb24gbWFyayAoaWYgcHJlc2VudCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0UXVlcnlzdHJpbmcodXJsKSB7XHJcbiAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XHJcbiAgICBpZiAoIXF1ZXJ5U3RhcnQpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICB2YXIgZnJhZ21lbnRTdGFydCA9IHVybC5pbmRleE9mKCcjJywgcXVlcnlTdGFydCk7XHJcbiAgICByZXR1cm4gdXJsLnN1YnN0cmluZyhxdWVyeVN0YXJ0LCBmcmFnbWVudFN0YXJ0ID4gMCA/IGZyYWdtZW50U3RhcnQgOiB1bmRlZmluZWQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaC5cclxuICogVmFyaWFibGUgbmFtZXMgZm9sbG93IHRoZSBub3RhdGlvbiBpbiBGSVBTIFBVQiAxODAtMzpcclxuICogaHR0cDovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2ZpcHMvZmlwczE4MC0zL2ZpcHMxODAtM19maW5hbC5wZGYuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKiAgIHZhciBzaGExID0gbmV3IHNoYTEoKTtcclxuICogICBzaGExLnVwZGF0ZShieXRlcyk7XHJcbiAqICAgdmFyIGhhc2ggPSBzaGExLmRpZ2VzdCgpO1xyXG4gKlxyXG4gKiBQZXJmb3JtYW5jZTpcclxuICogICBDaHJvbWUgMjM6ICAgfjQwMCBNYml0L3NcclxuICogICBGaXJlZm94IDE2OiAgfjI1MCBNYml0L3NcclxuICpcclxuICovXHJcbi8qKlxyXG4gKiBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2ggY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIFRoZSBwcm9wZXJ0aWVzIGRlY2xhcmVkIGhlcmUgYXJlIGRpc2N1c3NlZCBpbiB0aGUgYWJvdmUgYWxnb3JpdGhtIGRvY3VtZW50LlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGZpbmFsXHJcbiAqIEBzdHJ1Y3RcclxuICovXHJcbnZhciBTaGExID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2hhMSgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIb2xkcyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIGFjY3VtdWxhdGVkIHZhcmlhYmxlcyBhLWUgaW4gdGhlIGNvbXByZXNzX1xyXG4gICAgICAgICAqIGZ1bmN0aW9uLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jaGFpbl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGJ1ZmZlciBob2xkaW5nIHRoZSBwYXJ0aWFsbHkgY29tcHV0ZWQgaGFzaCByZXN1bHQuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmJ1Zl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBhcnJheSBvZiA4MCBieXRlcywgZWFjaCBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgdG8gYmUgaGFzaGVkLiAgUmVmZXJyZWQgdG9cclxuICAgICAgICAgKiBhcyB0aGUgbWVzc2FnZSBzY2hlZHVsZSBpbiB0aGUgZG9jcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuV18gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb250YWlucyBkYXRhIG5lZWRlZCB0byBwYWQgbWVzc2FnZXMgbGVzcyB0aGFuIDY0IGJ5dGVzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wYWRfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSA1MTIgLyA4O1xyXG4gICAgICAgIHRoaXMucGFkX1swXSA9IDEyODtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuYmxvY2tTaXplOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWRfW2ldID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgU2hhMS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAweDY3NDUyMzAxO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gMHhlZmNkYWI4OTtcclxuICAgICAgICB0aGlzLmNoYWluX1syXSA9IDB4OThiYWRjZmU7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAweDEwMzI1NDc2O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gMHhjM2QyZTFmMDtcclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgY29tcHJlc3MgaGVscGVyIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGJ1ZiBCbG9jayB0byBjb21wcmVzcy5cclxuICAgICAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgU2hhMS5wcm90b3R5cGUuY29tcHJlc3NfID0gZnVuY3Rpb24gKGJ1Ziwgb2Zmc2V0KSB7XHJcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIFcgPSB0aGlzLldfO1xyXG4gICAgICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCkgPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAyKSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDMpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXRdIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAyXSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltvZmZzZXQgKyAzXTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV4cGFuZCB0byA4MCB3b3Jkc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHQgPSBXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdO1xyXG4gICAgICAgICAgICBXW2ldID0gKCh0IDw8IDEpIHwgKHQgPj4+IDMxKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYSA9IHRoaXMuY2hhaW5fWzBdO1xyXG4gICAgICAgIHZhciBiID0gdGhpcy5jaGFpbl9bMV07XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNoYWluX1syXTtcclxuICAgICAgICB2YXIgZCA9IHRoaXMuY2hhaW5fWzNdO1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5jaGFpbl9bNF07XHJcbiAgICAgICAgdmFyIGYsIGs7XHJcbiAgICAgICAgLy8gVE9ETyh1c2VyKTogVHJ5IHRvIHVucm9sbCB0aGlzIGxvb3AgdG8gc3BlZWQgdXAgdGhlIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA8IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGQgXiAoYiAmIChjIF4gZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDVhODI3OTk5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg2ZWQ5ZWJhMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gKGIgJiBjKSB8IChkICYgKGIgfCBjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4OGYxYmJjZGM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweGNhNjJjMWQ2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0ID0gKCgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZiArIGUgKyBrICsgV1tpXSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBlID0gZDtcclxuICAgICAgICAgICAgZCA9IGM7XHJcbiAgICAgICAgICAgIGMgPSAoKGIgPDwgMzApIHwgKGIgPj4+IDIpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGIgPSBhO1xyXG4gICAgICAgICAgICBhID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAodGhpcy5jaGFpbl9bMF0gKyBhKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAodGhpcy5jaGFpbl9bMV0gKyBiKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAodGhpcy5jaGFpbl9bMl0gKyBjKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAodGhpcy5jaGFpbl9bM10gKyBkKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAodGhpcy5jaGFpbl9bNF0gKyBlKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICB9O1xyXG4gICAgU2hhMS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGJ5dGVzLCBsZW5ndGgpIHtcclxuICAgICAgICAvLyBUT0RPKGpvaG5sZW56KTogdGlnaHRlbiB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZW1vdmUgdGhpcyBjaGVja1xyXG4gICAgICAgIGlmIChieXRlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxlbmd0aE1pbnVzQmxvY2sgPSBsZW5ndGggLSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgLy8gVXNpbmcgbG9jYWwgaW5zdGVhZCBvZiBtZW1iZXIgdmFyaWFibGVzIGdpdmVzIH41JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYuXHJcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmXztcclxuICAgICAgICB2YXIgaW5idWYgPSB0aGlzLmluYnVmXztcclxuICAgICAgICAvLyBUaGUgb3V0ZXIgd2hpbGUgbG9vcCBzaG91bGQgZXhlY3V0ZSBhdCBtb3N0IHR3aWNlLlxyXG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxyXG4gICAgICAgICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XHJcbiAgICAgICAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cclxuICAgICAgICAgICAgaWYgKGluYnVmID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8PSBsZW5ndGhNaW51c0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG4gKz0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5idWZfID0gaW5idWY7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gKz0gbGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIFNoYTEucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZGlnZXN0ID0gW107XHJcbiAgICAgICAgdmFyIHRvdGFsQml0cyA9IHRoaXMudG90YWxfICogODtcclxuICAgICAgICAvLyBBZGQgcGFkIDB4ODAgMHgwMCouXHJcbiAgICAgICAgaWYgKHRoaXMuaW5idWZfIDwgNTYpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCA1NiAtIHRoaXMuaW5idWZfKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgdGhpcy5ibG9ja1NpemUgLSAodGhpcy5pbmJ1Zl8gLSA1NikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgIyBiaXRzLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmJsb2NrU2l6ZSAtIDE7IGkgPj0gNTY7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1Zl9baV0gPSB0b3RhbEJpdHMgJiAyNTU7XHJcbiAgICAgICAgICAgIHRvdGFsQml0cyAvPSAyNTY7IC8vIERvbid0IHVzZSBiaXQtc2hpZnRpbmcgaGVyZSFcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wcmVzc18odGhpcy5idWZfKTtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xyXG4gICAgICAgICAgICAgICAgZGlnZXN0W25dID0gKHRoaXMuY2hhaW5fW2ldID4+IGopICYgMjU1O1xyXG4gICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaWdlc3Q7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNoYTE7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBIZWxwZXIgdG8gbWFrZSBhIFN1YnNjcmliZSBmdW5jdGlvbiAoanVzdCBsaWtlIFByb21pc2UgaGVscHMgbWFrZSBhXHJcbiAqIFRoZW5hYmxlKS5cclxuICpcclxuICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAqICAgICBhcyBhIHByb3h5LlxyXG4gKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdWJzY3JpYmUoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgIHZhciBwcm94eSA9IG5ldyBPYnNlcnZlclByb3h5KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKTtcclxuICAgIHJldHVybiBwcm94eS5zdWJzY3JpYmUuYmluZChwcm94eSk7XHJcbn1cclxuLyoqXHJcbiAqIEltcGxlbWVudCBmYW4tb3V0IGZvciBhbnkgbnVtYmVyIG9mIE9ic2VydmVycyBhdHRhY2hlZCB2aWEgYSBzdWJzY3JpYmVcclxuICogZnVuY3Rpb24uXHJcbiAqL1xyXG52YXIgT2JzZXJ2ZXJQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAgICAgKiAgICAgYXMgYSBwcm94eS5cclxuICAgICAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXJQcm94eShleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCA9IDA7XHJcbiAgICAgICAgLy8gTWljcm8tdGFzayBzY2hlZHVsaW5nIGJ5IGNhbGxpbmcgdGFzay50aGVuKCkuXHJcbiAgICAgICAgdGhpcy50YXNrID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSBvbk5vT2JzZXJ2ZXJzO1xyXG4gICAgICAgIC8vIENhbGwgdGhlIGV4ZWN1dG9yIGFzeW5jaHJvbm91c2x5IHNvIHN1YnNjcmliZXJzIHRoYXQgYXJlIGNhbGxlZFxyXG4gICAgICAgIC8vIHN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBzdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgICAgICAvLyBjYW4gc3RpbGwgcmVjZWl2ZSB0aGUgdmVyeSBmaXJzdCB2YWx1ZSBnZW5lcmF0ZWQgaW4gdGhlIGV4ZWN1dG9yLlxyXG4gICAgICAgIHRoaXMudGFza1xyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGV4ZWN1dG9yKF90aGlzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuZXJyb3IoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKGVycm9yKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgYW4gT2JzZXJ2ZXIgdG8gdGhlIGZhbi1vdXQgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiAtIFdlIHJlcXVpcmUgdGhhdCBubyBldmVudCBpcyBzZW50IHRvIGEgc3Vic2NyaWJlciBzeWNocm9ub3VzbHkgdG8gdGhlaXJcclxuICAgICAqICAgY2FsbCB0byBzdWJzY3JpYmUoKS5cclxuICAgICAqL1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvYnNlcnZlcjtcclxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBlcnJvciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE9ic2VydmVyLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBc3NlbWJsZSBhbiBPYnNlcnZlciBvYmplY3Qgd2hlbiBwYXNzZWQgYXMgY2FsbGJhY2sgZnVuY3Rpb25zLlxyXG4gICAgICAgIGlmIChpbXBsZW1lbnRzQW55TWV0aG9kcyhuZXh0T3JPYnNlcnZlciwgW1xyXG4gICAgICAgICAgICAnbmV4dCcsXHJcbiAgICAgICAgICAgICdlcnJvcicsXHJcbiAgICAgICAgICAgICdjb21wbGV0ZSdcclxuICAgICAgICBdKSkge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5leHRPck9ic2VydmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiBuZXh0T3JPYnNlcnZlcixcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuc3ViID0gdGhpcy51bnN1YnNjcmliZU9uZS5iaW5kKHRoaXMsIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBzdWJzY3JpYmUgdG8gYSB0ZXJtaW5hdGVkIE9ic2VydmFibGUgLSB3ZVxyXG4gICAgICAgIC8vIGp1c3QgcmVzcG9uZCB0byB0aGUgT2JzZXJ2ZXIgd2l0aCB0aGUgZmluYWwgZXJyb3Igb3IgY29tcGxldGVcclxuICAgICAgICAvLyBldmVudC5cclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5maW5hbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKF90aGlzLmZpbmFsRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIHJldHVybiB1bnN1YjtcclxuICAgIH07XHJcbiAgICAvLyBVbnN1YnNjcmliZSBpcyBzeW5jaHJvbm91cyAtIHdlIGd1YXJhbnRlZSB0aGF0IG5vIGV2ZW50cyBhcmUgc2VudCB0b1xyXG4gICAgLy8gYW55IHVuc3Vic2NyaWJlZCBPYnNlcnZlci5cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLnVuc3Vic2NyaWJlT25lID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9ic2VydmVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCAtPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyQ291bnQgPT09IDAgJiYgdGhpcy5vbk5vT2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5mb3JFYWNoT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBjbG9zZWQgYnkgcHJldmlvdXMgZXZlbnQuLi4uanVzdCBlYXQgdGhlIGFkZGl0aW9uYWwgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNpbmNlIHNlbmRPbmUgY2FsbHMgYXN5bmNocm9ub3VzbHkgLSB0aGVyZSBpcyBubyBjaGFuY2UgdGhhdFxyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2ZXJzIHdpbGwgYmVjb21lIHVuZGVmaW5lZC5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE9uZShpLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIENhbGwgdGhlIE9ic2VydmVyIHZpYSBvbmUgb2YgaXQncyBjYWxsYmFjayBmdW5jdGlvbi4gV2UgYXJlIGNhcmVmdWwgdG9cclxuICAgIC8vIGNvbmZpcm0gdGhhdCB0aGUgb2JzZXJ2ZSBoYXMgbm90IGJlZW4gdW5zdWJzY3JpYmVkIHNpbmNlIHRoaXMgYXN5bmNocm9ub3VzXHJcbiAgICAvLyBmdW5jdGlvbiBoYWQgYmVlbiBxdWV1ZWQuXHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5zZW5kT25lID0gZnVuY3Rpb24gKGksIGZuKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiBfdGhpcy5vYnNlcnZlcnNbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmbihfdGhpcy5vYnNlcnZlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ic2VydmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBfdGhpcy5vbk5vT2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPYnNlcnZlclByb3h5O1xyXG59KCkpO1xyXG4vKiogVHVybiBzeW5jaHJvbm91cyBmdW5jdGlvbiBpbnRvIG9uZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmZ1bmN0aW9uIGFzeW5jKGZuLCBvbkVycm9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmbi5hcHBseSh2b2lkIDAsIGFyZ3MpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpbiBpbXBsZW1lbnRzIGFueSBvZiB0aGUgbmFtZWQgbWV0aG9kcy5cclxuICovXHJcbmZ1bmN0aW9uIGltcGxlbWVudHNBbnlNZXRob2RzKG9iaiwgbWV0aG9kcykge1xyXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIF9pID0gMCwgbWV0aG9kc18xID0gbWV0aG9kczsgX2kgPCBtZXRob2RzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIG1ldGhvZCA9IG1ldGhvZHNfMVtfaV07XHJcbiAgICAgICAgaWYgKG1ldGhvZCBpbiBvYmogJiYgdHlwZW9mIG9ialttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBub29wKCkge1xyXG4gICAgLy8gZG8gbm90aGluZ1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cclxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBtaW5Db3VudCBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gYXJnQ291bnQgVGhlIGFjdHVhbCBudW1iZXIgb2YgYXJndW1lbnRzIHByb3ZpZGVkLlxyXG4gKi9cclxudmFyIHZhbGlkYXRlQXJnQ291bnQgPSBmdW5jdGlvbiAoZm5OYW1lLCBtaW5Db3VudCwgbWF4Q291bnQsIGFyZ0NvdW50KSB7XHJcbiAgICB2YXIgYXJnRXJyb3I7XHJcbiAgICBpZiAoYXJnQ291bnQgPCBtaW5Db3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gJ2F0IGxlYXN0ICcgKyBtaW5Db3VudDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFyZ0NvdW50ID4gbWF4Q291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9IG1heENvdW50ID09PSAwID8gJ25vbmUnIDogJ25vIG1vcmUgdGhhbiAnICsgbWF4Q291bnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnRXJyb3IpIHtcclxuICAgICAgICB2YXIgZXJyb3IgPSBmbk5hbWUgK1xyXG4gICAgICAgICAgICAnIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoICcgK1xyXG4gICAgICAgICAgICBhcmdDb3VudCArXHJcbiAgICAgICAgICAgIChhcmdDb3VudCA9PT0gMSA/ICcgYXJndW1lbnQuJyA6ICcgYXJndW1lbnRzLicpICtcclxuICAgICAgICAgICAgJyBFeHBlY3RzICcgK1xyXG4gICAgICAgICAgICBhcmdFcnJvciArXHJcbiAgICAgICAgICAgICcuJztcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHRvIHByZWZpeCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IGZhaWxlZCBhcmd1bWVudCB2YWxpZGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIGFyZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGFyZ3VtZW50XHJcbiAqIEByZXR1cm4gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZSwgYXJnTmFtZSkge1xyXG4gICAgcmV0dXJuIGZuTmFtZSArIFwiIGZhaWxlZDogXCIgKyBhcmdOYW1lICsgXCIgYXJndW1lbnQgXCI7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSBmbk5hbWVcclxuICogQHBhcmFtIGFyZ3VtZW50TnVtYmVyXHJcbiAqIEBwYXJhbSBuYW1lc3BhY2VcclxuICogQHBhcmFtIG9wdGlvbmFsXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWVzcGFjZShmbk5hbWUsIG5hbWVzcGFjZSwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhbmFtZXNwYWNlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy9UT0RPOiBJIHNob3VsZCBkbyBtb3JlIHZhbGlkYXRpb24gaGVyZS4gV2Ugb25seSBhbGxvdyBjZXJ0YWluIGNoYXJzIGluIG5hbWVzcGFjZXMuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgJ25hbWVzcGFjZScpICsgJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBuYW1lc3BhY2UuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhmbk5hbWUsIGFyZ3VtZW50TmFtZSwgXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmNhbGxiYWNrLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRPYmplY3QoZm5OYW1lLCBhcmd1bWVudE5hbWUsIGNvbnRleHQsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdvYmplY3QnIHx8IGNvbnRleHQgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBDb2RlIG9yaWdpbmFsbHkgY2FtZSBmcm9tIGdvb2cuY3J5cHQuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5LCBidXQgZm9yIHNvbWUgcmVhc29uIHRoZXlcclxuLy8gYXV0b21hdGljYWxseSByZXBsYWNlZCAnXFxyXFxuJyB3aXRoICdcXG4nLCBhbmQgdGhleSBkaWRuJ3QgaGFuZGxlIHN1cnJvZ2F0ZSBwYWlycyxcclxuLy8gc28gaXQncyBiZWVuIG1vZGlmaWVkLlxyXG4vLyBOb3RlIHRoYXQgbm90IGFsbCBVbmljb2RlIGNoYXJhY3RlcnMgYXBwZWFyIGFzIHNpbmdsZSBjaGFyYWN0ZXJzIGluIEphdmFTY3JpcHQgc3RyaW5ncy5cclxuLy8gZnJvbUNoYXJDb2RlIHJldHVybnMgdGhlIFVURi0xNiBlbmNvZGluZyBvZiBhIGNoYXJhY3RlciAtIHNvIHNvbWUgVW5pY29kZSBjaGFyYWN0ZXJzXHJcbi8vIHVzZSAyIGNoYXJhY3RlcnMgaW4gSmF2YXNjcmlwdC4gIEFsbCA0LWJ5dGUgVVRGLTggY2hhcmFjdGVycyBiZWdpbiB3aXRoIGEgZmlyc3RcclxuLy8gY2hhcmFjdGVyIGluIHRoZSByYW5nZSAweEQ4MDAgLSAweERCRkYgKHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzby1jYWxsZWQgc3Vycm9nYXRlXHJcbi8vIHBhaXIpLlxyXG4vLyBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjEuM1xyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXHJcbnZhciBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBvdXQgPSBbXTtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAvLyBJcyB0aGlzIHRoZSBsZWFkIHN1cnJvZ2F0ZSBpbiBhIHN1cnJvZ2F0ZSBwYWlyP1xyXG4gICAgICAgIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICB2YXIgaGlnaCA9IGMgLSAweGQ4MDA7IC8vIHRoZSBoaWdoIDEwIGJpdHMuXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgYXNzZXJ0KGkgPCBzdHIubGVuZ3RoLCAnU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuJyk7XHJcbiAgICAgICAgICAgIHZhciBsb3cgPSBzdHIuY2hhckNvZGVBdChpKSAtIDB4ZGMwMDsgLy8gdGhlIGxvdyAxMCBiaXRzLlxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArIChoaWdoIDw8IDEwKSArIGxvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgNjU1MzYpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBsZW5ndGggd2l0aG91dCBhY3R1YWxseSBjb252ZXJ0aW5nOyB1c2VmdWwgZm9yIGRvaW5nIGNoZWFwZXIgdmFsaWRhdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG52YXIgc3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIHAgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIHArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgcCArPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICAvLyBMZWFkIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLiAgVGhlIHBhaXIgdG9nZXRoZXIgd2lsbCB0YWtlIDQgYnl0ZXMgdG8gcmVwcmVzZW50LlxyXG4gICAgICAgICAgICBwICs9IDQ7XHJcbiAgICAgICAgICAgIGkrKzsgLy8gc2tpcCB0cmFpbCBzdXJyb2dhdGUuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwICs9IDM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHA7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgYW1vdW50IG9mIG1pbGxpc2Vjb25kcyB0byBleHBvbmVudGlhbGx5IGluY3JlYXNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfSU5URVJWQUxfTUlMTElTID0gMTAwMDtcclxuLyoqXHJcbiAqIFRoZSBmYWN0b3IgdG8gYmFja29mZiBieS5cclxuICogU2hvdWxkIGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxLlxyXG4gKi9cclxudmFyIERFRkFVTFRfQkFDS09GRl9GQUNUT1IgPSAyO1xyXG4vKipcclxuICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRvIGluY3JlYXNlIHRvLlxyXG4gKlxyXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG52YXIgTUFYX1ZBTFVFX01JTExJUyA9IDQgKiA2MCAqIDYwICogMTAwMDsgLy8gRm91ciBob3VycywgbGlrZSBpT1MgYW5kIEFuZHJvaWQuXHJcbi8qKlxyXG4gKiBUaGUgcGVyY2VudGFnZSBvZiBiYWNrb2ZmIHRpbWUgdG8gcmFuZG9taXplIGJ5LlxyXG4gKiBTZWVcclxuICogaHR0cDovL2dvL3NhZmUtY2xpZW50LWJlaGF2aW9yI3N0ZXAtMS1kZXRlcm1pbmUtdGhlLWFwcHJvcHJpYXRlLXJldHJ5LWludGVydmFsLXRvLWhhbmRsZS1zcGlrZS10cmFmZmljXHJcbiAqIGZvciBjb250ZXh0LlxyXG4gKlxyXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG52YXIgUkFORE9NX0ZBQ1RPUiA9IDAuNTtcclxuLyoqXHJcbiAqIEJhc2VkIG9uIHRoZSBiYWNrb2ZmIG1ldGhvZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9tYXRoL2V4cG9uZW50aWFsYmFja29mZi5qcy5cclxuICogRXh0cmFjdGVkIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byBwYXNzIG1ldGFkYXRhIGFuZCBhIHN0YXRlZnVsIEV4cG9uZW50aWFsQmFja29mZiBvYmplY3QgYXJvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIGludGVydmFsTWlsbGlzLCBiYWNrb2ZmRmFjdG9yKSB7XHJcbiAgICBpZiAoaW50ZXJ2YWxNaWxsaXMgPT09IHZvaWQgMCkgeyBpbnRlcnZhbE1pbGxpcyA9IERFRkFVTFRfSU5URVJWQUxfTUlMTElTOyB9XHJcbiAgICBpZiAoYmFja29mZkZhY3RvciA9PT0gdm9pZCAwKSB7IGJhY2tvZmZGYWN0b3IgPSBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SOyB9XHJcbiAgICAvLyBDYWxjdWxhdGVzIGFuIGV4cG9uZW50aWFsbHkgaW5jcmVhc2luZyB2YWx1ZS5cclxuICAgIC8vIERldmlhdGlvbjogY2FsY3VsYXRlcyB2YWx1ZSBmcm9tIGNvdW50IGFuZCBhIGNvbnN0YW50IGludGVydmFsLCBzbyB3ZSBvbmx5IG5lZWQgdG8gc2F2ZSB2YWx1ZVxyXG4gICAgLy8gYW5kIGNvdW50IHRvIHJlc3RvcmUgc3RhdGUuXHJcbiAgICB2YXIgY3VyckJhc2VWYWx1ZSA9IGludGVydmFsTWlsbGlzICogTWF0aC5wb3coYmFja29mZkZhY3RvciwgYmFja29mZkNvdW50KTtcclxuICAgIC8vIEEgcmFuZG9tIFwiZnV6elwiIHRvIGF2b2lkIHdhdmVzIG9mIHJldHJpZXMuXHJcbiAgICAvLyBEZXZpYXRpb246IHJhbmRvbUZhY3RvciBpcyByZXF1aXJlZC5cclxuICAgIHZhciByYW5kb21XYWl0ID0gTWF0aC5yb3VuZChcclxuICAgIC8vIEEgZnJhY3Rpb24gb2YgdGhlIGJhY2tvZmYgdmFsdWUgdG8gYWRkL3N1YnRyYWN0LlxyXG4gICAgLy8gRGV2aWF0aW9uOiBjaGFuZ2VzIG11bHRpcGxpY2F0aW9uIG9yZGVyIHRvIGltcHJvdmUgcmVhZGFiaWxpdHkuXHJcbiAgICBSQU5ET01fRkFDVE9SICpcclxuICAgICAgICBjdXJyQmFzZVZhbHVlICpcclxuICAgICAgICAvLyBBIHJhbmRvbSBmbG9hdCAocm91bmRlZCB0byBpbnQgYnkgTWF0aC5yb3VuZCBhYm92ZSkgaW4gdGhlIHJhbmdlIFstMSwgMV0uIERldGVybWluZXNcclxuICAgICAgICAvLyBpZiB3ZSBhZGQgb3Igc3VidHJhY3QuXHJcbiAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICpcclxuICAgICAgICAyKTtcclxuICAgIC8vIExpbWl0cyBiYWNrb2ZmIHRvIG1heCB0byBhdm9pZCBlZmZlY3RpdmVseSBwZXJtYW5lbnQgYmFja29mZi5cclxuICAgIHJldHVybiBNYXRoLm1pbihNQVhfVkFMVUVfTUlMTElTLCBjdXJyQmFzZVZhbHVlICsgcmFuZG9tV2FpdCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3ZpZGUgRW5nbGlzaCBvcmRpbmFsIGxldHRlcnMgYWZ0ZXIgYSBudW1iZXJcclxuICovXHJcbmZ1bmN0aW9uIG9yZGluYWwoaSkge1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaSkpIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaSArIGluZGljYXRvcihpKTtcclxufVxyXG5mdW5jdGlvbiBpbmRpY2F0b3IoaSkge1xyXG4gICAgaSA9IE1hdGguYWJzKGkpO1xyXG4gICAgdmFyIGNlbnQgPSBpICUgMTAwO1xyXG4gICAgaWYgKGNlbnQgPj0gMTAgJiYgY2VudCA8PSAyMCkge1xyXG4gICAgICAgIHJldHVybiAndGgnO1xyXG4gICAgfVxyXG4gICAgdmFyIGRlYyA9IGkgJSAxMDtcclxuICAgIGlmIChkZWMgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gJ3N0JztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gJ25kJztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDMpIHtcclxuICAgICAgICByZXR1cm4gJ3JkJztcclxuICAgIH1cclxuICAgIHJldHVybiAndGgnO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldE1vZHVsYXJJbnN0YW5jZShzZXJ2aWNlKSB7XHJcbiAgICBpZiAoc2VydmljZSAmJiBzZXJ2aWNlLl9kZWxlZ2F0ZSkge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlLl9kZWxlZ2F0ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IENPTlNUQU5UUywgRGVmZXJyZWQsIEVycm9yRmFjdG9yeSwgRmlyZWJhc2VFcnJvciwgTUFYX1ZBTFVFX01JTExJUywgUkFORE9NX0ZBQ1RPUiwgU2hhMSwgYXJlQ29va2llc0VuYWJsZWQsIGFzc2VydCwgYXNzZXJ0aW9uRXJyb3IsIGFzeW5jLCBiYXNlNjQsIGJhc2U2NERlY29kZSwgYmFzZTY0RW5jb2RlLCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZywgY2FsY3VsYXRlQmFja29mZk1pbGxpcywgY29udGFpbnMsIGNyZWF0ZU1vY2tVc2VyVG9rZW4sIGNyZWF0ZVN1YnNjcmliZSwgZGVjb2RlLCBkZWVwQ29weSwgZGVlcEVxdWFsLCBkZWVwRXh0ZW5kLCBlcnJvclByZWZpeCwgZXh0cmFjdFF1ZXJ5c3RyaW5nLCBnZXRHbG9iYWwsIGdldE1vZHVsYXJJbnN0YW5jZSwgZ2V0VUEsIGlzQWRtaW4sIGlzQnJvd3NlciwgaXNCcm93c2VyRXh0ZW5zaW9uLCBpc0VsZWN0cm9uLCBpc0VtcHR5LCBpc0lFLCBpc0luZGV4ZWREQkF2YWlsYWJsZSwgaXNNb2JpbGVDb3Jkb3ZhLCBpc05vZGUsIGlzTm9kZVNkaywgaXNSZWFjdE5hdGl2ZSwgaXNTYWZhcmksIGlzVVdQLCBpc1ZhbGlkRm9ybWF0LCBpc1ZhbGlkVGltZXN0YW1wLCBpc3N1ZWRBdFRpbWUsIGpzb25FdmFsLCBtYXAsIG9yZGluYWwsIHF1ZXJ5c3RyaW5nLCBxdWVyeXN0cmluZ0RlY29kZSwgc2FmZUdldCwgc3RyaW5nTGVuZ3RoLCBzdHJpbmdUb0J5dGVBcnJheSwgc3RyaW5naWZ5LCB2YWxpZGF0ZUFyZ0NvdW50LCB2YWxpZGF0ZUNhbGxiYWNrLCB2YWxpZGF0ZUNvbnRleHRPYmplY3QsIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUsIHZhbGlkYXRlTmFtZXNwYWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyByZWdpc3RlclZlcnNpb24gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCI5LjAuMlwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG52YXIgaywgZ29vZyA9IGdvb2cgfHwge30sIGwgPSBjb21tb25qc0dsb2JhbCB8fCBzZWxmO1xyXG5mdW5jdGlvbiBhYSgpIHsgfVxyXG5mdW5jdGlvbiBiYShhKSB7IHZhciBiID0gdHlwZW9mIGE7IGIgPSBcIm9iamVjdFwiICE9IGIgPyBiIDogYSA/IEFycmF5LmlzQXJyYXkoYSkgPyBcImFycmF5XCIgOiBiIDogXCJudWxsXCI7IHJldHVybiBcImFycmF5XCIgPT0gYiB8fCBcIm9iamVjdFwiID09IGIgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2YgYS5sZW5ndGg7IH1cclxuZnVuY3Rpb24gcChhKSB7IHZhciBiID0gdHlwZW9mIGE7IHJldHVybiBcIm9iamVjdFwiID09IGIgJiYgbnVsbCAhPSBhIHx8IFwiZnVuY3Rpb25cIiA9PSBiOyB9XHJcbmZ1bmN0aW9uIGRhKGEpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBlYSkgJiYgYVtlYV0gfHwgKGFbZWFdID0gKytmYSk7IH1cclxudmFyIGVhID0gXCJjbG9zdXJlX3VpZF9cIiArICgxRTkgKiBNYXRoLnJhbmRvbSgpID4+PiAwKSwgZmEgPSAwO1xyXG5mdW5jdGlvbiBoYShhLCBiLCBjKSB7IHJldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLCBhcmd1bWVudHMpOyB9XHJcbmZ1bmN0aW9uIGlhKGEsIGIsIGMpIHsgaWYgKCFhKVxyXG4gICAgdGhyb3cgRXJyb3IoKTsgaWYgKDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB2YXIgZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7IEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGUsIGQpOyByZXR1cm4gYS5hcHBseShiLCBlKTsgfTtcclxufSByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gYS5hcHBseShiLCBhcmd1bWVudHMpOyB9OyB9XHJcbmZ1bmN0aW9uIHEoYSwgYiwgYykgeyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAmJiAtMSAhPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKSA/IHEgPSBoYSA6IHEgPSBpYTsgcmV0dXJuIHEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxyXG5mdW5jdGlvbiBqYShhLCBiKSB7IHZhciBjID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIGQgPSBjLnNsaWNlKCk7IGQucHVzaC5hcHBseShkLCBhcmd1bWVudHMpOyByZXR1cm4gYS5hcHBseSh0aGlzLCBkKTsgfTsgfVxyXG5mdW5jdGlvbiB0KGEsIGIpIHsgZnVuY3Rpb24gYygpIHsgfSBjLnByb3RvdHlwZSA9IGIucHJvdG90eXBlOyBhLlogPSBiLnByb3RvdHlwZTsgYS5wcm90b3R5cGUgPSBuZXcgYzsgYS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBhOyBhLlZiID0gZnVuY3Rpb24gKGQsIGUsIGYpIHsgZm9yICh2YXIgaCA9IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAyKSwgbiA9IDI7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspXHJcbiAgICBoW24gLSAyXSA9IGFyZ3VtZW50c1tuXTsgcmV0dXJuIGIucHJvdG90eXBlW2VdLmFwcGx5KGQsIGgpOyB9OyB9XHJcbmZ1bmN0aW9uIHYoKSB7IHRoaXMucyA9IHRoaXMuczsgdGhpcy5vID0gdGhpcy5vOyB9XHJcbnZhciBrYSA9IDAsIGxhID0ge307XHJcbnYucHJvdG90eXBlLnMgPSAhMTtcclxudi5wcm90b3R5cGUubmEgPSBmdW5jdGlvbiAoKSB7IGlmICghdGhpcy5zICYmICh0aGlzLnMgPSAhMCwgdGhpcy5NKCksIDAgIT0ga2EpKSB7XHJcbiAgICB2YXIgYSA9IGRhKHRoaXMpO1xyXG4gICAgZGVsZXRlIGxhW2FdO1xyXG59IH07XHJcbnYucHJvdG90eXBlLk0gPSBmdW5jdGlvbiAoKSB7IGlmICh0aGlzLm8pXHJcbiAgICBmb3IgKDsgdGhpcy5vLmxlbmd0aDspXHJcbiAgICAgICAgdGhpcy5vLnNoaWZ0KCkoKTsgfTtcclxudmFyIG1hID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPyBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLCBiLCB2b2lkIDApOyB9IDogZnVuY3Rpb24gKGEsIGIpIHsgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhKVxyXG4gICAgcmV0dXJuIFwic3RyaW5nXCIgIT09IHR5cGVvZiBiIHx8IDEgIT0gYi5sZW5ndGggPyAtMSA6IGEuaW5kZXhPZihiLCAwKTsgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aDsgYysrKVxyXG4gICAgaWYgKGMgaW4gYSAmJiBhW2NdID09PSBiKVxyXG4gICAgICAgIHJldHVybiBjOyByZXR1cm4gLTE7IH0sIG5hID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2ggPyBmdW5jdGlvbiAoYSwgYiwgYykgeyBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsIGIsIGMpOyB9IDogZnVuY3Rpb24gKGEsIGIsIGMpIHsgdmFyIGQgPSBhLmxlbmd0aCwgZSA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gYS5zcGxpdChcIlwiKSA6IGE7IGZvciAodmFyIGYgPSAwOyBmIDwgZDsgZisrKVxyXG4gICAgZiBpbiBlICYmIGIuY2FsbChjLCBlW2ZdLCBmLCBhKTsgfTtcclxuZnVuY3Rpb24gb2EoYSkgeyBhOiB7XHJcbiAgICB2YXIgYiA9IHBhO1xyXG4gICAgdmFyIGMgPSBhLmxlbmd0aCwgZCA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gYS5zcGxpdChcIlwiKSA6IGE7XHJcbiAgICBmb3IgKHZhciBlID0gMDsgZSA8IGM7IGUrKylcclxuICAgICAgICBpZiAoZSBpbiBkICYmIGIuY2FsbCh2b2lkIDAsIGRbZV0sIGUsIGEpKSB7XHJcbiAgICAgICAgICAgIGIgPSBlO1xyXG4gICAgICAgICAgICBicmVhayBhO1xyXG4gICAgICAgIH1cclxuICAgIGIgPSAtMTtcclxufSByZXR1cm4gMCA+IGIgPyBudWxsIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEgPyBhLmNoYXJBdChiKSA6IGFbYl07IH1cclxuZnVuY3Rpb24gcWEoYSkgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJndW1lbnRzKTsgfVxyXG5mdW5jdGlvbiByYShhKSB7IHZhciBiID0gYS5sZW5ndGg7IGlmICgwIDwgYikge1xyXG4gICAgdmFyIGMgPSBBcnJheShiKTtcclxuICAgIGZvciAodmFyIGQgPSAwOyBkIDwgYjsgZCsrKVxyXG4gICAgICAgIGNbZF0gPSBhW2RdO1xyXG4gICAgcmV0dXJuIGM7XHJcbn0gcmV0dXJuIFtdOyB9XHJcbmZ1bmN0aW9uIHNhKGEpIHsgcmV0dXJuIC9eW1xcc1xceGEwXSokLy50ZXN0KGEpOyB9XHJcbnZhciB0YSA9IFN0cmluZy5wcm90b3R5cGUudHJpbSA/IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLnRyaW0oKTsgfSA6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXltcXHNcXHhhMF0qKFtcXHNcXFNdKj8pW1xcc1xceGEwXSokLy5leGVjKGEpWzFdOyB9O1xyXG5mdW5jdGlvbiB3KGEsIGIpIHsgcmV0dXJuIC0xICE9IGEuaW5kZXhPZihiKTsgfVxyXG5mdW5jdGlvbiB1YShhLCBiKSB7IHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMDsgfVxyXG52YXIgeDtcclxuYToge1xyXG4gICAgdmFyIHZhID0gbC5uYXZpZ2F0b3I7XHJcbiAgICBpZiAodmEpIHtcclxuICAgICAgICB2YXIgd2EgPSB2YS51c2VyQWdlbnQ7XHJcbiAgICAgICAgaWYgKHdhKSB7XHJcbiAgICAgICAgICAgIHggPSB3YTtcclxuICAgICAgICAgICAgYnJlYWsgYTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB4ID0gXCJcIjtcclxufVxyXG5mdW5jdGlvbiB4YShhLCBiLCBjKSB7IGZvciAodmFyIGQgaW4gYSlcclxuICAgIGIuY2FsbChjLCBhW2RdLCBkLCBhKTsgfVxyXG5mdW5jdGlvbiB5YShhKSB7IHZhciBiID0ge307IGZvciAodmFyIGMgaW4gYSlcclxuICAgIGJbY10gPSBhW2NdOyByZXR1cm4gYjsgfVxyXG52YXIgemEgPSBcImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcclxuZnVuY3Rpb24gQWEoYSwgYikgeyB2YXIgYywgZDsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHtcclxuICAgIGQgPSBhcmd1bWVudHNbZV07XHJcbiAgICBmb3IgKGMgaW4gZClcclxuICAgICAgICBhW2NdID0gZFtjXTtcclxuICAgIGZvciAodmFyIGYgPSAwOyBmIDwgemEubGVuZ3RoOyBmKyspXHJcbiAgICAgICAgYyA9IHphW2ZdLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCwgYykgJiYgKGFbY10gPSBkW2NdKTtcclxufSB9XHJcbmZ1bmN0aW9uIENhKGEpIHsgQ2FbXCIgXCJdKGEpOyByZXR1cm4gYTsgfVxyXG5DYVtcIiBcIl0gPSBhYTtcclxuZnVuY3Rpb24gRmEoYSkgeyB2YXIgYiA9IEdhOyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIDkpID8gYls5XSA6IGJbOV0gPSBhKDkpOyB9XHJcbnZhciBIYSA9IHcoeCwgXCJPcGVyYVwiKSwgeSA9IHcoeCwgXCJUcmlkZW50XCIpIHx8IHcoeCwgXCJNU0lFXCIpLCBJYSA9IHcoeCwgXCJFZGdlXCIpLCBKYSA9IElhIHx8IHksIEthID0gdyh4LCBcIkdlY2tvXCIpICYmICEodyh4LnRvTG93ZXJDYXNlKCksIFwid2Via2l0XCIpICYmICF3KHgsIFwiRWRnZVwiKSkgJiYgISh3KHgsIFwiVHJpZGVudFwiKSB8fCB3KHgsIFwiTVNJRVwiKSkgJiYgIXcoeCwgXCJFZGdlXCIpLCBMYSA9IHcoeC50b0xvd2VyQ2FzZSgpLCBcIndlYmtpdFwiKSAmJiAhdyh4LCBcIkVkZ2VcIik7XHJcbmZ1bmN0aW9uIE1hKCkgeyB2YXIgYSA9IGwuZG9jdW1lbnQ7IHJldHVybiBhID8gYS5kb2N1bWVudE1vZGUgOiB2b2lkIDA7IH1cclxudmFyIE5hO1xyXG5hOiB7XHJcbiAgICB2YXIgT2EgPSBcIlwiLCBQYSA9IGZ1bmN0aW9uICgpIHsgdmFyIGEgPSB4OyBpZiAoS2EpXHJcbiAgICAgICAgcmV0dXJuIC9ydjooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTsgaWYgKElhKVxyXG4gICAgICAgIHJldHVybiAvRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGEpOyBpZiAoeSlcclxuICAgICAgICByZXR1cm4gL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpOyBpZiAoTGEpXHJcbiAgICAgICAgcmV0dXJuIC9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7IGlmIChIYSlcclxuICAgICAgICByZXR1cm4gLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhhKTsgfSgpO1xyXG4gICAgUGEgJiYgKE9hID0gUGEgPyBQYVsxXSA6IFwiXCIpO1xyXG4gICAgaWYgKHkpIHtcclxuICAgICAgICB2YXIgUWEgPSBNYSgpO1xyXG4gICAgICAgIGlmIChudWxsICE9IFFhICYmIFFhID4gcGFyc2VGbG9hdChPYSkpIHtcclxuICAgICAgICAgICAgTmEgPSBTdHJpbmcoUWEpO1xyXG4gICAgICAgICAgICBicmVhayBhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE5hID0gT2E7XHJcbn1cclxudmFyIEdhID0ge307XHJcbmZ1bmN0aW9uIFJhKCkgeyByZXR1cm4gRmEoZnVuY3Rpb24gKCkgeyB2YXIgYSA9IDA7IHZhciBiID0gdGEoU3RyaW5nKE5hKSkuc3BsaXQoXCIuXCIpLCBjID0gdGEoXCI5XCIpLnNwbGl0KFwiLlwiKSwgZCA9IE1hdGgubWF4KGIubGVuZ3RoLCBjLmxlbmd0aCk7IGZvciAodmFyIGggPSAwOyAwID09IGEgJiYgaCA8IGQ7IGgrKykge1xyXG4gICAgdmFyIGUgPSBiW2hdIHx8IFwiXCIsIGYgPSBjW2hdIHx8IFwiXCI7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgZSA9IC8oXFxkKikoXFxEKikoLiopLy5leGVjKGUpIHx8IFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXTtcclxuICAgICAgICBmID0gLyhcXGQqKShcXEQqKSguKikvLmV4ZWMoZikgfHwgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCJdO1xyXG4gICAgICAgIGlmICgwID09IGVbMF0ubGVuZ3RoICYmIDAgPT0gZlswXS5sZW5ndGgpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGEgPSB1YSgwID09IGVbMV0ubGVuZ3RoID8gMCA6IHBhcnNlSW50KGVbMV0sIDEwKSwgMCA9PSBmWzFdLmxlbmd0aCA/IDAgOiBwYXJzZUludChmWzFdLCAxMCkpIHx8IHVhKDAgPT0gZVsyXS5sZW5ndGgsIDAgPT0gZlsyXS5sZW5ndGgpIHx8IHVhKGVbMl0sIGZbMl0pO1xyXG4gICAgICAgIGUgPSBlWzNdO1xyXG4gICAgICAgIGYgPSBmWzNdO1xyXG4gICAgfSB3aGlsZSAoMCA9PSBhKTtcclxufSByZXR1cm4gMCA8PSBhOyB9KTsgfVxyXG52YXIgU2E7XHJcbmlmIChsLmRvY3VtZW50ICYmIHkpIHtcclxuICAgIHZhciBUYSA9IE1hKCk7XHJcbiAgICBTYSA9IFRhID8gVGEgOiBwYXJzZUludChOYSwgMTApIHx8IHZvaWQgMDtcclxufVxyXG5lbHNlXHJcbiAgICBTYSA9IHZvaWQgMDtcclxudmFyIFVhID0gU2E7XHJcbnZhciBWYSA9IGZ1bmN0aW9uICgpIHsgaWYgKCFsLmFkZEV2ZW50TGlzdGVuZXIgfHwgIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSlcclxuICAgIHJldHVybiAhMTsgdmFyIGEgPSAhMSwgYiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IGEgPSAhMDsgfSB9KTsgdHJ5IHtcclxuICAgIGwuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgYWEsIGIpLCBsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIGFhLCBiKTtcclxufVxyXG5jYXRjaCAoYykgeyB9IHJldHVybiBhOyB9KCk7XHJcbmZ1bmN0aW9uIHooYSwgYikgeyB0aGlzLnR5cGUgPSBhOyB0aGlzLmcgPSB0aGlzLnRhcmdldCA9IGI7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICExOyB9XHJcbnoucHJvdG90eXBlLmggPSBmdW5jdGlvbiAoKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwOyB9O1xyXG5mdW5jdGlvbiBBKGEsIGIpIHtcclxuICAgIHouY2FsbCh0aGlzLCBhID8gYS50eXBlIDogXCJcIik7XHJcbiAgICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSB0aGlzLmcgPSB0aGlzLnRhcmdldCA9IG51bGw7XHJcbiAgICB0aGlzLmJ1dHRvbiA9IHRoaXMuc2NyZWVuWSA9IHRoaXMuc2NyZWVuWCA9IHRoaXMuY2xpZW50WSA9IHRoaXMuY2xpZW50WCA9IDA7XHJcbiAgICB0aGlzLmtleSA9IFwiXCI7XHJcbiAgICB0aGlzLm1ldGFLZXkgPSB0aGlzLnNoaWZ0S2V5ID0gdGhpcy5hbHRLZXkgPSB0aGlzLmN0cmxLZXkgPSAhMTtcclxuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgdGhpcy5wb2ludGVySWQgPSAwO1xyXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IFwiXCI7XHJcbiAgICB0aGlzLmkgPSBudWxsO1xyXG4gICAgaWYgKGEpIHtcclxuICAgICAgICB2YXIgYyA9IHRoaXMudHlwZSA9IGEudHlwZSwgZCA9IGEuY2hhbmdlZFRvdWNoZXMgJiYgYS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBhLmNoYW5nZWRUb3VjaGVzWzBdIDogbnVsbDtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IGEudGFyZ2V0IHx8IGEuc3JjRWxlbWVudDtcclxuICAgICAgICB0aGlzLmcgPSBiO1xyXG4gICAgICAgIGlmIChiID0gYS5yZWxhdGVkVGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGlmIChLYSkge1xyXG4gICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhKGIubm9kZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZikgeyB9XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZSB8fCAoYiA9IG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgXCJtb3VzZW92ZXJcIiA9PSBjID8gYiA9IGEuZnJvbUVsZW1lbnQgOiBcIm1vdXNlb3V0XCIgPT0gYyAmJiAoYiA9IGEudG9FbGVtZW50KTtcclxuICAgICAgICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSBiO1xyXG4gICAgICAgIGQgPyAodGhpcy5jbGllbnRYID0gdm9pZCAwICE9PSBkLmNsaWVudFggPyBkLmNsaWVudFggOiBkLnBhZ2VYLCB0aGlzLmNsaWVudFkgPSB2b2lkIDAgIT09IGQuY2xpZW50WSA/IGQuY2xpZW50WSA6IGQucGFnZVksIHRoaXMuc2NyZWVuWCA9IGQuc2NyZWVuWCB8fCAwLCB0aGlzLnNjcmVlblkgPSBkLnNjcmVlblkgfHwgMCkgOiAodGhpcy5jbGllbnRYID0gdm9pZCAwICE9PSBhLmNsaWVudFggPyBhLmNsaWVudFggOiBhLnBhZ2VYLCB0aGlzLmNsaWVudFkgPSB2b2lkIDAgIT09IGEuY2xpZW50WSA/IGEuY2xpZW50WSA6IGEucGFnZVksIHRoaXMuc2NyZWVuWCA9IGEuc2NyZWVuWCB8fCAwLCB0aGlzLnNjcmVlblkgPSBhLnNjcmVlblkgfHwgMCk7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBhLmJ1dHRvbjtcclxuICAgICAgICB0aGlzLmtleSA9IGEua2V5IHx8IFwiXCI7XHJcbiAgICAgICAgdGhpcy5jdHJsS2V5ID0gYS5jdHJsS2V5O1xyXG4gICAgICAgIHRoaXMuYWx0S2V5ID0gYS5hbHRLZXk7XHJcbiAgICAgICAgdGhpcy5zaGlmdEtleSA9XHJcbiAgICAgICAgICAgIGEuc2hpZnRLZXk7XHJcbiAgICAgICAgdGhpcy5tZXRhS2V5ID0gYS5tZXRhS2V5O1xyXG4gICAgICAgIHRoaXMucG9pbnRlcklkID0gYS5wb2ludGVySWQgfHwgMDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEucG9pbnRlclR5cGUgPyBhLnBvaW50ZXJUeXBlIDogV2FbYS5wb2ludGVyVHlwZV0gfHwgXCJcIjtcclxuICAgICAgICB0aGlzLnN0YXRlID0gYS5zdGF0ZTtcclxuICAgICAgICB0aGlzLmkgPSBhO1xyXG4gICAgICAgIGEuZGVmYXVsdFByZXZlbnRlZCAmJiBBLlouaC5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbnQoQSwgeik7XHJcbnZhciBXYSA9IHsgMjogXCJ0b3VjaFwiLCAzOiBcInBlblwiLCA0OiBcIm1vdXNlXCIgfTtcclxuQS5wcm90b3R5cGUuaCA9IGZ1bmN0aW9uICgpIHsgQS5aLmguY2FsbCh0aGlzKTsgdmFyIGEgPSB0aGlzLmk7IGEucHJldmVudERlZmF1bHQgPyBhLnByZXZlbnREZWZhdWx0KCkgOiBhLnJldHVyblZhbHVlID0gITE7IH07XHJcbnZhciBCID0gXCJjbG9zdXJlX2xpc3RlbmFibGVfXCIgKyAoMUU2ICogTWF0aC5yYW5kb20oKSB8IDApO1xyXG52YXIgWGEgPSAwO1xyXG5mdW5jdGlvbiBZYShhLCBiLCBjLCBkLCBlKSB7IHRoaXMubGlzdGVuZXIgPSBhOyB0aGlzLnByb3h5ID0gbnVsbDsgdGhpcy5zcmMgPSBiOyB0aGlzLnR5cGUgPSBjOyB0aGlzLmNhcHR1cmUgPSAhIWQ7IHRoaXMuaWEgPSBlOyB0aGlzLmtleSA9ICsrWGE7IHRoaXMuY2EgPSB0aGlzLmZhID0gITE7IH1cclxuZnVuY3Rpb24gWmEoYSkgeyBhLmNhID0gITA7IGEubGlzdGVuZXIgPSBudWxsOyBhLnByb3h5ID0gbnVsbDsgYS5zcmMgPSBudWxsOyBhLmlhID0gbnVsbDsgfVxyXG5mdW5jdGlvbiAkYShhKSB7IHRoaXMuc3JjID0gYTsgdGhpcy5nID0ge307IHRoaXMuaCA9IDA7IH1cclxuJGEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7IHZhciBmID0gYS50b1N0cmluZygpOyBhID0gdGhpcy5nW2ZdOyBhIHx8IChhID0gdGhpcy5nW2ZdID0gW10sIHRoaXMuaCsrKTsgdmFyIGggPSBhYihhLCBiLCBkLCBlKTsgLTEgPCBoID8gKGIgPSBhW2hdLCBjIHx8IChiLmZhID0gITEpKSA6IChiID0gbmV3IFlhKGIsIHRoaXMuc3JjLCBmLCAhIWQsIGUpLCBiLmZhID0gYywgYS5wdXNoKGIpKTsgcmV0dXJuIGI7IH07XHJcbmZ1bmN0aW9uIGJiKGEsIGIpIHsgdmFyIGMgPSBiLnR5cGU7IGlmIChjIGluIGEuZykge1xyXG4gICAgdmFyIGQgPSBhLmdbY10sIGUgPSBtYShkLCBiKSwgZjtcclxuICAgIChmID0gMCA8PSBlKSAmJiBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZCwgZSwgMSk7XHJcbiAgICBmICYmIChaYShiKSwgMCA9PSBhLmdbY10ubGVuZ3RoICYmIChkZWxldGUgYS5nW2NdLCBhLmgtLSkpO1xyXG59IH1cclxuZnVuY3Rpb24gYWIoYSwgYiwgYywgZCkgeyBmb3IgKHZhciBlID0gMDsgZSA8IGEubGVuZ3RoOyArK2UpIHtcclxuICAgIHZhciBmID0gYVtlXTtcclxuICAgIGlmICghZi5jYSAmJiBmLmxpc3RlbmVyID09IGIgJiYgZi5jYXB0dXJlID09ICEhYyAmJiBmLmlhID09IGQpXHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbn0gcmV0dXJuIC0xOyB9XHJcbnZhciBjYiA9IFwiY2xvc3VyZV9sbV9cIiArICgxRTYgKiBNYXRoLnJhbmRvbSgpIHwgMCksIGRiID0ge307XHJcbmZ1bmN0aW9uIGZiKGEsIGIsIGMsIGQsIGUpIHsgaWYgKGQgJiYgZC5vbmNlKVxyXG4gICAgcmV0dXJuIGdiKGEsIGIsIGMsIGQsIGUpOyBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xyXG4gICAgZm9yICh2YXIgZiA9IDA7IGYgPCBiLmxlbmd0aDsgZisrKVxyXG4gICAgICAgIGZiKGEsIGJbZl0sIGMsIGQsIGUpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbn0gYyA9IGhiKGMpOyByZXR1cm4gYSAmJiBhW0JdID8gYS5OKGIsIGMsIHAoZCkgPyAhIWQuY2FwdHVyZSA6ICEhZCwgZSkgOiBpYihhLCBiLCBjLCAhMSwgZCwgZSk7IH1cclxuZnVuY3Rpb24gaWIoYSwgYiwgYywgZCwgZSwgZikgeyBpZiAoIWIpXHJcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZXZlbnQgdHlwZVwiKTsgdmFyIGggPSBwKGUpID8gISFlLmNhcHR1cmUgOiAhIWUsIG4gPSBqYihhKTsgbiB8fCAoYVtjYl0gPSBuID0gbmV3ICRhKGEpKTsgYyA9IG4uYWRkKGIsIGMsIGQsIGgsIGYpOyBpZiAoYy5wcm94eSlcclxuICAgIHJldHVybiBjOyBkID0ga2IoKTsgYy5wcm94eSA9IGQ7IGQuc3JjID0gYTsgZC5saXN0ZW5lciA9IGM7IGlmIChhLmFkZEV2ZW50TGlzdGVuZXIpXHJcbiAgICBWYSB8fCAoZSA9IGgpLCB2b2lkIDAgPT09IGUgJiYgKGUgPSAhMSksIGEuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksIGQsIGUpO1xyXG5lbHNlIGlmIChhLmF0dGFjaEV2ZW50KVxyXG4gICAgYS5hdHRhY2hFdmVudChsYihiLnRvU3RyaW5nKCkpLCBkKTtcclxuZWxzZSBpZiAoYS5hZGRMaXN0ZW5lciAmJiBhLnJlbW92ZUxpc3RlbmVyKVxyXG4gICAgYS5hZGRMaXN0ZW5lcihkKTtcclxuZWxzZVxyXG4gICAgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpOyByZXR1cm4gYzsgfVxyXG5mdW5jdGlvbiBrYigpIHsgZnVuY3Rpb24gYShjKSB7IHJldHVybiBiLmNhbGwoYS5zcmMsIGEubGlzdGVuZXIsIGMpOyB9IHZhciBiID0gbWI7IHJldHVybiBhOyB9XHJcbmZ1bmN0aW9uIGdiKGEsIGIsIGMsIGQsIGUpIHsgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcclxuICAgIGZvciAodmFyIGYgPSAwOyBmIDwgYi5sZW5ndGg7IGYrKylcclxuICAgICAgICBnYihhLCBiW2ZdLCBjLCBkLCBlKTtcclxuICAgIHJldHVybiBudWxsO1xyXG59IGMgPSBoYihjKTsgcmV0dXJuIGEgJiYgYVtCXSA/IGEuTyhiLCBjLCBwKGQpID8gISFkLmNhcHR1cmUgOiAhIWQsIGUpIDogaWIoYSwgYiwgYywgITAsIGQsIGUpOyB9XHJcbmZ1bmN0aW9uIG5iKGEsIGIsIGMsIGQsIGUpIHsgaWYgKEFycmF5LmlzQXJyYXkoYikpXHJcbiAgICBmb3IgKHZhciBmID0gMDsgZiA8IGIubGVuZ3RoOyBmKyspXHJcbiAgICAgICAgbmIoYSwgYltmXSwgYywgZCwgZSk7XHJcbmVsc2VcclxuICAgIChkID0gcChkKSA/ICEhZC5jYXB0dXJlIDogISFkLCBjID0gaGIoYyksIGEgJiYgYVtCXSkgPyAoYSA9IGEuaSwgYiA9IFN0cmluZyhiKS50b1N0cmluZygpLCBiIGluIGEuZyAmJiAoZiA9IGEuZ1tiXSwgYyA9IGFiKGYsIGMsIGQsIGUpLCAtMSA8IGMgJiYgKFphKGZbY10pLCBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZiwgYywgMSksIDAgPT0gZi5sZW5ndGggJiYgKGRlbGV0ZSBhLmdbYl0sIGEuaC0tKSkpKSA6IGEgJiYgKGEgPSBqYihhKSkgJiYgKGIgPSBhLmdbYi50b1N0cmluZygpXSwgYSA9IC0xLCBiICYmIChhID0gYWIoYiwgYywgZCwgZSkpLCAoYyA9IC0xIDwgYSA/IGJbYV0gOiBudWxsKSAmJiBvYihjKSk7IH1cclxuZnVuY3Rpb24gb2IoYSkgeyBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIGEgJiYgYSAmJiAhYS5jYSkge1xyXG4gICAgdmFyIGIgPSBhLnNyYztcclxuICAgIGlmIChiICYmIGJbQl0pXHJcbiAgICAgICAgYmIoYi5pLCBhKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBjID0gYS50eXBlLCBkID0gYS5wcm94eTtcclxuICAgICAgICBiLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoYywgZCwgYS5jYXB0dXJlKSA6IGIuZGV0YWNoRXZlbnQgPyBiLmRldGFjaEV2ZW50KGxiKGMpLCBkKSA6IGIuYWRkTGlzdGVuZXIgJiYgYi5yZW1vdmVMaXN0ZW5lciAmJiBiLnJlbW92ZUxpc3RlbmVyKGQpO1xyXG4gICAgICAgIChjID0gamIoYikpID8gKGJiKGMsIGEpLCAwID09IGMuaCAmJiAoYy5zcmMgPSBudWxsLCBiW2NiXSA9IG51bGwpKSA6IFphKGEpO1xyXG4gICAgfVxyXG59IH1cclxuZnVuY3Rpb24gbGIoYSkgeyByZXR1cm4gYSBpbiBkYiA/IGRiW2FdIDogZGJbYV0gPSBcIm9uXCIgKyBhOyB9XHJcbmZ1bmN0aW9uIG1iKGEsIGIpIHsgaWYgKGEuY2EpXHJcbiAgICBhID0gITA7XHJcbmVsc2Uge1xyXG4gICAgYiA9IG5ldyBBKGIsIHRoaXMpO1xyXG4gICAgdmFyIGMgPSBhLmxpc3RlbmVyLCBkID0gYS5pYSB8fCBhLnNyYztcclxuICAgIGEuZmEgJiYgb2IoYSk7XHJcbiAgICBhID0gYy5jYWxsKGQsIGIpO1xyXG59IHJldHVybiBhOyB9XHJcbmZ1bmN0aW9uIGpiKGEpIHsgYSA9IGFbY2JdOyByZXR1cm4gYSBpbnN0YW5jZW9mICRhID8gYSA6IG51bGw7IH1cclxudmFyIHBiID0gXCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiICsgKDFFOSAqIE1hdGgucmFuZG9tKCkgPj4+IDApO1xyXG5mdW5jdGlvbiBoYihhKSB7IGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhKVxyXG4gICAgcmV0dXJuIGE7IGFbcGJdIHx8IChhW3BiXSA9IGZ1bmN0aW9uIChiKSB7IHJldHVybiBhLmhhbmRsZUV2ZW50KGIpOyB9KTsgcmV0dXJuIGFbcGJdOyB9XHJcbmZ1bmN0aW9uIEMoKSB7IHYuY2FsbCh0aGlzKTsgdGhpcy5pID0gbmV3ICRhKHRoaXMpOyB0aGlzLlAgPSB0aGlzOyB0aGlzLkkgPSBudWxsOyB9XHJcbnQoQywgdik7XHJcbkMucHJvdG90eXBlW0JdID0gITA7XHJcbkMucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyBuYih0aGlzLCBhLCBiLCBjLCBkKTsgfTtcclxuZnVuY3Rpb24gRChhLCBiKSB7IHZhciBjLCBkID0gYS5JOyBpZiAoZClcclxuICAgIGZvciAoYyA9IFtdOyBkOyBkID0gZC5JKVxyXG4gICAgICAgIGMucHVzaChkKTsgYSA9IGEuUDsgZCA9IGIudHlwZSB8fCBiOyBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGIpXHJcbiAgICBiID0gbmV3IHooYiwgYSk7XHJcbmVsc2UgaWYgKGIgaW5zdGFuY2VvZiB6KVxyXG4gICAgYi50YXJnZXQgPSBiLnRhcmdldCB8fCBhO1xyXG5lbHNlIHtcclxuICAgIHZhciBlID0gYjtcclxuICAgIGIgPSBuZXcgeihkLCBhKTtcclxuICAgIEFhKGIsIGUpO1xyXG59IGUgPSAhMDsgaWYgKGMpXHJcbiAgICBmb3IgKHZhciBmID0gYy5sZW5ndGggLSAxOyAwIDw9IGY7IGYtLSkge1xyXG4gICAgICAgIHZhciBoID0gYi5nID0gY1tmXTtcclxuICAgICAgICBlID0gcWIoaCwgZCwgITAsIGIpICYmIGU7XHJcbiAgICB9IGggPSBiLmcgPSBhOyBlID0gcWIoaCwgZCwgITAsIGIpICYmIGU7IGUgPSBxYihoLCBkLCAhMSwgYikgJiYgZTsgaWYgKGMpXHJcbiAgICBmb3IgKGYgPSAwOyBmIDwgYy5sZW5ndGg7IGYrKylcclxuICAgICAgICBoID0gYi5nID0gY1tmXSwgZSA9IHFiKGgsIGQsICExLCBiKSAmJiBlOyB9XHJcbkMucHJvdG90eXBlLk0gPSBmdW5jdGlvbiAoKSB7IEMuWi5NLmNhbGwodGhpcyk7IGlmICh0aGlzLmkpIHtcclxuICAgIHZhciBhID0gdGhpcy5pLCBjO1xyXG4gICAgZm9yIChjIGluIGEuZykge1xyXG4gICAgICAgIGZvciAodmFyIGQgPSBhLmdbY10sIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKylcclxuICAgICAgICAgICAgWmEoZFtlXSk7XHJcbiAgICAgICAgZGVsZXRlIGEuZ1tjXTtcclxuICAgICAgICBhLmgtLTtcclxuICAgIH1cclxufSB0aGlzLkkgPSBudWxsOyB9O1xyXG5DLnByb3RvdHlwZS5OID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsgcmV0dXJuIHRoaXMuaS5hZGQoU3RyaW5nKGEpLCBiLCAhMSwgYywgZCk7IH07XHJcbkMucHJvdG90eXBlLk8gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcoYSksIGIsICEwLCBjLCBkKTsgfTtcclxuZnVuY3Rpb24gcWIoYSwgYiwgYywgZCkgeyBiID0gYS5pLmdbU3RyaW5nKGIpXTsgaWYgKCFiKVxyXG4gICAgcmV0dXJuICEwOyBiID0gYi5jb25jYXQoKTsgZm9yICh2YXIgZSA9ICEwLCBmID0gMDsgZiA8IGIubGVuZ3RoOyArK2YpIHtcclxuICAgIHZhciBoID0gYltmXTtcclxuICAgIGlmIChoICYmICFoLmNhICYmIGguY2FwdHVyZSA9PSBjKSB7XHJcbiAgICAgICAgdmFyIG4gPSBoLmxpc3RlbmVyLCB1ID0gaC5pYSB8fCBoLnNyYztcclxuICAgICAgICBoLmZhICYmIGJiKGEuaSwgaCk7XHJcbiAgICAgICAgZSA9ICExICE9PSBuLmNhbGwodSwgZCkgJiYgZTtcclxuICAgIH1cclxufSByZXR1cm4gZSAmJiAhZC5kZWZhdWx0UHJldmVudGVkOyB9XHJcbnZhciByYiA9IGwuSlNPTi5zdHJpbmdpZnk7XHJcbmZ1bmN0aW9uIHNiKCkgeyB2YXIgYSA9IHRiOyB2YXIgYiA9IG51bGw7IGEuZyAmJiAoYiA9IGEuZywgYS5nID0gYS5nLm5leHQsIGEuZyB8fCAoYS5oID0gbnVsbCksIGIubmV4dCA9IG51bGwpOyByZXR1cm4gYjsgfVxyXG52YXIgdWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiB1YigpIHtcclxuICAgICAgICB0aGlzLmggPSB0aGlzLmcgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgdWIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChhLCBiKSB7IHZhciBjID0gdmIuZ2V0KCk7IGMuc2V0KGEsIGIpOyB0aGlzLmggPyB0aGlzLmgubmV4dCA9IGMgOiB0aGlzLmcgPSBjOyB0aGlzLmggPSBjOyB9O1xyXG4gICAgcmV0dXJuIHViO1xyXG59KCkpO1xyXG52YXIgdmIgPSBuZXcgLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gY2xhc3NfMihhLCBiKSB7XHJcbiAgICAgICAgdGhpcy5pID0gYTtcclxuICAgICAgICB0aGlzLmogPSBiO1xyXG4gICAgICAgIHRoaXMuaCA9IDA7XHJcbiAgICAgICAgdGhpcy5nID0gbnVsbDtcclxuICAgIH1cclxuICAgIGNsYXNzXzIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHsgdmFyIGE7IDAgPCB0aGlzLmggPyAodGhpcy5oLS0sIGEgPSB0aGlzLmcsIHRoaXMuZyA9IGEubmV4dCwgYS5uZXh0ID0gbnVsbCkgOiBhID0gdGhpcy5pKCk7IHJldHVybiBhOyB9O1xyXG4gICAgcmV0dXJuIGNsYXNzXzI7XHJcbn0oKSkoZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IHdiOyB9LCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5yZXNldCgpOyB9KTtcclxudmFyIHdiID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gd2IoKSB7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gdGhpcy5nID0gdGhpcy5oID0gbnVsbDtcclxuICAgIH1cclxuICAgIHdiLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoYSwgYikgeyB0aGlzLmggPSBhOyB0aGlzLmcgPSBiOyB0aGlzLm5leHQgPSBudWxsOyB9O1xyXG4gICAgd2IucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLm5leHQgPSB0aGlzLmcgPSB0aGlzLmggPSBudWxsOyB9O1xyXG4gICAgcmV0dXJuIHdiO1xyXG59KCkpO1xyXG5mdW5jdGlvbiB5YihhKSB7IGwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGE7IH0sIDApOyB9XHJcbmZ1bmN0aW9uIHpiKGEsIGIpIHsgQWIgfHwgQmIoKTsgQ2IgfHwgKEFiKCksIENiID0gITApOyB0Yi5hZGQoYSwgYik7IH1cclxudmFyIEFiO1xyXG5mdW5jdGlvbiBCYigpIHsgdmFyIGEgPSBsLlByb21pc2UucmVzb2x2ZSh2b2lkIDApOyBBYiA9IGZ1bmN0aW9uICgpIHsgYS50aGVuKERiKTsgfTsgfVxyXG52YXIgQ2IgPSAhMSwgdGIgPSBuZXcgdWI7XHJcbmZ1bmN0aW9uIERiKCkgeyBmb3IgKHZhciBhOyBhID0gc2IoKTspIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYS5oLmNhbGwoYS5nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChjKSB7XHJcbiAgICAgICAgeWIoYyk7XHJcbiAgICB9XHJcbiAgICB2YXIgYiA9IHZiO1xyXG4gICAgYi5qKGEpO1xyXG4gICAgMTAwID4gYi5oICYmIChiLmgrKywgYS5uZXh0ID0gYi5nLCBiLmcgPSBhKTtcclxufSBDYiA9ICExOyB9XHJcbmZ1bmN0aW9uIEViKGEsIGIpIHsgQy5jYWxsKHRoaXMpOyB0aGlzLmggPSBhIHx8IDE7IHRoaXMuZyA9IGIgfHwgbDsgdGhpcy5qID0gcSh0aGlzLmtiLCB0aGlzKTsgdGhpcy5sID0gRGF0ZS5ub3coKTsgfVxyXG50KEViLCBDKTtcclxuayA9IEViLnByb3RvdHlwZTtcclxuay5kYSA9ICExO1xyXG5rLlMgPSBudWxsO1xyXG5rLmtiID0gZnVuY3Rpb24gKCkgeyBpZiAodGhpcy5kYSkge1xyXG4gICAgdmFyIGEgPSBEYXRlLm5vdygpIC0gdGhpcy5sO1xyXG4gICAgMCA8IGEgJiYgYSA8IC44ICogdGhpcy5oID8gdGhpcy5TID0gdGhpcy5nLnNldFRpbWVvdXQodGhpcy5qLCB0aGlzLmggLSBhKSA6ICh0aGlzLlMgJiYgKHRoaXMuZy5jbGVhclRpbWVvdXQodGhpcy5TKSwgdGhpcy5TID0gbnVsbCksIEQodGhpcywgXCJ0aWNrXCIpLCB0aGlzLmRhICYmIChGYih0aGlzKSwgdGhpcy5zdGFydCgpKSk7XHJcbn0gfTtcclxuay5zdGFydCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5kYSA9ICEwOyB0aGlzLlMgfHwgKHRoaXMuUyA9IHRoaXMuZy5zZXRUaW1lb3V0KHRoaXMuaiwgdGhpcy5oKSwgdGhpcy5sID0gRGF0ZS5ub3coKSk7IH07XHJcbmZ1bmN0aW9uIEZiKGEpIHsgYS5kYSA9ICExOyBhLlMgJiYgKGEuZy5jbGVhclRpbWVvdXQoYS5TKSwgYS5TID0gbnVsbCk7IH1cclxuay5NID0gZnVuY3Rpb24gKCkgeyBFYi5aLk0uY2FsbCh0aGlzKTsgRmIodGhpcyk7IGRlbGV0ZSB0aGlzLmc7IH07XHJcbmZ1bmN0aW9uIEdiKGEsIGIsIGMpIHsgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGEpXHJcbiAgICBjICYmIChhID0gcShhLCBjKSk7XHJcbmVsc2UgaWYgKGEgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLmhhbmRsZUV2ZW50KVxyXG4gICAgYSA9IHEoYS5oYW5kbGVFdmVudCwgYSk7XHJcbmVsc2VcclxuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTsgcmV0dXJuIDIxNDc0ODM2NDcgPCBOdW1iZXIoYikgPyAtMSA6IGwuc2V0VGltZW91dChhLCBiIHx8IDApOyB9XHJcbmZ1bmN0aW9uIEhiKGEpIHsgYS5nID0gR2IoZnVuY3Rpb24gKCkgeyBhLmcgPSBudWxsOyBhLmkgJiYgKGEuaSA9ICExLCBIYihhKSk7IH0sIGEuaik7IHZhciBiID0gYS5oOyBhLmggPSBudWxsOyBhLm0uYXBwbHkobnVsbCwgYik7IH1cclxudmFyIEliID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEliLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSWIoYSwgYikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubSA9IGE7XHJcbiAgICAgICAgX3RoaXMuaiA9IGI7XHJcbiAgICAgICAgX3RoaXMuaCA9IG51bGw7XHJcbiAgICAgICAgX3RoaXMuaSA9ICExO1xyXG4gICAgICAgIF90aGlzLmcgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEliLnByb3RvdHlwZS5sID0gZnVuY3Rpb24gKGEpIHsgdGhpcy5oID0gYXJndW1lbnRzOyB0aGlzLmcgPyB0aGlzLmkgPSAhMCA6IEhiKHRoaXMpOyB9O1xyXG4gICAgSWIucHJvdG90eXBlLk0gPSBmdW5jdGlvbiAoKSB7IF9zdXBlci5wcm90b3R5cGUuTS5jYWxsKHRoaXMpOyB0aGlzLmcgJiYgKGwuY2xlYXJUaW1lb3V0KHRoaXMuZyksIHRoaXMuZyA9IG51bGwsIHRoaXMuaSA9ICExLCB0aGlzLmggPSBudWxsKTsgfTtcclxuICAgIHJldHVybiBJYjtcclxufSh2KSk7XHJcbmZ1bmN0aW9uIEUoYSkgeyB2LmNhbGwodGhpcyk7IHRoaXMuaCA9IGE7IHRoaXMuZyA9IHt9OyB9XHJcbnQoRSwgdik7XHJcbnZhciBKYiA9IFtdO1xyXG5mdW5jdGlvbiBLYihhLCBiLCBjLCBkKSB7IEFycmF5LmlzQXJyYXkoYykgfHwgKGMgJiYgKEpiWzBdID0gYy50b1N0cmluZygpKSwgYyA9IEpiKTsgZm9yICh2YXIgZSA9IDA7IGUgPCBjLmxlbmd0aDsgZSsrKSB7XHJcbiAgICB2YXIgZiA9IGZiKGIsIGNbZV0sIGQgfHwgYS5oYW5kbGVFdmVudCwgITEsIGEuaCB8fCBhKTtcclxuICAgIGlmICghZilcclxuICAgICAgICBicmVhaztcclxuICAgIGEuZ1tmLmtleV0gPSBmO1xyXG59IH1cclxuZnVuY3Rpb24gTGIoYSkgeyB4YShhLmcsIGZ1bmN0aW9uIChiLCBjKSB7IHRoaXMuZy5oYXNPd25Qcm9wZXJ0eShjKSAmJiBvYihiKTsgfSwgYSk7IGEuZyA9IHt9OyB9XHJcbkUucHJvdG90eXBlLk0gPSBmdW5jdGlvbiAoKSB7IEUuWi5NLmNhbGwodGhpcyk7IExiKHRoaXMpOyB9O1xyXG5FLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpOyB9O1xyXG5mdW5jdGlvbiBNYigpIHsgdGhpcy5nID0gITA7IH1cclxuTWIucHJvdG90eXBlLkFhID0gZnVuY3Rpb24gKCkgeyB0aGlzLmcgPSAhMTsgfTtcclxuZnVuY3Rpb24gTmIoYSwgYiwgYywgZCwgZSwgZikgeyBhLmluZm8oZnVuY3Rpb24gKCkgeyBpZiAoYS5nKVxyXG4gICAgaWYgKGYpIHtcclxuICAgICAgICB2YXIgaCA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIgbiA9IGYuc3BsaXQoXCImXCIpLCB1ID0gMDsgdSA8IG4ubGVuZ3RoOyB1KyspIHtcclxuICAgICAgICAgICAgdmFyIG0gPSBuW3VdLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKDEgPCBtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBtWzBdO1xyXG4gICAgICAgICAgICAgICAgbSA9IG1bMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgRyA9IHIuc3BsaXQoXCJfXCIpO1xyXG4gICAgICAgICAgICAgICAgaCA9IDIgPD0gRy5sZW5ndGggJiYgXCJ0eXBlXCIgPT0gR1sxXSA/IGggKyAociArIFwiPVwiICsgbSArIFwiJlwiKSA6IGggKyAociArIFwiPXJlZGFjdGVkJlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgICAgICBoID0gbnVsbDtcclxuZWxzZVxyXG4gICAgaCA9IGY7IHJldHVybiBcIlhNTEhUVFAgUkVRIChcIiArIGQgKyBcIikgW2F0dGVtcHQgXCIgKyBlICsgXCJdOiBcIiArIGIgKyBcIlxcblwiICsgYyArIFwiXFxuXCIgKyBoOyB9KTsgfVxyXG5mdW5jdGlvbiBPYihhLCBiLCBjLCBkLCBlLCBmLCBoKSB7IGEuaW5mbyhmdW5jdGlvbiAoKSB7IHJldHVybiBcIlhNTEhUVFAgUkVTUCAoXCIgKyBkICsgXCIpIFsgYXR0ZW1wdCBcIiArIGUgKyBcIl06IFwiICsgYiArIFwiXFxuXCIgKyBjICsgXCJcXG5cIiArIGYgKyBcIiBcIiArIGg7IH0pOyB9XHJcbmZ1bmN0aW9uIEYoYSwgYiwgYywgZCkgeyBhLmluZm8oZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJYTUxIVFRQIFRFWFQgKFwiICsgYiArIFwiKTogXCIgKyBQYihhLCBjKSArIChkID8gXCIgXCIgKyBkIDogXCJcIik7IH0pOyB9XHJcbmZ1bmN0aW9uIFFiKGEsIGIpIHsgYS5pbmZvKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiVElNRU9VVDogXCIgKyBiOyB9KTsgfVxyXG5NYi5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHsgfTtcclxuZnVuY3Rpb24gUGIoYSwgYikgeyBpZiAoIWEuZylcclxuICAgIHJldHVybiBiOyBpZiAoIWIpXHJcbiAgICByZXR1cm4gbnVsbDsgdHJ5IHtcclxuICAgIHZhciBjID0gSlNPTi5wYXJzZShiKTtcclxuICAgIGlmIChjKVxyXG4gICAgICAgIGZvciAoYSA9IDA7IGEgPCBjLmxlbmd0aDsgYSsrKVxyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjW2FdKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBjW2FdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoMiA+IGQubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gZFsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSAmJiAhKDEgPiBlLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJub29wXCIgIT0gZiAmJiBcInN0b3BcIiAhPSBmICYmIFwiY2xvc2VcIiAhPSBmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDE7IGggPCBlLmxlbmd0aDsgaCsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVbaF0gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgcmV0dXJuIHJiKGMpO1xyXG59XHJcbmNhdGNoIChuKSB7XHJcbiAgICByZXR1cm4gYjtcclxufSB9XHJcbnZhciBIID0ge30sIFJiID0gbnVsbDtcclxuZnVuY3Rpb24gU2IoKSB7IHJldHVybiBSYiA9IFJiIHx8IG5ldyBDOyB9XHJcbkguTWEgPSBcInNlcnZlcnJlYWNoYWJpbGl0eVwiO1xyXG5mdW5jdGlvbiBUYihhKSB7IHouY2FsbCh0aGlzLCBILk1hLCBhKTsgfVxyXG50KFRiLCB6KTtcclxuZnVuY3Rpb24gSShhKSB7IHZhciBiID0gU2IoKTsgRChiLCBuZXcgVGIoYiwgYSkpOyB9XHJcbkguU1RBVF9FVkVOVCA9IFwic3RhdGV2ZW50XCI7XHJcbmZ1bmN0aW9uIFViKGEsIGIpIHsgei5jYWxsKHRoaXMsIEguU1RBVF9FVkVOVCwgYSk7IHRoaXMuc3RhdCA9IGI7IH1cclxudChVYiwgeik7XHJcbmZ1bmN0aW9uIEooYSkgeyB2YXIgYiA9IFNiKCk7IEQoYiwgbmV3IFViKGIsIGEpKTsgfVxyXG5ILk5hID0gXCJ0aW1pbmdldmVudFwiO1xyXG5mdW5jdGlvbiBWYihhLCBiKSB7IHouY2FsbCh0aGlzLCBILk5hLCBhKTsgdGhpcy5zaXplID0gYjsgfVxyXG50KFZiLCB6KTtcclxuZnVuY3Rpb24gSyhhLCBiKSB7IGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBhKVxyXG4gICAgdGhyb3cgRXJyb3IoXCJGbiBtdXN0IG5vdCBiZSBudWxsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7IHJldHVybiBsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBhKCk7IH0sIGIpOyB9XHJcbnZhciBXYiA9IHsgTk9fRVJST1I6IDAsIGxiOiAxLCB5YjogMiwgeGI6IDMsIHNiOiA0LCB3YjogNSwgemI6IDYsIEphOiA3LCBUSU1FT1VUOiA4LCBDYjogOSB9O1xyXG52YXIgWGIgPSB7IHFiOiBcImNvbXBsZXRlXCIsIE1iOiBcInN1Y2Nlc3NcIiwgS2E6IFwiZXJyb3JcIiwgSmE6IFwiYWJvcnRcIiwgRWI6IFwicmVhZHlcIiwgRmI6IFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBUSU1FT1VUOiBcInRpbWVvdXRcIiwgQWI6IFwiaW5jcmVtZW50YWxkYXRhXCIsIERiOiBcInByb2dyZXNzXCIsIHRiOiBcImRvd25sb2FkcHJvZ3Jlc3NcIiwgVWI6IFwidXBsb2FkcHJvZ3Jlc3NcIiB9O1xyXG5mdW5jdGlvbiBZYigpIHsgfVxyXG5ZYi5wcm90b3R5cGUuaCA9IG51bGw7XHJcbmZ1bmN0aW9uIFpiKGEpIHsgcmV0dXJuIGEuaCB8fCAoYS5oID0gYS5pKCkpOyB9XHJcbmZ1bmN0aW9uICRiKCkgeyB9XHJcbnZhciBMID0geyBPUEVOOiBcImFcIiwgcGI6IFwiYlwiLCBLYTogXCJjXCIsIEJiOiBcImRcIiB9O1xyXG5mdW5jdGlvbiBhYygpIHsgei5jYWxsKHRoaXMsIFwiZFwiKTsgfVxyXG50KGFjLCB6KTtcclxuZnVuY3Rpb24gYmMoKSB7IHouY2FsbCh0aGlzLCBcImNcIik7IH1cclxudChiYywgeik7XHJcbnZhciBjYztcclxuZnVuY3Rpb24gZGMoKSB7IH1cclxudChkYywgWWIpO1xyXG5kYy5wcm90b3R5cGUuZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDsgfTtcclxuZGMucHJvdG90eXBlLmkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7fTsgfTtcclxuY2MgPSBuZXcgZGM7XHJcbmZ1bmN0aW9uIE0oYSwgYiwgYywgZCkgeyB0aGlzLmwgPSBhOyB0aGlzLmogPSBiOyB0aGlzLm0gPSBjOyB0aGlzLlggPSBkIHx8IDE7IHRoaXMuViA9IG5ldyBFKHRoaXMpOyB0aGlzLlAgPSBlYzsgYSA9IEphID8gMTI1IDogdm9pZCAwOyB0aGlzLlcgPSBuZXcgRWIoYSk7IHRoaXMuSCA9IG51bGw7IHRoaXMuaSA9ICExOyB0aGlzLnMgPSB0aGlzLkEgPSB0aGlzLnYgPSB0aGlzLksgPSB0aGlzLkYgPSB0aGlzLlkgPSB0aGlzLkIgPSBudWxsOyB0aGlzLkQgPSBbXTsgdGhpcy5nID0gbnVsbDsgdGhpcy5DID0gMDsgdGhpcy5vID0gdGhpcy51ID0gbnVsbDsgdGhpcy5OID0gLTE7IHRoaXMuSSA9ICExOyB0aGlzLk8gPSAwOyB0aGlzLkwgPSBudWxsOyB0aGlzLmFhID0gdGhpcy5KID0gdGhpcy4kID0gdGhpcy5VID0gITE7IHRoaXMuaCA9IG5ldyBmYzsgfVxyXG5mdW5jdGlvbiBmYygpIHsgdGhpcy5pID0gbnVsbDsgdGhpcy5nID0gXCJcIjsgdGhpcy5oID0gITE7IH1cclxudmFyIGVjID0gNDVFMywgZ2MgPSB7fSwgaGMgPSB7fTtcclxuayA9IE0ucHJvdG90eXBlO1xyXG5rLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAoYSkgeyB0aGlzLlAgPSBhOyB9O1xyXG5mdW5jdGlvbiBpYyhhLCBiLCBjKSB7IGEuSyA9IDE7IGEudiA9IGpjKE4oYikpOyBhLnMgPSBjOyBhLlUgPSAhMDsga2MoYSwgbnVsbCk7IH1cclxuZnVuY3Rpb24ga2MoYSwgYikgeyBhLkYgPSBEYXRlLm5vdygpOyBsYyhhKTsgYS5BID0gTihhLnYpOyB2YXIgYyA9IGEuQSwgZCA9IGEuWDsgQXJyYXkuaXNBcnJheShkKSB8fCAoZCA9IFtTdHJpbmcoZCldKTsgbWMoYy5oLCBcInRcIiwgZCk7IGEuQyA9IDA7IGMgPSBhLmwuSDsgYS5oID0gbmV3IGZjOyBhLmcgPSBuYyhhLmwsIGMgPyBiIDogbnVsbCwgIWEucyk7IDAgPCBhLk8gJiYgKGEuTCA9IG5ldyBJYihxKGEuSWEsIGEsIGEuZyksIGEuTykpOyBLYihhLlYsIGEuZywgXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGEuZ2IpOyBiID0gYS5IID8geWEoYS5IKSA6IHt9OyBhLnMgPyAoYS51IHx8IChhLnUgPSBcIlBPU1RcIiksIGJbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLCBhLmcuZWEoYS5BLCBhLnUsIGEucywgYikpIDogKGEudSA9IFwiR0VUXCIsIGEuZy5lYShhLkEsIGEudSwgbnVsbCwgYikpOyBJKDEpOyBOYihhLmosIGEudSwgYS5BLCBhLm0sIGEuWCwgYS5zKTsgfVxyXG5rLmdiID0gZnVuY3Rpb24gKGEpIHsgYSA9IGEudGFyZ2V0OyB2YXIgYiA9IHRoaXMuTDsgYiAmJiAzID09IE8oYSkgPyBiLmwoKSA6IHRoaXMuSWEoYSk7IH07XHJcbmsuSWEgPSBmdW5jdGlvbiAoYSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAoYSA9PSB0aGlzLmcpXHJcbiAgICAgICAgICAgIGE6IHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gTyh0aGlzLmcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLmcuRGEoKTtcclxuICAgICAgICAgICAgICAgIHZhciBHID0gdGhpcy5nLmJhKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoISgzID4gcikgJiYgKDMgIT0gciB8fCBKYSB8fCB0aGlzLmcgJiYgKHRoaXMuaC5oIHx8IHRoaXMuZy5nYSgpIHx8IG9jKHRoaXMuZykpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSSB8fCA0ICE9IHIgfHwgNyA9PSBiIHx8ICg4ID09IGIgfHwgMCA+PSBHID8gSSgzKSA6IEkoMikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBjKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5nLmJhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gYztcclxuICAgICAgICAgICAgICAgICAgICBiOiBpZiAocWModGhpcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBvYyh0aGlzLmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBkLmxlbmd0aCwgZiA9IDQgPT0gTyh0aGlzLmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaC5pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIFRleHREZWNvZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYyh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaC5pID0gbmV3IGwuVGV4dERlY29kZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gMDsgYiA8IGU7IGIrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaC5oID0gITAsIGEgKz0gdGhpcy5oLmkuZGVjb2RlKGRbYl0sIHsgc3RyZWFtOiBmICYmIGIgPT0gZSAtIDEgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuc3BsaWNlKDAsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmguZyArPSBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gdGhpcy5oLmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMuZy5nYSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaSA9IDIwMCA9PSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIE9iKHRoaXMuaiwgdGhpcy51LCB0aGlzLkEsIHRoaXMubSwgdGhpcy5YLCByLCBjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiQgJiYgIXRoaXMuSikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIHUgPSB0aGlzLmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobiA9IHUuZyA/IHUuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpIDogbnVsbCkgJiYgIXNhKG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IG47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPSBtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEYodGhpcy5qLCB0aGlzLm0sIGMsIFwiSW5pdGlhbCBoYW5kc2hha2UgcmVzcG9uc2UgdmlhIFgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpLCB0aGlzLkogPSAhMCwgc2ModGhpcywgYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmkgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm8gPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEooMTIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmModGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlUgPyAodGModGhpcywgciwgaCksIEphICYmIHRoaXMuaSAmJiAzID09IHIgJiYgKEtiKHRoaXMuViwgdGhpcy5XLCBcInRpY2tcIiwgdGhpcy5mYiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlcuc3RhcnQoKSkpIDogKEYodGhpcy5qLCB0aGlzLm0sIGgsIG51bGwpLCBzYyh0aGlzLCBoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgPT0gciAmJiBQKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmkgJiYgIXRoaXMuSSAmJiAoNCA9PSByID8gdWModGhpcy5sLCB0aGlzKSA6ICh0aGlzLmkgPSAhMSwgbGModGhpcykpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA0MDAgPT0gYyAmJiAwIDwgaC5pbmRleE9mKFwiVW5rbm93biBTSURcIikgPyAodGhpcy5vID0gMywgSigxMikpIDogKHRoaXMubyA9IDAsIEooMTMpKSwgUCh0aGlzKSwgcmModGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChyKSB7IH1cclxuICAgIGZpbmFsbHkgeyB9XHJcbn07XHJcbmZ1bmN0aW9uIHFjKGEpIHsgcmV0dXJuIGEuZyA/IFwiR0VUXCIgPT0gYS51ICYmIDIgIT0gYS5LICYmIGEubC5CYSA6ICExOyB9XHJcbmZ1bmN0aW9uIHRjKGEsIGIsIGMpIHtcclxuICAgIHZhciBkID0gITAsIGU7XHJcbiAgICBmb3IgKDsgIWEuSSAmJiBhLkMgPCBjLmxlbmd0aDspXHJcbiAgICAgICAgaWYgKGUgPSB2YyhhLCBjKSwgZSA9PSBoYykge1xyXG4gICAgICAgICAgICA0ID09IGIgJiYgKGEubyA9IDQsIEooMTQpLCBkID0gITEpO1xyXG4gICAgICAgICAgICBGKGEuaiwgYS5tLCBudWxsLCBcIltJbmNvbXBsZXRlIFJlc3BvbnNlXVwiKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUgPT0gZ2MpIHtcclxuICAgICAgICAgICAgYS5vID0gNDtcclxuICAgICAgICAgICAgSigxNSk7XHJcbiAgICAgICAgICAgIEYoYS5qLCBhLm0sIGMsIFwiW0ludmFsaWQgQ2h1bmtdXCIpO1xyXG4gICAgICAgICAgICBkID0gITE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIEYoYS5qLCBhLm0sIGUsIG51bGwpLCBzYyhhLCBlKTtcclxuICAgIHFjKGEpICYmIGUgIT0gaGMgJiYgZSAhPSBnYyAmJiAoYS5oLmcgPSBcIlwiLCBhLkMgPSAwKTtcclxuICAgIDQgIT0gYiB8fCAwICE9IGMubGVuZ3RoIHx8IGEuaC5oIHx8IChhLm8gPSAxLCBKKDE2KSwgZCA9ICExKTtcclxuICAgIGEuaSA9IGEuaSAmJiBkO1xyXG4gICAgZCA/IDAgPCBjLmxlbmd0aCAmJiAhYS5hYSAmJiAoYS5hYSA9ICEwLCBiID0gYS5sLCBiLmcgPT0gYSAmJiBiLiQgJiYgIWIuTCAmJiAoYi5oLmluZm8oXCJHcmVhdCwgbm8gYnVmZmVyaW5nIHByb3h5IGRldGVjdGVkLiBCeXRlcyByZWNlaXZlZDogXCIgKyBjLmxlbmd0aCksIHdjKGIpLCBiLkwgPSAhMCwgSigxMSkpKSA6IChGKGEuaiwgYS5tLCBjLCBcIltJbnZhbGlkIENodW5rZWQgUmVzcG9uc2VdXCIpLCBQKGEpLCByYyhhKSk7XHJcbn1cclxuay5mYiA9IGZ1bmN0aW9uICgpIHsgaWYgKHRoaXMuZykge1xyXG4gICAgdmFyIGEgPSBPKHRoaXMuZyksIGIgPSB0aGlzLmcuZ2EoKTtcclxuICAgIHRoaXMuQyA8IGIubGVuZ3RoICYmIChwYyh0aGlzKSwgdGModGhpcywgYSwgYiksIHRoaXMuaSAmJiA0ICE9IGEgJiYgbGModGhpcykpO1xyXG59IH07XHJcbmZ1bmN0aW9uIHZjKGEsIGIpIHsgdmFyIGMgPSBhLkMsIGQgPSBiLmluZGV4T2YoXCJcXG5cIiwgYyk7IGlmICgtMSA9PSBkKVxyXG4gICAgcmV0dXJuIGhjOyBjID0gTnVtYmVyKGIuc3Vic3RyaW5nKGMsIGQpKTsgaWYgKGlzTmFOKGMpKVxyXG4gICAgcmV0dXJuIGdjOyBkICs9IDE7IGlmIChkICsgYyA+IGIubGVuZ3RoKVxyXG4gICAgcmV0dXJuIGhjOyBiID0gYi5zdWJzdHIoZCwgYyk7IGEuQyA9IGQgKyBjOyByZXR1cm4gYjsgfVxyXG5rLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5JID0gITA7IFAodGhpcyk7IH07XHJcbmZ1bmN0aW9uIGxjKGEpIHsgYS5ZID0gRGF0ZS5ub3coKSArIGEuUDsgeGMoYSwgYS5QKTsgfVxyXG5mdW5jdGlvbiB4YyhhLCBiKSB7IGlmIChudWxsICE9IGEuQilcclxuICAgIHRocm93IEVycm9yKFwiV2F0Y2hEb2cgdGltZXIgbm90IG51bGxcIik7IGEuQiA9IEsocShhLmViLCBhKSwgYik7IH1cclxuZnVuY3Rpb24gcGMoYSkgeyBhLkIgJiYgKGwuY2xlYXJUaW1lb3V0KGEuQiksIGEuQiA9IG51bGwpOyB9XHJcbmsuZWIgPSBmdW5jdGlvbiAoKSB7IHRoaXMuQiA9IG51bGw7IHZhciBhID0gRGF0ZS5ub3coKTsgMCA8PSBhIC0gdGhpcy5ZID8gKFFiKHRoaXMuaiwgdGhpcy5BKSwgMiAhPSB0aGlzLksgJiYgKEkoMyksIEooMTcpKSwgUCh0aGlzKSwgdGhpcy5vID0gMiwgcmModGhpcykpIDogeGModGhpcywgdGhpcy5ZIC0gYSk7IH07XHJcbmZ1bmN0aW9uIHJjKGEpIHsgMCA9PSBhLmwuRyB8fCBhLkkgfHwgdWMoYS5sLCBhKTsgfVxyXG5mdW5jdGlvbiBQKGEpIHsgcGMoYSk7IHZhciBiID0gYS5MOyBiICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYi5uYSAmJiBiLm5hKCk7IGEuTCA9IG51bGw7IEZiKGEuVyk7IExiKGEuVik7IGEuZyAmJiAoYiA9IGEuZywgYS5nID0gbnVsbCwgYi5hYm9ydCgpLCBiLm5hKCkpOyB9XHJcbmZ1bmN0aW9uIHNjKGEsIGIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGMgPSBhLmw7XHJcbiAgICAgICAgaWYgKDAgIT0gYy5HICYmIChjLmcgPT0gYSB8fCB5YyhjLmksIGEpKSlcclxuICAgICAgICAgICAgaWYgKGMuSSA9IGEuTiwgIWEuSiAmJiB5YyhjLmksIGEpICYmIDMgPT0gYy5HKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gYy5DYS5nLnBhcnNlKGIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGQpICYmIDMgPT0gZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT0gZVswXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjLnUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYy5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYy5nLkYgKyAzRTMgPCBhLkYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6YyhjKSwgQWMoYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmMoYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSigxOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMudGEgPSBlWzFdLCAwIDwgYy50YSAtIGMuVSAmJiAzNzUwMCA+IGVbMl0gJiYgYy5OICYmIDAgPT0gYy5BICYmICFjLnYgJiYgKGMudiA9IEsocShjLmFiLCBjKSwgNkUzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDEgPj0gQ2MoYy5pKSAmJiBjLmthKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmthKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKG0pIHsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLmthID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBRKGMsIDExKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgoYS5KIHx8IGMuZyA9PSBhKSAmJiB6YyhjKSwgIXNhKGIpKVxyXG4gICAgICAgICAgICAgICAgZm9yIChlID0gYy5DYS5nLnBhcnNlKGIpLCBiID0gMDsgYiA8IGUubGVuZ3RoOyBiKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGVbYl07XHJcbiAgICAgICAgICAgICAgICAgICAgYy5VID0gbVswXTtcclxuICAgICAgICAgICAgICAgICAgICBtID0gbVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMiA9PSBjLkcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImNcIiA9PSBtWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLkogPSBtWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5sYSA9IG1bMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG1bM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9IHIgJiYgKGMubWEgPSByLCBjLmguaW5mbyhcIlZFUj1cIiArIGMubWEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBHID0gbVs0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT0gRyAmJiAoYy56YSA9IEcsIGMuaC5pbmZvKFwiU1ZFUj1cIiArIGMuemEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBEYSA9IG1bNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9IERhICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiBEYSAmJiAwIDwgRGEgJiYgKGQgPSAxLjUgKiBEYSwgYy5LID0gZCwgYy5oLmluZm8oXCJiYWNrQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNfPVwiICsgZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2EgPSBhLmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRWEgPSBjYS5nID8gY2EuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2xcIikgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGQuaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWYuZyAmJiAodyhFYSwgXCJzcGR5XCIpIHx8IHcoRWEsIFwicXVpY1wiKSB8fCB3KEVhLCBcImgyXCIpKSAmJiAoZi5qID0gZi5sLCBmLmcgPSBuZXcgU2V0LCBmLmggJiYgKERjKGYsIGYuaCksIGYuaCA9IG51bGwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQuRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeGIgPSBjYS5nID8gY2EuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtSFRUUC1TZXNzaW9uLUlkXCIpIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGIgJiYgKGQuc2EgPSB4YiwgUihkLkYsIGQuRCwgeGIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLkcgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5qICYmIGMuai54YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy4kICYmIChjLk8gPSBEYXRlLm5vdygpIC0gYS5GLCBjLmguaW5mbyhcIkhhbmRzaGFrZSBSVFQ6IFwiICsgYy5PICsgXCJtc1wiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQub2EgPSBFYyhkLCBkLkggPyBkLmxhIDogbnVsbCwgZC5XKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoLkopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGYyhkLmksIGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaCwgdSA9IGQuSztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ICYmIG4uc2V0VGltZW91dCh1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLkIgJiYgKHBjKG4pLCBsYyhuKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5nID0gaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYyhkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgPCBjLmwubGVuZ3RoICYmIEhjKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RvcFwiICE9IG1bMF0gJiYgXCJjbG9zZVwiICE9IG1bMF0gfHwgUShjLCA3KTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDMgPT0gYy5HICYmIChcInN0b3BcIiA9PSBtWzBdIHx8IFwiY2xvc2VcIiA9PSBtWzBdID8gXCJzdG9wXCIgPT0gbVswXSA/IFEoYywgNykgOiBJYyhjKSA6IFwibm9vcFwiICE9IG1bMF0gJiYgYy5qICYmIGMuai53YShtKSwgYy5BID0gMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgSSg0KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChtKSB7IH1cclxufVxyXG5mdW5jdGlvbiBKYyhhKSB7IGlmIChhLlIgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLlIpXHJcbiAgICByZXR1cm4gYS5SKCk7IGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYSlcclxuICAgIHJldHVybiBhLnNwbGl0KFwiXCIpOyBpZiAoYmEoYSkpIHtcclxuICAgIGZvciAodmFyIGIgPSBbXSwgYyA9IGEubGVuZ3RoLCBkID0gMDsgZCA8IGM7IGQrKylcclxuICAgICAgICBiLnB1c2goYVtkXSk7XHJcbiAgICByZXR1cm4gYjtcclxufSBiID0gW107IGMgPSAwOyBmb3IgKGQgaW4gYSlcclxuICAgIGJbYysrXSA9IGFbZF07IHJldHVybiBiOyB9XHJcbmZ1bmN0aW9uIEtjKGEsIGIpIHsgaWYgKGEuZm9yRWFjaCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEuZm9yRWFjaClcclxuICAgIGEuZm9yRWFjaChiLCB2b2lkIDApO1xyXG5lbHNlIGlmIChiYShhKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYSlcclxuICAgIG5hKGEsIGIsIHZvaWQgMCk7XHJcbmVsc2Uge1xyXG4gICAgaWYgKGEuVCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEuVClcclxuICAgICAgICB2YXIgYyA9IGEuVCgpO1xyXG4gICAgZWxzZSBpZiAoYS5SICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYS5SKVxyXG4gICAgICAgIGMgPSB2b2lkIDA7XHJcbiAgICBlbHNlIGlmIChiYShhKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYSkge1xyXG4gICAgICAgIGMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBkID0gYS5sZW5ndGgsIGUgPSAwOyBlIDwgZDsgZSsrKVxyXG4gICAgICAgICAgICBjLnB1c2goZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICAgICAgZm9yIChlIGluIGMgPSBbXSwgZCA9IDAsIGEpXHJcbiAgICAgICAgICAgIGNbZCsrXSA9IGU7XHJcbiAgICBkID0gSmMoYSk7XHJcbiAgICBlID0gZC5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBmID0gMDsgZiA8IGU7IGYrKylcclxuICAgICAgICBiLmNhbGwodm9pZCAwLCBkW2ZdLCBjICYmIGNbZl0sIGEpO1xyXG59IH1cclxuZnVuY3Rpb24gUyhhLCBiKSB7IHRoaXMuaCA9IHt9OyB0aGlzLmcgPSBbXTsgdGhpcy5pID0gMDsgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoOyBpZiAoMSA8IGMpIHtcclxuICAgIGlmIChjICUgMilcclxuICAgICAgICB0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO1xyXG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBjOyBkICs9IDIpXHJcbiAgICAgICAgdGhpcy5zZXQoYXJndW1lbnRzW2RdLCBhcmd1bWVudHNbZCArIDFdKTtcclxufVxyXG5lbHNlIGlmIChhKVxyXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBTKVxyXG4gICAgICAgIGZvciAoYyA9IGEuVCgpLCBkID0gMDsgZCA8IGMubGVuZ3RoOyBkKyspXHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGNbZF0sIGEuZ2V0KGNbZF0pKTtcclxuICAgIGVsc2VcclxuICAgICAgICBmb3IgKGQgaW4gYSlcclxuICAgICAgICAgICAgdGhpcy5zZXQoZCwgYVtkXSk7IH1cclxuayA9IFMucHJvdG90eXBlO1xyXG5rLlIgPSBmdW5jdGlvbiAoKSB7IExjKHRoaXMpOyBmb3IgKHZhciBhID0gW10sIGIgPSAwOyBiIDwgdGhpcy5nLmxlbmd0aDsgYisrKVxyXG4gICAgYS5wdXNoKHRoaXMuaFt0aGlzLmdbYl1dKTsgcmV0dXJuIGE7IH07XHJcbmsuVCA9IGZ1bmN0aW9uICgpIHsgTGModGhpcyk7IHJldHVybiB0aGlzLmcuY29uY2F0KCk7IH07XHJcbmZ1bmN0aW9uIExjKGEpIHsgaWYgKGEuaSAhPSBhLmcubGVuZ3RoKSB7XHJcbiAgICBmb3IgKHZhciBiID0gMCwgYyA9IDA7IGIgPCBhLmcubGVuZ3RoOykge1xyXG4gICAgICAgIHZhciBkID0gYS5nW2JdO1xyXG4gICAgICAgIFQoYS5oLCBkKSAmJiAoYS5nW2MrK10gPSBkKTtcclxuICAgICAgICBiKys7XHJcbiAgICB9XHJcbiAgICBhLmcubGVuZ3RoID0gYztcclxufSBpZiAoYS5pICE9IGEuZy5sZW5ndGgpIHtcclxuICAgIHZhciBlID0ge307XHJcbiAgICBmb3IgKGMgPSBiID0gMDsgYiA8IGEuZy5sZW5ndGg7KVxyXG4gICAgICAgIGQgPSBhLmdbYl0sIFQoZSwgZCkgfHwgKGEuZ1tjKytdID0gZCwgZVtkXSA9IDEpLCBiKys7XHJcbiAgICBhLmcubGVuZ3RoID0gYztcclxufSB9XHJcbmsuZ2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIFQodGhpcy5oLCBhKSA/IHRoaXMuaFthXSA6IGI7IH07XHJcbmsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsgVCh0aGlzLmgsIGEpIHx8ICh0aGlzLmkrKywgdGhpcy5nLnB1c2goYSkpOyB0aGlzLmhbYV0gPSBiOyB9O1xyXG5rLmZvckVhY2ggPSBmdW5jdGlvbiAoYSwgYikgeyBmb3IgKHZhciBjID0gdGhpcy5UKCksIGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykge1xyXG4gICAgdmFyIGUgPSBjW2RdLCBmID0gdGhpcy5nZXQoZSk7XHJcbiAgICBhLmNhbGwoYiwgZiwgZSwgdGhpcyk7XHJcbn0gfTtcclxuZnVuY3Rpb24gVChhLCBiKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7IH1cclxudmFyIE1jID0gL14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXlxcXFwvPyNdKilAKT8oW15cXFxcLz8jXSo/KSg/OjooWzAtOV0rKSk/KD89W1xcXFwvPyNdfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKFtcXHNcXFNdKikpPyQvO1xyXG5mdW5jdGlvbiBOYyhhLCBiKSB7IGlmIChhKSB7XHJcbiAgICBhID0gYS5zcGxpdChcIiZcIik7XHJcbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspIHtcclxuICAgICAgICB2YXIgZCA9IGFbY10uaW5kZXhPZihcIj1cIiksIGUgPSBudWxsO1xyXG4gICAgICAgIGlmICgwIDw9IGQpIHtcclxuICAgICAgICAgICAgdmFyIGYgPSBhW2NdLnN1YnN0cmluZygwLCBkKTtcclxuICAgICAgICAgICAgZSA9IGFbY10uc3Vic3RyaW5nKGQgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBmID0gYVtjXTtcclxuICAgICAgICBiKGYsIGUgPyBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSA6IFwiXCIpO1xyXG4gICAgfVxyXG59IH1cclxuZnVuY3Rpb24gVShhLCBiKSB7IHRoaXMuaSA9IHRoaXMucyA9IHRoaXMuaiA9IFwiXCI7IHRoaXMubSA9IG51bGw7IHRoaXMubyA9IHRoaXMubCA9IFwiXCI7IHRoaXMuZyA9ICExOyBpZiAoYSBpbnN0YW5jZW9mIFUpIHtcclxuICAgIHRoaXMuZyA9IHZvaWQgMCAhPT0gYiA/IGIgOiBhLmc7XHJcbiAgICBPYyh0aGlzLCBhLmopO1xyXG4gICAgdGhpcy5zID0gYS5zO1xyXG4gICAgUGModGhpcywgYS5pKTtcclxuICAgIFFjKHRoaXMsIGEubSk7XHJcbiAgICB0aGlzLmwgPSBhLmw7XHJcbiAgICBiID0gYS5oO1xyXG4gICAgdmFyIGMgPSBuZXcgUmM7XHJcbiAgICBjLmkgPSBiLmk7XHJcbiAgICBiLmcgJiYgKGMuZyA9IG5ldyBTKGIuZyksIGMuaCA9IGIuaCk7XHJcbiAgICBTYyh0aGlzLCBjKTtcclxuICAgIHRoaXMubyA9IGEubztcclxufVxyXG5lbHNlXHJcbiAgICBhICYmIChjID0gU3RyaW5nKGEpLm1hdGNoKE1jKSkgPyAodGhpcy5nID0gISFiLCBPYyh0aGlzLCBjWzFdIHx8IFwiXCIsICEwKSwgdGhpcy5zID0gVGMoY1syXSB8fCBcIlwiKSwgUGModGhpcywgY1szXSB8fCBcIlwiLCAhMCksIFFjKHRoaXMsIGNbNF0pLCB0aGlzLmwgPSBUYyhjWzVdIHx8IFwiXCIsICEwKSwgU2ModGhpcywgY1s2XSB8fCBcIlwiLCAhMCksIHRoaXMubyA9IFRjKGNbN10gfHwgXCJcIikpIDogKHRoaXMuZyA9ICEhYiwgdGhpcy5oID0gbmV3IFJjKG51bGwsIHRoaXMuZykpOyB9XHJcblUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyB2YXIgYSA9IFtdLCBiID0gdGhpcy5qOyBiICYmIGEucHVzaChVYyhiLCBWYywgITApLCBcIjpcIik7IHZhciBjID0gdGhpcy5pOyBpZiAoYyB8fCBcImZpbGVcIiA9PSBiKVxyXG4gICAgYS5wdXNoKFwiLy9cIiksIChiID0gdGhpcy5zKSAmJiBhLnB1c2goVWMoYiwgVmMsICEwKSwgXCJAXCIpLCBhLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCBcIiUkMVwiKSksIGMgPSB0aGlzLm0sIG51bGwgIT0gYyAmJiBhLnB1c2goXCI6XCIsIFN0cmluZyhjKSk7IGlmIChjID0gdGhpcy5sKVxyXG4gICAgdGhpcy5pICYmIFwiL1wiICE9IGMuY2hhckF0KDApICYmIGEucHVzaChcIi9cIiksIGEucHVzaChVYyhjLCBcIi9cIiA9PSBjLmNoYXJBdCgwKSA/IFdjIDogWGMsICEwKSk7IChjID0gdGhpcy5oLnRvU3RyaW5nKCkpICYmIGEucHVzaChcIj9cIiwgYyk7IChjID0gdGhpcy5vKSAmJiBhLnB1c2goXCIjXCIsIFVjKGMsIFljKSk7IHJldHVybiBhLmpvaW4oXCJcIik7IH07XHJcbmZ1bmN0aW9uIE4oYSkgeyByZXR1cm4gbmV3IFUoYSk7IH1cclxuZnVuY3Rpb24gT2MoYSwgYiwgYykgeyBhLmogPSBjID8gVGMoYiwgITApIDogYjsgYS5qICYmIChhLmogPSBhLmoucmVwbGFjZSgvOiQvLCBcIlwiKSk7IH1cclxuZnVuY3Rpb24gUGMoYSwgYiwgYykgeyBhLmkgPSBjID8gVGMoYiwgITApIDogYjsgfVxyXG5mdW5jdGlvbiBRYyhhLCBiKSB7IGlmIChiKSB7XHJcbiAgICBiID0gTnVtYmVyKGIpO1xyXG4gICAgaWYgKGlzTmFOKGIpIHx8IDAgPiBiKVxyXG4gICAgICAgIHRocm93IEVycm9yKFwiQmFkIHBvcnQgbnVtYmVyIFwiICsgYik7XHJcbiAgICBhLm0gPSBiO1xyXG59XHJcbmVsc2VcclxuICAgIGEubSA9IG51bGw7IH1cclxuZnVuY3Rpb24gU2MoYSwgYiwgYykgeyBiIGluc3RhbmNlb2YgUmMgPyAoYS5oID0gYiwgWmMoYS5oLCBhLmcpKSA6IChjIHx8IChiID0gVWMoYiwgJGMpKSwgYS5oID0gbmV3IFJjKGIsIGEuZykpOyB9XHJcbmZ1bmN0aW9uIFIoYSwgYiwgYykgeyBhLmguc2V0KGIsIGMpOyB9XHJcbmZ1bmN0aW9uIGpjKGEpIHsgUihhLCBcInp4XCIsIE1hdGguZmxvb3IoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KSArIE1hdGguYWJzKE1hdGguZmxvb3IoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpIF4gRGF0ZS5ub3coKSkudG9TdHJpbmcoMzYpKTsgcmV0dXJuIGE7IH1cclxuZnVuY3Rpb24gYWQoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFUgPyBOKGEpIDogbmV3IFUoYSwgdm9pZCAwKTsgfVxyXG5mdW5jdGlvbiBiZChhLCBiLCBjLCBkKSB7IHZhciBlID0gbmV3IFUobnVsbCwgdm9pZCAwKTsgYSAmJiBPYyhlLCBhKTsgYiAmJiBQYyhlLCBiKTsgYyAmJiBRYyhlLCBjKTsgZCAmJiAoZS5sID0gZCk7IHJldHVybiBlOyB9XHJcbmZ1bmN0aW9uIFRjKGEsIGIpIHsgcmV0dXJuIGEgPyBiID8gZGVjb2RlVVJJKGEucmVwbGFjZSgvJTI1L2csIFwiJTI1MjVcIikpIDogZGVjb2RlVVJJQ29tcG9uZW50KGEpIDogXCJcIjsgfVxyXG5mdW5jdGlvbiBVYyhhLCBiLCBjKSB7IHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgYSA/IChhID0gZW5jb2RlVVJJKGEpLnJlcGxhY2UoYiwgY2QpLCBjICYmIChhID0gYS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIFwiJSQxXCIpKSwgYSkgOiBudWxsOyB9XHJcbmZ1bmN0aW9uIGNkKGEpIHsgYSA9IGEuY2hhckNvZGVBdCgwKTsgcmV0dXJuIFwiJVwiICsgKGEgPj4gNCAmIDE1KS50b1N0cmluZygxNikgKyAoYSAmIDE1KS50b1N0cmluZygxNik7IH1cclxudmFyIFZjID0gL1sjXFwvXFw/QF0vZywgWGMgPSAvWyNcXD86XS9nLCBXYyA9IC9bI1xcP10vZywgJGMgPSAvWyNcXD9AXS9nLCBZYyA9IC8jL2c7XHJcbmZ1bmN0aW9uIFJjKGEsIGIpIHsgdGhpcy5oID0gdGhpcy5nID0gbnVsbDsgdGhpcy5pID0gYSB8fCBudWxsOyB0aGlzLmogPSAhIWI7IH1cclxuZnVuY3Rpb24gVihhKSB7IGEuZyB8fCAoYS5nID0gbmV3IFMsIGEuaCA9IDAsIGEuaSAmJiBOYyhhLmksIGZ1bmN0aW9uIChiLCBjKSB7IGEuYWRkKGRlY29kZVVSSUNvbXBvbmVudChiLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpLCBjKTsgfSkpOyB9XHJcbmsgPSBSYy5wcm90b3R5cGU7XHJcbmsuYWRkID0gZnVuY3Rpb24gKGEsIGIpIHsgVih0aGlzKTsgdGhpcy5pID0gbnVsbDsgYSA9IFcodGhpcywgYSk7IHZhciBjID0gdGhpcy5nLmdldChhKTsgYyB8fCB0aGlzLmcuc2V0KGEsIGMgPSBbXSk7IGMucHVzaChiKTsgdGhpcy5oICs9IDE7IHJldHVybiB0aGlzOyB9O1xyXG5mdW5jdGlvbiBkZChhLCBiKSB7IFYoYSk7IGIgPSBXKGEsIGIpOyBUKGEuZy5oLCBiKSAmJiAoYS5pID0gbnVsbCwgYS5oIC09IGEuZy5nZXQoYikubGVuZ3RoLCBhID0gYS5nLCBUKGEuaCwgYikgJiYgKGRlbGV0ZSBhLmhbYl0sIGEuaS0tLCBhLmcubGVuZ3RoID4gMiAqIGEuaSAmJiBMYyhhKSkpOyB9XHJcbmZ1bmN0aW9uIGVkKGEsIGIpIHsgVihhKTsgYiA9IFcoYSwgYik7IHJldHVybiBUKGEuZy5oLCBiKTsgfVxyXG5rLmZvckVhY2ggPSBmdW5jdGlvbiAoYSwgYikgeyBWKHRoaXMpOyB0aGlzLmcuZm9yRWFjaChmdW5jdGlvbiAoYywgZCkgeyBuYShjLCBmdW5jdGlvbiAoZSkgeyBhLmNhbGwoYiwgZSwgZCwgdGhpcyk7IH0sIHRoaXMpOyB9LCB0aGlzKTsgfTtcclxuay5UID0gZnVuY3Rpb24gKCkgeyBWKHRoaXMpOyBmb3IgKHZhciBhID0gdGhpcy5nLlIoKSwgYiA9IHRoaXMuZy5UKCksIGMgPSBbXSwgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKVxyXG4gICAgZm9yICh2YXIgZSA9IGFbZF0sIGYgPSAwOyBmIDwgZS5sZW5ndGg7IGYrKylcclxuICAgICAgICBjLnB1c2goYltkXSk7IHJldHVybiBjOyB9O1xyXG5rLlIgPSBmdW5jdGlvbiAoYSkgeyBWKHRoaXMpOyB2YXIgYiA9IFtdOyBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEpXHJcbiAgICBlZCh0aGlzLCBhKSAmJiAoYiA9IHFhKGIsIHRoaXMuZy5nZXQoVyh0aGlzLCBhKSkpKTtcclxuZWxzZSB7XHJcbiAgICBhID0gdGhpcy5nLlIoKTtcclxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKylcclxuICAgICAgICBiID0gcWEoYiwgYVtjXSk7XHJcbn0gcmV0dXJuIGI7IH07XHJcbmsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsgVih0aGlzKTsgdGhpcy5pID0gbnVsbDsgYSA9IFcodGhpcywgYSk7IGVkKHRoaXMsIGEpICYmICh0aGlzLmggLT0gdGhpcy5nLmdldChhKS5sZW5ndGgpOyB0aGlzLmcuc2V0KGEsIFtiXSk7IHRoaXMuaCArPSAxOyByZXR1cm4gdGhpczsgfTtcclxuay5nZXQgPSBmdW5jdGlvbiAoYSwgYikgeyBpZiAoIWEpXHJcbiAgICByZXR1cm4gYjsgYSA9IHRoaXMuUihhKTsgcmV0dXJuIDAgPCBhLmxlbmd0aCA/IFN0cmluZyhhWzBdKSA6IGI7IH07XHJcbmZ1bmN0aW9uIG1jKGEsIGIsIGMpIHsgZGQoYSwgYik7IDAgPCBjLmxlbmd0aCAmJiAoYS5pID0gbnVsbCwgYS5nLnNldChXKGEsIGIpLCByYShjKSksIGEuaCArPSBjLmxlbmd0aCk7IH1cclxuay50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgaWYgKHRoaXMuaSlcclxuICAgIHJldHVybiB0aGlzLmk7IGlmICghdGhpcy5nKVxyXG4gICAgcmV0dXJuIFwiXCI7IGZvciAodmFyIGEgPSBbXSwgYiA9IHRoaXMuZy5UKCksIGMgPSAwOyBjIDwgYi5sZW5ndGg7IGMrKykge1xyXG4gICAgdmFyIGQgPSBiW2NdLCBlID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSk7XHJcbiAgICBkID0gdGhpcy5SKGQpO1xyXG4gICAgZm9yICh2YXIgZiA9IDA7IGYgPCBkLmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgdmFyIGggPSBlO1xyXG4gICAgICAgIFwiXCIgIT09IGRbZl0gJiYgKGggKz0gXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGRbZl0pKSk7XHJcbiAgICAgICAgYS5wdXNoKGgpO1xyXG4gICAgfVxyXG59IHJldHVybiB0aGlzLmkgPSBhLmpvaW4oXCImXCIpOyB9O1xyXG5mdW5jdGlvbiBXKGEsIGIpIHsgYiA9IFN0cmluZyhiKTsgYS5qICYmIChiID0gYi50b0xvd2VyQ2FzZSgpKTsgcmV0dXJuIGI7IH1cclxuZnVuY3Rpb24gWmMoYSwgYikgeyBiICYmICFhLmogJiYgKFYoYSksIGEuaSA9IG51bGwsIGEuZy5mb3JFYWNoKGZ1bmN0aW9uIChjLCBkKSB7IHZhciBlID0gZC50b0xvd2VyQ2FzZSgpOyBkICE9IGUgJiYgKGRkKHRoaXMsIGQpLCBtYyh0aGlzLCBlLCBjKSk7IH0sIGEpKTsgYS5qID0gYjsgfVxyXG52YXIgZmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBmZChhLCBiKSB7XHJcbiAgICAgICAgdGhpcy5oID0gYTtcclxuICAgICAgICB0aGlzLmcgPSBiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZkO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBnZChhKSB7IHRoaXMubCA9IGEgfHwgaGQ7IGwuUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nID8gKGEgPSBsLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpLCBhID0gMCA8IGEubGVuZ3RoICYmIChcImhxXCIgPT0gYVswXS5uZXh0SG9wUHJvdG9jb2wgfHwgXCJoMlwiID09IGFbMF0ubmV4dEhvcFByb3RvY29sKSkgOiBhID0gISEobC5nICYmIGwuZy5FYSAmJiBsLmcuRWEoKSAmJiBsLmcuRWEoKS5aYik7IHRoaXMuaiA9IGEgPyB0aGlzLmwgOiAxOyB0aGlzLmcgPSBudWxsOyAxIDwgdGhpcy5qICYmICh0aGlzLmcgPSBuZXcgU2V0KTsgdGhpcy5oID0gbnVsbDsgdGhpcy5pID0gW107IH1cclxudmFyIGhkID0gMTA7XHJcbmZ1bmN0aW9uIGlkKGEpIHsgcmV0dXJuIGEuaCA/ICEwIDogYS5nID8gYS5nLnNpemUgPj0gYS5qIDogITE7IH1cclxuZnVuY3Rpb24gQ2MoYSkgeyByZXR1cm4gYS5oID8gMSA6IGEuZyA/IGEuZy5zaXplIDogMDsgfVxyXG5mdW5jdGlvbiB5YyhhLCBiKSB7IHJldHVybiBhLmggPyBhLmggPT0gYiA6IGEuZyA/IGEuZy5oYXMoYikgOiAhMTsgfVxyXG5mdW5jdGlvbiBEYyhhLCBiKSB7IGEuZyA/IGEuZy5hZGQoYikgOiBhLmggPSBiOyB9XHJcbmZ1bmN0aW9uIEZjKGEsIGIpIHsgYS5oICYmIGEuaCA9PSBiID8gYS5oID0gbnVsbCA6IGEuZyAmJiBhLmcuaGFzKGIpICYmIGEuZy5kZWxldGUoYik7IH1cclxuZ2QucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgdGhpcy5pID0gamQodGhpcyk7XHJcbiAgICBpZiAodGhpcy5oKVxyXG4gICAgICAgIHRoaXMuaC5jYW5jZWwoKSwgdGhpcy5oID0gbnVsbDtcclxuICAgIGVsc2UgaWYgKHRoaXMuZyAmJiAwICE9PSB0aGlzLmcuc2l6ZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5nLnZhbHVlcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGEuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZy5jbGVhcigpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBqZChhKSB7XHJcbiAgICB2YXIgZV8yLCBfYTtcclxuICAgIGlmIChudWxsICE9IGEuaClcclxuICAgICAgICByZXR1cm4gYS5pLmNvbmNhdChhLmguRCk7XHJcbiAgICBpZiAobnVsbCAhPSBhLmcgJiYgMCAhPT0gYS5nLnNpemUpIHtcclxuICAgICAgICB2YXIgYiA9IGEuaTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGEuZy52YWx1ZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gX2MudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBiID0gYi5jb25jYXQoYy5EKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmEoYS5pKTtcclxufVxyXG5mdW5jdGlvbiBrZCgpIHsgfVxyXG5rZC5wcm90b3R5cGUuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGwuSlNPTi5zdHJpbmdpZnkoYSwgdm9pZCAwKTsgfTtcclxua2QucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGwuSlNPTi5wYXJzZShhLCB2b2lkIDApOyB9O1xyXG5mdW5jdGlvbiBsZCgpIHsgdGhpcy5nID0gbmV3IGtkOyB9XHJcbmZ1bmN0aW9uIG1kKGEsIGIsIGMpIHsgdmFyIGQgPSBjIHx8IFwiXCI7IHRyeSB7XHJcbiAgICBLYyhhLCBmdW5jdGlvbiAoZSwgZikgeyB2YXIgaCA9IGU7IHAoZSkgJiYgKGggPSByYihlKSk7IGIucHVzaChkICsgZiArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGgpKTsgfSk7XHJcbn1cclxuY2F0Y2ggKGUpIHtcclxuICAgIHRocm93IGIucHVzaChkICsgXCJ0eXBlPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KFwiX2JhZG1hcFwiKSksIGU7XHJcbn0gfVxyXG5mdW5jdGlvbiBuZChhLCBiKSB7IHZhciBjID0gbmV3IE1iOyBpZiAobC5JbWFnZSkge1xyXG4gICAgdmFyIGRfMSA9IG5ldyBJbWFnZTtcclxuICAgIGRfMS5vbmxvYWQgPSBqYShvZCwgYywgZF8xLCBcIlRlc3RMb2FkSW1hZ2U6IGxvYWRlZFwiLCAhMCwgYik7XHJcbiAgICBkXzEub25lcnJvciA9IGphKG9kLCBjLCBkXzEsIFwiVGVzdExvYWRJbWFnZTogZXJyb3JcIiwgITEsIGIpO1xyXG4gICAgZF8xLm9uYWJvcnQgPSBqYShvZCwgYywgZF8xLCBcIlRlc3RMb2FkSW1hZ2U6IGFib3J0XCIsICExLCBiKTtcclxuICAgIGRfMS5vbnRpbWVvdXQgPSBqYShvZCwgYywgZF8xLCBcIlRlc3RMb2FkSW1hZ2U6IHRpbWVvdXRcIiwgITEsIGIpO1xyXG4gICAgbC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgaWYgKGRfMS5vbnRpbWVvdXQpXHJcbiAgICAgICAgZF8xLm9udGltZW91dCgpOyB9LCAxRTQpO1xyXG4gICAgZF8xLnNyYyA9IGE7XHJcbn1cclxuZWxzZVxyXG4gICAgYighMSk7IH1cclxuZnVuY3Rpb24gb2QoYSwgYiwgYywgZCwgZSkgeyB0cnkge1xyXG4gICAgYi5vbmxvYWQgPSBudWxsLCBiLm9uZXJyb3IgPSBudWxsLCBiLm9uYWJvcnQgPSBudWxsLCBiLm9udGltZW91dCA9IG51bGwsIGUoZCk7XHJcbn1cclxuY2F0Y2ggKGYpIHsgfSB9XHJcbmZ1bmN0aW9uIHBkKGEpIHsgdGhpcy5sID0gYS4kYiB8fCBudWxsOyB0aGlzLmogPSBhLmliIHx8ICExOyB9XHJcbnQocGQsIFliKTtcclxucGQucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgcWQodGhpcy5sLCB0aGlzLmopOyB9O1xyXG5wZC5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uIChhKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBhOyB9OyB9KHt9KTtcclxuZnVuY3Rpb24gcWQoYSwgYikgeyBDLmNhbGwodGhpcyk7IHRoaXMuRCA9IGE7IHRoaXMudSA9IGI7IHRoaXMubSA9IHZvaWQgMDsgdGhpcy5yZWFkeVN0YXRlID0gcmQ7IHRoaXMuc3RhdHVzID0gMDsgdGhpcy5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2UgPSB0aGlzLnN0YXR1c1RleHQgPSBcIlwiOyB0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7IHRoaXMudiA9IG5ldyBIZWFkZXJzOyB0aGlzLmggPSBudWxsOyB0aGlzLkMgPSBcIkdFVFwiOyB0aGlzLkIgPSBcIlwiOyB0aGlzLmcgPSAhMTsgdGhpcy5BID0gdGhpcy5qID0gdGhpcy5sID0gbnVsbDsgfVxyXG50KHFkLCBDKTtcclxudmFyIHJkID0gMDtcclxuayA9IHFkLnByb3RvdHlwZTtcclxuay5vcGVuID0gZnVuY3Rpb24gKGEsIGIpIHsgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPSByZClcclxuICAgIHRocm93IHRoaXMuYWJvcnQoKSwgRXJyb3IoXCJFcnJvciByZW9wZW5pbmcgYSBjb25uZWN0aW9uXCIpOyB0aGlzLkMgPSBhOyB0aGlzLkIgPSBiOyB0aGlzLnJlYWR5U3RhdGUgPSAxOyBzZCh0aGlzKTsgfTtcclxuay5zZW5kID0gZnVuY3Rpb24gKGEpIHsgaWYgKDEgIT0gdGhpcy5yZWFkeVN0YXRlKVxyXG4gICAgdGhyb3cgdGhpcy5hYm9ydCgpLCBFcnJvcihcIm5lZWQgdG8gY2FsbCBvcGVuKCkgZmlyc3QuIFwiKTsgdGhpcy5nID0gITA7IHZhciBiID0geyBoZWFkZXJzOiB0aGlzLnYsIG1ldGhvZDogdGhpcy5DLCBjcmVkZW50aWFsczogdGhpcy5tLCBjYWNoZTogdm9pZCAwIH07IGEgJiYgKGIuYm9keSA9IGEpOyAodGhpcy5EIHx8IGwpLmZldGNoKG5ldyBSZXF1ZXN0KHRoaXMuQiwgYikpLnRoZW4odGhpcy5WYS5iaW5kKHRoaXMpLCB0aGlzLmhhLmJpbmQodGhpcykpOyB9O1xyXG5rLmFib3J0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBcIlwiOyB0aGlzLnYgPSBuZXcgSGVhZGVyczsgdGhpcy5zdGF0dXMgPSAwOyB0aGlzLmogJiYgdGhpcy5qLmNhbmNlbChcIlJlcXVlc3Qgd2FzIGFib3J0ZWQuXCIpOyAxIDw9IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLmcgJiYgNCAhPSB0aGlzLnJlYWR5U3RhdGUgJiYgKHRoaXMuZyA9ICExLCB0ZCh0aGlzKSk7IHRoaXMucmVhZHlTdGF0ZSA9IHJkOyB9O1xyXG5rLlZhID0gZnVuY3Rpb24gKGEpIHtcclxuICAgIGlmICh0aGlzLmcgJiYgKHRoaXMubCA9IGEsIHRoaXMuaCB8fCAodGhpcy5zdGF0dXMgPSB0aGlzLmwuc3RhdHVzLCB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmwuc3RhdHVzVGV4dCwgdGhpcy5oID0gYS5oZWFkZXJzLCB0aGlzLnJlYWR5U3RhdGUgPSAyLCBzZCh0aGlzKSksIHRoaXMuZyAmJiAodGhpcy5yZWFkeVN0YXRlID0gMywgc2QodGhpcyksIHRoaXMuZykpKVxyXG4gICAgICAgIGlmIChcImFycmF5YnVmZmVyXCIgPT09IHRoaXMucmVzcG9uc2VUeXBlKVxyXG4gICAgICAgICAgICBhLmFycmF5QnVmZmVyKCkudGhlbih0aGlzLlRhLmJpbmQodGhpcyksIHRoaXMuaGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZWxzZSBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGwuUmVhZGFibGVTdHJlYW0gJiYgXCJib2R5XCIgaW4gYSkge1xyXG4gICAgICAgICAgICB0aGlzLmogPSBhLmJvZHkuZ2V0UmVhZGVyKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3BvbnNlVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigncmVzcG9uc2VUeXBlIG11c3QgYmUgZW1wdHkgZm9yIFwic3RyZWFtQmluYXJ5Q2h1bmtzXCIgbW9kZSByZXNwb25zZXMuJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlID1cclxuICAgICAgICAgICAgICAgICAgICBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBcIlwiLCB0aGlzLkEgPSBuZXcgVGV4dERlY29kZXI7XHJcbiAgICAgICAgICAgIHVkKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGEudGV4dCgpLnRoZW4odGhpcy5VYS5iaW5kKHRoaXMpLCB0aGlzLmhhLmJpbmQodGhpcykpO1xyXG59O1xyXG5mdW5jdGlvbiB1ZChhKSB7IGEuai5yZWFkKCkudGhlbihhLlNhLmJpbmQoYSkpLmNhdGNoKGEuaGEuYmluZChhKSk7IH1cclxuay5TYSA9IGZ1bmN0aW9uIChhKSB7IGlmICh0aGlzLmcpIHtcclxuICAgIGlmICh0aGlzLnUgJiYgYS52YWx1ZSlcclxuICAgICAgICB0aGlzLnJlc3BvbnNlLnB1c2goYS52YWx1ZSk7XHJcbiAgICBlbHNlIGlmICghdGhpcy51KSB7XHJcbiAgICAgICAgdmFyIGIgPSBhLnZhbHVlID8gYS52YWx1ZSA6IG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgICAgIGlmIChiID0gdGhpcy5BLmRlY29kZShiLCB7IHN0cmVhbTogIWEuZG9uZSB9KSlcclxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZSA9IHRoaXMucmVzcG9uc2VUZXh0ICs9IGI7XHJcbiAgICB9XHJcbiAgICBhLmRvbmUgPyB0ZCh0aGlzKSA6IHNkKHRoaXMpO1xyXG4gICAgMyA9PSB0aGlzLnJlYWR5U3RhdGUgJiYgdWQodGhpcyk7XHJcbn0gfTtcclxuay5VYSA9IGZ1bmN0aW9uIChhKSB7IHRoaXMuZyAmJiAodGhpcy5yZXNwb25zZSA9IHRoaXMucmVzcG9uc2VUZXh0ID0gYSwgdGQodGhpcykpOyB9O1xyXG5rLlRhID0gZnVuY3Rpb24gKGEpIHsgdGhpcy5nICYmICh0aGlzLnJlc3BvbnNlID0gYSwgdGQodGhpcykpOyB9O1xyXG5rLmhhID0gZnVuY3Rpb24gKCkgeyB0aGlzLmcgJiYgdGQodGhpcyk7IH07XHJcbmZ1bmN0aW9uIHRkKGEpIHsgYS5yZWFkeVN0YXRlID0gNDsgYS5sID0gbnVsbDsgYS5qID0gbnVsbDsgYS5BID0gbnVsbDsgc2QoYSk7IH1cclxuay5zZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24gKGEsIGIpIHsgdGhpcy52LmFwcGVuZChhLCBiKTsgfTtcclxuay5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0aGlzLmggPyB0aGlzLmguZ2V0KGEudG9Mb3dlckNhc2UoKSkgfHwgXCJcIiA6IFwiXCI7IH07XHJcbmsuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24gKCkgeyBpZiAoIXRoaXMuaClcclxuICAgIHJldHVybiBcIlwiOyB2YXIgYSA9IFtdLCBiID0gdGhpcy5oLmVudHJpZXMoKTsgZm9yICh2YXIgYyA9IGIubmV4dCgpOyAhYy5kb25lOylcclxuICAgIGMgPSBjLnZhbHVlLCBhLnB1c2goY1swXSArIFwiOiBcIiArIGNbMV0pLCBjID0gYi5uZXh0KCk7IHJldHVybiBhLmpvaW4oXCJcXHJcXG5cIik7IH07XHJcbmZ1bmN0aW9uIHNkKGEpIHsgYS5vbnJlYWR5c3RhdGVjaGFuZ2UgJiYgYS5vbnJlYWR5c3RhdGVjaGFuZ2UuY2FsbChhKTsgfVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocWQucHJvdG90eXBlLCBcIndpdGhDcmVkZW50aWFsc1wiLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJpbmNsdWRlXCIgPT09IHRoaXMubTsgfSwgc2V0OiBmdW5jdGlvbiAoYSkgeyB0aGlzLm0gPSBhID8gXCJpbmNsdWRlXCIgOiBcInNhbWUtb3JpZ2luXCI7IH0gfSk7XHJcbnZhciB2ZCA9IGwuSlNPTi5wYXJzZTtcclxuZnVuY3Rpb24gWChhKSB7IEMuY2FsbCh0aGlzKTsgdGhpcy5oZWFkZXJzID0gbmV3IFM7IHRoaXMudSA9IGEgfHwgbnVsbDsgdGhpcy5oID0gITE7IHRoaXMuQyA9IHRoaXMuZyA9IG51bGw7IHRoaXMuSCA9IFwiXCI7IHRoaXMubSA9IDA7IHRoaXMuaiA9IFwiXCI7IHRoaXMubCA9IHRoaXMuRiA9IHRoaXMudiA9IHRoaXMuRCA9ICExOyB0aGlzLkIgPSAwOyB0aGlzLkEgPSBudWxsOyB0aGlzLkogPSB3ZDsgdGhpcy5LID0gdGhpcy5MID0gITE7IH1cclxudChYLCBDKTtcclxudmFyIHdkID0gXCJcIiwgeGQgPSAvXmh0dHBzPyQvaSwgeWQgPSBbXCJQT1NUXCIsIFwiUFVUXCJdO1xyXG5rID0gWC5wcm90b3R5cGU7XHJcbmsuZWEgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xyXG4gICAgaWYgKHRoaXMuZylcclxuICAgICAgICB0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIiArIHRoaXMuSCArIFwiOyBuZXdVcmk9XCIgKyBhKTtcclxuICAgIGIgPSBiID8gYi50b1VwcGVyQ2FzZSgpIDogXCJHRVRcIjtcclxuICAgIHRoaXMuSCA9IGE7XHJcbiAgICB0aGlzLmogPSBcIlwiO1xyXG4gICAgdGhpcy5tID0gMDtcclxuICAgIHRoaXMuRCA9ICExO1xyXG4gICAgdGhpcy5oID0gITA7XHJcbiAgICB0aGlzLmcgPSB0aGlzLnUgPyB0aGlzLnUuZygpIDogY2MuZygpO1xyXG4gICAgdGhpcy5DID0gdGhpcy51ID8gWmIodGhpcy51KSA6IFpiKGNjKTtcclxuICAgIHRoaXMuZy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBxKHRoaXMuRmEsIHRoaXMpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB0aGlzLkYgPSAhMCwgdGhpcy5nLm9wZW4oYiwgU3RyaW5nKGEpLCAhMCksIHRoaXMuRiA9ICExO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGYpIHtcclxuICAgICAgICB6ZCh0aGlzLCBmKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhID0gYyB8fCBcIlwiO1xyXG4gICAgdmFyIGUgPSBuZXcgUyh0aGlzLmhlYWRlcnMpO1xyXG4gICAgZCAmJiBLYyhkLCBmdW5jdGlvbiAoZiwgaCkgeyBlLnNldChoLCBmKTsgfSk7XHJcbiAgICBkID0gb2EoZS5UKCkpO1xyXG4gICAgYyA9IGwuRm9ybURhdGEgJiYgYSBpbnN0YW5jZW9mIGwuRm9ybURhdGE7XHJcbiAgICAhKDAgPD0gbWEoeWQsIGIpKSB8fCBkIHx8IGMgfHwgZS5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKTtcclxuICAgIGUuZm9yRWFjaChmdW5jdGlvbiAoZiwgaCkgeyB0aGlzLmcuc2V0UmVxdWVzdEhlYWRlcihoLCBmKTsgfSwgdGhpcyk7XHJcbiAgICB0aGlzLkogJiYgKHRoaXMuZy5yZXNwb25zZVR5cGUgPSB0aGlzLkopO1xyXG4gICAgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB0aGlzLmcgJiYgdGhpcy5nLndpdGhDcmVkZW50aWFscyAhPT0gdGhpcy5MICYmICh0aGlzLmcud2l0aENyZWRlbnRpYWxzID0gdGhpcy5MKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgQWQodGhpcyksIDAgPCB0aGlzLkIgJiYgKCh0aGlzLksgPSBCZCh0aGlzLmcpKSA/ICh0aGlzLmcudGltZW91dCA9IHRoaXMuQiwgdGhpcy5nLm9udGltZW91dCA9IHEodGhpcy5wYSwgdGhpcykpIDogdGhpcy5BID0gR2IodGhpcy5wYSwgdGhpcy5CLCB0aGlzKSksIHRoaXMudiA9ICEwLCB0aGlzLmcuc2VuZChhKSwgdGhpcy52ID0gITE7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZikge1xyXG4gICAgICAgIHpkKHRoaXMsIGYpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBCZChhKSB7IHJldHVybiB5ICYmIFJhKCkgJiYgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGEudGltZW91dCAmJiB2b2lkIDAgIT09IGEub250aW1lb3V0OyB9XHJcbmZ1bmN0aW9uIHBhKGEpIHsgcmV0dXJuIFwiY29udGVudC10eXBlXCIgPT0gYS50b0xvd2VyQ2FzZSgpOyB9XHJcbmsucGEgPSBmdW5jdGlvbiAoKSB7IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdvb2cgJiYgdGhpcy5nICYmICh0aGlzLmogPSBcIlRpbWVkIG91dCBhZnRlciBcIiArIHRoaXMuQiArIFwibXMsIGFib3J0aW5nXCIsIHRoaXMubSA9IDgsIEQodGhpcywgXCJ0aW1lb3V0XCIpLCB0aGlzLmFib3J0KDgpKTsgfTtcclxuZnVuY3Rpb24gemQoYSwgYikgeyBhLmggPSAhMTsgYS5nICYmIChhLmwgPSAhMCwgYS5nLmFib3J0KCksIGEubCA9ICExKTsgYS5qID0gYjsgYS5tID0gNTsgQ2QoYSk7IERkKGEpOyB9XHJcbmZ1bmN0aW9uIENkKGEpIHsgYS5EIHx8IChhLkQgPSAhMCwgRChhLCBcImNvbXBsZXRlXCIpLCBEKGEsIFwiZXJyb3JcIikpOyB9XHJcbmsuYWJvcnQgPSBmdW5jdGlvbiAoYSkgeyB0aGlzLmcgJiYgdGhpcy5oICYmICh0aGlzLmggPSAhMSwgdGhpcy5sID0gITAsIHRoaXMuZy5hYm9ydCgpLCB0aGlzLmwgPSAhMSwgdGhpcy5tID0gYSB8fCA3LCBEKHRoaXMsIFwiY29tcGxldGVcIiksIEQodGhpcywgXCJhYm9ydFwiKSwgRGQodGhpcykpOyB9O1xyXG5rLk0gPSBmdW5jdGlvbiAoKSB7IHRoaXMuZyAmJiAodGhpcy5oICYmICh0aGlzLmggPSAhMSwgdGhpcy5sID0gITAsIHRoaXMuZy5hYm9ydCgpLCB0aGlzLmwgPSAhMSksIERkKHRoaXMsICEwKSk7IFguWi5NLmNhbGwodGhpcyk7IH07XHJcbmsuRmEgPSBmdW5jdGlvbiAoKSB7IHRoaXMucyB8fCAodGhpcy5GIHx8IHRoaXMudiB8fCB0aGlzLmwgPyBFZCh0aGlzKSA6IHRoaXMuY2IoKSk7IH07XHJcbmsuY2IgPSBmdW5jdGlvbiAoKSB7IEVkKHRoaXMpOyB9O1xyXG5mdW5jdGlvbiBFZChhKSB7XHJcbiAgICBpZiAoYS5oICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdvb2cgJiYgKCFhLkNbMV0gfHwgNCAhPSBPKGEpIHx8IDIgIT0gYS5iYSgpKSlcclxuICAgICAgICBpZiAoYS52ICYmIDQgPT0gTyhhKSlcclxuICAgICAgICAgICAgR2IoYS5GYSwgMCwgYSk7XHJcbiAgICAgICAgZWxzZSBpZiAoRChhLCBcInJlYWR5c3RhdGVjaGFuZ2VcIiksIDQgPT0gTyhhKSkge1xyXG4gICAgICAgICAgICBhLmggPSAhMTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gYS5iYSgpO1xyXG4gICAgICAgICAgICAgICAgYTogc3dpdGNoIChuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDA6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDE6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDY6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjIzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGIgPSAhMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoYyA9IGIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPSAwID09PSBuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gU3RyaW5nKGEuSCkubWF0Y2goTWMpWzFdIHx8IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZSAmJiBsLnNlbGYgJiYgbC5zZWxmLmxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGwuc2VsZi5sb2NhdGlvbi5wcm90b2NvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAheGQudGVzdChlID8gZS50b0xvd2VyQ2FzZSgpIDogXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGMgPSBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGMpXHJcbiAgICAgICAgICAgICAgICAgICAgRChhLCBcImNvbXBsZXRlXCIpLCBEKGEsIFwic3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGEubSA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSAyIDwgTyhhKSA/IGEuZy5zdGF0dXNUZXh0IDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGEuaiA9IGggKyBcIiBbXCIgKyBhLmJhKCkgKyBcIl1cIjtcclxuICAgICAgICAgICAgICAgICAgICBDZChhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIERkKGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG59XHJcbmZ1bmN0aW9uIERkKGEsIGIpIHsgaWYgKGEuZykge1xyXG4gICAgQWQoYSk7XHJcbiAgICB2YXIgYyA9IGEuZywgZCA9IGEuQ1swXSA/IGFhIDogbnVsbDtcclxuICAgIGEuZyA9IG51bGw7XHJcbiAgICBhLkMgPSBudWxsO1xyXG4gICAgYiB8fCBEKGEsIFwicmVhZHlcIik7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGMub25yZWFkeXN0YXRlY2hhbmdlID0gZDtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxufSB9XHJcbmZ1bmN0aW9uIEFkKGEpIHsgYS5nICYmIGEuSyAmJiAoYS5nLm9udGltZW91dCA9IG51bGwpOyBhLkEgJiYgKGwuY2xlYXJUaW1lb3V0KGEuQSksIGEuQSA9IG51bGwpOyB9XHJcbmZ1bmN0aW9uIE8oYSkgeyByZXR1cm4gYS5nID8gYS5nLnJlYWR5U3RhdGUgOiAwOyB9XHJcbmsuYmEgPSBmdW5jdGlvbiAoKSB7IHRyeSB7XHJcbiAgICByZXR1cm4gMiA8IE8odGhpcykgPyB0aGlzLmcuc3RhdHVzIDogLTE7XHJcbn1cclxuY2F0Y2ggKGEpIHtcclxuICAgIHJldHVybiAtMTtcclxufSB9O1xyXG5rLmdhID0gZnVuY3Rpb24gKCkgeyB0cnkge1xyXG4gICAgcmV0dXJuIHRoaXMuZyA/IHRoaXMuZy5yZXNwb25zZVRleHQgOiBcIlwiO1xyXG59XHJcbmNhdGNoIChhKSB7XHJcbiAgICByZXR1cm4gXCJcIjtcclxufSB9O1xyXG5rLlFhID0gZnVuY3Rpb24gKGEpIHsgaWYgKHRoaXMuZykge1xyXG4gICAgdmFyIGIgPSB0aGlzLmcucmVzcG9uc2VUZXh0O1xyXG4gICAgYSAmJiAwID09IGIuaW5kZXhPZihhKSAmJiAoYiA9IGIuc3Vic3RyaW5nKGEubGVuZ3RoKSk7XHJcbiAgICByZXR1cm4gdmQoYik7XHJcbn0gfTtcclxuZnVuY3Rpb24gb2MoYSkgeyB0cnkge1xyXG4gICAgaWYgKCFhLmcpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoXCJyZXNwb25zZVwiIGluIGEuZylcclxuICAgICAgICByZXR1cm4gYS5nLnJlc3BvbnNlO1xyXG4gICAgc3dpdGNoIChhLkopIHtcclxuICAgICAgICBjYXNlIHdkOlxyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHJldHVybiBhLmcucmVzcG9uc2VUZXh0O1xyXG4gICAgICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOiBpZiAoXCJtb3pSZXNwb25zZUFycmF5QnVmZmVyXCIgaW4gYS5nKVxyXG4gICAgICAgICAgICByZXR1cm4gYS5nLm1velJlc3BvbnNlQXJyYXlCdWZmZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5jYXRjaCAoYikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbn0gfVxyXG5rLkRhID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tOyB9O1xyXG5rLkxhID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaXMuaiA/IHRoaXMuaiA6IFN0cmluZyh0aGlzLmopOyB9O1xyXG5mdW5jdGlvbiBGZChhKSB7IHZhciBiID0gXCJcIjsgeGEoYSwgZnVuY3Rpb24gKGMsIGQpIHsgYiArPSBkOyBiICs9IFwiOlwiOyBiICs9IGM7IGIgKz0gXCJcXHJcXG5cIjsgfSk7IHJldHVybiBiOyB9XHJcbmZ1bmN0aW9uIEdkKGEsIGIsIGMpIHsgYToge1xyXG4gICAgZm9yIChkIGluIGMpIHtcclxuICAgICAgICB2YXIgZCA9ICExO1xyXG4gICAgICAgIGJyZWFrIGE7XHJcbiAgICB9XHJcbiAgICBkID0gITA7XHJcbn0gZCB8fCAoYyA9IEZkKGMpLCBcInN0cmluZ1wiID09PSB0eXBlb2YgYSA/IChudWxsICE9IGMgJiYgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjKSkpIDogUihhLCBiLCBjKSk7IH1cclxuZnVuY3Rpb24gSGQoYSwgYiwgYykgeyByZXR1cm4gYyAmJiBjLmludGVybmFsQ2hhbm5lbFBhcmFtcyA/IGMuaW50ZXJuYWxDaGFubmVsUGFyYW1zW2FdIHx8IGIgOiBiOyB9XHJcbmZ1bmN0aW9uIElkKGEpIHtcclxuICAgIHRoaXMuemEgPSAwO1xyXG4gICAgdGhpcy5sID0gW107XHJcbiAgICB0aGlzLmggPSBuZXcgTWI7XHJcbiAgICB0aGlzLmxhID0gdGhpcy5vYSA9IHRoaXMuRiA9IHRoaXMuVyA9IHRoaXMuZyA9IHRoaXMuc2EgPSB0aGlzLkQgPSB0aGlzLmFhID0gdGhpcy5vID0gdGhpcy5QID0gdGhpcy5zID0gbnVsbDtcclxuICAgIHRoaXMuWmEgPSB0aGlzLlYgPSAwO1xyXG4gICAgdGhpcy5YYSA9IEhkKFwiZmFpbEZhc3RcIiwgITEsIGEpO1xyXG4gICAgdGhpcy5OID0gdGhpcy52ID0gdGhpcy51ID0gdGhpcy5tID0gdGhpcy5qID0gbnVsbDtcclxuICAgIHRoaXMuWCA9ICEwO1xyXG4gICAgdGhpcy5JID0gdGhpcy50YSA9IHRoaXMuVSA9IC0xO1xyXG4gICAgdGhpcy5ZID0gdGhpcy5BID0gdGhpcy5DID0gMDtcclxuICAgIHRoaXMuUGEgPSBIZChcImJhc2VSZXRyeURlbGF5TXNcIiwgNUUzLCBhKTtcclxuICAgIHRoaXMuJGEgPSBIZChcInJldHJ5RGVsYXlTZWVkTXNcIiwgMUU0LCBhKTtcclxuICAgIHRoaXMuWWEgPSBIZChcImZvcndhcmRDaGFubmVsTWF4UmV0cmllc1wiLCAyLCBhKTtcclxuICAgIHRoaXMucmEgPSBIZChcImZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNc1wiLCAyRTQsIGEpO1xyXG4gICAgdGhpcy5xYSA9IGEgJiYgYS54bWxIdHRwRmFjdG9yeSB8fCB2b2lkIDA7XHJcbiAgICB0aGlzLkJhID0gYSAmJiBhLlliIHx8ICExO1xyXG4gICAgdGhpcy5LID0gdm9pZCAwO1xyXG4gICAgdGhpcy5IID0gYSAmJiBhLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHIgfHwgITE7XHJcbiAgICB0aGlzLkogPSBcIlwiO1xyXG4gICAgdGhpcy5pID0gbmV3IGdkKGEgJiYgYS5jb25jdXJyZW50UmVxdWVzdExpbWl0KTtcclxuICAgIHRoaXMuQ2EgPSBuZXcgbGQ7XHJcbiAgICB0aGlzLmphID0gYSAmJiBhLmZhc3RIYW5kc2hha2UgfHwgITE7XHJcbiAgICB0aGlzLlJhID0gYSAmJiBhLldiIHx8ICExO1xyXG4gICAgYSAmJiBhLkFhICYmIHRoaXMuaC5BYSgpO1xyXG4gICAgYSAmJiBhLmZvcmNlTG9uZ1BvbGxpbmcgJiYgKHRoaXMuWCA9ICExKTtcclxuICAgIHRoaXMuJCA9ICF0aGlzLmphICYmIHRoaXMuWCAmJiBhICYmIGEuZGV0ZWN0QnVmZmVyaW5nUHJveHkgfHwgITE7XHJcbiAgICB0aGlzLmthID0gdm9pZCAwO1xyXG4gICAgdGhpcy5PID0gMDtcclxuICAgIHRoaXMuTCA9ICExO1xyXG4gICAgdGhpcy5CID0gbnVsbDtcclxuICAgIHRoaXMuV2EgPSAhYSB8fCAhMSAhPT0gYS5YYjtcclxufVxyXG5rID0gSWQucHJvdG90eXBlO1xyXG5rLm1hID0gODtcclxuay5HID0gMTtcclxuZnVuY3Rpb24gSWMoYSkgeyBKZChhKTsgaWYgKDMgPT0gYS5HKSB7XHJcbiAgICB2YXIgYiA9IGEuVisrLCBjID0gTihhLkYpO1xyXG4gICAgUihjLCBcIlNJRFwiLCBhLkopO1xyXG4gICAgUihjLCBcIlJJRFwiLCBiKTtcclxuICAgIFIoYywgXCJUWVBFXCIsIFwidGVybWluYXRlXCIpO1xyXG4gICAgS2QoYSwgYyk7XHJcbiAgICBiID0gbmV3IE0oYSwgYS5oLCBiLCB2b2lkIDApO1xyXG4gICAgYi5LID0gMjtcclxuICAgIGIudiA9IGpjKE4oYykpO1xyXG4gICAgYyA9ICExO1xyXG4gICAgbC5uYXZpZ2F0b3IgJiYgbC5uYXZpZ2F0b3Iuc2VuZEJlYWNvbiAmJiAoYyA9IGwubmF2aWdhdG9yLnNlbmRCZWFjb24oYi52LnRvU3RyaW5nKCksIFwiXCIpKTtcclxuICAgICFjICYmIGwuSW1hZ2UgJiYgKChuZXcgSW1hZ2UpLnNyYyA9IGIudiwgYyA9ICEwKTtcclxuICAgIGMgfHwgKGIuZyA9IG5jKGIubCwgbnVsbCksIGIuZy5lYShiLnYpKTtcclxuICAgIGIuRiA9IERhdGUubm93KCk7XHJcbiAgICBsYyhiKTtcclxufSBMZChhKTsgfVxyXG5rLmhiID0gZnVuY3Rpb24gKGEpIHsgdHJ5IHtcclxuICAgIHRoaXMuaC5pbmZvKFwiT3JpZ2luIFRyaWFscyBpbnZva2VkOiBcIiArIGEpO1xyXG59XHJcbmNhdGNoIChiKSB7IH0gfTtcclxuZnVuY3Rpb24gQWMoYSkgeyBhLmcgJiYgKHdjKGEpLCBhLmcuY2FuY2VsKCksIGEuZyA9IG51bGwpOyB9XHJcbmZ1bmN0aW9uIEpkKGEpIHsgQWMoYSk7IGEudSAmJiAobC5jbGVhclRpbWVvdXQoYS51KSwgYS51ID0gbnVsbCk7IHpjKGEpOyBhLmkuY2FuY2VsKCk7IGEubSAmJiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIGEubSAmJiBsLmNsZWFyVGltZW91dChhLm0pLCBhLm0gPSBudWxsKTsgfVxyXG5mdW5jdGlvbiBNZChhLCBiKSB7IGEubC5wdXNoKG5ldyBmZChhLlphKyssIGIpKTsgMyA9PSBhLkcgJiYgSGMoYSk7IH1cclxuZnVuY3Rpb24gSGMoYSkgeyBpZChhLmkpIHx8IGEubSB8fCAoYS5tID0gITAsIHpiKGEuSGEsIGEpLCBhLkMgPSAwKTsgfVxyXG5mdW5jdGlvbiBOZChhLCBiKSB7IGlmIChDYyhhLmkpID49IGEuaS5qIC0gKGEubSA/IDEgOiAwKSlcclxuICAgIHJldHVybiAhMTsgaWYgKGEubSlcclxuICAgIHJldHVybiBhLmwgPSBiLkQuY29uY2F0KGEubCksICEwOyBpZiAoMSA9PSBhLkcgfHwgMiA9PSBhLkcgfHwgYS5DID49IChhLlhhID8gMCA6IGEuWWEpKVxyXG4gICAgcmV0dXJuICExOyBhLm0gPSBLKHEoYS5IYSwgYSwgYiksIE9kKGEsIGEuQykpOyBhLkMrKzsgcmV0dXJuICEwOyB9XHJcbmsuSGEgPSBmdW5jdGlvbiAoYSkge1xyXG4gICAgaWYgKHRoaXMubSlcclxuICAgICAgICBpZiAodGhpcy5tID0gbnVsbCwgMSA9PSB0aGlzLkcpIHtcclxuICAgICAgICAgICAgaWYgKCFhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlYgPSBNYXRoLmZsb29yKDFFNSAqIE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgICAgICAgICAgYSA9IHRoaXMuVisrO1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgTSh0aGlzLCB0aGlzLmgsIGEsIHZvaWQgMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZiA9IHRoaXMucztcclxuICAgICAgICAgICAgICAgIHRoaXMuUCAmJiAoZiA/IChmID0geWEoZiksIEFhKGYsIHRoaXMuUCkpIDogZiA9IHRoaXMuUCk7XHJcbiAgICAgICAgICAgICAgICBudWxsID09PSB0aGlzLm8gJiYgKGUuSCA9IGYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuamEpXHJcbiAgICAgICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5sLmxlbmd0aDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmxbY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBkLmcgJiYgKGQgPSBkLmcuX19kYXRhX18sIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYiArPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDQwOTYgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0MDk2ID09PSBiIHx8IGMgPT09IHRoaXMubC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGMgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IDFFMztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IDFFMztcclxuICAgICAgICAgICAgICAgIGIgPVxyXG4gICAgICAgICAgICAgICAgICAgIFBkKHRoaXMsIGUsIGIpO1xyXG4gICAgICAgICAgICAgICAgYyA9IE4odGhpcy5GKTtcclxuICAgICAgICAgICAgICAgIFIoYywgXCJSSURcIiwgYSk7XHJcbiAgICAgICAgICAgICAgICBSKGMsIFwiQ1ZFUlwiLCAyMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkQgJiYgUihjLCBcIlgtSFRUUC1TZXNzaW9uLUlkXCIsIHRoaXMuRCk7XHJcbiAgICAgICAgICAgICAgICBLZCh0aGlzLCBjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubyAmJiBmICYmIEdkKGMsIHRoaXMubywgZik7XHJcbiAgICAgICAgICAgICAgICBEYyh0aGlzLmksIGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SYSAmJiBSKGMsIFwiVFlQRVwiLCBcImluaXRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmphID8gKFIoYywgXCIkcmVxXCIsIGIpLCBSKGMsIFwiU0lEXCIsIFwibnVsbFwiKSwgZS4kID0gITAsIGljKGUsIGMsIG51bGwpKSA6IGljKGUsIGMsIGIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5HID0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIDMgPT0gdGhpcy5HICYmIChhID8gUWQodGhpcywgYSkgOiAwID09IHRoaXMubC5sZW5ndGggfHwgaWQodGhpcy5pKSB8fCBRZCh0aGlzKSk7XHJcbn07XHJcbmZ1bmN0aW9uIFFkKGEsIGIpIHsgdmFyIGM7IGIgPyBjID0gYi5tIDogYyA9IGEuVisrOyB2YXIgZCA9IE4oYS5GKTsgUihkLCBcIlNJRFwiLCBhLkopOyBSKGQsIFwiUklEXCIsIGMpOyBSKGQsIFwiQUlEXCIsIGEuVSk7IEtkKGEsIGQpOyBhLm8gJiYgYS5zICYmIEdkKGQsIGEubywgYS5zKTsgYyA9IG5ldyBNKGEsIGEuaCwgYywgYS5DICsgMSk7IG51bGwgPT09IGEubyAmJiAoYy5IID0gYS5zKTsgYiAmJiAoYS5sID0gYi5ELmNvbmNhdChhLmwpKTsgYiA9IFBkKGEsIGMsIDFFMyk7IGMuc2V0VGltZW91dChNYXRoLnJvdW5kKC41ICogYS5yYSkgKyBNYXRoLnJvdW5kKC41ICogYS5yYSAqIE1hdGgucmFuZG9tKCkpKTsgRGMoYS5pLCBjKTsgaWMoYywgZCwgYik7IH1cclxuZnVuY3Rpb24gS2QoYSwgYikgeyBhLmogJiYgS2Moe30sIGZ1bmN0aW9uIChjLCBkKSB7IFIoYiwgZCwgYyk7IH0pOyB9XHJcbmZ1bmN0aW9uIFBkKGEsIGIsIGMpIHsgYyA9IE1hdGgubWluKGEubC5sZW5ndGgsIGMpOyB2YXIgZCA9IGEuaiA/IHEoYS5qLk9hLCBhLmosIGEpIDogbnVsbDsgYToge1xyXG4gICAgdmFyIGUgPSBhLmw7XHJcbiAgICB2YXIgZiA9IC0xO1xyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICAgIHZhciBoID0gW1wiY291bnQ9XCIgKyBjXTtcclxuICAgICAgICAtMSA9PSBmID8gMCA8IGMgPyAoZiA9IGVbMF0uaCwgaC5wdXNoKFwib2ZzPVwiICsgZikpIDogZiA9IDAgOiBoLnB1c2goXCJvZnM9XCIgKyBmKTtcclxuICAgICAgICB2YXIgbiA9ICEwO1xyXG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYzsgdSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gZVt1XS5oO1xyXG4gICAgICAgICAgICB2YXIgciA9IGVbdV0uZztcclxuICAgICAgICAgICAgbSAtPSBmO1xyXG4gICAgICAgICAgICBpZiAoMCA+IG0pXHJcbiAgICAgICAgICAgICAgICBmID0gTWF0aC5tYXgoMCwgZVt1XS5oIC0gMTAwKSwgbiA9ICExO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1kKHIsIGgsIFwicmVxXCIgKyBtICsgXCJfXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKEcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkICYmIGQocik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuKSB7XHJcbiAgICAgICAgICAgIGQgPSBoLmpvaW4oXCImXCIpO1xyXG4gICAgICAgICAgICBicmVhayBhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSBhID0gYS5sLnNwbGljZSgwLCBjKTsgYi5EID0gYTsgcmV0dXJuIGQ7IH1cclxuZnVuY3Rpb24gR2MoYSkgeyBhLmcgfHwgYS51IHx8IChhLlkgPSAxLCB6YihhLkdhLCBhKSwgYS5BID0gMCk7IH1cclxuZnVuY3Rpb24gQmMoYSkgeyBpZiAoYS5nIHx8IGEudSB8fCAzIDw9IGEuQSlcclxuICAgIHJldHVybiAhMTsgYS5ZKys7IGEudSA9IEsocShhLkdhLCBhKSwgT2QoYSwgYS5BKSk7IGEuQSsrOyByZXR1cm4gITA7IH1cclxuay5HYSA9IGZ1bmN0aW9uICgpIHsgdGhpcy51ID0gbnVsbDsgUmQodGhpcyk7IGlmICh0aGlzLiQgJiYgISh0aGlzLkwgfHwgbnVsbCA9PSB0aGlzLmcgfHwgMCA+PSB0aGlzLk8pKSB7XHJcbiAgICB2YXIgYSA9IDIgKiB0aGlzLk87XHJcbiAgICB0aGlzLmguaW5mbyhcIkJQIGRldGVjdGlvbiB0aW1lciBlbmFibGVkOiBcIiArIGEpO1xyXG4gICAgdGhpcy5CID0gSyhxKHRoaXMuYmIsIHRoaXMpLCBhKTtcclxufSB9O1xyXG5rLmJiID0gZnVuY3Rpb24gKCkgeyB0aGlzLkIgJiYgKHRoaXMuQiA9IG51bGwsIHRoaXMuaC5pbmZvKFwiQlAgZGV0ZWN0aW9uIHRpbWVvdXQgcmVhY2hlZC5cIiksIHRoaXMuaC5pbmZvKFwiQnVmZmVyaW5nIHByb3h5IGRldGVjdGVkIGFuZCBzd2l0Y2ggdG8gbG9uZy1wb2xsaW5nIVwiKSwgdGhpcy5OID0gITEsIHRoaXMuTCA9ICEwLCBKKDEwKSwgQWModGhpcyksIFJkKHRoaXMpKTsgfTtcclxuZnVuY3Rpb24gd2MoYSkgeyBudWxsICE9IGEuQiAmJiAobC5jbGVhclRpbWVvdXQoYS5CKSwgYS5CID0gbnVsbCk7IH1cclxuZnVuY3Rpb24gUmQoYSkgeyBhLmcgPSBuZXcgTShhLCBhLmgsIFwicnBjXCIsIGEuWSk7IG51bGwgPT09IGEubyAmJiAoYS5nLkggPSBhLnMpOyBhLmcuTyA9IDA7IHZhciBiID0gTihhLm9hKTsgUihiLCBcIlJJRFwiLCBcInJwY1wiKTsgUihiLCBcIlNJRFwiLCBhLkopOyBSKGIsIFwiQ0lcIiwgYS5OID8gXCIwXCIgOiBcIjFcIik7IFIoYiwgXCJBSURcIiwgYS5VKTsgS2QoYSwgYik7IFIoYiwgXCJUWVBFXCIsIFwieG1saHR0cFwiKTsgYS5vICYmIGEucyAmJiBHZChiLCBhLm8sIGEucyk7IGEuSyAmJiBhLmcuc2V0VGltZW91dChhLkspOyB2YXIgYyA9IGEuZzsgYSA9IGEubGE7IGMuSyA9IDE7IGMudiA9IGpjKE4oYikpOyBjLnMgPSBudWxsOyBjLlUgPSAhMDsga2MoYywgYSk7IH1cclxuay5hYiA9IGZ1bmN0aW9uICgpIHsgbnVsbCAhPSB0aGlzLnYgJiYgKHRoaXMudiA9IG51bGwsIEFjKHRoaXMpLCBCYyh0aGlzKSwgSigxOSkpOyB9O1xyXG5mdW5jdGlvbiB6YyhhKSB7IG51bGwgIT0gYS52ICYmIChsLmNsZWFyVGltZW91dChhLnYpLCBhLnYgPSBudWxsKTsgfVxyXG5mdW5jdGlvbiB1YyhhLCBiKSB7IHZhciBjID0gbnVsbDsgaWYgKGEuZyA9PSBiKSB7XHJcbiAgICB6YyhhKTtcclxuICAgIHdjKGEpO1xyXG4gICAgYS5nID0gbnVsbDtcclxuICAgIHZhciBkID0gMjtcclxufVxyXG5lbHNlIGlmICh5YyhhLmksIGIpKVxyXG4gICAgYyA9IGIuRCwgRmMoYS5pLCBiKSwgZCA9IDE7XHJcbmVsc2VcclxuICAgIHJldHVybjsgYS5JID0gYi5OOyBpZiAoMCAhPSBhLkcpXHJcbiAgICBpZiAoYi5pKVxyXG4gICAgICAgIGlmICgxID09IGQpIHtcclxuICAgICAgICAgICAgYyA9IGIucyA/IGIucy5sZW5ndGggOiAwO1xyXG4gICAgICAgICAgICBiID0gRGF0ZS5ub3coKSAtIGIuRjtcclxuICAgICAgICAgICAgdmFyIGUgPSBhLkM7XHJcbiAgICAgICAgICAgIGQgPSBTYigpO1xyXG4gICAgICAgICAgICBEKGQsIG5ldyBWYihkLCBjLCBiLCBlKSk7XHJcbiAgICAgICAgICAgIEhjKGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIEdjKGEpO1xyXG4gICAgZWxzZSBpZiAoZSA9IGIubywgMyA9PSBlIHx8IDAgPT0gZSAmJiAwIDwgYS5JIHx8ICEoMSA9PSBkICYmIE5kKGEsIGIpIHx8IDIgPT0gZCAmJiBCYyhhKSkpXHJcbiAgICAgICAgc3dpdGNoIChjICYmIDAgPCBjLmxlbmd0aCAmJiAoYiA9IGEuaSwgYi5pID0gYi5pLmNvbmNhdChjKSksIGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgUShhLCA1KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBRKGEsIDEwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBRKGEsIDYpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IFEoYSwgMik7XHJcbiAgICAgICAgfSB9XHJcbmZ1bmN0aW9uIE9kKGEsIGIpIHsgdmFyIGMgPSBhLlBhICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYS4kYSk7IGEuaiB8fCAoYyAqPSAyKTsgcmV0dXJuIGMgKiBiOyB9XHJcbmZ1bmN0aW9uIFEoYSwgYikgeyBhLmguaW5mbyhcIkVycm9yIGNvZGUgXCIgKyBiKTsgaWYgKDIgPT0gYikge1xyXG4gICAgdmFyIGMgPSBudWxsO1xyXG4gICAgYS5qICYmIChjID0gbnVsbCk7XHJcbiAgICB2YXIgZCA9IHEoYS5qYiwgYSk7XHJcbiAgICBjIHx8IChjID0gbmV3IFUoXCIvL3d3dy5nb29nbGUuY29tL2ltYWdlcy9jbGVhcmRvdC5naWZcIiksIGwubG9jYXRpb24gJiYgXCJodHRwXCIgPT0gbC5sb2NhdGlvbi5wcm90b2NvbCB8fCBPYyhjLCBcImh0dHBzXCIpLCBqYyhjKSk7XHJcbiAgICBuZChjLnRvU3RyaW5nKCksIGQpO1xyXG59XHJcbmVsc2VcclxuICAgIEooMik7IGEuRyA9IDA7IGEuaiAmJiBhLmoudmEoYik7IExkKGEpOyBKZChhKTsgfVxyXG5rLmpiID0gZnVuY3Rpb24gKGEpIHsgYSA/ICh0aGlzLmguaW5mbyhcIlN1Y2Nlc3NmdWxseSBwaW5nZWQgZ29vZ2xlLmNvbVwiKSwgSigyKSkgOiAodGhpcy5oLmluZm8oXCJGYWlsZWQgdG8gcGluZyBnb29nbGUuY29tXCIpLCBKKDEpKTsgfTtcclxuZnVuY3Rpb24gTGQoYSkgeyBhLkcgPSAwOyBhLkkgPSAtMTsgaWYgKGEuaikge1xyXG4gICAgaWYgKDAgIT0gamQoYS5pKS5sZW5ndGggfHwgMCAhPSBhLmwubGVuZ3RoKVxyXG4gICAgICAgIGEuaS5pLmxlbmd0aCA9IDAsIHJhKGEubCksIGEubC5sZW5ndGggPSAwO1xyXG4gICAgYS5qLnVhKCk7XHJcbn0gfVxyXG5mdW5jdGlvbiBFYyhhLCBiLCBjKSB7IHZhciBkID0gYWQoYyk7IGlmIChcIlwiICE9IGQuaSlcclxuICAgIGIgJiYgUGMoZCwgYiArIFwiLlwiICsgZC5pKSwgUWMoZCwgZC5tKTtcclxuZWxzZSB7XHJcbiAgICB2YXIgZSA9IGwubG9jYXRpb247XHJcbiAgICBkID0gYmQoZS5wcm90b2NvbCwgYiA/IGIgKyBcIi5cIiArIGUuaG9zdG5hbWUgOiBlLmhvc3RuYW1lLCArZS5wb3J0LCBjKTtcclxufSBhLmFhICYmIHhhKGEuYWEsIGZ1bmN0aW9uIChlLCBmKSB7IFIoZCwgZiwgZSk7IH0pOyBiID0gYS5EOyBjID0gYS5zYTsgYiAmJiBjICYmIFIoZCwgYiwgYyk7IFIoZCwgXCJWRVJcIiwgYS5tYSk7IEtkKGEsIGQpOyByZXR1cm4gZDsgfVxyXG5mdW5jdGlvbiBuYyhhLCBiLCBjKSB7IGlmIChiICYmICFhLkgpXHJcbiAgICB0aHJvdyBFcnJvcihcIkNhbid0IGNyZWF0ZSBzZWNvbmRhcnkgZG9tYWluIGNhcGFibGUgWGhySW8gb2JqZWN0LlwiKTsgYiA9IGMgJiYgYS5CYSAmJiAhYS5xYSA/IG5ldyBYKG5ldyBwZCh7IGliOiAhMCB9KSkgOiBuZXcgWChhLnFhKTsgYi5MID0gYS5IOyByZXR1cm4gYjsgfVxyXG5mdW5jdGlvbiBTZCgpIHsgfVxyXG5rID0gU2QucHJvdG90eXBlO1xyXG5rLnhhID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5rLndhID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5rLnZhID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5rLnVhID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5rLk9hID0gZnVuY3Rpb24gKCkgeyB9O1xyXG5mdW5jdGlvbiBUZCgpIHsgaWYgKHkgJiYgISgxMCA8PSBOdW1iZXIoVWEpKSlcclxuICAgIHRocm93IEVycm9yKFwiRW52aXJvbm1lbnRhbCBlcnJvcjogbm8gYXZhaWxhYmxlIHRyYW5zcG9ydC5cIik7IH1cclxuVGQucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gbmV3IFkoYSwgYik7IH07XHJcbmZ1bmN0aW9uIFkoYSwgYikge1xyXG4gICAgQy5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5nID0gbmV3IElkKGIpO1xyXG4gICAgdGhpcy5sID0gYTtcclxuICAgIHRoaXMuaCA9IGIgJiYgYi5tZXNzYWdlVXJsUGFyYW1zIHx8IG51bGw7XHJcbiAgICBhID0gYiAmJiBiLm1lc3NhZ2VIZWFkZXJzIHx8IG51bGw7XHJcbiAgICBiICYmIGIuY2xpZW50UHJvdG9jb2xIZWFkZXJSZXF1aXJlZCAmJiAoYSA/IGFbXCJYLUNsaWVudC1Qcm90b2NvbFwiXSA9IFwid2ViY2hhbm5lbFwiIDogYSA9IHsgXCJYLUNsaWVudC1Qcm90b2NvbFwiOiBcIndlYmNoYW5uZWxcIiB9KTtcclxuICAgIHRoaXMuZy5zID0gYTtcclxuICAgIGEgPSBiICYmIGIuaW5pdE1lc3NhZ2VIZWFkZXJzIHx8IG51bGw7XHJcbiAgICBiICYmIGIubWVzc2FnZUNvbnRlbnRUeXBlICYmIChhID8gYVtcIlgtV2ViQ2hhbm5lbC1Db250ZW50LVR5cGVcIl0gPSBiLm1lc3NhZ2VDb250ZW50VHlwZSA6IGEgPSB7IFwiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZVwiOiBiLm1lc3NhZ2VDb250ZW50VHlwZSB9KTtcclxuICAgIGIgJiYgYi55YSAmJiAoYSA/IGFbXCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIl0gPSBiLnlhIDogYSA9IHsgXCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIjogYi55YSB9KTtcclxuICAgIHRoaXMuZy5QID1cclxuICAgICAgICBhO1xyXG4gICAgKGEgPSBiICYmIGIuaHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbSkgJiYgIXNhKGEpICYmICh0aGlzLmcubyA9IGEpO1xyXG4gICAgdGhpcy5BID0gYiAmJiBiLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHIgfHwgITE7XHJcbiAgICB0aGlzLnYgPSBiICYmIGIuc2VuZFJhd0pzb24gfHwgITE7XHJcbiAgICAoYiA9IGIgJiYgYi5odHRwU2Vzc2lvbklkUGFyYW0pICYmICFzYShiKSAmJiAodGhpcy5nLkQgPSBiLCBhID0gdGhpcy5oLCBudWxsICE9PSBhICYmIGIgaW4gYSAmJiAoYSA9IHRoaXMuaCwgYiBpbiBhICYmIGRlbGV0ZSBhW2JdKSk7XHJcbiAgICB0aGlzLmogPSBuZXcgWih0aGlzKTtcclxufVxyXG50KFksIEMpO1xyXG5ZLnByb3RvdHlwZS5tID0gZnVuY3Rpb24gKCkgeyB0aGlzLmcuaiA9IHRoaXMuajsgdGhpcy5BICYmICh0aGlzLmcuSCA9ICEwKTsgdmFyIGEgPSB0aGlzLmcsIGIgPSB0aGlzLmwsIGMgPSB0aGlzLmggfHwgdm9pZCAwOyBhLldhICYmIChhLmguaW5mbyhcIk9yaWdpbiBUcmlhbHMgZW5hYmxlZC5cIiksIHpiKHEoYS5oYiwgYSwgYikpKTsgSigwKTsgYS5XID0gYjsgYS5hYSA9IGMgfHwge307IGEuTiA9IGEuWDsgYS5GID0gRWMoYSwgbnVsbCwgYS5XKTsgSGMoYSk7IH07XHJcblkucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkgeyBJYyh0aGlzLmcpOyB9O1xyXG5ZLnByb3RvdHlwZS51ID0gZnVuY3Rpb24gKGEpIHsgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhKSB7XHJcbiAgICB2YXIgYiA9IHt9O1xyXG4gICAgYi5fX2RhdGFfXyA9IGE7XHJcbiAgICBNZCh0aGlzLmcsIGIpO1xyXG59XHJcbmVsc2VcclxuICAgIHRoaXMudiA/IChiID0ge30sIGIuX19kYXRhX18gPSByYihhKSwgTWQodGhpcy5nLCBiKSkgOiBNZCh0aGlzLmcsIGEpOyB9O1xyXG5ZLnByb3RvdHlwZS5NID0gZnVuY3Rpb24gKCkgeyB0aGlzLmcuaiA9IG51bGw7IGRlbGV0ZSB0aGlzLmo7IEljKHRoaXMuZyk7IGRlbGV0ZSB0aGlzLmc7IFkuWi5NLmNhbGwodGhpcyk7IH07XHJcbmZ1bmN0aW9uIFVkKGEpIHsgYWMuY2FsbCh0aGlzKTsgdmFyIGIgPSBhLl9fc21fXzsgaWYgKGIpIHtcclxuICAgIGE6IHtcclxuICAgICAgICBmb3IgKHZhciBjIGluIGIpIHtcclxuICAgICAgICAgICAgYSA9IGM7XHJcbiAgICAgICAgICAgIGJyZWFrIGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGEgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pID0gYSlcclxuICAgICAgICBhID0gdGhpcy5pLCBiID0gbnVsbCAhPT0gYiAmJiBhIGluIGIgPyBiW2FdIDogdm9pZCAwO1xyXG4gICAgdGhpcy5kYXRhID0gYjtcclxufVxyXG5lbHNlXHJcbiAgICB0aGlzLmRhdGEgPSBhOyB9XHJcbnQoVWQsIGFjKTtcclxuZnVuY3Rpb24gVmQoKSB7IGJjLmNhbGwodGhpcyk7IHRoaXMuc3RhdHVzID0gMTsgfVxyXG50KFZkLCBiYyk7XHJcbmZ1bmN0aW9uIFooYSkgeyB0aGlzLmcgPSBhOyB9XHJcbnQoWiwgU2QpO1xyXG5aLnByb3RvdHlwZS54YSA9IGZ1bmN0aW9uICgpIHsgRCh0aGlzLmcsIFwiYVwiKTsgfTtcclxuWi5wcm90b3R5cGUud2EgPSBmdW5jdGlvbiAoYSkgeyBEKHRoaXMuZywgbmV3IFVkKGEpKTsgfTtcclxuWi5wcm90b3R5cGUudmEgPSBmdW5jdGlvbiAoYSkgeyBEKHRoaXMuZywgbmV3IFZkKGEpKTsgfTtcclxuWi5wcm90b3R5cGUudWEgPSBmdW5jdGlvbiAoKSB7IEQodGhpcy5nLCBcImJcIik7IH07IC8qXHJcblxuIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuXG4gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG5cbiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cbiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qL1xyXG5UZC5wcm90b3R5cGUuY3JlYXRlV2ViQ2hhbm5lbCA9IFRkLnByb3RvdHlwZS5nO1xyXG5ZLnByb3RvdHlwZS5zZW5kID0gWS5wcm90b3R5cGUudTtcclxuWS5wcm90b3R5cGUub3BlbiA9IFkucHJvdG90eXBlLm07XHJcblkucHJvdG90eXBlLmNsb3NlID0gWS5wcm90b3R5cGUuY2xvc2U7XHJcbldiLk5PX0VSUk9SID0gMDtcclxuV2IuVElNRU9VVCA9IDg7XHJcbldiLkhUVFBfRVJST1IgPSA2O1xyXG5YYi5DT01QTEVURSA9IFwiY29tcGxldGVcIjtcclxuJGIuRXZlbnRUeXBlID0gTDtcclxuTC5PUEVOID0gXCJhXCI7XHJcbkwuQ0xPU0UgPSBcImJcIjtcclxuTC5FUlJPUiA9IFwiY1wiO1xyXG5MLk1FU1NBR0UgPSBcImRcIjtcclxuQy5wcm90b3R5cGUubGlzdGVuID0gQy5wcm90b3R5cGUuTjtcclxuWC5wcm90b3R5cGUubGlzdGVuT25jZSA9IFgucHJvdG90eXBlLk87XHJcblgucHJvdG90eXBlLmdldExhc3RFcnJvciA9IFgucHJvdG90eXBlLkxhO1xyXG5YLnByb3RvdHlwZS5nZXRMYXN0RXJyb3JDb2RlID0gWC5wcm90b3R5cGUuRGE7XHJcblgucHJvdG90eXBlLmdldFN0YXR1cyA9IFgucHJvdG90eXBlLmJhO1xyXG5YLnByb3RvdHlwZS5nZXRSZXNwb25zZUpzb24gPSBYLnByb3RvdHlwZS5RYTtcclxuWC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUZXh0ID0gWC5wcm90b3R5cGUuZ2E7XHJcblgucHJvdG90eXBlLnNlbmQgPSBYLnByb3RvdHlwZS5lYTtcclxudmFyIGNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgVGQ7IH07XHJcbnZhciBnZXRTdGF0RXZlbnRUYXJnZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBTYigpOyB9O1xyXG52YXIgRXJyb3JDb2RlID0gV2I7XHJcbnZhciBFdmVudFR5cGUgPSBYYjtcclxudmFyIEV2ZW50ID0gSDtcclxudmFyIFN0YXQgPSB7IHJiOiAwLCB1YjogMSwgdmI6IDIsIE9iOiAzLCBUYjogNCwgUWI6IDUsIFJiOiA2LCBQYjogNywgTmI6IDgsIFNiOiA5LCBQUk9YWTogMTAsIE5PUFJPWFk6IDExLCBMYjogMTIsIEhiOiAxMywgSWI6IDE0LCBHYjogMTUsIEpiOiAxNiwgS2I6IDE3LCBuYjogMTgsIG1iOiAxOSwgb2I6IDIwIH07XHJcbnZhciBGZXRjaFhtbEh0dHBGYWN0b3J5ID0gcGQ7XHJcbnZhciBXZWJDaGFubmVsID0gJGI7XHJcbnZhciBYaHJJbyA9IFg7XHJcblxyXG52YXIgZXNtID0ge1xyXG4gICAgY3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydDogY3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydCxcclxuICAgIGdldFN0YXRFdmVudFRhcmdldDogZ2V0U3RhdEV2ZW50VGFyZ2V0LFxyXG4gICAgRXJyb3JDb2RlOiBFcnJvckNvZGUsXHJcbiAgICBFdmVudFR5cGU6IEV2ZW50VHlwZSxcclxuICAgIEV2ZW50OiBFdmVudCxcclxuICAgIFN0YXQ6IFN0YXQsXHJcbiAgICBGZXRjaFhtbEh0dHBGYWN0b3J5OiBGZXRjaFhtbEh0dHBGYWN0b3J5LFxyXG4gICAgV2ViQ2hhbm5lbDogV2ViQ2hhbm5lbCxcclxuICAgIFhocklvOiBYaHJJb1xyXG59O1xuXG5leHBvcnQgZGVmYXVsdCBlc207XG5leHBvcnQgeyBFcnJvckNvZGUsIEV2ZW50LCBFdmVudFR5cGUsIEZldGNoWG1sSHR0cEZhY3RvcnksIFN0YXQsIFdlYkNoYW5uZWwsIFhocklvLCBjcmVhdGVXZWJDaGFubmVsVHJhbnNwb3J0LCBnZXRTdGF0RXZlbnRUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IF9nZXRQcm92aWRlciwgZ2V0QXBwIGFzIHQsIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UgYXMgZSwgX3JlZ2lzdGVyQ29tcG9uZW50IGFzIG4sIHJlZ2lzdGVyVmVyc2lvbiBhcyBzLCBTREtfVkVSU0lPTiBhcyBpIH0gZnJvbSBcIkBmaXJlYmFzZS9hcHBcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IGFzIHIgfSBmcm9tIFwiQGZpcmViYXNlL2NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBMb2dnZXIgYXMgbywgTG9nTGV2ZWwgYXMgYSB9IGZyb20gXCJAZmlyZWJhc2UvbG9nZ2VyXCI7XG5cbmltcG9ydCB7IGdldFVBIGFzIGMsIGlzU2FmYXJpIGFzIHUsIGlzTW9iaWxlQ29yZG92YSBhcyBoLCBpc1JlYWN0TmF0aXZlIGFzIGwsIGlzRWxlY3Ryb24gYXMgZiwgaXNJRSBhcyBkLCBpc1VXUCBhcyB3LCBpc0Jyb3dzZXJFeHRlbnNpb24gYXMgXywgY3JlYXRlTW9ja1VzZXJUb2tlbiBhcyBtLCBnZXRNb2R1bGFySW5zdGFuY2UgYXMgZywgZGVlcEVxdWFsIGFzIHkgfSBmcm9tIFwiQGZpcmViYXNlL3V0aWxcIjtcblxuaW1wb3J0IHsgWGhySW8gYXMgcCwgRXZlbnRUeXBlIGFzIEUsIEVycm9yQ29kZSBhcyBULCBjcmVhdGVXZWJDaGFubmVsVHJhbnNwb3J0IGFzIEksIGdldFN0YXRFdmVudFRhcmdldCBhcyBBLCBGZXRjaFhtbEh0dHBGYWN0b3J5IGFzIFIsIFdlYkNoYW5uZWwgYXMgYiwgRXZlbnQgYXMgUCwgU3RhdCBhcyB2IH0gZnJvbSBcIkBmaXJlYmFzZS93ZWJjaGFubmVsLXdyYXBwZXJcIjtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogU2ltcGxlIHdyYXBwZXIgYXJvdW5kIGEgbnVsbGFibGUgVUlELiBNb3N0bHkgZXhpc3RzIHRvIG1ha2UgY29kZSBtb3JlXG4gKiByZWFkYWJsZS5cbiAqL1xuY2xhc3MgViB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnVpZCA9IHQ7XG4gICAgfVxuICAgIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy51aWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBrZXkgcmVwcmVzZW50aW5nIHRoaXMgdXNlciwgc3VpdGFibGUgZm9yIGluY2x1c2lvbiBpbiBhXG4gICAgICogZGljdGlvbmFyeS5cbiAgICAgKi8gICAgdG9LZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQXV0aGVudGljYXRlZCgpID8gXCJ1aWQ6XCIgKyB0aGlzLnVpZCA6IFwiYW5vbnltb3VzLXVzZXJcIjtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0LnVpZCA9PT0gdGhpcy51aWQ7XG4gICAgfVxufVxuXG4vKiogQSB1c2VyIHdpdGggYSBudWxsIFVJRC4gKi8gVi5VTkFVVEhFTlRJQ0FURUQgPSBuZXcgVihudWxsKSwgXG4vLyBUT0RPKG1pa2VsZWhlbik6IExvb2sgaW50byBnZXR0aW5nIGEgcHJvcGVyIHVpZC1lcXVpdmFsZW50IGZvclxuLy8gbm9uLUZpcmViYXNlQXV0aCBwcm92aWRlcnMuXG5WLkdPT0dMRV9DUkVERU5USUFMUyA9IG5ldyBWKFwiZ29vZ2xlLWNyZWRlbnRpYWxzLXVpZFwiKSwgVi5GSVJTVF9QQVJUWSA9IG5ldyBWKFwiZmlyc3QtcGFydHktdWlkXCIpLCBcblYuTU9DS19VU0VSID0gbmV3IFYoXCJtb2NrLXVzZXJcIik7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5sZXQgUyA9IFwiOS4wLjJcIjtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IEQgPSBuZXcgbyhcIkBmaXJlYmFzZS9maXJlc3RvcmVcIik7XG5cbi8vIEhlbHBlciBtZXRob2RzIGFyZSBuZWVkZWQgYmVjYXVzZSB2YXJpYWJsZXMgY2FuJ3QgYmUgZXhwb3J0ZWQgYXMgcmVhZC93cml0ZVxuZnVuY3Rpb24gQygpIHtcbiAgICByZXR1cm4gRC5sb2dMZXZlbDtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2ZXJib3NpdHkgb2YgQ2xvdWQgRmlyZXN0b3JlIGxvZ3MgKGRlYnVnLCBlcnJvciwgb3Igc2lsZW50KS5cbiAqXG4gKiBAcGFyYW0gbG9nTGV2ZWwgLSBUaGUgdmVyYm9zaXR5IHlvdSBzZXQgZm9yIGFjdGl2aXR5IGFuZCBlcnJvciBsb2dnaW5nLiBDYW5cbiAqICAgYmUgYW55IG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxuICpcbiAqICAgPHVsPlxuICogICAgIDxsaT5gZGVidWdgIGZvciB0aGUgbW9zdCB2ZXJib3NlIGxvZ2dpbmcgbGV2ZWwsIHByaW1hcmlseSBmb3JcbiAqICAgICBkZWJ1Z2dpbmcuPC9saT5cbiAqICAgICA8bGk+YGVycm9yYCB0byBsb2cgZXJyb3JzIG9ubHkuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+YHNpbGVudGAgdG8gdHVybiBvZmYgbG9nZ2luZy48L2xpPlxuICogICA8L3VsPlxuICovIGZ1bmN0aW9uIE4odCkge1xuICAgIEQuc2V0TG9nTGV2ZWwodCk7XG59XG5cbmZ1bmN0aW9uIHgodCwgLi4uZSkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGEuREVCVUcpIHtcbiAgICAgICAgY29uc3QgbiA9IGUubWFwKE8pO1xuICAgICAgICBELmRlYnVnKGBGaXJlc3RvcmUgKCR7U30pOiAke3R9YCwgLi4ubik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBrKHQsIC4uLmUpIHtcbiAgICBpZiAoRC5sb2dMZXZlbCA8PSBhLkVSUk9SKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLm1hcChPKTtcbiAgICAgICAgRC5lcnJvcihgRmlyZXN0b3JlICgke1N9KTogJHt0fWAsIC4uLm4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiAkKHQsIC4uLmUpIHtcbiAgICBpZiAoRC5sb2dMZXZlbCA8PSBhLldBUk4pIHtcbiAgICAgICAgY29uc3QgbiA9IGUubWFwKE8pO1xuICAgICAgICBELndhcm4oYEZpcmVzdG9yZSAoJHtTfSk6ICR7dH1gLCAuLi5uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYWRkaXRpb25hbCBsb2cgcGFyYW1ldGVyIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIE8odCkge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0KSByZXR1cm4gdDtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZSA9IHQsIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gQ29udmVydGluZyB0byBKU09OIGZhaWxlZCwganVzdCBsb2cgdGhlIG9iamVjdCBkaXJlY3RseVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAvKiogRm9ybWF0cyBhbiBvYmplY3QgYXMgYSBKU09OIHN0cmluZywgc3VpdGFibGUgZm9yIGxvZ2dpbmcuICovXG4gICAgdmFyIGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFVuY29uZGl0aW9uYWxseSBmYWlscywgdGhyb3dpbmcgYW4gRXJyb3Igd2l0aCB0aGUgZ2l2ZW4gbWVzc2FnZS5cbiAqIE1lc3NhZ2VzIGFyZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcy5cbiAqXG4gKiBSZXR1cm5zIGBuZXZlcmAgYW5kIGNhbiBiZSB1c2VkIGluIGV4cHJlc3Npb25zOlxuICogQGV4YW1wbGVcbiAqIGxldCBmdXR1cmVWYXIgPSBmYWlsKCdub3QgaW1wbGVtZW50ZWQgeWV0Jyk7XG4gKi8gZnVuY3Rpb24gRih0ID0gXCJVbmV4cGVjdGVkIHN0YXRlXCIpIHtcbiAgICAvLyBMb2cgdGhlIGZhaWx1cmUgaW4gYWRkaXRpb24gdG8gdGhyb3cgYW4gZXhjZXB0aW9uLCBqdXN0IGluIGNhc2UgdGhlXG4gICAgLy8gZXhjZXB0aW9uIGlzIHN3YWxsb3dlZC5cbiAgICBjb25zdCBlID0gYEZJUkVTVE9SRSAoJHtTfSkgSU5URVJOQUwgQVNTRVJUSU9OIEZBSUxFRDogYCArIHQ7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgdXNlIEZpcmVzdG9yZUVycm9yIGhlcmUgYmVjYXVzZSB0aGVzZSBhcmUgaW50ZXJuYWwgZmFpbHVyZXNcbiAgICAvLyB0aGF0IGNhbm5vdCBiZSBoYW5kbGVkIGJ5IHRoZSB1c2VyLiAoQWxzbyBpdCB3b3VsZCBjcmVhdGUgYSBjaXJjdWxhclxuICAgIC8vIGRlcGVuZGVuY3kgYmV0d2VlbiB0aGUgZXJyb3IgYW5kIGFzc2VydCBtb2R1bGVzIHdoaWNoIGRvZXNuJ3Qgd29yay4pXG4gICAgdGhyb3cgayhlKSwgbmV3IEVycm9yKGUpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogTWVzc2FnZXMgYXJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovIGZ1bmN0aW9uIE0odCwgZSkge1xuICAgIHQgfHwgRigpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogVGhlIGNvZGUgb2YgY2FsbHNpdGVzIGludm9raW5nIHRoaXMgZnVuY3Rpb24gYXJlIHN0cmlwcGVkIG91dCBpbiBwcm9kdWN0aW9uXG4gKiBidWlsZHMuIEFueSBzaWRlLWVmZmVjdHMgb2YgY29kZSB3aXRoaW4gdGhlIGRlYnVnQXNzZXJ0KCkgaW52b2NhdGlvbiB3aWxsIG5vdFxuICogaGFwcGVuIGluIHRoaXMgY2FzZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBMKHQsIGUpIHtcbiAgICB0IHx8IEYoKTtcbn1cblxuLyoqXG4gKiBDYXN0cyBgb2JqYCB0byBgVGAuIEluIG5vbi1wcm9kdWN0aW9uIGJ1aWxkcywgdmVyaWZpZXMgdGhhdCBgb2JqYCBpcyBhblxuICogaW5zdGFuY2Ugb2YgYFRgIGJlZm9yZSBjYXN0aW5nLlxuICovIGZ1bmN0aW9uIEIodCwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZSkge1xuICAgIHJldHVybiB0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBVID0ge1xuICAgIC8vIENhdXNlcyBhcmUgY29waWVkIGZyb206XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2JjZWVjOTRlYTRmYzVmMDA4NWQ4MTIzNWQ4ZTFjMDY3OThkYzM0MWEvaW5jbHVkZS9ncnBjJTJCJTJCL2ltcGwvY29kZWdlbi9zdGF0dXNfY29kZV9lbnVtLmhcbiAgICAvKiogTm90IGFuIGVycm9yOyByZXR1cm5lZCBvbiBzdWNjZXNzLiAqL1xuICAgIE9LOiBcIm9rXCIsXG4gICAgLyoqIFRoZSBvcGVyYXRpb24gd2FzIGNhbmNlbGxlZCAodHlwaWNhbGx5IGJ5IHRoZSBjYWxsZXIpLiAqL1xuICAgIENBTkNFTExFRDogXCJjYW5jZWxsZWRcIixcbiAgICAvKiogVW5rbm93biBlcnJvciBvciBhbiBlcnJvciBmcm9tIGEgZGlmZmVyZW50IGVycm9yIGRvbWFpbi4gKi9cbiAgICBVTktOT1dOOiBcInVua25vd25cIixcbiAgICAvKipcbiAgICAgKiBDbGllbnQgc3BlY2lmaWVkIGFuIGludmFsaWQgYXJndW1lbnQuIE5vdGUgdGhhdCB0aGlzIGRpZmZlcnMgZnJvbVxuICAgICAqIEZBSUxFRF9QUkVDT05ESVRJT04uIElOVkFMSURfQVJHVU1FTlQgaW5kaWNhdGVzIGFyZ3VtZW50cyB0aGF0IGFyZVxuICAgICAqIHByb2JsZW1hdGljIHJlZ2FyZGxlc3Mgb2YgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0gKGUuZy4sIGEgbWFsZm9ybWVkIGZpbGVcbiAgICAgKiBuYW1lKS5cbiAgICAgKi9cbiAgICBJTlZBTElEX0FSR1VNRU5UOiBcImludmFsaWQtYXJndW1lbnRcIixcbiAgICAvKipcbiAgICAgKiBEZWFkbGluZSBleHBpcmVkIGJlZm9yZSBvcGVyYXRpb24gY291bGQgY29tcGxldGUuIEZvciBvcGVyYXRpb25zIHRoYXRcbiAgICAgKiBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0sIHRoaXMgZXJyb3IgbWF5IGJlIHJldHVybmVkIGV2ZW4gaWYgdGhlXG4gICAgICogb3BlcmF0aW9uIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiBGb3IgZXhhbXBsZSwgYSBzdWNjZXNzZnVsIHJlc3BvbnNlXG4gICAgICogZnJvbSBhIHNlcnZlciBjb3VsZCBoYXZlIGJlZW4gZGVsYXllZCBsb25nIGVub3VnaCBmb3IgdGhlIGRlYWRsaW5lIHRvXG4gICAgICogZXhwaXJlLlxuICAgICAqL1xuICAgIERFQURMSU5FX0VYQ0VFREVEOiBcImRlYWRsaW5lLWV4Y2VlZGVkXCIsXG4gICAgLyoqIFNvbWUgcmVxdWVzdGVkIGVudGl0eSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIHdhcyBub3QgZm91bmQuICovXG4gICAgTk9UX0ZPVU5EOiBcIm5vdC1mb3VuZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgZW50aXR5IHRoYXQgd2UgYXR0ZW1wdGVkIHRvIGNyZWF0ZSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIGFscmVhZHlcbiAgICAgKiBleGlzdHMuXG4gICAgICovXG4gICAgQUxSRUFEWV9FWElTVFM6IFwiYWxyZWFkeS1leGlzdHNcIixcbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGVyIGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiB0byBleGVjdXRlIHRoZSBzcGVjaWZpZWQgb3BlcmF0aW9uLlxuICAgICAqIFBFUk1JU1NJT05fREVOSUVEIG11c3Qgbm90IGJlIHVzZWQgZm9yIHJlamVjdGlvbnMgY2F1c2VkIGJ5IGV4aGF1c3RpbmdcbiAgICAgKiBzb21lIHJlc291cmNlICh1c2UgUkVTT1VSQ0VfRVhIQVVTVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICogUEVSTUlTU0lPTl9ERU5JRUQgbXVzdCBub3QgYmUgdXNlZCBpZiB0aGUgY2FsbGVyIGNhbiBub3QgYmUgaWRlbnRpZmllZFxuICAgICAqICh1c2UgVU5BVVRIRU5USUNBVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICovXG4gICAgUEVSTUlTU0lPTl9ERU5JRUQ6IFwicGVybWlzc2lvbi1kZW5pZWRcIixcbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWVzdCBkb2VzIG5vdCBoYXZlIHZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIGZvciB0aGVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICovXG4gICAgVU5BVVRIRU5USUNBVEVEOiBcInVuYXV0aGVudGljYXRlZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgcmVzb3VyY2UgaGFzIGJlZW4gZXhoYXVzdGVkLCBwZXJoYXBzIGEgcGVyLXVzZXIgcXVvdGEsIG9yIHBlcmhhcHMgdGhlXG4gICAgICogZW50aXJlIGZpbGUgc3lzdGVtIGlzIG91dCBvZiBzcGFjZS5cbiAgICAgKi9cbiAgICBSRVNPVVJDRV9FWEhBVVNURUQ6IFwicmVzb3VyY2UtZXhoYXVzdGVkXCIsXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIHdhcyByZWplY3RlZCBiZWNhdXNlIHRoZSBzeXN0ZW0gaXMgbm90IGluIGEgc3RhdGUgcmVxdWlyZWQgZm9yXG4gICAgICogdGhlIG9wZXJhdGlvbidzIGV4ZWN1dGlvbi4gRm9yIGV4YW1wbGUsIGRpcmVjdG9yeSB0byBiZSBkZWxldGVkIG1heSBiZVxuICAgICAqIG5vbi1lbXB0eSwgYW4gcm1kaXIgb3BlcmF0aW9uIGlzIGFwcGxpZWQgdG8gYSBub24tZGlyZWN0b3J5LCBldGMuXG4gICAgICpcbiAgICAgKiBBIGxpdG11cyB0ZXN0IHRoYXQgbWF5IGhlbHAgYSBzZXJ2aWNlIGltcGxlbWVudG9yIGluIGRlY2lkaW5nXG4gICAgICogYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OLCBBQk9SVEVELCBhbmQgVU5BVkFJTEFCTEU6XG4gICAgICogIChhKSBVc2UgVU5BVkFJTEFCTEUgaWYgdGhlIGNsaWVudCBjYW4gcmV0cnkganVzdCB0aGUgZmFpbGluZyBjYWxsLlxuICAgICAqICAoYikgVXNlIEFCT1JURUQgaWYgdGhlIGNsaWVudCBzaG91bGQgcmV0cnkgYXQgYSBoaWdoZXItbGV2ZWxcbiAgICAgKiAgICAgIChlLmcuLCByZXN0YXJ0aW5nIGEgcmVhZC1tb2RpZnktd3JpdGUgc2VxdWVuY2UpLlxuICAgICAqICAoYykgVXNlIEZBSUxFRF9QUkVDT05ESVRJT04gaWYgdGhlIGNsaWVudCBzaG91bGQgbm90IHJldHJ5IHVudGlsXG4gICAgICogICAgICB0aGUgc3lzdGVtIHN0YXRlIGhhcyBiZWVuIGV4cGxpY2l0bHkgZml4ZWQuIEUuZy4sIGlmIGFuIFwicm1kaXJcIlxuICAgICAqICAgICAgZmFpbHMgYmVjYXVzZSB0aGUgZGlyZWN0b3J5IGlzIG5vbi1lbXB0eSwgRkFJTEVEX1BSRUNPTkRJVElPTlxuICAgICAqICAgICAgc2hvdWxkIGJlIHJldHVybmVkIHNpbmNlIHRoZSBjbGllbnQgc2hvdWxkIG5vdCByZXRyeSB1bmxlc3NcbiAgICAgKiAgICAgIHRoZXkgaGF2ZSBmaXJzdCBmaXhlZCB1cCB0aGUgZGlyZWN0b3J5IGJ5IGRlbGV0aW5nIGZpbGVzIGZyb20gaXQuXG4gICAgICogIChkKSBVc2UgRkFJTEVEX1BSRUNPTkRJVElPTiBpZiB0aGUgY2xpZW50IHBlcmZvcm1zIGNvbmRpdGlvbmFsXG4gICAgICogICAgICBSRVNUIEdldC9VcGRhdGUvRGVsZXRlIG9uIGEgcmVzb3VyY2UgYW5kIHRoZSByZXNvdXJjZSBvbiB0aGVcbiAgICAgKiAgICAgIHNlcnZlciBkb2VzIG5vdCBtYXRjaCB0aGUgY29uZGl0aW9uLiBFLmcuLCBjb25mbGljdGluZ1xuICAgICAqICAgICAgcmVhZC1tb2RpZnktd3JpdGUgb24gdGhlIHNhbWUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgRkFJTEVEX1BSRUNPTkRJVElPTjogXCJmYWlsZWQtcHJlY29uZGl0aW9uXCIsXG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCwgdHlwaWNhbGx5IGR1ZSB0byBhIGNvbmN1cnJlbmN5IGlzc3VlIGxpa2VcbiAgICAgKiBzZXF1ZW5jZXIgY2hlY2sgZmFpbHVyZXMsIHRyYW5zYWN0aW9uIGFib3J0cywgZXRjLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIEFCT1JURUQ6IFwiYWJvcnRlZFwiLFxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbiB3YXMgYXR0ZW1wdGVkIHBhc3QgdGhlIHZhbGlkIHJhbmdlLiBFLmcuLCBzZWVraW5nIG9yIHJlYWRpbmdcbiAgICAgKiBwYXN0IGVuZCBvZiBmaWxlLlxuICAgICAqXG4gICAgICogVW5saWtlIElOVkFMSURfQVJHVU1FTlQsIHRoaXMgZXJyb3IgaW5kaWNhdGVzIGEgcHJvYmxlbSB0aGF0IG1heSBiZSBmaXhlZFxuICAgICAqIGlmIHRoZSBzeXN0ZW0gc3RhdGUgY2hhbmdlcy4gRm9yIGV4YW1wbGUsIGEgMzItYml0IGZpbGUgc3lzdGVtIHdpbGxcbiAgICAgKiBnZW5lcmF0ZSBJTlZBTElEX0FSR1VNRU5UIGlmIGFza2VkIHRvIHJlYWQgYXQgYW4gb2Zmc2V0IHRoYXQgaXMgbm90IGluIHRoZVxuICAgICAqIHJhbmdlIFswLDJeMzItMV0sIGJ1dCBpdCB3aWxsIGdlbmVyYXRlIE9VVF9PRl9SQU5HRSBpZiBhc2tlZCB0byByZWFkIGZyb21cbiAgICAgKiBhbiBvZmZzZXQgcGFzdCB0aGUgY3VycmVudCBmaWxlIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGVyZSBpcyBhIGZhaXIgYml0IG9mIG92ZXJsYXAgYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OIGFuZFxuICAgICAqIE9VVF9PRl9SQU5HRS4gV2UgcmVjb21tZW5kIHVzaW5nIE9VVF9PRl9SQU5HRSAodGhlIG1vcmUgc3BlY2lmaWMgZXJyb3IpXG4gICAgICogd2hlbiBpdCBhcHBsaWVzIHNvIHRoYXQgY2FsbGVycyB3aG8gYXJlIGl0ZXJhdGluZyB0aHJvdWdoIGEgc3BhY2UgY2FuXG4gICAgICogZWFzaWx5IGxvb2sgZm9yIGFuIE9VVF9PRl9SQU5HRSBlcnJvciB0byBkZXRlY3Qgd2hlbiB0aGV5IGFyZSBkb25lLlxuICAgICAqL1xuICAgIE9VVF9PRl9SQU5HRTogXCJvdXQtb2YtcmFuZ2VcIixcbiAgICAvKiogT3BlcmF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBvciBub3Qgc3VwcG9ydGVkL2VuYWJsZWQgaW4gdGhpcyBzZXJ2aWNlLiAqL1xuICAgIFVOSU1QTEVNRU5URUQ6IFwidW5pbXBsZW1lbnRlZFwiLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGVycm9ycy4gTWVhbnMgc29tZSBpbnZhcmlhbnRzIGV4cGVjdGVkIGJ5IHVuZGVybHlpbmcgU3lzdGVtIGhhc1xuICAgICAqIGJlZW4gYnJva2VuLiBJZiB5b3Ugc2VlIG9uZSBvZiB0aGVzZSBlcnJvcnMsIFNvbWV0aGluZyBpcyB2ZXJ5IGJyb2tlbi5cbiAgICAgKi9cbiAgICBJTlRFUk5BTDogXCJpbnRlcm5hbFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2aWNlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS4gVGhpcyBpcyBhIG1vc3QgbGlrZWx5IGEgdHJhbnNpZW50XG4gICAgICogY29uZGl0aW9uIGFuZCBtYXkgYmUgY29ycmVjdGVkIGJ5IHJldHJ5aW5nIHdpdGggYSBiYWNrb2ZmLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIFVOQVZBSUxBQkxFOiBcInVuYXZhaWxhYmxlXCIsXG4gICAgLyoqIFVucmVjb3ZlcmFibGUgZGF0YSBsb3NzIG9yIGNvcnJ1cHRpb24uICovXG4gICAgREFUQV9MT1NTOiBcImRhdGEtbG9zc1wiXG59O1xuXG4vKiogQW4gZXJyb3IgcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgb3BlcmF0aW9uLiAqLyBjbGFzcyBxIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tlbmQgZXJyb3IgY29kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBlcnJvci5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBBIGN1c3RvbSBlcnJvciBkZXNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBlKSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLmNvZGUgPSB0LCB0aGlzLm1lc3NhZ2UgPSBlLCBcbiAgICAgICAgLyoqIFRoZSBjdXN0b20gbmFtZSBmb3IgYWxsIEZpcmVzdG9yZUVycm9ycy4gKi9cbiAgICAgICAgdGhpcy5uYW1lID0gXCJGaXJlYmFzZUVycm9yXCIsIFxuICAgICAgICAvLyBIQUNLOiBXZSB3cml0ZSBhIHRvU3RyaW5nIHByb3BlcnR5IGRpcmVjdGx5IGJlY2F1c2UgRXJyb3IgaXMgbm90IGEgcmVhbFxuICAgICAgICAvLyBjbGFzcyBhbmQgc28gaW5oZXJpdGFuY2UgZG9lcyBub3Qgd29yayBjb3JyZWN0bHkuIFdlIGNvdWxkIGFsdGVybmF0aXZlbHlcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUgXCJiYWNrLWRvb3IgaW5oZXJpdGFuY2VcIiB0cmljayB0aGF0IEZpcmViYXNlRXJyb3IgZG9lcy5cbiAgICAgICAgdGhpcy50b1N0cmluZyA9ICgpID0+IGAke3RoaXMubmFtZX06IFtjb2RlPSR7dGhpcy5jb2RlfV06ICR7dGhpcy5tZXNzYWdlfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBLIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSB0LCB0aGlzLnJlamVjdCA9IGU7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIGoge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy51c2VyID0gZSwgdGhpcy50eXBlID0gXCJPQXV0aFwiLCB0aGlzLmF1dGhIZWFkZXJzID0ge30sIFxuICAgICAgICAvLyBTZXQgdGhlIGhlYWRlcnMgdXNpbmcgT2JqZWN0IExpdGVyYWwgbm90YXRpb24gdG8gYXZvaWQgbWluaWZpY2F0aW9uXG4gICAgICAgIHRoaXMuYXV0aEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0fWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgQ3JlZGVudGlhbHNQcm92aWRlciB0aGF0IGFsd2F5cyB5aWVsZHMgYW4gZW1wdHkgdG9rZW4uXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBRIHtcbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbiAgICBzdGFydCh0LCBlKSB7XG4gICAgICAgIC8vIEZpcmUgd2l0aCBpbml0aWFsIHVzZXIuXG4gICAgICAgIHQuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gZShWLlVOQVVUSEVOVElDQVRFRCkpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7fVxufVxuXG4vKipcbiAqIEEgQ3JlZGVudGlhbHNQcm92aWRlciB0aGF0IGFsd2F5cyByZXR1cm5zIGEgY29uc3RhbnQgdG9rZW4uIFVzZWQgZm9yXG4gKiBlbXVsYXRvciB0b2tlbiBtb2NraW5nLlxuICovIGNsYXNzIFcge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcmVzIHRoZSBsaXN0ZW5lciByZWdpc3RlcmVkIHdpdGggc2V0Q2hhbmdlTGlzdGVuZXIoKVxuICAgICAgICAgKiBUaGlzIGlzbid0IGFjdHVhbGx5IG5lY2Vzc2FyeSBzaW5jZSB0aGUgVUlEIG5ldmVyIGNoYW5nZXMsIGJ1dCB3ZSB1c2UgdGhpc1xuICAgICAgICAgKiB0byB2ZXJpZnkgdGhlIGxpc3RlbiBjb250cmFjdCBpcyBhZGhlcmVkIHRvIGluIHRlc3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG9rZW4pO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxuICAgIHN0YXJ0KHQsIGUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IGUsIFxuICAgICAgICAvLyBGaXJlIHdpdGggaW5pdGlhbCB1c2VyLlxuICAgICAgICB0LmVucXVldWVSZXRyeWFibGUoKCgpID0+IGUodGhpcy50b2tlbi51c2VyKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBHIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMudCA9IHQsIFxuICAgICAgICAvKiogVHJhY2tzIHRoZSBjdXJyZW50IFVzZXIuICovXG4gICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBWLlVOQVVUSEVOVElDQVRFRCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudGVyIHVzZWQgdG8gZGV0ZWN0IGlmIHRoZSB0b2tlbiBjaGFuZ2VkIHdoaWxlIGEgZ2V0VG9rZW4gcmVxdWVzdCB3YXNcbiAgICAgICAgICogb3V0c3RhbmRpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmkgPSAwLCB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmF1dGggPSBudWxsO1xuICAgIH1cbiAgICBzdGFydCh0LCBlKSB7XG4gICAgICAgIGxldCBuID0gdGhpcy5pO1xuICAgICAgICAvLyBBIGNoYW5nZSBsaXN0ZW5lciB0aGF0IHByZXZlbnRzIGRvdWJsZS1maXJpbmcgZm9yIHRoZSBzYW1lIHRva2VuIGNoYW5nZS5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gdCA9PiB0aGlzLmkgIT09IG4gPyAobiA9IHRoaXMuaSwgZSh0KSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgLy8gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHdhaXRlZCBvbiB0byBibG9jayBvbiB0aGUgbmV4dCB0b2tlbiBjaGFuZ2UuXG4gICAgICAgIC8vIFRoaXMgcHJvbWlzZSBpcyByZS1jcmVhdGVkIGFmdGVyIGVhY2ggY2hhbmdlLlxuICAgICAgICAgICAgICAgIGxldCBpID0gbmV3IEs7XG4gICAgICAgIHRoaXMubyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaSsrLCB0aGlzLmN1cnJlbnRVc2VyID0gdGhpcy51KCksIGkucmVzb2x2ZSgpLCBpID0gbmV3IEssIHQuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gcyh0aGlzLmN1cnJlbnRVc2VyKSkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGk7XG4gICAgICAgICAgICB0LmVucXVldWVSZXRyeWFibGUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBlLnByb21pc2UsIGF3YWl0IHModGhpcy5jdXJyZW50VXNlcik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sIG8gPSB0ID0+IHtcbiAgICAgICAgICAgIHgoXCJGaXJlYmFzZUNyZWRlbnRpYWxzUHJvdmlkZXJcIiwgXCJBdXRoIGRldGVjdGVkXCIpLCB0aGlzLmF1dGggPSB0LCB0aGlzLmF1dGguYWRkQXV0aFRva2VuTGlzdGVuZXIodGhpcy5vKSwgXG4gICAgICAgICAgICByKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudC5vbkluaXQoKHQgPT4gbyh0KSkpLCBcbiAgICAgICAgLy8gT3VyIHVzZXJzIGNhbiBpbml0aWFsaXplIEF1dGggcmlnaHQgYWZ0ZXIgRmlyZXN0b3JlLCBzbyB3ZSBnaXZlIGl0XG4gICAgICAgIC8vIGEgY2hhbmNlIHRvIHJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBjb21wb25lbnQgZnJhbWV3b3JrIGJlZm9yZSB3ZVxuICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciB0byBzdGFydCB1cCBpbiB1bmF1dGhlbnRpY2F0ZWQgbW9kZS5cbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF1dGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy50LmdldEltbWVkaWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsOiAhMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHQgPyBvKHQpIDogKFxuICAgICAgICAgICAgICAgIC8vIElmIGF1dGggaXMgc3RpbGwgbm90IGF2YWlsYWJsZSwgcHJvY2VlZCB3aXRoIGBudWxsYCB1c2VyXG4gICAgICAgICAgICAgICAgeChcIkZpcmViYXNlQ3JlZGVudGlhbHNQcm92aWRlclwiLCBcIkF1dGggbm90IHlldCBkZXRlY3RlZFwiKSwgaS5yZXNvbHZlKCksIGkgPSBuZXcgSyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCAwKSwgcigpO1xuICAgIH1cbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgLy8gVGFrZSBub3RlIG9mIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSB0b2tlbkNvdW50ZXIgc28gdGhhdCB0aGlzIG1ldGhvZFxuICAgICAgICAvLyBjYW4gZmFpbCAod2l0aCBhbiBBQk9SVEVEIGVycm9yKSBpZiB0aGVyZSBpcyBhIHRva2VuIGNoYW5nZSB3aGlsZSB0aGVcbiAgICAgICAgLy8gcmVxdWVzdCBpcyBvdXRzdGFuZGluZy5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuaSwgZSA9IHRoaXMuZm9yY2VSZWZyZXNoO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JjZVJlZnJlc2ggPSAhMSwgdGhpcy5hdXRoID8gdGhpcy5hdXRoLmdldFRva2VuKGUpLnRoZW4oKGUgPT4gXG4gICAgICAgIC8vIENhbmNlbCB0aGUgcmVxdWVzdCBzaW5jZSB0aGUgdG9rZW4gY2hhbmdlZCB3aGlsZSB0aGUgcmVxdWVzdCB3YXNcbiAgICAgICAgLy8gb3V0c3RhbmRpbmcgc28gdGhlIHJlc3BvbnNlIGlzIHBvdGVudGlhbGx5IGZvciBhIHByZXZpb3VzIHVzZXIgKHdoaWNoXG4gICAgICAgIC8vIHVzZXIsIHdlIGNhbid0IGJlIHN1cmUpLlxuICAgICAgICB0aGlzLmkgIT09IHQgPyAoeChcIkZpcmViYXNlQ3JlZGVudGlhbHNQcm92aWRlclwiLCBcImdldFRva2VuIGFib3J0ZWQgZHVlIHRvIHRva2VuIGNoYW5nZS5cIiksIFxuICAgICAgICB0aGlzLmdldFRva2VuKCkpIDogZSA/IChNKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUuYWNjZXNzVG9rZW4pLCBuZXcgaihlLmFjY2Vzc1Rva2VuLCB0aGlzLmN1cnJlbnRVc2VyKSkgOiBudWxsKSkgOiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb2tlbigpIHtcbiAgICAgICAgdGhpcy5mb3JjZVJlZnJlc2ggPSAhMDtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuYXV0aCAmJiB0aGlzLmF1dGgucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIodGhpcy5vKTtcbiAgICB9XG4gICAgLy8gQXV0aC5nZXRVaWQoKSBjYW4gcmV0dXJuIG51bGwgZXZlbiB3aXRoIGEgdXNlciBsb2dnZWQgaW4uIEl0IGlzIGJlY2F1c2VcbiAgICAvLyBnZXRVaWQoKSBpcyBzeW5jaHJvbm91cywgYnV0IHRoZSBhdXRoIGNvZGUgcG9wdWxhdGluZyBVaWQgaXMgYXN5bmNocm9ub3VzLlxuICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiB0aGUgQXV0aFRva2VuTGlzdGVuZXIgY2FsbGJhY2tcbiAgICAvLyB0byBndWFyYW50ZWUgdG8gZ2V0IHRoZSBhY3R1YWwgdXNlci5cbiAgICB1KCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5hdXRoICYmIHRoaXMuYXV0aC5nZXRVaWQoKTtcbiAgICAgICAgcmV0dXJuIE0obnVsbCA9PT0gdCB8fCBcInN0cmluZ1wiID09IHR5cGVvZiB0KSwgbmV3IFYodCk7XG4gICAgfVxufVxuXG4vKlxuICogRmlyc3RQYXJ0eVRva2VuIHByb3ZpZGVzIGEgZnJlc2ggdG9rZW4gZWFjaCB0aW1lIGl0cyB2YWx1ZVxuICogaXMgcmVxdWVzdGVkLCBiZWNhdXNlIGlmIHRoZSB0b2tlbiBpcyB0b28gb2xkLCByZXF1ZXN0cyB3aWxsIGJlIHJlamVjdGVkLlxuICogVGVjaG5pY2FsbHkgdGhpcyBtYXkgbm8gbG9uZ2VyIGJlIG5lY2Vzc2FyeSBzaW5jZSB0aGUgU0RLIHNob3VsZCBncmFjZWZ1bGx5XG4gKiByZWNvdmVyIGZyb20gdW5hdXRoZW50aWNhdGVkIGVycm9ycyAoc2VlIGIvMzMxNDc4MTggZm9yIGNvbnRleHQpLCBidXQgaXQnc1xuICogc2FmZXIgdG8ga2VlcCB0aGUgaW1wbGVtZW50YXRpb24gYXMtaXMuXG4gKi8gY2xhc3MgeiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLmggPSB0LCB0aGlzLmwgPSBlLCB0aGlzLm0gPSBuLCB0aGlzLnR5cGUgPSBcIkZpcnN0UGFydHlcIiwgdGhpcy51c2VyID0gVi5GSVJTVF9QQVJUWTtcbiAgICB9XG4gICAgZ2V0IGF1dGhIZWFkZXJzKCkge1xuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgICAgXCJYLUdvb2ctQXV0aFVzZXJcIjogdGhpcy5sXG4gICAgICAgIH0sIGUgPSB0aGlzLmguYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KFtdKTtcbiAgICAgICAgLy8gVXNlIGFycmF5IG5vdGF0aW9uIHRvIHByZXZlbnQgbWluaWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgKHQuQXV0aG9yaXphdGlvbiA9IGUpLCB0aGlzLm0gJiYgKHRbXCJYLUdvb2ctSWFtLUF1dGhvcml6YXRpb24tVG9rZW5cIl0gPSB0aGlzLm0pLCBcbiAgICAgICAgdDtcbiAgICB9XG59XG5cbi8qXG4gKiBQcm92aWRlcyB1c2VyIGNyZWRlbnRpYWxzIHJlcXVpcmVkIGZvciB0aGUgRmlyZXN0b3JlIEphdmFTY3JpcHQgU0RLXG4gKiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIsIHVzaW5nIHRlY2huaXF1ZSB0aGF0IGlzIG9ubHkgYXZhaWxhYmxlXG4gKiB0byBhcHBsaWNhdGlvbnMgaG9zdGVkIGJ5IEdvb2dsZS5cbiAqLyBjbGFzcyBIIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMuaCA9IHQsIHRoaXMubCA9IGUsIHRoaXMubSA9IG47XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyB6KHRoaXMuaCwgdGhpcy5sLCB0aGlzLm0pKTtcbiAgICB9XG4gICAgc3RhcnQodCwgZSkge1xuICAgICAgICAvLyBGaXJlIHdpdGggaW5pdGlhbCB1aWQuXG4gICAgICAgIHQuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gZShWLkZJUlNUX1BBUlRZKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBDcmVkZW50aWFsc1Byb3ZpZGVyIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZlxuICogdGhlIGNyZWRlbnRpYWxzIHBhc3NlZCBpbi5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogYExpc3RlblNlcXVlbmNlYCBpcyBhIG1vbm90b25pYyBzZXF1ZW5jZS4gSXQgaXMgaW5pdGlhbGl6ZWQgd2l0aCBhIG1pbmltdW0gdmFsdWUgdG9cbiAqIGV4Y2VlZC4gQWxsIHN1YnNlcXVlbnQgY2FsbHMgdG8gbmV4dCB3aWxsIHJldHVybiBpbmNyZWFzaW5nIHZhbHVlcy4gSWYgcHJvdmlkZWQgd2l0aCBhXG4gKiBgU2VxdWVuY2VOdW1iZXJTeW5jZXJgLCBpdCB3aWxsIGFkZGl0aW9uYWxseSBidW1wIGl0cyBuZXh0IHZhbHVlIHdoZW4gdG9sZCBvZiBhIG5ldyB2YWx1ZSwgYXNcbiAqIHdlbGwgYXMgd3JpdGUgb3V0IHNlcXVlbmNlIG51bWJlcnMgdGhhdCBpdCBwcm9kdWNlcyB2aWEgYG5leHQoKWAuXG4gKi9cbmNsYXNzIEoge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdCwgZSAmJiAoZS5zZXF1ZW5jZU51bWJlckhhbmRsZXIgPSB0ID0+IHRoaXMuZyh0KSwgdGhpcy5wID0gdCA9PiBlLndyaXRlU2VxdWVuY2VOdW1iZXIodCkpO1xuICAgIH1cbiAgICBnKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZSA9IE1hdGgubWF4KHQsIHRoaXMucHJldmlvdXNWYWx1ZSksIHRoaXMucHJldmlvdXNWYWx1ZTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgdCA9ICsrdGhpcy5wcmV2aW91c1ZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5wICYmIHRoaXMucCh0KSwgdDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEdlbmVyYXRlcyBgbkJ5dGVzYCBvZiByYW5kb20gYnl0ZXMuXG4gKlxuICogSWYgYG5CeXRlcyA8IDBgICwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKi9cbmZ1bmN0aW9uIFkodCkge1xuICAgIC8vIFBvbHlmaWxscyBmb3IgSUUgYW5kIFdlYldvcmtlciBieSB1c2luZyBgc2VsZmAgYW5kIGBtc0NyeXB0b2Agd2hlbiBgY3J5cHRvYCBpcyBub3QgYXZhaWxhYmxlLlxuICAgIGNvbnN0IGUgPSBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgJiYgKHNlbGYuY3J5cHRvIHx8IHNlbGYubXNDcnlwdG8pLCBuID0gbmV3IFVpbnQ4QXJyYXkodCk7XG4gICAgaWYgKGUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmdldFJhbmRvbVZhbHVlcykgZS5nZXRSYW5kb21WYWx1ZXMobik7IGVsc2UgXG4gICAgLy8gRmFsbHMgYmFjayB0byBNYXRoLnJhbmRvbVxuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdDsgZSsrKSBuW2VdID0gTWF0aC5mbG9vcigyNTYgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICByZXR1cm4gbjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gSi5UID0gLTE7XG5cbmNsYXNzIFgge1xuICAgIHN0YXRpYyBJKCkge1xuICAgICAgICAvLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVyc1xuICAgICAgICBjb25zdCB0ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLCBlID0gTWF0aC5mbG9vcigyNTYgLyB0Lmxlbmd0aCkgKiB0Lmxlbmd0aDtcbiAgICAgICAgLy8gVGhlIGxhcmdlc3QgYnl0ZSB2YWx1ZSB0aGF0IGlzIGEgbXVsdGlwbGUgb2YgYGNoYXIubGVuZ3RoYC5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IFwiXCI7XG4gICAgICAgIGZvciAoO24ubGVuZ3RoIDwgMjA7ICkge1xuICAgICAgICAgICAgY29uc3QgcyA9IFkoNDApO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgKytpKSBcbiAgICAgICAgICAgIC8vIE9ubHkgYWNjZXB0IHZhbHVlcyB0aGF0IGFyZSBbMCwgbWF4TXVsdGlwbGUpLCB0aGlzIGVuc3VyZXMgdGhleSBjYW5cbiAgICAgICAgICAgIC8vIGJlIGV2ZW5seSBtYXBwZWQgdG8gaW5kaWNlcyBvZiBgY2hhcnNgIHZpYSBhIG1vZHVsbyBvcGVyYXRpb24uXG4gICAgICAgICAgICBuLmxlbmd0aCA8IDIwICYmIHNbaV0gPCBlICYmIChuICs9IHQuY2hhckF0KHNbaV0gJSB0Lmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gWih0LCBlKSB7XG4gICAgcmV0dXJuIHQgPCBlID8gLTEgOiB0ID4gZSA/IDEgOiAwO1xufVxuXG4vKiogSGVscGVyIHRvIGNvbXBhcmUgYXJyYXlzIHVzaW5nIGlzRXF1YWwoKS4gKi8gZnVuY3Rpb24gdHQodCwgZSwgbikge1xuICAgIHJldHVybiB0Lmxlbmd0aCA9PT0gZS5sZW5ndGggJiYgdC5ldmVyeSgoKHQsIHMpID0+IG4odCwgZVtzXSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbW1lZGlhdGUgbGV4aWNvZ3JhcGhpY2FsbHktZm9sbG93aW5nIHN0cmluZy4gVGhpcyBpcyB1c2VmdWwgdG9cbiAqIGNvbnN0cnVjdCBhbiBpbmNsdXNpdmUgcmFuZ2UgZm9yIGluZGV4ZWRkYiBpdGVyYXRvcnMuXG4gKi8gZnVuY3Rpb24gZXQodCkge1xuICAgIC8vIFJldHVybiB0aGUgaW5wdXQgc3RyaW5nLCB3aXRoIGFuIGFkZGl0aW9uYWwgTlVMIGJ5dGUgYXBwZW5kZWQuXG4gICAgcmV0dXJuIHQgKyBcIlxcMFwiO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVGhlIGVhcmxpZXN0IGRhdGUgc3VwcG9ydGVkIGJ5IEZpcmVzdG9yZSB0aW1lc3RhbXBzICgwMDAxLTAxLTAxVDAwOjAwOjAwWikuXG4vKipcbiAqIEEgYFRpbWVzdGFtcGAgcmVwcmVzZW50cyBhIHBvaW50IGluIHRpbWUgaW5kZXBlbmRlbnQgb2YgYW55IHRpbWUgem9uZSBvclxuICogY2FsZW5kYXIsIHJlcHJlc2VudGVkIGFzIHNlY29uZHMgYW5kIGZyYWN0aW9ucyBvZiBzZWNvbmRzIGF0IG5hbm9zZWNvbmRcbiAqIHJlc29sdXRpb24gaW4gVVRDIEVwb2NoIHRpbWUuXG4gKlxuICogSXQgaXMgZW5jb2RlZCB1c2luZyB0aGUgUHJvbGVwdGljIEdyZWdvcmlhbiBDYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS4gSXQgaXMgZW5jb2RlZCBhc3N1bWluZyBhbGwgbWludXRlc1xuICogYXJlIDYwIHNlY29uZHMgbG9uZywgaS5lLiBsZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcCBzZWNvbmRcbiAqIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24uIFJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAqIDk5OTktMTItMzFUMjM6NTk6NTkuOTk5OTk5OTk5Wi5cbiAqXG4gKiBGb3IgZXhhbXBsZXMgYW5kIGZ1cnRoZXIgc3BlY2lmaWNhdGlvbnMsIHJlZmVyIHRvIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvcHJvdG9idWYvYmxvYi9tYXN0ZXIvc3JjL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG8gfCBUaW1lc3RhbXAgZGVmaW5pdGlvbn0uXG4gKi9cbmNsYXNzIG50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRpbWVzdGFtcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZWNvbmRzIC0gVGhlIG51bWJlciBvZiBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICAgKiAgICAgMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgICAqICAgICA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAgICogQHBhcmFtIG5hbm9zZWNvbmRzIC0gVGhlIG5vbi1uZWdhdGl2ZSBmcmFjdGlvbnMgb2YgYSBzZWNvbmQgYXQgbmFub3NlY29uZFxuICAgICAqICAgICByZXNvbHV0aW9uLiBOZWdhdGl2ZSBzZWNvbmQgdmFsdWVzIHdpdGggZnJhY3Rpb25zIG11c3Qgc3RpbGwgaGF2ZVxuICAgICAqICAgICBub24tbmVnYXRpdmUgbmFub3NlY29uZHMgdmFsdWVzIHRoYXQgY291bnQgZm9yd2FyZCBpbiB0aW1lLiBNdXN0IGJlXG4gICAgICogICAgIGZyb20gMCB0byA5OTksOTk5LDk5OSBpbmNsdXNpdmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWN0aW9ucyBvZiBhIHNlY29uZCBhdCBuYW5vc2Vjb25kIHJlc29sdXRpb24uKlxuICAgICAqL1xuICAgIGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vjb25kcyA9IHQsIHRoaXMubmFub3NlY29uZHMgPSBlLCBlIDwgMCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiICsgZSk7XG4gICAgICAgIGlmIChlID49IDFlOSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiICsgZSk7XG4gICAgICAgIGlmICh0IDwgLTYyMTM1NTk2ODAwKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIiArIHQpO1xuICAgICAgICAvLyBUaGlzIHdpbGwgYnJlYWsgaW4gdGhlIHllYXIgMTAsMDAwLlxuICAgICAgICAgICAgICAgIGlmICh0ID49IDI1MzQwMjMwMDgwMCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBzZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAgd2l0aCB0aGUgY3VycmVudCBkYXRlLCB3aXRoIG1pbGxpc2Vjb25kIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IHRpbWVzdGFtcCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgZGF0ZS5cbiAgICAgKi8gICAgc3RhdGljIG5vdygpIHtcbiAgICAgICAgcmV0dXJuIG50LmZyb21NaWxsaXMoRGF0ZS5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGluaXRpYWxpemUgdGhlIGBUaW1lc3RhbXBgIGZyb20uXG4gICAgICogQHJldHVybnMgQSBuZXcgYFRpbWVzdGFtcGAgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXMgdGhlIGdpdmVuXG4gICAgICogICAgIGRhdGUuXG4gICAgICovICAgIHN0YXRpYyBmcm9tRGF0ZSh0KSB7XG4gICAgICAgIHJldHVybiBudC5mcm9tTWlsbGlzKHQuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAgZnJvbSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaWxsaXNlY29uZHMgLSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIFVuaXggZXBvY2hcbiAgICAgKiAgICAgMTk3MC0wMS0wMVQwMDowMDowMFouXG4gICAgICogQHJldHVybnMgQSBuZXcgYFRpbWVzdGFtcGAgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXMgdGhlIGdpdmVuXG4gICAgICogICAgIG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gICAgICovICAgIHN0YXRpYyBmcm9tTWlsbGlzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IE1hdGguZmxvb3IodCAvIDFlMyksIG4gPSBNYXRoLmZsb29yKDFlNiAqICh0IC0gMWUzICogZSkpO1xuICAgICAgICByZXR1cm4gbmV3IG50KGUsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIGBUaW1lc3RhbXBgIHRvIGEgSmF2YVNjcmlwdCBgRGF0ZWAgb2JqZWN0LiBUaGlzIGNvbnZlcnNpb25cbiAgICAgKiBjYXVzZXMgYSBsb3NzIG9mIHByZWNpc2lvbiBzaW5jZSBgRGF0ZWAgb2JqZWN0cyBvbmx5IHN1cHBvcnQgbWlsbGlzZWNvbmRcbiAgICAgKiBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBKYXZhU2NyaXB0IGBEYXRlYCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXNcbiAgICAgKiAgICAgdGhpcyBgVGltZXN0YW1wYCwgd2l0aCBtaWxsaXNlY29uZCBwcmVjaXNpb24uXG4gICAgICovICAgIHRvRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudG9NaWxsaXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgYFRpbWVzdGFtcGAgdG8gYSBudW1lcmljIHRpbWVzdGFtcCAoaW4gbWlsbGlzZWNvbmRzIHNpbmNlXG4gICAgICogZXBvY2gpLiBUaGlzIG9wZXJhdGlvbiBjYXVzZXMgYSBsb3NzIG9mIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBwb2ludCBpbiB0aW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyB0aW1lc3RhbXAsIHJlcHJlc2VudGVkIGFzXG4gICAgICogICAgIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gICAgICovICAgIHRvTWlsbGlzKCkge1xuICAgICAgICByZXR1cm4gMWUzICogdGhpcy5zZWNvbmRzICsgdGhpcy5uYW5vc2Vjb25kcyAvIDFlNjtcbiAgICB9XG4gICAgX2NvbXBhcmVUbyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlY29uZHMgPT09IHQuc2Vjb25kcyA/IFoodGhpcy5uYW5vc2Vjb25kcywgdC5uYW5vc2Vjb25kcykgOiBaKHRoaXMuc2Vjb25kcywgdC5zZWNvbmRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgYFRpbWVzdGFtcGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgVGltZXN0YW1wYCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBUaW1lc3RhbXBgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICovICAgIGlzRXF1YWwodCkge1xuICAgICAgICByZXR1cm4gdC5zZWNvbmRzID09PSB0aGlzLnNlY29uZHMgJiYgdC5uYW5vc2Vjb25kcyA9PT0gdGhpcy5uYW5vc2Vjb25kcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgYFRpbWVzdGFtcGAuICovICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJUaW1lc3RhbXAoc2Vjb25kcz1cIiArIHRoaXMuc2Vjb25kcyArIFwiLCBuYW5vc2Vjb25kcz1cIiArIHRoaXMubmFub3NlY29uZHMgKyBcIilcIjtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBKU09OLXNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGBUaW1lc3RhbXBgLiAqLyAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWNvbmRzOiB0aGlzLnNlY29uZHMsXG4gICAgICAgICAgICBuYW5vc2Vjb25kczogdGhpcy5uYW5vc2Vjb25kc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIG9iamVjdCB0byBhIHByaW1pdGl2ZSBzdHJpbmcsIHdoaWNoIGFsbG93cyBgVGltZXN0YW1wYCBvYmplY3RzXG4gICAgICogdG8gYmUgY29tcGFyZWQgdXNpbmcgdGhlIGA+YCwgYDw9YCwgYD49YCBhbmQgYD5gIG9wZXJhdG9ycy5cbiAgICAgKi8gICAgdmFsdWVPZigpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgcmV0dXJucyBhIHN0cmluZyBvZiB0aGUgZm9ybSA8c2Vjb25kcz4uPG5hbm9zZWNvbmRzPiB3aGVyZVxuICAgICAgICAvLyA8c2Vjb25kcz4gaXMgdHJhbnNsYXRlZCB0byBoYXZlIGEgbm9uLW5lZ2F0aXZlIHZhbHVlIGFuZCBib3RoIDxzZWNvbmRzPlxuICAgICAgICAvLyBhbmQgPG5hbm9zZWNvbmRzPiBhcmUgbGVmdC1wYWRkZWQgd2l0aCB6ZXJvZXMgdG8gYmUgYSBjb25zaXN0ZW50IGxlbmd0aC5cbiAgICAgICAgLy8gU3RyaW5ncyB3aXRoIHRoaXMgZm9ybWF0IHRoZW4gaGF2ZSBhIGxleGlvZ3JhcGhpY2FsIG9yZGVyaW5nIHRoYXQgbWF0Y2hlc1xuICAgICAgICAvLyB0aGUgZXhwZWN0ZWQgb3JkZXJpbmcuIFRoZSA8c2Vjb25kcz4gdHJhbnNsYXRpb24gaXMgZG9uZSB0byBhdm9pZCBoYXZpbmdcbiAgICAgICAgLy8gYSBsZWFkaW5nIG5lZ2F0aXZlIHNpZ24gKGkuZS4gYSBsZWFkaW5nICctJyBjaGFyYWN0ZXIpIGluIGl0cyBzdHJpbmdcbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24sIHdoaWNoIHdvdWxkIGFmZmVjdCBpdHMgbGV4aW9ncmFwaGljYWwgb3JkZXJpbmcuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNlY29uZHMgLSAtNjIxMzU1OTY4MDA7XG4gICAgICAgIC8vIE5vdGU6IFVwIHRvIDEyIGRlY2ltYWwgZGlnaXRzIGFyZSByZXF1aXJlZCB0byByZXByZXNlbnQgYWxsIHZhbGlkXG4gICAgICAgIC8vICdzZWNvbmRzJyB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0KS5wYWRTdGFydCgxMiwgXCIwXCIpICsgXCIuXCIgKyBTdHJpbmcodGhpcy5uYW5vc2Vjb25kcykucGFkU3RhcnQoOSwgXCIwXCIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgaW4gRmlyZXN0b3JlLiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSB2ZXJzaW9uXG4gKiB0aW1lc3RhbXAsIHN1Y2ggYXMgdXBkYXRlX3RpbWUgb3IgcmVhZF90aW1lLlxuICovIGNsYXNzIHN0IHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21UaW1lc3RhbXAodCkge1xuICAgICAgICByZXR1cm4gbmV3IHN0KHQpO1xuICAgIH1cbiAgICBzdGF0aWMgbWluKCkge1xuICAgICAgICByZXR1cm4gbmV3IHN0KG5ldyBudCgwLCAwKSk7XG4gICAgfVxuICAgIGNvbXBhcmVUbyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcC5fY29tcGFyZVRvKHQudGltZXN0YW1wKTtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcC5pc0VxdWFsKHQudGltZXN0YW1wKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlcnNpb24gZm9yIHVzZSBpbiBzcGVjIHRlc3RzLiAqLyAgICB0b01pY3Jvc2Vjb25kcygpIHtcbiAgICAgICAgLy8gQ29udmVydCB0byBtaWNyb3NlY29uZHMuXG4gICAgICAgIHJldHVybiAxZTYgKiB0aGlzLnRpbWVzdGFtcC5zZWNvbmRzICsgdGhpcy50aW1lc3RhbXAubmFub3NlY29uZHMgLyAxZTM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJTbmFwc2hvdFZlcnNpb24oXCIgKyB0aGlzLnRpbWVzdGFtcC50b1N0cmluZygpICsgXCIpXCI7XG4gICAgfVxuICAgIHRvVGltZXN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBpdCh0KSB7XG4gICAgbGV0IGUgPSAwO1xuICAgIGZvciAoY29uc3QgbiBpbiB0KSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgbikgJiYgZSsrO1xuICAgIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBydCh0LCBlKSB7XG4gICAgZm9yIChjb25zdCBuIGluIHQpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBuKSAmJiBlKG4sIHRbbl0pO1xufVxuXG5mdW5jdGlvbiBvdCh0KSB7XG4gICAgZm9yIChjb25zdCBlIGluIHQpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgZSkpIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFBhdGggcmVwcmVzZW50cyBhbiBvcmRlcmVkIHNlcXVlbmNlIG9mIHN0cmluZyBzZWdtZW50cy5cbiAqL1xuY2xhc3MgYXQge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgdm9pZCAwID09PSBlID8gZSA9IDAgOiBlID4gdC5sZW5ndGggJiYgRigpLCB2b2lkIDAgPT09IG4gPyBuID0gdC5sZW5ndGggLSBlIDogbiA+IHQubGVuZ3RoIC0gZSAmJiBGKCksIFxuICAgICAgICB0aGlzLnNlZ21lbnRzID0gdCwgdGhpcy5vZmZzZXQgPSBlLCB0aGlzLmxlbiA9IG47XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbjtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiAwID09PSBhdC5jb21wYXJhdG9yKHRoaXMsIHQpO1xuICAgIH1cbiAgICBjaGlsZCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LCB0aGlzLmxpbWl0KCkpO1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIGF0ID8gdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUucHVzaCh0KTtcbiAgICAgICAgfSkpIDogZS5wdXNoKHQpLCB0aGlzLmNvbnN0cnVjdChlKTtcbiAgICB9XG4gICAgLyoqIFRoZSBpbmRleCBvZiBvbmUgcGFzdCB0aGUgbGFzdCBzZWdtZW50IG9mIHRoZSBwYXRoLiAqLyAgICBsaW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0ICsgdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHBvcEZpcnN0KHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPSB2b2lkIDAgPT09IHQgPyAxIDogdCwgdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cywgdGhpcy5vZmZzZXQgKyB0LCB0aGlzLmxlbmd0aCAtIHQpO1xuICAgIH1cbiAgICBwb3BMYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3QodGhpcy5zZWdtZW50cywgdGhpcy5vZmZzZXQsIHRoaXMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGZpcnN0U2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXRdO1xuICAgIH1cbiAgICBsYXN0U2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGdldCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0ICsgdF07XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAwID09PSB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgaXNQcmVmaXhPZih0KSB7XG4gICAgICAgIGlmICh0Lmxlbmd0aCA8IHRoaXMubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdGhpcy5sZW5ndGg7IGUrKykgaWYgKHRoaXMuZ2V0KGUpICE9PSB0LmdldChlKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlzSW1tZWRpYXRlUGFyZW50T2YodCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggKyAxICE9PSB0Lmxlbmd0aCkgcmV0dXJuICExO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHRoaXMubGVuZ3RoOyBlKyspIGlmICh0aGlzLmdldChlKSAhPT0gdC5nZXQoZSkpIHJldHVybiAhMTtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmb3JFYWNoKHQpIHtcbiAgICAgICAgZm9yIChsZXQgZSA9IHRoaXMub2Zmc2V0LCBuID0gdGhpcy5saW1pdCgpOyBlIDwgbjsgZSsrKSB0KHRoaXMuc2VnbWVudHNbZV0pO1xuICAgIH1cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5saW1pdCgpKTtcbiAgICB9XG4gICAgc3RhdGljIGNvbXBhcmF0b3IodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gTWF0aC5taW4odC5sZW5ndGgsIGUubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBuOyBzKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LmdldChzKSwgaSA9IGUuZ2V0KHMpO1xuICAgICAgICAgICAgaWYgKG4gPCBpKSByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAobiA+IGkpIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Lmxlbmd0aCA8IGUubGVuZ3RoID8gLTEgOiB0Lmxlbmd0aCA+IGUubGVuZ3RoID8gMSA6IDA7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgc2xhc2gtc2VwYXJhdGVkIHBhdGggZm9yIG5hdmlnYXRpbmcgcmVzb3VyY2VzIChkb2N1bWVudHMgYW5kIGNvbGxlY3Rpb25zKVxuICogd2l0aGluIEZpcmVzdG9yZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBjdCBleHRlbmRzIGF0IHtcbiAgICBjb25zdHJ1Y3QodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gbmV3IGN0KHQsIGUsIG4pO1xuICAgIH1cbiAgICBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgICAgIC8vIE5PVEU6IFRoZSBjbGllbnQgaXMgaWdub3JhbnQgb2YgYW55IHBhdGggc2VnbWVudHMgY29udGFpbmluZyBlc2NhcGVcbiAgICAgICAgLy8gc2VxdWVuY2VzIChlLmcuIF9faWQxMjNfXykgYW5kIGp1c3QgcGFzc2VzIHRoZW0gdGhyb3VnaCByYXcgKHRoZXkgZXhpc3RcbiAgICAgICAgLy8gZm9yIGxlZ2FjeSByZWFzb25zIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZnJlcXVlbnRseSkuXG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5qb2luKFwiL1wiKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVzb3VyY2UgcGF0aCBmcm9tIHRoZSBnaXZlbiBzbGFzaC1kZWxpbWl0ZWQgc3RyaW5nLiBJZiBtdWx0aXBsZVxuICAgICAqIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIGFsbCBjb21wb25lbnRzIGFyZSBjb21iaW5lZC4gTGVhZGluZyBhbmQgdHJhaWxpbmdcbiAgICAgKiBzbGFzaGVzIGZyb20gYWxsIGNvbXBvbmVudHMgYXJlIGlnbm9yZWQuXG4gICAgICovICAgIHN0YXRpYyBmcm9tU3RyaW5nKC4uLnQpIHtcbiAgICAgICAgLy8gTk9URTogVGhlIGNsaWVudCBpcyBpZ25vcmFudCBvZiBhbnkgcGF0aCBzZWdtZW50cyBjb250YWluaW5nIGVzY2FwZVxuICAgICAgICAvLyBzZXF1ZW5jZXMgKGUuZy4gX19pZDEyM19fKSBhbmQganVzdCBwYXNzZXMgdGhlbSB0aHJvdWdoIHJhdyAodGhleSBleGlzdFxuICAgICAgICAvLyBmb3IgbGVnYWN5IHJlYXNvbnMgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBmcmVxdWVudGx5KS5cbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdCkge1xuICAgICAgICAgICAgaWYgKG4uaW5kZXhPZihcIi8vXCIpID49IDApIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgc2VnbWVudCAoJHtufSkuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gLy8gaW4gdGhlbS5gKTtcbiAgICAgICAgICAgIC8vIFN0cmlwIGxlYWRpbmcgYW5kIHRyYWxpbmcgc2xhc2hlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHVzaCguLi5uLnNwbGl0KFwiL1wiKS5maWx0ZXIoKHQgPT4gdC5sZW5ndGggPiAwKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY3QoZSk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eVBhdGgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgY3QoW10pO1xuICAgIH1cbn1cblxuY29uc3QgdXQgPSAvXltfYS16QS1aXVtfYS16QS1aMC05XSokLztcblxuLyoqXG4gKiBBIGRvdC1zZXBhcmF0ZWQgcGF0aCBmb3IgbmF2aWdhdGluZyBzdWItb2JqZWN0cyB3aXRoaW4gYSBkb2N1bWVudC5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIGh0IGV4dGVuZHMgYXQge1xuICAgIGNvbnN0cnVjdCh0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgaHQodCwgZSwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3RyaW5nIGNvdWxkIGJlIHVzZWQgYXMgYSBzZWdtZW50IGluIGEgZmllbGQgcGF0aFxuICAgICAqIHdpdGhvdXQgZXNjYXBpbmcuXG4gICAgICovICAgIHN0YXRpYyBpc1ZhbGlkSWRlbnRpZmllcih0KSB7XG4gICAgICAgIHJldHVybiB1dC50ZXN0KHQpO1xuICAgIH1cbiAgICBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoKHQgPT4gKHQgPSB0LnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC9gL2csIFwiXFxcXGBcIiksIFxuICAgICAgICBodC5pc1ZhbGlkSWRlbnRpZmllcih0KSB8fCAodCA9IFwiYFwiICsgdCArIFwiYFwiKSwgdCkpKS5qb2luKFwiLlwiKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBmaWVsZCByZWZlcmVuY2VzIHRoZSBrZXkgb2YgYSBkb2N1bWVudC5cbiAgICAgKi8gICAgaXNLZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIDEgPT09IHRoaXMubGVuZ3RoICYmIFwiX19uYW1lX19cIiA9PT0gdGhpcy5nZXQoMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZCBkZXNpZ25hdGluZyB0aGUga2V5IG9mIGEgZG9jdW1lbnQuXG4gICAgICovICAgIHN0YXRpYyBrZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBodChbIFwiX19uYW1lX19cIiBdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZmllbGQgc3RyaW5nIGZyb20gdGhlIGdpdmVuIHNlcnZlci1mb3JtYXR0ZWQgc3RyaW5nLlxuICAgICAqXG4gICAgICogLSBTcGxpdHRpbmcgdGhlIGVtcHR5IHN0cmluZyBpcyBub3QgYWxsb3dlZCAoZm9yIG5vdyBhdCBsZWFzdCkuXG4gICAgICogLSBFbXB0eSBzZWdtZW50cyB3aXRoaW4gdGhlIHN0cmluZyAoZS5nLiBpZiB0aGVyZSBhcmUgdHdvIGNvbnNlY3V0aXZlXG4gICAgICogICBzZXBhcmF0b3JzKSBhcmUgbm90IGFsbG93ZWQuXG4gICAgICpcbiAgICAgKiBUT0RPKGIvMzcyNDQxNTcpOiB3ZSBzaG91bGQgbWFrZSB0aGlzIG1vcmUgc3RyaWN0LiBSaWdodCBub3csIGl0IGFsbG93c1xuICAgICAqIG5vbi1pZGVudGlmaWVyIHBhdGggY29tcG9uZW50cywgZXZlbiBpZiB0aGV5IGFyZW4ndCBlc2NhcGVkLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbVNlcnZlckZvcm1hdCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgbGV0IG4gPSBcIlwiLCBzID0gMDtcbiAgICAgICAgY29uc3QgaSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgwID09PSBuLmxlbmd0aCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBmaWVsZCBwYXRoICgke3R9KS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ2ApO1xuICAgICAgICAgICAgZS5wdXNoKG4pLCBuID0gXCJcIjtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHIgPSAhMTtcbiAgICAgICAgZm9yICg7cyA8IHQubGVuZ3RoOyApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0W3NdO1xuICAgICAgICAgICAgaWYgKFwiXFxcXFwiID09PSBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMgKyAxID09PSB0Lmxlbmd0aCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlBhdGggaGFzIHRyYWlsaW5nIGVzY2FwZSBjaGFyYWN0ZXI6IFwiICsgdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRbcyArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChcIlxcXFxcIiAhPT0gZSAmJiBcIi5cIiAhPT0gZSAmJiBcImBcIiAhPT0gZSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlBhdGggaGFzIGludmFsaWQgZXNjYXBlIHNlcXVlbmNlOiBcIiArIHQpO1xuICAgICAgICAgICAgICAgIG4gKz0gZSwgcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIFwiYFwiID09PSBlID8gKHIgPSAhciwgcysrKSA6IFwiLlwiICE9PSBlIHx8IHIgPyAobiArPSBlLCBzKyspIDogKGkoKSwgcysrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSgpLCByKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwiVW50ZXJtaW5hdGVkIGAgaW4gcGF0aDogXCIgKyB0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBodChlKTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBodChbXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIHNldCBvZiBmaWVsZHMgdGhhdCBjYW4gYmUgdXNlZCB0byBwYXJ0aWFsbHkgcGF0Y2ggYSBkb2N1bWVudC5cbiAqIEZpZWxkTWFzayBpcyB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggT2JqZWN0VmFsdWUuXG4gKiBFeGFtcGxlczpcbiAqICAgZm9vIC0gT3ZlcndyaXRlcyBmb28gZW50aXJlbHkgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuIElmIGZvbyBpcyBub3RcbiAqICAgICAgICAgcHJlc2VudCBpbiB0aGUgY29tcGFuaW9uIE9iamVjdFZhbHVlLCB0aGUgZmllbGQgaXMgZGVsZXRlZC5cbiAqICAgZm9vLmJhciAtIE92ZXJ3cml0ZXMgb25seSB0aGUgZmllbGQgYmFyIG9mIHRoZSBvYmplY3QgZm9vLlxuICogICAgICAgICAgICAgSWYgZm9vIGlzIG5vdCBhbiBvYmplY3QsIGZvbyBpcyByZXBsYWNlZCB3aXRoIGFuIG9iamVjdFxuICogICAgICAgICAgICAgY29udGFpbmluZyBmb29cbiAqLyBjbGFzcyBsdCB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmZpZWxkcyA9IHQsIFxuICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IHZhbGlkYXRpb24gb2YgRmllbGRNYXNrXG4gICAgICAgIC8vIFNvcnQgdGhlIGZpZWxkIG1hc2sgdG8gc3VwcG9ydCBgRmllbGRNYXNrLmlzRXF1YWwoKWAgYW5kIGFzc2VydCBiZWxvdy5cbiAgICAgICAgdC5zb3J0KGh0LmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWZXJpZmllcyB0aGF0IGBmaWVsZFBhdGhgIGlzIGluY2x1ZGVkIGJ5IGF0IGxlYXN0IG9uZSBmaWVsZCBpbiB0aGlzIGZpZWxkXG4gICAgICogbWFzay5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gTyhuKSBvcGVyYXRpb24sIHdoZXJlIGBuYCBpcyB0aGUgc2l6ZSBvZiB0aGUgZmllbGQgbWFzay5cbiAgICAgKi8gICAgY292ZXJzKHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuZmllbGRzKSBpZiAoZS5pc1ByZWZpeE9mKHQpKSByZXR1cm4gITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0dCh0aGlzLmZpZWxkcywgdC5maWVsZHMsICgodCwgZSkgPT4gdC5pc0VxdWFsKGUpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIENvbnZlcnRzIGEgQmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYmluYXJ5IHN0cmluZy4gKi9cbi8qKiBUcnVlIGlmIGFuZCBvbmx5IGlmIHRoZSBCYXNlNjQgY29udmVyc2lvbiBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZS4gKi9cbmZ1bmN0aW9uIGZ0KCkge1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBhdG9iO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBJbW11dGFibGUgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgXCJwcm90b1wiIGJ5dGUgc3RyaW5nLlxuICpcbiAqIFByb3RvIGJ5dGUgc3RyaW5ncyBjYW4gZWl0aGVyIGJlIEJhc2U2NC1lbmNvZGVkIHN0cmluZ3Mgb3IgVWludDhBcnJheXMgd2hlblxuICogc2VudCBvbiB0aGUgd2lyZS4gVGhpcyBjbGFzcyBhYnN0cmFjdHMgYXdheSB0aGlzIGRpZmZlcmVudGlhdGlvbiBieSBob2xkaW5nXG4gKiB0aGUgcHJvdG8gYnl0ZSBzdHJpbmcgaW4gYSBjb21tb24gY2xhc3MgdGhhdCBtdXN0IGJlIGNvbnZlcnRlZCBpbnRvIGEgc3RyaW5nXG4gKiBiZWZvcmUgYmVpbmcgc2VudCBhcyBhIHByb3RvLlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgZHQge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5iaW5hcnlTdHJpbmcgPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJhc2U2NFN0cmluZyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBhdG9iKHQpO1xuICAgICAgICByZXR1cm4gbmV3IGR0KGUpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVVpbnQ4QXJyYXkodCkge1xuICAgICAgICBjb25zdCBlID0gXG4gICAgICAgIC8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgYW4gVWludDhhcnJheSB0byBhIGJpbmFyeSBzdHJpbmcuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgbGV0IGUgPSBcIlwiO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgKytuKSBlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IGEgYmluYXJ5IHN0cmluZyB0byBhbiBVaW50OEFycmF5LlxuICovICh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBkdChlKTtcbiAgICB9XG4gICAgdG9CYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiB0ID0gdGhpcy5iaW5hcnlTdHJpbmcsIGJ0b2EodCk7XG4gICAgICAgIC8qKiBDb252ZXJ0cyBhIGJpbmFyeSBzdHJpbmcgdG8gYSBCYXNlNjQgZW5jb2RlZCBzdHJpbmcuICovXG4gICAgICAgIHZhciB0O1xuICAgIH1cbiAgICB0b1VpbnQ4QXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSBlW25dID0gdC5jaGFyQ29kZUF0KG4pO1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAgICAgLy8gQSBSZWdFeHAgbWF0Y2hpbmcgSVNPIDg2MDEgVVRDIHRpbWVzdGFtcHMgd2l0aCBvcHRpb25hbCBmcmFjdGlvbi5cbiAgICAgICAgKHRoaXMuYmluYXJ5U3RyaW5nKTtcbiAgICB9XG4gICAgYXBwcm94aW1hdGVCeXRlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIDIgKiB0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbXBhcmVUbyh0KSB7XG4gICAgICAgIHJldHVybiBaKHRoaXMuYmluYXJ5U3RyaW5nLCB0LmJpbmFyeVN0cmluZyk7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcnlTdHJpbmcgPT09IHQuYmluYXJ5U3RyaW5nO1xuICAgIH1cbn1cblxuZHQuRU1QVFlfQllURV9TVFJJTkcgPSBuZXcgZHQoXCJcIik7XG5cbmNvbnN0IHd0ID0gbmV3IFJlZ0V4cCgvXlxcZHs0fS1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkKD86XFwuKFxcZCspKT9aJC8pO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBwb3NzaWJsZSBQcm90byB2YWx1ZXMgZm9yIGEgdGltZXN0YW1wIHZhbHVlIGludG8gYSBcInNlY29uZHMgYW5kXG4gKiBuYW5vc1wiIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIF90KHQpIHtcbiAgICAvLyBUaGUganNvbiBpbnRlcmZhY2UgKGZvciB0aGUgYnJvd3Nlcikgd2lsbCByZXR1cm4gYW4gaXNvIHRpbWVzdGFtcCBzdHJpbmcsXG4gICAgLy8gd2hpbGUgdGhlIHByb3RvIGpzIGxpYnJhcnkgKGZvciBub2RlKSB3aWxsIHJldHVybiBhXG4gICAgLy8gZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBpbnN0YW5jZS5cbiAgICBpZiAoTSghIXQpLCBcInN0cmluZ1wiID09IHR5cGVvZiB0KSB7XG4gICAgICAgIC8vIFRoZSBkYXRlIHN0cmluZyBjYW4gaGF2ZSBoaWdoZXIgcHJlY2lzaW9uIChuYW5vcykgdGhhbiB0aGUgRGF0ZSBjbGFzc1xuICAgICAgICAvLyAobWlsbGlzKSwgc28gd2UgZG8gc29tZSBjdXN0b20gcGFyc2luZyBoZXJlLlxuICAgICAgICAvLyBQYXJzZSB0aGUgbmFub3MgcmlnaHQgb3V0IG9mIHRoZSBzdHJpbmcuXG4gICAgICAgIGxldCBlID0gMDtcbiAgICAgICAgY29uc3QgbiA9IHd0LmV4ZWModCk7XG4gICAgICAgIGlmIChNKCEhbiksIG5bMV0pIHtcbiAgICAgICAgICAgIC8vIFBhZCB0aGUgZnJhY3Rpb24gb3V0IHRvIDkgZGlnaXRzIChuYW5vcykuXG4gICAgICAgICAgICBsZXQgdCA9IG5bMV07XG4gICAgICAgICAgICB0ID0gKHQgKyBcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMCwgOSksIGUgPSBOdW1iZXIodCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgdGhlIGRhdGUgdG8gZ2V0IHRoZSBzZWNvbmRzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgRGF0ZSh0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlY29uZHM6IE1hdGguZmxvb3Iocy5nZXRUaW1lKCkgLyAxZTMpLFxuICAgICAgICAgICAgbmFub3M6IGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogbXQodC5zZWNvbmRzKSxcbiAgICAgICAgbmFub3M6IG10KHQubmFub3MpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcG9zc2libGUgUHJvdG8gdHlwZXMgZm9yIG51bWJlcnMgaW50byBhIEphdmFTY3JpcHQgbnVtYmVyLlxuICogUmV0dXJucyAwIGlmIHRoZSB2YWx1ZSBpcyBub3QgbnVtZXJpYy5cbiAqLyBmdW5jdGlvbiBtdCh0KSB7XG4gICAgLy8gVE9ETyhiam9ybmljayk6IEhhbmRsZSBpbnQ2NCBncmVhdGVyIHRoYW4gNTMgYml0cy5cbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgdCA/IHQgOiBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gTnVtYmVyKHQpIDogMDtcbn1cblxuLyoqIENvbnZlcnRzIHRoZSBwb3NzaWJsZSBQcm90byB0eXBlcyBmb3IgQmxvYnMgaW50byBhIEJ5dGVTdHJpbmcuICovIGZ1bmN0aW9uIGd0KHQpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IGR0LmZyb21CYXNlNjRTdHJpbmcodCkgOiBkdC5mcm9tVWludDhBcnJheSh0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGxvY2FsbHktYXBwbGllZCBTZXJ2ZXJUaW1lc3RhbXAuXG4gKlxuICogU2VydmVyIFRpbWVzdGFtcHMgYXJlIGJhY2tlZCBieSBNYXBWYWx1ZXMgdGhhdCBjb250YWluIGFuIGludGVybmFsIGZpZWxkXG4gKiBgX190eXBlX19gIHdpdGggYSB2YWx1ZSBvZiBgc2VydmVyX3RpbWVzdGFtcGAuIFRoZSBwcmV2aW91cyB2YWx1ZSBhbmQgbG9jYWxcbiAqIHdyaXRlIHRpbWUgYXJlIHN0b3JlZCBpbiBpdHMgYF9fcHJldmlvdXNfdmFsdWVfX2AgYW5kIGBfX2xvY2FsX3dyaXRlX3RpbWVfX2BcbiAqIGZpZWxkcyByZXNwZWN0aXZlbHkuXG4gKlxuICogTm90ZXM6XG4gKiAtIFNlcnZlclRpbWVzdGFtcFZhbHVlIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBhcyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGFcbiAqICAgdHJhbnNmb3JtLiBUaGV5IGNhbiBvbmx5IGV4aXN0IGluIHRoZSBsb2NhbCB2aWV3IG9mIGEgZG9jdW1lbnQuIFRoZXJlZm9yZVxuICogICB0aGV5IGRvIG5vdCBuZWVkIHRvIGJlIHBhcnNlZCBvciBzZXJpYWxpemVkLlxuICogLSBXaGVuIGV2YWx1YXRlZCBsb2NhbGx5IChlLmcuIGZvciBzbmFwc2hvdC5kYXRhKCkpLCB0aGV5IGJ5IGRlZmF1bHRcbiAqICAgZXZhbHVhdGUgdG8gYG51bGxgLiBUaGlzIGJlaGF2aW9yIGNhbiBiZSBjb25maWd1cmVkIGJ5IHBhc3NpbmcgY3VzdG9tXG4gKiAgIEZpZWxkVmFsdWVPcHRpb25zIHRvIHZhbHVlKCkuXG4gKiAtIFdpdGggcmVzcGVjdCB0byBvdGhlciBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZXMsIHRoZXkgc29ydCBieSB0aGVpclxuICogICBsb2NhbFdyaXRlVGltZS5cbiAqLyBmdW5jdGlvbiB5dCh0KSB7XG4gICAgdmFyIGUsIG47XG4gICAgcmV0dXJuIFwic2VydmVyX3RpbWVzdGFtcFwiID09PSAobnVsbCA9PT0gKG4gPSAoKG51bGwgPT09IChlID0gbnVsbCA9PSB0ID8gdm9pZCAwIDogdC5tYXBWYWx1ZSkgfHwgdm9pZCAwID09PSBlID8gdm9pZCAwIDogZS5maWVsZHMpIHx8IHt9KS5fX3R5cGVfXykgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5zdHJpbmdWYWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTZXJ2ZXJUaW1lc3RhbXAgcHJvdG8gdmFsdWUgKHVzaW5nIHRoZSBpbnRlcm5hbCBmb3JtYXQpLlxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBiZWZvcmUgdGhpcyBTZXJ2ZXJUaW1lc3RhbXAgd2FzIHNldC5cbiAqXG4gKiBQcmVzZXJ2aW5nIHRoZSBwcmV2aW91cyB2YWx1ZXMgYWxsb3dzIHRoZSB1c2VyIHRvIGRpc3BsYXkgdGhlIGxhc3QgcmVzb2xlZFxuICogdmFsdWUgdW50aWwgdGhlIGJhY2tlbmQgcmVzcG9uZHMgd2l0aCB0aGUgdGltZXN0YW1wLlxuICovXG5mdW5jdGlvbiBwdCh0KSB7XG4gICAgY29uc3QgZSA9IHQubWFwVmFsdWUuZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXztcbiAgICByZXR1cm4geXQoZSkgPyBwdChlKSA6IGU7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9jYWwgdGltZSBhdCB3aGljaCB0aGlzIHRpbWVzdGFtcCB3YXMgZmlyc3Qgc2V0LlxuICovIGZ1bmN0aW9uIEV0KHQpIHtcbiAgICBjb25zdCBlID0gX3QodC5tYXBWYWx1ZS5maWVsZHMuX19sb2NhbF93cml0ZV90aW1lX18udGltZXN0YW1wVmFsdWUpO1xuICAgIHJldHVybiBuZXcgbnQoZS5zZWNvbmRzLCBlLm5hbm9zKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBTZW50aW5lbCB2YWx1ZSB0aGF0IHNvcnRzIGJlZm9yZSBhbnkgTXV0YXRpb24gQmF0Y2ggSUQuICovXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhIHZhcmlhYmxlIGlzIGVpdGhlciB1bmRlZmluZWQgb3IgbnVsbC5cbiAqL1xuZnVuY3Rpb24gVHQodCkge1xuICAgIHJldHVybiBudWxsID09IHQ7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHZhbHVlIHJlcHJlc2VudHMgLTAuICovIGZ1bmN0aW9uIEl0KHQpIHtcbiAgICAvLyBEZXRlY3QgaWYgdGhlIHZhbHVlIGlzIC0wLjAuIEJhc2VkIG9uIHBvbHlmaWxsIGZyb21cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICByZXR1cm4gMCA9PT0gdCAmJiAxIC8gdCA9PSAtMSAvIDA7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gaW50ZWdlciBhbmQgaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZVxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHRlc3QgZm9yIGJlaW5nIGFuIGludGVnZXIgYW5kIGluIHRoZSBzYWZlIHJhbmdlXG4gKi8gZnVuY3Rpb24gQXQodCkge1xuICAgIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiB0ICYmIE51bWJlci5pc0ludGVnZXIodCkgJiYgIUl0KHQpICYmIHQgPD0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgJiYgdCA+PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgUnQge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gdDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21QYXRoKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdChjdC5mcm9tU3RyaW5nKHQpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21OYW1lKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdChjdC5mcm9tU3RyaW5nKHQpLnBvcEZpcnN0KDUpKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZG9jdW1lbnQgaXMgaW4gdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uSWQuICovICAgIGhhc0NvbGxlY3Rpb25JZCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgubGVuZ3RoID49IDIgJiYgdGhpcy5wYXRoLmdldCh0aGlzLnBhdGgubGVuZ3RoIC0gMikgPT09IHQ7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdCAmJiAwID09PSBjdC5jb21wYXJhdG9yKHRoaXMucGF0aCwgdC5wYXRoKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc3RhdGljIGNvbXBhcmF0b3IodCwgZSkge1xuICAgICAgICByZXR1cm4gY3QuY29tcGFyYXRvcih0LnBhdGgsIGUucGF0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0RvY3VtZW50S2V5KHQpIHtcbiAgICAgICAgcmV0dXJuIHQubGVuZ3RoICUgMiA9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGRvY3VtZW50IGtleSB3aXRoIHRoZSBnaXZlbiBzZWdtZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZWdtZW50cyAtIFRoZSBzZWdtZW50cyBvZiB0aGUgcGF0aCB0byB0aGUgZG9jdW1lbnRcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBEb2N1bWVudEtleVxuICAgICAqLyAgICBzdGF0aWMgZnJvbVNlZ21lbnRzKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSdChuZXcgY3QodC5zbGljZSgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIEV4dHJhY3RzIHRoZSBiYWNrZW5kJ3MgdHlwZSBvcmRlciBmb3IgdGhlIHByb3ZpZGVkIHZhbHVlLiAqLyBmdW5jdGlvbiBidCh0KSB7XG4gICAgcmV0dXJuIFwibnVsbFZhbHVlXCIgaW4gdCA/IDAgLyogTnVsbFZhbHVlICovIDogXCJib29sZWFuVmFsdWVcIiBpbiB0ID8gMSAvKiBCb29sZWFuVmFsdWUgKi8gOiBcImludGVnZXJWYWx1ZVwiIGluIHQgfHwgXCJkb3VibGVWYWx1ZVwiIGluIHQgPyAyIC8qIE51bWJlclZhbHVlICovIDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIHQgPyAzIC8qIFRpbWVzdGFtcFZhbHVlICovIDogXCJzdHJpbmdWYWx1ZVwiIGluIHQgPyA1IC8qIFN0cmluZ1ZhbHVlICovIDogXCJieXRlc1ZhbHVlXCIgaW4gdCA/IDYgLyogQmxvYlZhbHVlICovIDogXCJyZWZlcmVuY2VWYWx1ZVwiIGluIHQgPyA3IC8qIFJlZlZhbHVlICovIDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gdCA/IDggLyogR2VvUG9pbnRWYWx1ZSAqLyA6IFwiYXJyYXlWYWx1ZVwiIGluIHQgPyA5IC8qIEFycmF5VmFsdWUgKi8gOiBcIm1hcFZhbHVlXCIgaW4gdCA/IHl0KHQpID8gNCAvKiBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6IDEwIC8qIE9iamVjdFZhbHVlICovIDogRigpO1xufVxuXG4vKiogVGVzdHMgYGxlZnRgIGFuZCBgcmlnaHRgIGZvciBlcXVhbGl0eSBiYXNlZCBvbiB0aGUgYmFja2VuZCBzZW1hbnRpY3MuICovIGZ1bmN0aW9uIFB0KHQsIGUpIHtcbiAgICBjb25zdCBuID0gYnQodCk7XG4gICAgaWYgKG4gIT09IGJ0KGUpKSByZXR1cm4gITE7XG4gICAgc3dpdGNoIChuKSB7XG4gICAgICBjYXNlIDAgLyogTnVsbFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuICEwO1xuXG4gICAgICBjYXNlIDEgLyogQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIHQuYm9vbGVhblZhbHVlID09PSBlLmJvb2xlYW5WYWx1ZTtcblxuICAgICAgY2FzZSA0IC8qIFNlcnZlclRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIEV0KHQpLmlzRXF1YWwoRXQoZSkpO1xuXG4gICAgICBjYXNlIDMgLyogVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQudGltZXN0YW1wVmFsdWUgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS50aW1lc3RhbXBWYWx1ZSAmJiB0LnRpbWVzdGFtcFZhbHVlLmxlbmd0aCA9PT0gZS50aW1lc3RhbXBWYWx1ZS5sZW5ndGgpIFxuICAgICAgICAgICAgLy8gVXNlIHN0cmluZyBlcXVhbGl0eSBmb3IgSVNPIDg2MDEgdGltZXN0YW1wc1xuICAgICAgICAgICAgcmV0dXJuIHQudGltZXN0YW1wVmFsdWUgPT09IGUudGltZXN0YW1wVmFsdWU7XG4gICAgICAgICAgICBjb25zdCBuID0gX3QodC50aW1lc3RhbXBWYWx1ZSksIHMgPSBfdChlLnRpbWVzdGFtcFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuLnNlY29uZHMgPT09IHMuc2Vjb25kcyAmJiBuLm5hbm9zID09PSBzLm5hbm9zO1xuICAgICAgICB9KHQsIGUpO1xuXG4gICAgICBjYXNlIDUgLyogU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gdC5zdHJpbmdWYWx1ZSA9PT0gZS5zdHJpbmdWYWx1ZTtcblxuICAgICAgY2FzZSA2IC8qIEJsb2JWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3QodC5ieXRlc1ZhbHVlKS5pc0VxdWFsKGd0KGUuYnl0ZXNWYWx1ZSkpO1xuICAgICAgICB9KHQsIGUpO1xuXG4gICAgICBjYXNlIDcgLyogUmVmVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gdC5yZWZlcmVuY2VWYWx1ZSA9PT0gZS5yZWZlcmVuY2VWYWx1ZTtcblxuICAgICAgY2FzZSA4IC8qIEdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIG10KHQuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSkgPT09IG10KGUuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSkgJiYgbXQodC5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZSkgPT09IG10KGUuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpO1xuICAgICAgICB9KHQsIGUpO1xuXG4gICAgICBjYXNlIDIgLyogTnVtYmVyVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgaWYgKFwiaW50ZWdlclZhbHVlXCIgaW4gdCAmJiBcImludGVnZXJWYWx1ZVwiIGluIGUpIHJldHVybiBtdCh0LmludGVnZXJWYWx1ZSkgPT09IG10KGUuaW50ZWdlclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChcImRvdWJsZVZhbHVlXCIgaW4gdCAmJiBcImRvdWJsZVZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBtdCh0LmRvdWJsZVZhbHVlKSwgcyA9IG10KGUuZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuID09PSBzID8gSXQobikgPT09IEl0KHMpIDogaXNOYU4obikgJiYgaXNOYU4ocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0odCwgZSk7XG5cbiAgICAgIGNhc2UgOSAvKiBBcnJheVZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIHR0KHQuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIGUuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIFB0KTtcblxuICAgICAgY2FzZSAxMCAvKiBPYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdC5tYXBWYWx1ZS5maWVsZHMgfHwge30sIHMgPSBlLm1hcFZhbHVlLmZpZWxkcyB8fCB7fTtcbiAgICAgICAgICAgIGlmIChpdChuKSAhPT0gaXQocykpIHJldHVybiAhMTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBpbiBuKSBpZiAobi5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAodm9pZCAwID09PSBzW3RdIHx8ICFQdChuW3RdLCBzW3RdKSkpIHJldHVybiAhMTtcbiAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBBcnJheVZhbHVlIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudC4gKi8gKHQsIGUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gRigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdnQodCwgZSkge1xuICAgIHJldHVybiB2b2lkIDAgIT09ICh0LnZhbHVlcyB8fCBbXSkuZmluZCgodCA9PiBQdCh0LCBlKSkpO1xufVxuXG5mdW5jdGlvbiBWdCh0LCBlKSB7XG4gICAgY29uc3QgbiA9IGJ0KHQpLCBzID0gYnQoZSk7XG4gICAgaWYgKG4gIT09IHMpIHJldHVybiBaKG4sIHMpO1xuICAgIHN3aXRjaCAobikge1xuICAgICAgY2FzZSAwIC8qIE51bGxWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiAwO1xuXG4gICAgICBjYXNlIDEgLyogQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIFoodC5ib29sZWFuVmFsdWUsIGUuYm9vbGVhblZhbHVlKTtcblxuICAgICAgY2FzZSAyIC8qIE51bWJlclZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBtdCh0LmludGVnZXJWYWx1ZSB8fCB0LmRvdWJsZVZhbHVlKSwgcyA9IG10KGUuaW50ZWdlclZhbHVlIHx8IGUuZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG4gPCBzID8gLTEgOiBuID4gcyA/IDEgOiBuID09PSBzID8gMCA6IFxuICAgICAgICAgICAgLy8gb25lIG9yIGJvdGggYXJlIE5hTi5cbiAgICAgICAgICAgIGlzTmFOKG4pID8gaXNOYU4ocykgPyAwIDogLTEgOiAxO1xuICAgICAgICB9KHQsIGUpO1xuXG4gICAgICBjYXNlIDMgLyogVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gU3QodC50aW1lc3RhbXBWYWx1ZSwgZS50aW1lc3RhbXBWYWx1ZSk7XG5cbiAgICAgIGNhc2UgNCAvKiBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBTdChFdCh0KSwgRXQoZSkpO1xuXG4gICAgICBjYXNlIDUgLyogU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gWih0LnN0cmluZ1ZhbHVlLCBlLnN0cmluZ1ZhbHVlKTtcblxuICAgICAgY2FzZSA2IC8qIEJsb2JWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZ3QodCksIHMgPSBndChlKTtcbiAgICAgICAgICAgIHJldHVybiBuLmNvbXBhcmVUbyhzKTtcbiAgICAgICAgfSh0LmJ5dGVzVmFsdWUsIGUuYnl0ZXNWYWx1ZSk7XG5cbiAgICAgIGNhc2UgNyAvKiBSZWZWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdC5zcGxpdChcIi9cIiksIHMgPSBlLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgbi5sZW5ndGggJiYgdCA8IHMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gWihuW3RdLCBzW3RdKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gZSkgcmV0dXJuIGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWihuLmxlbmd0aCwgcy5sZW5ndGgpO1xuICAgICAgICB9KHQucmVmZXJlbmNlVmFsdWUsIGUucmVmZXJlbmNlVmFsdWUpO1xuXG4gICAgICBjYXNlIDggLyogR2VvUG9pbnRWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gWihtdCh0LmxhdGl0dWRlKSwgbXQoZS5sYXRpdHVkZSkpO1xuICAgICAgICAgICAgaWYgKDAgIT09IG4pIHJldHVybiBuO1xuICAgICAgICAgICAgcmV0dXJuIFoobXQodC5sb25naXR1ZGUpLCBtdChlLmxvbmdpdHVkZSkpO1xuICAgICAgICB9KHQuZ2VvUG9pbnRWYWx1ZSwgZS5nZW9Qb2ludFZhbHVlKTtcblxuICAgICAgY2FzZSA5IC8qIEFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQudmFsdWVzIHx8IFtdLCBzID0gZS52YWx1ZXMgfHwgW107XG4gICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IG4ubGVuZ3RoICYmIHQgPCBzLmxlbmd0aDsgKyt0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IFZ0KG5bdF0sIHNbdF0pO1xuICAgICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBaKG4ubGVuZ3RoLCBzLmxlbmd0aCk7XG4gICAgICAgIH0odC5hcnJheVZhbHVlLCBlLmFycmF5VmFsdWUpO1xuXG4gICAgICBjYXNlIDEwIC8qIE9iamVjdFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LmZpZWxkcyB8fCB7fSwgcyA9IE9iamVjdC5rZXlzKG4pLCBpID0gZS5maWVsZHMgfHwge30sIHIgPSBPYmplY3Qua2V5cyhpKTtcbiAgICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIE1hcFZhbHVlcyBhcmUgbGlrZWx5IHNvcnRlZCBjb3JyZWN0bHkgYmFzZWQgb24gdGhlaXIgaW5zZXJ0aW9uXG4gICAgICAgICAgICAvLyBvcmRlciAoZS5nLiB3aGVuIHJlY2VpdmVkIGZyb20gdGhlIGJhY2tlbmQpLCBsb2NhbCBtb2RpZmljYXRpb25zIGNhbiBicmluZ1xuICAgICAgICAgICAgLy8gZWxlbWVudHMgb3V0IG9mIG9yZGVyLiBXZSBuZWVkIHRvIHJlLXNvcnQgdGhlIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0XG4gICAgICAgICAgICAvLyBjYW5vbmljYWwgSURzIGFyZSBpbmRlcGVuZGVudCBvZiBpbnNlcnRpb24gb3JkZXIuXG4gICAgICAgICAgICBzLnNvcnQoKSwgci5zb3J0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHMubGVuZ3RoICYmIHQgPCByLmxlbmd0aDsgKyt0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IFooc1t0XSwgclt0XSk7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IGUpIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBWdChuW3NbdF1dLCBpW3JbdF1dKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gbykgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWihzLmxlbmd0aCwgci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogR2VuZXJhdGVzIHRoZSBjYW5vbmljYWwgSUQgZm9yIHRoZSBwcm92aWRlZCBmaWVsZCB2YWx1ZSAoYXMgdXNlZCBpbiBUYXJnZXRcbiAqIHNlcmlhbGl6YXRpb24pLlxuICovICh0Lm1hcFZhbHVlLCBlLm1hcFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU3QodCwgZSkge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0ICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgdC5sZW5ndGggPT09IGUubGVuZ3RoKSByZXR1cm4gWih0LCBlKTtcbiAgICBjb25zdCBuID0gX3QodCksIHMgPSBfdChlKSwgaSA9IFoobi5zZWNvbmRzLCBzLnNlY29uZHMpO1xuICAgIHJldHVybiAwICE9PSBpID8gaSA6IFoobi5uYW5vcywgcy5uYW5vcyk7XG59XG5cbmZ1bmN0aW9uIER0KHQpIHtcbiAgICByZXR1cm4gQ3QodCk7XG59XG5cbmZ1bmN0aW9uIEN0KHQpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiB0ID8gXCJudWxsXCIgOiBcImJvb2xlYW5WYWx1ZVwiIGluIHQgPyBcIlwiICsgdC5ib29sZWFuVmFsdWUgOiBcImludGVnZXJWYWx1ZVwiIGluIHQgPyBcIlwiICsgdC5pbnRlZ2VyVmFsdWUgOiBcImRvdWJsZVZhbHVlXCIgaW4gdCA/IFwiXCIgKyB0LmRvdWJsZVZhbHVlIDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIHQgPyBmdW5jdGlvbih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBfdCh0KTtcbiAgICAgICAgcmV0dXJuIGB0aW1lKCR7ZS5zZWNvbmRzfSwke2UubmFub3N9KWA7XG4gICAgfSh0LnRpbWVzdGFtcFZhbHVlKSA6IFwic3RyaW5nVmFsdWVcIiBpbiB0ID8gdC5zdHJpbmdWYWx1ZSA6IFwiYnl0ZXNWYWx1ZVwiIGluIHQgPyBndCh0LmJ5dGVzVmFsdWUpLnRvQmFzZTY0KCkgOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gdCA/IChuID0gdC5yZWZlcmVuY2VWYWx1ZSwgXG4gICAgUnQuZnJvbU5hbWUobikudG9TdHJpbmcoKSkgOiBcImdlb1BvaW50VmFsdWVcIiBpbiB0ID8gYGdlbygkeyhlID0gdC5nZW9Qb2ludFZhbHVlKS5sYXRpdHVkZX0sJHtlLmxvbmdpdHVkZX0pYCA6IFwiYXJyYXlWYWx1ZVwiIGluIHQgPyBmdW5jdGlvbih0KSB7XG4gICAgICAgIGxldCBlID0gXCJbXCIsIG4gPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHQudmFsdWVzIHx8IFtdKSBuID8gbiA9ICExIDogZSArPSBcIixcIiwgZSArPSBDdChzKTtcbiAgICAgICAgcmV0dXJuIGUgKyBcIl1cIjtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSByZWZlcmVuY2UgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBkYXRhYmFzZSBhbmQga2V5LiAqLyAodC5hcnJheVZhbHVlKSA6IFwibWFwVmFsdWVcIiBpbiB0ID8gZnVuY3Rpb24odCkge1xuICAgICAgICAvLyBJdGVyYXRpb24gb3JkZXIgaW4gSmF2YVNjcmlwdCBpcyBub3QgZ3VhcmFudGVlZC4gVG8gZW5zdXJlIHRoYXQgd2UgZ2VuZXJhdGVcbiAgICAgICAgLy8gbWF0Y2hpbmcgY2Fub25pY2FsIElEcyBmb3IgaWRlbnRpY2FsIG1hcHMsIHdlIG5lZWQgdG8gc29ydCB0aGUga2V5cy5cbiAgICAgICAgY29uc3QgZSA9IE9iamVjdC5rZXlzKHQuZmllbGRzIHx8IHt9KS5zb3J0KCk7XG4gICAgICAgIGxldCBuID0gXCJ7XCIsIHMgPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIGUpIHMgPyBzID0gITEgOiBuICs9IFwiLFwiLCBuICs9IGAke2l9OiR7Q3QodC5maWVsZHNbaV0pfWA7XG4gICAgICAgIHJldHVybiBuICsgXCJ9XCI7XG4gICAgfSh0Lm1hcFZhbHVlKSA6IEYoKTtcbiAgICB2YXIgZSwgbjtcbn1cblxuZnVuY3Rpb24gTnQodCwgZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZmVyZW5jZVZhbHVlOiBgcHJvamVjdHMvJHt0LnByb2plY3RJZH0vZGF0YWJhc2VzLyR7dC5kYXRhYmFzZX0vZG9jdW1lbnRzLyR7ZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWBcbiAgICB9O1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gSW50ZWdlclZhbHVlIC4gKi8gZnVuY3Rpb24geHQodCkge1xuICAgIHJldHVybiAhIXQgJiYgXCJpbnRlZ2VyVmFsdWVcIiBpbiB0O1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSBEb3VibGVWYWx1ZS4gKi9cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBhbiBBcnJheVZhbHVlLiAqL1xuZnVuY3Rpb24ga3QodCkge1xuICAgIHJldHVybiAhIXQgJiYgXCJhcnJheVZhbHVlXCIgaW4gdDtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgTnVsbFZhbHVlLiAqLyBmdW5jdGlvbiAkdCh0KSB7XG4gICAgcmV0dXJuICEhdCAmJiBcIm51bGxWYWx1ZVwiIGluIHQ7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBOYU4uICovIGZ1bmN0aW9uIE90KHQpIHtcbiAgICByZXR1cm4gISF0ICYmIFwiZG91YmxlVmFsdWVcIiBpbiB0ICYmIGlzTmFOKE51bWJlcih0LmRvdWJsZVZhbHVlKSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBhIE1hcFZhbHVlLiAqLyBmdW5jdGlvbiBGdCh0KSB7XG4gICAgcmV0dXJuICEhdCAmJiBcIm1hcFZhbHVlXCIgaW4gdDtcbn1cblxuLyoqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAuICovIGZ1bmN0aW9uIE10KHQpIHtcbiAgICBpZiAodC5nZW9Qb2ludFZhbHVlKSByZXR1cm4ge1xuICAgICAgICBnZW9Qb2ludFZhbHVlOiBPYmplY3QuYXNzaWduKHt9LCB0Lmdlb1BvaW50VmFsdWUpXG4gICAgfTtcbiAgICBpZiAodC50aW1lc3RhbXBWYWx1ZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiB0LnRpbWVzdGFtcFZhbHVlKSByZXR1cm4ge1xuICAgICAgICB0aW1lc3RhbXBWYWx1ZTogT2JqZWN0LmFzc2lnbih7fSwgdC50aW1lc3RhbXBWYWx1ZSlcbiAgICB9O1xuICAgIGlmICh0Lm1hcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGUgPSB7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczoge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJ0KHQubWFwVmFsdWUuZmllbGRzLCAoKHQsIG4pID0+IGUubWFwVmFsdWUuZmllbGRzW3RdID0gTXQobikpKSwgZTtcbiAgICB9XG4gICAgaWYgKHQuYXJyYXlWYWx1ZSkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgICAgIHZhbHVlczogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCAodC5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXSkubGVuZ3RoOyArK24pIGUuYXJyYXlWYWx1ZS52YWx1ZXNbbl0gPSBNdCh0LmFycmF5VmFsdWUudmFsdWVzW25dKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gT2JqZWN0VmFsdWUgcmVwcmVzZW50cyBhIE1hcFZhbHVlIGluIHRoZSBGaXJlc3RvcmUgUHJvdG8gYW5kIG9mZmVycyB0aGVcbiAqIGFiaWxpdHkgdG8gYWRkIGFuZCByZW1vdmUgZmllbGRzICh2aWEgdGhlIE9iamVjdFZhbHVlQnVpbGRlcikuXG4gKi8gY2xhc3MgTHQge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHQ7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMdCh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoIG9yIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIHRoZSBwYXRoIHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIFRoZSB2YWx1ZSBhdCB0aGUgcGF0aCBvciBudWxsIGlmIHRoZSBwYXRoIGlzIG5vdCBzZXQuXG4gICAgICovICAgIGZpZWxkKHQpIHtcbiAgICAgICAgaWYgKHQuaXNFbXB0eSgpKSByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0Lmxlbmd0aCAtIDE7ICsrbikgaWYgKGUgPSAoZS5tYXBWYWx1ZS5maWVsZHMgfHwge30pW3QuZ2V0KG4pXSwgXG4gICAgICAgICAgICAhRnQoZSkpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGUgPSAoZS5tYXBWYWx1ZS5maWVsZHMgfHwge30pW3QubGFzdFNlZ21lbnQoKV0sIGUgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWVsZCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWVsZCBwYXRoIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqLyAgICBzZXQodCwgZSkge1xuICAgICAgICB0aGlzLmdldEZpZWxkc01hcCh0LnBvcExhc3QoKSlbdC5sYXN0U2VnbWVudCgpXSA9IE10KGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcm92aWRlZCBmaWVsZHMgdG8gdGhlIHByb3ZpZGVkIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIC0gQSBtYXAgb2YgZmllbGRzIHRvIHZhbHVlcyAob3IgbnVsbCBmb3IgZGVsZXRlcykuXG4gICAgICovICAgIHNldEFsbCh0KSB7XG4gICAgICAgIGxldCBlID0gaHQuZW1wdHlQYXRoKCksIG4gPSB7fSwgcyA9IFtdO1xuICAgICAgICB0LmZvckVhY2goKCh0LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUuaXNJbW1lZGlhdGVQYXJlbnRPZihpKSkge1xuICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgYWNjdW11bGF0ZWQgY2hhbmdlcyBhdCB0aGlzIHBhcmVudCBsb2NhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLmdldEZpZWxkc01hcChlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q2hhbmdlcyh0LCBuLCBzKSwgbiA9IHt9LCBzID0gW10sIGUgPSBpLnBvcExhc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQgPyBuW2kubGFzdFNlZ21lbnQoKV0gPSBNdCh0KSA6IHMucHVzaChpLmxhc3RTZWdtZW50KCkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmdldEZpZWxkc01hcChlKTtcbiAgICAgICAgdGhpcy5hcHBseUNoYW5nZXMoaSwgbiwgcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGZpZWxkIGF0IHRoZSBzcGVjaWZpZWQgcGF0aC4gSWYgdGhlcmUgaXMgbm8gZmllbGQgYXQgdGhlXG4gICAgICogc3BlY2lmaWVkIHBhdGgsIG5vdGhpbmcgaXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpZWxkIHBhdGggdG8gcmVtb3ZlLlxuICAgICAqLyAgICBkZWxldGUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5maWVsZCh0LnBvcExhc3QoKSk7XG4gICAgICAgIEZ0KGUpICYmIGUubWFwVmFsdWUuZmllbGRzICYmIGRlbGV0ZSBlLm1hcFZhbHVlLmZpZWxkc1t0Lmxhc3RTZWdtZW50KCldO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIFB0KHRoaXMudmFsdWUsIHQudmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAgdGhhdCBjb250YWlucyB0aGUgbGVhZiBlbGVtZW50IG9mIGBwYXRoYC4gSWYgdGhlIHBhcmVudFxuICAgICAqIGVudHJ5IGRvZXMgbm90IHlldCBleGlzdCwgb3IgaWYgaXQgaXMgbm90IGEgbWFwLCBhIG5ldyBtYXAgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqLyAgICBnZXRGaWVsZHNNYXAodCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGUubWFwVmFsdWUuZmllbGRzIHx8IChlLm1hcFZhbHVlID0ge1xuICAgICAgICAgICAgZmllbGRzOiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgKytuKSB7XG4gICAgICAgICAgICBsZXQgcyA9IGUubWFwVmFsdWUuZmllbGRzW3QuZ2V0KG4pXTtcbiAgICAgICAgICAgIEZ0KHMpICYmIHMubWFwVmFsdWUuZmllbGRzIHx8IChzID0ge1xuICAgICAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczoge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBlLm1hcFZhbHVlLmZpZWxkc1t0LmdldChuKV0gPSBzKSwgZSA9IHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUubWFwVmFsdWUuZmllbGRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBgZmllbGRzTWFwYCBieSBhZGRpbmcsIHJlcGxhY2luZyBvciBkZWxldGluZyB0aGUgc3BlY2lmaWVkXG4gICAgICogZW50cmllcy5cbiAgICAgKi8gICAgYXBwbHlDaGFuZ2VzKHQsIGUsIG4pIHtcbiAgICAgICAgcnQoZSwgKChlLCBuKSA9PiB0W2VdID0gbikpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgbikgZGVsZXRlIHRbZV07XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEx0KE10KHRoaXMudmFsdWUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIEZpZWxkTWFzayBidWlsdCBmcm9tIGFsbCBmaWVsZHMgaW4gYSBNYXBWYWx1ZS5cbiAqLyBmdW5jdGlvbiBCdCh0KSB7XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIHJldHVybiBydCh0LmZpZWxkcywgKCh0LCBuKSA9PiB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgaHQoWyB0IF0pO1xuICAgICAgICBpZiAoRnQobikpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBCdChuLm1hcFZhbHVlKS5maWVsZHM7XG4gICAgICAgICAgICBpZiAoMCA9PT0gdC5sZW5ndGgpIFxuICAgICAgICAgICAgLy8gUHJlc2VydmUgdGhlIGVtcHR5IG1hcCBieSBhZGRpbmcgaXQgdG8gdGhlIEZpZWxkTWFzay5cbiAgICAgICAgICAgIGUucHVzaChzKTsgZWxzZSBcbiAgICAgICAgICAgIC8vIEZvciBuZXN0ZWQgYW5kIG5vbi1lbXB0eSBPYmplY3RWYWx1ZXMsIGFkZCB0aGUgRmllbGRQYXRoIG9mIHRoZVxuICAgICAgICAgICAgLy8gbGVhZiBub2Rlcy5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiB0KSBlLnB1c2gocy5jaGlsZChuKSk7XG4gICAgICAgIH0gZWxzZSBcbiAgICAgICAgLy8gRm9yIG5lc3RlZCBhbmQgbm9uLWVtcHR5IE9iamVjdFZhbHVlcywgYWRkIHRoZSBGaWVsZFBhdGggb2YgdGhlIGxlYWZcbiAgICAgICAgLy8gbm9kZXMuXG4gICAgICAgIGUucHVzaChzKTtcbiAgICB9KSksIG5ldyBsdChlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGRvY3VtZW50IGluIEZpcmVzdG9yZSB3aXRoIGEga2V5LCB2ZXJzaW9uLCBkYXRhIGFuZCB3aGV0aGVyIGl0XG4gKiBoYXMgbG9jYWwgbXV0YXRpb25zIGFwcGxpZWQgdG8gaXQuXG4gKlxuICogRG9jdW1lbnRzIGNhbiB0cmFuc2l0aW9uIGJldHdlZW4gc3RhdGVzIHZpYSBgY29udmVydFRvRm91bmREb2N1bWVudCgpYCxcbiAqIGBjb252ZXJ0VG9Ob0RvY3VtZW50KClgIGFuZCBgY29udmVydFRvVW5rbm93bkRvY3VtZW50KClgLiBJZiBhIGRvY3VtZW50IGRvZXNcbiAqIG5vdCB0cmFuc2l0aW9uIHRvIG9uZSBvZiB0aGVzZSBzdGF0ZXMgZXZlbiBhZnRlciBhbGwgbXV0YXRpb25zIGhhdmUgYmVlblxuICogYXBwbGllZCwgYGlzVmFsaWREb2N1bWVudCgpYCByZXR1cm5zIGZhbHNlIGFuZCB0aGUgZG9jdW1lbnQgc2hvdWxkIGJlIHJlbW92ZWRcbiAqIGZyb20gYWxsIHZpZXdzLlxuICovIGNsYXNzIFV0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzLCBpKSB7XG4gICAgICAgIHRoaXMua2V5ID0gdCwgdGhpcy5kb2N1bWVudFR5cGUgPSBlLCB0aGlzLnZlcnNpb24gPSBuLCB0aGlzLmRhdGEgPSBzLCB0aGlzLmRvY3VtZW50U3RhdGUgPSBpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZG9jdW1lbnQgd2l0aCBubyBrbm93biB2ZXJzaW9uIG9yIGRhdGEsIGJ1dCB3aGljaCBjYW4gc2VydmUgYXNcbiAgICAgKiBiYXNlIGRvY3VtZW50IGZvciBtdXRhdGlvbnMuXG4gICAgICovICAgIHN0YXRpYyBuZXdJbnZhbGlkRG9jdW1lbnQodCkge1xuICAgICAgICByZXR1cm4gbmV3IFV0KHQsIDAgLyogSU5WQUxJRCAqLyAsIHN0Lm1pbigpLCBMdC5lbXB0eSgpLCAwIC8qIFNZTkNFRCAqLyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgdGhhdCBpcyBrbm93biB0byBleGlzdCB3aXRoIHRoZSBnaXZlbiBkYXRhIGF0IHRoZVxuICAgICAqIGdpdmVuIHZlcnNpb24uXG4gICAgICovICAgIHN0YXRpYyBuZXdGb3VuZERvY3VtZW50KHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVdCh0LCAxIC8qIEZPVU5EX0RPQ1VNRU5UICovICwgZSwgbiwgMCAvKiBTWU5DRUQgKi8pO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBkb2N1bWVudCB0aGF0IGlzIGtub3duIHRvIG5vdCBleGlzdCBhdCB0aGUgZ2l2ZW4gdmVyc2lvbi4gKi8gICAgc3RhdGljIG5ld05vRG9jdW1lbnQodCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IFV0KHQsIDIgLyogTk9fRE9DVU1FTlQgKi8gLCBlLCBMdC5lbXB0eSgpLCAwIC8qIFNZTkNFRCAqLyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgdGhhdCBpcyBrbm93biB0byBleGlzdCBhdCB0aGUgZ2l2ZW4gdmVyc2lvbiBidXRcbiAgICAgKiB3aG9zZSBkYXRhIGlzIG5vdCBrbm93biAoZS5nLiBhIGRvY3VtZW50IHRoYXQgd2FzIHVwZGF0ZWQgd2l0aG91dCBhIGtub3duXG4gICAgICogYmFzZSBkb2N1bWVudCkuXG4gICAgICovICAgIHN0YXRpYyBuZXdVbmtub3duRG9jdW1lbnQodCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IFV0KHQsIDMgLyogVU5LTk9XTl9ET0NVTUVOVCAqLyAsIGUsIEx0LmVtcHR5KCksIDIgLyogSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBkb2N1bWVudCB0eXBlIHRvIGluZGljYXRlIHRoYXQgaXQgZXhpc3RzIGFuZCB0aGF0IGl0cyB2ZXJzaW9uXG4gICAgICogYW5kIGRhdGEgYXJlIGtub3duLlxuICAgICAqLyAgICBjb252ZXJ0VG9Gb3VuZERvY3VtZW50KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbiA9IHQsIHRoaXMuZG9jdW1lbnRUeXBlID0gMSAvKiBGT1VORF9ET0NVTUVOVCAqLyAsIHRoaXMuZGF0YSA9IGUsIFxuICAgICAgICB0aGlzLmRvY3VtZW50U3RhdGUgPSAwIC8qIFNZTkNFRCAqLyAsIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGRvY3VtZW50IHR5cGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBkb2Vzbid0IGV4aXN0IGF0IHRoZSBnaXZlblxuICAgICAqIHZlcnNpb24uXG4gICAgICovICAgIGNvbnZlcnRUb05vRG9jdW1lbnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID0gdCwgdGhpcy5kb2N1bWVudFR5cGUgPSAyIC8qIE5PX0RPQ1VNRU5UICovICwgdGhpcy5kYXRhID0gTHQuZW1wdHkoKSwgXG4gICAgICAgIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDAgLyogU1lOQ0VEICovICwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGV4aXN0cyBhdCBhIGdpdmVuIHZlcnNpb24gYnV0XG4gICAgICogdGhhdCBpdHMgZGF0YSBpcyBub3Qga25vd24gKGUuZy4gYSBkb2N1bWVudCB0aGF0IHdhcyB1cGRhdGVkIHdpdGhvdXQgYSBrbm93blxuICAgICAqIGJhc2UgZG9jdW1lbnQpLlxuICAgICAqLyAgICBjb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID0gdCwgdGhpcy5kb2N1bWVudFR5cGUgPSAzIC8qIFVOS05PV05fRE9DVU1FTlQgKi8gLCB0aGlzLmRhdGEgPSBMdC5lbXB0eSgpLCBcbiAgICAgICAgdGhpcy5kb2N1bWVudFN0YXRlID0gMiAvKiBIQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyAsIHRoaXM7XG4gICAgfVxuICAgIHNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDIgLyogSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8gLCB0aGlzO1xuICAgIH1cbiAgICBzZXRIYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDEgLyogSEFTX0xPQ0FMX01VVEFUSU9OUyAqLyAsIHRoaXM7XG4gICAgfVxuICAgIGdldCBoYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogSEFTX0xPQ0FMX01VVEFUSU9OUyAqLyA9PT0gdGhpcy5kb2N1bWVudFN0YXRlO1xuICAgIH1cbiAgICBnZXQgaGFzQ29tbWl0dGVkTXV0YXRpb25zKCkge1xuICAgICAgICByZXR1cm4gMiAvKiBIQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyA9PT0gdGhpcy5kb2N1bWVudFN0YXRlO1xuICAgIH1cbiAgICBnZXQgaGFzUGVuZGluZ1dyaXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTG9jYWxNdXRhdGlvbnMgfHwgdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnM7XG4gICAgfVxuICAgIGlzVmFsaWREb2N1bWVudCgpIHtcbiAgICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLyAhPT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzRm91bmREb2N1bWVudCgpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogRk9VTkRfRE9DVU1FTlQgKi8gPT09IHRoaXMuZG9jdW1lbnRUeXBlO1xuICAgIH1cbiAgICBpc05vRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAyIC8qIE5PX0RPQ1VNRU5UICovID09PSB0aGlzLmRvY3VtZW50VHlwZTtcbiAgICB9XG4gICAgaXNVbmtub3duRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAzIC8qIFVOS05PV05fRE9DVU1FTlQgKi8gPT09IHRoaXMuZG9jdW1lbnRUeXBlO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgaW5zdGFuY2VvZiBVdCAmJiB0aGlzLmtleS5pc0VxdWFsKHQua2V5KSAmJiB0aGlzLnZlcnNpb24uaXNFcXVhbCh0LnZlcnNpb24pICYmIHRoaXMuZG9jdW1lbnRUeXBlID09PSB0LmRvY3VtZW50VHlwZSAmJiB0aGlzLmRvY3VtZW50U3RhdGUgPT09IHQuZG9jdW1lbnRTdGF0ZSAmJiB0aGlzLmRhdGEuaXNFcXVhbCh0LmRhdGEpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVdCh0aGlzLmtleSwgdGhpcy5kb2N1bWVudFR5cGUsIHRoaXMudmVyc2lvbiwgdGhpcy5kYXRhLmNsb25lKCksIHRoaXMuZG9jdW1lbnRTdGF0ZSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYERvY3VtZW50KCR7dGhpcy5rZXl9LCAke3RoaXMudmVyc2lvbn0sICR7SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnZhbHVlKX0sIHtkb2N1bWVudFR5cGU6ICR7dGhpcy5kb2N1bWVudFR5cGV9fSksIHtkb2N1bWVudFN0YXRlOiAke3RoaXMuZG9jdW1lbnRTdGF0ZX19KWA7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXBhcmVzIHRoZSB2YWx1ZSBmb3IgZmllbGQgYGZpZWxkYCBpbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiBUaHJvd3MgaWZcbiAqIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCBpbiBib3RoIGRvY3VtZW50cy5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIFZpc2libGUgZm9yIHRlc3RpbmdcbmNsYXNzIHF0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlID0gbnVsbCwgbiA9IFtdLCBzID0gW10sIGkgPSBudWxsLCByID0gbnVsbCwgbyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gdCwgdGhpcy5jb2xsZWN0aW9uR3JvdXAgPSBlLCB0aGlzLm9yZGVyQnkgPSBuLCB0aGlzLmZpbHRlcnMgPSBzLCB0aGlzLmxpbWl0ID0gaSwgXG4gICAgICAgIHRoaXMuc3RhcnRBdCA9IHIsIHRoaXMuZW5kQXQgPSBvLCB0aGlzLkEgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRhcmdldCB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAqIFBhdGggbXVzdCBjdXJyZW50bHkgYmUgZW1wdHkgaWYgdGhpcyBpcyBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkuXG4gKlxuICogTk9URTogeW91IHNob3VsZCBhbHdheXMgY29uc3RydWN0IGBUYXJnZXRgIGZyb20gYFF1ZXJ5LnRvVGFyZ2V0YCBpbnN0ZWFkIG9mXG4gKiB1c2luZyB0aGlzIGZhY3RvcnkgbWV0aG9kLCBiZWNhdXNlIGBRdWVyeWAgcHJvdmlkZXMgYW4gaW1wbGljaXQgYG9yZGVyQnlgXG4gKiBwcm9wZXJ0eS5cbiAqLyBmdW5jdGlvbiBLdCh0LCBlID0gbnVsbCwgbiA9IFtdLCBzID0gW10sIGkgPSBudWxsLCByID0gbnVsbCwgbyA9IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IHF0KHQsIGUsIG4sIHMsIGksIHIsIG8pO1xufVxuXG5mdW5jdGlvbiBqdCh0KSB7XG4gICAgY29uc3QgZSA9IEIodCk7XG4gICAgaWYgKG51bGwgPT09IGUuQSkge1xuICAgICAgICBsZXQgdCA9IGUucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICAgICAgbnVsbCAhPT0gZS5jb2xsZWN0aW9uR3JvdXAgJiYgKHQgKz0gXCJ8Y2c6XCIgKyBlLmNvbGxlY3Rpb25Hcm91cCksIHQgKz0gXCJ8ZjpcIiwgdCArPSBlLmZpbHRlcnMubWFwKCh0ID0+IEh0KHQpKSkuam9pbihcIixcIiksIFxuICAgICAgICB0ICs9IFwifG9iOlwiLCB0ICs9IGUub3JkZXJCeS5tYXAoKHQgPT4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgLy8gVE9ETyhiLzI5MTgzMTY1KTogTWFrZSB0aGlzIGNvbGxpc2lvbiByb2J1c3QuXG4gICAgICAgICAgICByZXR1cm4gdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSArIHQuZGlyO1xuICAgICAgICB9KHQpKSkuam9pbihcIixcIiksIFR0KGUubGltaXQpIHx8ICh0ICs9IFwifGw6XCIsIHQgKz0gZS5saW1pdCksIGUuc3RhcnRBdCAmJiAodCArPSBcInxsYjpcIiwgXG4gICAgICAgIHQgKz0gcmUoZS5zdGFydEF0KSksIGUuZW5kQXQgJiYgKHQgKz0gXCJ8dWI6XCIsIHQgKz0gcmUoZS5lbmRBdCkpLCBlLkEgPSB0O1xuICAgIH1cbiAgICByZXR1cm4gZS5BO1xufVxuXG5mdW5jdGlvbiBRdCh0KSB7XG4gICAgbGV0IGUgPSB0LnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgcmV0dXJuIG51bGwgIT09IHQuY29sbGVjdGlvbkdyb3VwICYmIChlICs9IFwiIGNvbGxlY3Rpb25Hcm91cD1cIiArIHQuY29sbGVjdGlvbkdyb3VwKSwgXG4gICAgdC5maWx0ZXJzLmxlbmd0aCA+IDAgJiYgKGUgKz0gYCwgZmlsdGVyczogWyR7dC5maWx0ZXJzLm1hcCgodCA9PiB7XG4gICAgICAgIHJldHVybiBgJHsoZSA9IHQpLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpfSAke2Uub3B9ICR7RHQoZS52YWx1ZSl9YDtcbiAgICAgICAgLyoqIFJldHVybnMgYSBkZWJ1ZyBkZXNjcmlwdGlvbiBmb3IgYGZpbHRlcmAuICovXG4gICAgICAgIHZhciBlO1xuICAgICAgICAvKiogRmlsdGVyIHRoYXQgbWF0Y2hlcyBvbiBrZXkgZmllbGRzIChpLmUuICdfX25hbWVfXycpLiAqLyAgICB9KSkuam9pbihcIiwgXCIpfV1gKSwgXG4gICAgVHQodC5saW1pdCkgfHwgKGUgKz0gXCIsIGxpbWl0OiBcIiArIHQubGltaXQpLCB0Lm9yZGVyQnkubGVuZ3RoID4gMCAmJiAoZSArPSBgLCBvcmRlckJ5OiBbJHt0Lm9yZGVyQnkubWFwKCh0ID0+IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIGAke3QuZmllbGQuY2Fub25pY2FsU3RyaW5nKCl9ICgke3QuZGlyfSlgO1xuICAgIH0odCkpKS5qb2luKFwiLCBcIil9XWApLCB0LnN0YXJ0QXQgJiYgKGUgKz0gXCIsIHN0YXJ0QXQ6IFwiICsgcmUodC5zdGFydEF0KSksIHQuZW5kQXQgJiYgKGUgKz0gXCIsIGVuZEF0OiBcIiArIHJlKHQuZW5kQXQpKSwgXG4gICAgYFRhcmdldCgke2V9KWA7XG59XG5cbmZ1bmN0aW9uIFd0KHQsIGUpIHtcbiAgICBpZiAodC5saW1pdCAhPT0gZS5saW1pdCkgcmV0dXJuICExO1xuICAgIGlmICh0Lm9yZGVyQnkubGVuZ3RoICE9PSBlLm9yZGVyQnkubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0Lm9yZGVyQnkubGVuZ3RoOyBuKyspIGlmICghYWUodC5vcmRlckJ5W25dLCBlLm9yZGVyQnlbbl0pKSByZXR1cm4gITE7XG4gICAgaWYgKHQuZmlsdGVycy5sZW5ndGggIT09IGUuZmlsdGVycy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHQuZmlsdGVycy5sZW5ndGg7IGkrKykgaWYgKG4gPSB0LmZpbHRlcnNbaV0sIHMgPSBlLmZpbHRlcnNbaV0sIFxuICAgIG4ub3AgIT09IHMub3AgfHwgIW4uZmllbGQuaXNFcXVhbChzLmZpZWxkKSB8fCAhUHQobi52YWx1ZSwgcy52YWx1ZSkpIHJldHVybiAhMTtcbiAgICB2YXIgbiwgcztcbiAgICByZXR1cm4gdC5jb2xsZWN0aW9uR3JvdXAgPT09IGUuY29sbGVjdGlvbkdyb3VwICYmICghIXQucGF0aC5pc0VxdWFsKGUucGF0aCkgJiYgKCEhdWUodC5zdGFydEF0LCBlLnN0YXJ0QXQpICYmIHVlKHQuZW5kQXQsIGUuZW5kQXQpKSk7XG59XG5cbmZ1bmN0aW9uIEd0KHQpIHtcbiAgICByZXR1cm4gUnQuaXNEb2N1bWVudEtleSh0LnBhdGgpICYmIG51bGwgPT09IHQuY29sbGVjdGlvbkdyb3VwICYmIDAgPT09IHQuZmlsdGVycy5sZW5ndGg7XG59XG5cbmNsYXNzIHp0IGV4dGVuZHMgY2xhc3Mge30ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5maWVsZCA9IHQsIHRoaXMub3AgPSBlLCB0aGlzLnZhbHVlID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZpbHRlciBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHQuaXNLZXlGaWVsZCgpID8gXCJpblwiIC8qIElOICovID09PSBlIHx8IFwibm90LWluXCIgLyogTk9UX0lOICovID09PSBlID8gdGhpcy5SKHQsIGUsIG4pIDogbmV3IEp0KHQsIGUsIG4pIDogXCJhcnJheS1jb250YWluc1wiIC8qIEFSUkFZX0NPTlRBSU5TICovID09PSBlID8gbmV3IHRlKHQsIG4pIDogXCJpblwiIC8qIElOICovID09PSBlID8gbmV3IGVlKHQsIG4pIDogXCJub3QtaW5cIiAvKiBOT1RfSU4gKi8gPT09IGUgPyBuZXcgbmUodCwgbikgOiBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gZSA/IG5ldyBzZSh0LCBuKSA6IG5ldyB6dCh0LCBlLCBuKTtcbiAgICB9XG4gICAgc3RhdGljIFIodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gXCJpblwiIC8qIElOICovID09PSBlID8gbmV3IFl0KHQsIG4pIDogbmV3IFh0KHQsIG4pO1xuICAgIH1cbiAgICBtYXRjaGVzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgLy8gVHlwZXMgZG8gbm90IGhhdmUgdG8gbWF0Y2ggaW4gTk9UX0VRVUFMIGZpbHRlcnMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiIT1cIiAvKiBOT1RfRVFVQUwgKi8gPT09IHRoaXMub3AgPyBudWxsICE9PSBlICYmIHRoaXMuUChWdChlLCB0aGlzLnZhbHVlKSkgOiBudWxsICE9PSBlICYmIGJ0KHRoaXMudmFsdWUpID09PSBidChlKSAmJiB0aGlzLlAoVnQoZSwgdGhpcy52YWx1ZSkpO1xuICAgICAgICAvLyBPbmx5IGNvbXBhcmUgdHlwZXMgd2l0aCBtYXRjaGluZyBiYWNrZW5kIG9yZGVyIChzdWNoIGFzIGRvdWJsZSBhbmQgaW50KS5cbiAgICAgICAgfVxuICAgIFAodCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3ApIHtcbiAgICAgICAgICBjYXNlIFwiPFwiIC8qIExFU1NfVEhBTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdCA8IDA7XG5cbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBMRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHQgPD0gMDtcblxuICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIEVRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwID09PSB0O1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogTk9UX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwICE9PSB0O1xuXG4gICAgICAgICAgY2FzZSBcIj5cIiAvKiBHUkVBVEVSX1RIQU4gKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHQgPiAwO1xuXG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiB0ID49IDA7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEYoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2KCkge1xuICAgICAgICByZXR1cm4gWyBcIjxcIiAvKiBMRVNTX1RIQU4gKi8gLCBcIjw9XCIgLyogTEVTU19USEFOX09SX0VRVUFMICovICwgXCI+XCIgLyogR1JFQVRFUl9USEFOICovICwgXCI+PVwiIC8qIEdSRUFURVJfVEhBTl9PUl9FUVVBTCAqLyAsIFwiIT1cIiAvKiBOT1RfRVFVQUwgKi8gLCBcIm5vdC1pblwiIC8qIE5PVF9JTiAqLyBdLmluZGV4T2YodGhpcy5vcCkgPj0gMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEh0KHQpIHtcbiAgICAvLyBUT0RPKGIvMjkxODMxNjUpOiBUZWNobmljYWxseSwgdGhpcyB3b24ndCBiZSB1bmlxdWUgaWYgdHdvIHZhbHVlcyBoYXZlXG4gICAgLy8gdGhlIHNhbWUgZGVzY3JpcHRpb24sIHN1Y2ggYXMgdGhlIGludCAzIGFuZCB0aGUgc3RyaW5nIFwiM1wiLiBTbyB3ZSBzaG91bGRcbiAgICAvLyBhZGQgdGhlIHR5cGVzIGluIGhlcmUgc29tZWhvdywgdG9vLlxuICAgIHJldHVybiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpICsgdC5vcC50b1N0cmluZygpICsgRHQodC52YWx1ZSk7XG59XG5cbmNsYXNzIEp0IGV4dGVuZHMgenQge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgc3VwZXIodCwgZSwgbiksIHRoaXMua2V5ID0gUnQuZnJvbU5hbWUobi5yZWZlcmVuY2VWYWx1ZSk7XG4gICAgfVxuICAgIG1hdGNoZXModCkge1xuICAgICAgICBjb25zdCBlID0gUnQuY29tcGFyYXRvcih0LmtleSwgdGhpcy5rZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5QKGUpO1xuICAgIH1cbn1cblxuLyoqIEZpbHRlciB0aGF0IG1hdGNoZXMgb24ga2V5IGZpZWxkcyB3aXRoaW4gYW4gYXJyYXkuICovIGNsYXNzIFl0IGV4dGVuZHMgenQge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIodCwgXCJpblwiIC8qIElOICovICwgZSksIHRoaXMua2V5cyA9IFp0KFwiaW5cIiAvKiBJTiAqLyAsIGUpO1xuICAgIH1cbiAgICBtYXRjaGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5cy5zb21lKChlID0+IGUuaXNFcXVhbCh0LmtleSkpKTtcbiAgICB9XG59XG5cbi8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgbm90IHByZXNlbnQgd2l0aGluIGFuIGFycmF5LiAqLyBjbGFzcyBYdCBleHRlbmRzIHp0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKHQsIFwibm90LWluXCIgLyogTk9UX0lOICovICwgZSksIHRoaXMua2V5cyA9IFp0KFwibm90LWluXCIgLyogTk9UX0lOICovICwgZSk7XG4gICAgfVxuICAgIG1hdGNoZXModCkge1xuICAgICAgICByZXR1cm4gIXRoaXMua2V5cy5zb21lKChlID0+IGUuaXNFcXVhbCh0LmtleSkpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFp0KHQsIGUpIHtcbiAgICB2YXIgbjtcbiAgICByZXR1cm4gKChudWxsID09PSAobiA9IGUuYXJyYXlWYWx1ZSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi52YWx1ZXMpIHx8IFtdKS5tYXAoKHQgPT4gUnQuZnJvbU5hbWUodC5yZWZlcmVuY2VWYWx1ZSkpKTtcbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgYXJyYXktY29udGFpbnMgb3BlcmF0b3IuICovIGNsYXNzIHRlIGV4dGVuZHMgenQge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIodCwgXCJhcnJheS1jb250YWluc1wiIC8qIEFSUkFZX0NPTlRBSU5TICovICwgZSk7XG4gICAgfVxuICAgIG1hdGNoZXModCkge1xuICAgICAgICBjb25zdCBlID0gdC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO1xuICAgICAgICByZXR1cm4ga3QoZSkgJiYgdnQoZS5hcnJheVZhbHVlLCB0aGlzLnZhbHVlKTtcbiAgICB9XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIElOIG9wZXJhdG9yLiAqLyBjbGFzcyBlZSBleHRlbmRzIHp0IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKHQsIFwiaW5cIiAvKiBJTiAqLyAsIGUpO1xuICAgIH1cbiAgICBtYXRjaGVzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IGUgJiYgdnQodGhpcy52YWx1ZS5hcnJheVZhbHVlLCBlKTtcbiAgICB9XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIG5vdC1pbiBvcGVyYXRvci4gKi8gY2xhc3MgbmUgZXh0ZW5kcyB6dCB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBzdXBlcih0LCBcIm5vdC1pblwiIC8qIE5PVF9JTiAqLyAsIGUpO1xuICAgIH1cbiAgICBtYXRjaGVzKHQpIHtcbiAgICAgICAgaWYgKHZ0KHRoaXMudmFsdWUuYXJyYXlWYWx1ZSwge1xuICAgICAgICAgICAgbnVsbFZhbHVlOiBcIk5VTExfVkFMVUVcIlxuICAgICAgICB9KSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCBlID0gdC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiAhdnQodGhpcy52YWx1ZS5hcnJheVZhbHVlLCBlKTtcbiAgICB9XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIGFycmF5LWNvbnRhaW5zLWFueSBvcGVyYXRvci4gKi8gY2xhc3Mgc2UgZXh0ZW5kcyB6dCB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBzdXBlcih0LCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIGUpO1xuICAgIH1cbiAgICBtYXRjaGVzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuICEoIWt0KGUpIHx8ICFlLmFycmF5VmFsdWUudmFsdWVzKSAmJiBlLmFycmF5VmFsdWUudmFsdWVzLnNvbWUoKHQgPT4gdnQodGhpcy52YWx1ZS5hcnJheVZhbHVlLCB0KSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgYm91bmQgb2YgYSBxdWVyeS5cbiAqXG4gKiBUaGUgYm91bmQgaXMgc3BlY2lmaWVkIHdpdGggdGhlIGdpdmVuIGNvbXBvbmVudHMgcmVwcmVzZW50aW5nIGEgcG9zaXRpb24gYW5kXG4gKiB3aGV0aGVyIGl0J3MganVzdCBiZWZvcmUgb3IganVzdCBhZnRlciB0aGUgcG9zaXRpb24gKHJlbGF0aXZlIHRvIHdoYXRldmVyIHRoZVxuICogcXVlcnkgb3JkZXIgaXMpLlxuICpcbiAqIFRoZSBwb3NpdGlvbiByZXByZXNlbnRzIGEgbG9naWNhbCBpbmRleCBwb3NpdGlvbiBmb3IgYSBxdWVyeS4gSXQncyBhIHByZWZpeFxuICogb2YgdmFsdWVzIGZvciB0aGUgKHBvdGVudGlhbGx5IGltcGxpY2l0KSBvcmRlciBieSBjbGF1c2VzIG9mIGEgcXVlcnkuXG4gKlxuICogQm91bmQgcHJvdmlkZXMgYSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRvY3VtZW50IGNvbWVzIGJlZm9yZSBvclxuICogYWZ0ZXIgYSBib3VuZC4gVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHdoZXRoZXIgdGhlIHBvc2l0aW9uIGlzIGp1c3QgYmVmb3JlIG9yXG4gKiBqdXN0IGFmdGVyIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gKi8gY2xhc3MgaWUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHQsIHRoaXMuYmVmb3JlID0gZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlKHQpIHtcbiAgICAvLyBUT0RPKGIvMjkxODMxNjUpOiBNYWtlIHRoaXMgY29sbGlzaW9uIHJvYnVzdC5cbiAgICByZXR1cm4gYCR7dC5iZWZvcmUgPyBcImJcIiA6IFwiYVwifToke3QucG9zaXRpb24ubWFwKCh0ID0+IER0KHQpKSkuam9pbihcIixcIil9YDtcbn1cblxuLyoqXG4gKiBBbiBvcmRlcmluZyBvbiBhIGZpZWxkLCBpbiBzb21lIERpcmVjdGlvbi4gRGlyZWN0aW9uIGRlZmF1bHRzIHRvIEFTQ0VORElORy5cbiAqLyBjbGFzcyBvZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSA9IFwiYXNjXCIgLyogQVNDRU5ESU5HICovKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSB0LCB0aGlzLmRpciA9IGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZSh0LCBlKSB7XG4gICAgcmV0dXJuIHQuZGlyID09PSBlLmRpciAmJiB0LmZpZWxkLmlzRXF1YWwoZS5maWVsZCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZG9jdW1lbnQgc29ydHMgYmVmb3JlIGEgYm91bmQgdXNpbmcgdGhlIHByb3ZpZGVkIHNvcnRcbiAqIG9yZGVyLlxuICovIGZ1bmN0aW9uIGNlKHQsIGUsIG4pIHtcbiAgICBsZXQgcyA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0LnBvc2l0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHIgPSBlW2ldLCBvID0gdC5wb3NpdGlvbltpXTtcbiAgICAgICAgaWYgKHIuZmllbGQuaXNLZXlGaWVsZCgpKSBzID0gUnQuY29tcGFyYXRvcihSdC5mcm9tTmFtZShvLnJlZmVyZW5jZVZhbHVlKSwgbi5rZXkpOyBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBWdChvLCBuLmRhdGEuZmllbGQoci5maWVsZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImRlc2NcIiAvKiBERVNDRU5ESU5HICovID09PSByLmRpciAmJiAocyAqPSAtMSksIDAgIT09IHMpIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdC5iZWZvcmUgPyBzIDw9IDAgOiBzIDwgMDtcbn1cblxuZnVuY3Rpb24gdWUodCwgZSkge1xuICAgIGlmIChudWxsID09PSB0KSByZXR1cm4gbnVsbCA9PT0gZTtcbiAgICBpZiAobnVsbCA9PT0gZSkgcmV0dXJuICExO1xuICAgIGlmICh0LmJlZm9yZSAhPT0gZS5iZWZvcmUgfHwgdC5wb3NpdGlvbi5sZW5ndGggIT09IGUucG9zaXRpb24ubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0LnBvc2l0aW9uLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIGlmICghUHQodC5wb3NpdGlvbltuXSwgZS5wb3NpdGlvbltuXSkpIHJldHVybiAhMTtcbiAgICB9XG4gICAgcmV0dXJuICEwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBRdWVyeSBlbmNhcHN1bGF0ZXMgYWxsIHRoZSBxdWVyeSBhdHRyaWJ1dGVzIHdlIHN1cHBvcnQgaW4gdGhlIFNESy4gSXQgY2FuXG4gKiBiZSBydW4gYWdhaW5zdCB0aGUgTG9jYWxTdG9yZSwgYXMgd2VsbCBhcyBiZSBjb252ZXJ0ZWQgdG8gYSBgVGFyZ2V0YCB0b1xuICogcXVlcnkgdGhlIFJlbW90ZVN0b3JlIHJlc3VsdHMuXG4gKlxuICogVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqLyBjbGFzcyBoZSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBRdWVyeSB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAgICAgKiBQYXRoIG11c3QgY3VycmVudGx5IGJlIGVtcHR5IGlmIHRoaXMgaXMgYSBjb2xsZWN0aW9uIGdyb3VwIHF1ZXJ5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHQsIGUgPSBudWxsLCBuID0gW10sIHMgPSBbXSwgaSA9IG51bGwsIHIgPSBcIkZcIiAvKiBGaXJzdCAqLyAsIG8gPSBudWxsLCBhID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBhdGggPSB0LCB0aGlzLmNvbGxlY3Rpb25Hcm91cCA9IGUsIHRoaXMuZXhwbGljaXRPcmRlckJ5ID0gbiwgdGhpcy5maWx0ZXJzID0gcywgXG4gICAgICAgIHRoaXMubGltaXQgPSBpLCB0aGlzLmxpbWl0VHlwZSA9IHIsIHRoaXMuc3RhcnRBdCA9IG8sIHRoaXMuZW5kQXQgPSBhLCB0aGlzLlYgPSBudWxsLCBcbiAgICAgICAgLy8gVGhlIGNvcnJlc3BvbmRpbmcgYFRhcmdldGAgb2YgdGhpcyBgUXVlcnlgIGluc3RhbmNlLlxuICAgICAgICB0aGlzLlMgPSBudWxsLCB0aGlzLnN0YXJ0QXQsIHRoaXMuZW5kQXQ7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBRdWVyeSBpbnN0YW5jZSB3aXRoIHRoZSBvcHRpb25zIHByb3ZpZGVkLiAqLyBmdW5jdGlvbiBsZSh0LCBlLCBuLCBzLCBpLCByLCBvLCBhKSB7XG4gICAgcmV0dXJuIG5ldyBoZSh0LCBlLCBuLCBzLCBpLCByLCBvLCBhKTtcbn1cblxuLyoqIENyZWF0ZXMgYSBuZXcgUXVlcnkgZm9yIGEgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHMgYXQgYHBhdGhgICovIGZ1bmN0aW9uIGZlKHQpIHtcbiAgICByZXR1cm4gbmV3IGhlKHQpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBjb252ZXJ0IGEgY29sbGVjdGlvbiBncm91cCBxdWVyeSBpbnRvIGEgY29sbGVjdGlvbiBxdWVyeSBhdCBhXG4gKiBzcGVjaWZpYyBwYXRoLiBUaGlzIGlzIHVzZWQgd2hlbiBleGVjdXRpbmcgY29sbGVjdGlvbiBncm91cCBxdWVyaWVzLCBzaW5jZVxuICogd2UgaGF2ZSB0byBzcGxpdCB0aGUgcXVlcnkgaW50byBhIHNldCBvZiBjb2xsZWN0aW9uIHF1ZXJpZXMgYXQgbXVsdGlwbGVcbiAqIHBhdGhzLlxuICovIGZ1bmN0aW9uIGRlKHQpIHtcbiAgICByZXR1cm4gIVR0KHQubGltaXQpICYmIFwiRlwiIC8qIEZpcnN0ICovID09PSB0LmxpbWl0VHlwZTtcbn1cblxuZnVuY3Rpb24gd2UodCkge1xuICAgIHJldHVybiAhVHQodC5saW1pdCkgJiYgXCJMXCIgLyogTGFzdCAqLyA9PT0gdC5saW1pdFR5cGU7XG59XG5cbmZ1bmN0aW9uIF9lKHQpIHtcbiAgICByZXR1cm4gdC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoID4gMCA/IHQuZXhwbGljaXRPcmRlckJ5WzBdLmZpZWxkIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gbWUodCkge1xuICAgIGZvciAoY29uc3QgZSBvZiB0LmZpbHRlcnMpIGlmIChlLnYoKSkgcmV0dXJuIGUuZmllbGQ7XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFueSBvZiB0aGUgcHJvdmlkZWQgT3BlcmF0b3JzIGFyZSBpbmNsdWRlZCBpbiB0aGUgcXVlcnkgYW5kXG4gKiByZXR1cm5zIHRoZSBmaXJzdCBvbmUgdGhhdCBpcywgb3IgbnVsbCBpZiBub25lIGFyZS5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHF1ZXJ5IG1hdGNoZXMgYSBjb2xsZWN0aW9uIGdyb3VwIHJhdGhlciB0aGFuIGEgc3BlY2lmaWNcbiAqIGNvbGxlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGdlKHQpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gdC5jb2xsZWN0aW9uR3JvdXA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1wbGljaXQgb3JkZXIgYnkgY29uc3RyYWludCB0aGF0IGlzIHVzZWQgdG8gZXhlY3V0ZSB0aGUgUXVlcnksXG4gKiB3aGljaCBjYW4gYmUgZGlmZmVyZW50IGZyb20gdGhlIG9yZGVyIGJ5IGNvbnN0cmFpbnRzIHRoZSB1c2VyIHByb3ZpZGVkIChlLmcuXG4gKiB0aGUgU0RLIGFuZCBiYWNrZW5kIGFsd2F5cyBvcmRlcnMgYnkgYF9fbmFtZV9fYCkuXG4gKi8gZnVuY3Rpb24geWUodCkge1xuICAgIGNvbnN0IGUgPSBCKHQpO1xuICAgIGlmIChudWxsID09PSBlLlYpIHtcbiAgICAgICAgZS5WID0gW107XG4gICAgICAgIGNvbnN0IHQgPSBtZShlKSwgbiA9IF9lKGUpO1xuICAgICAgICBpZiAobnVsbCAhPT0gdCAmJiBudWxsID09PSBuKSBcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gaW1wbGljaXRseSBhZGQga2V5IG9yZGVyaW5nLCB3ZSBtdXN0IGFsc28gYWRkIHRoZVxuICAgICAgICAvLyBpbmVxdWFsaXR5IGZpbHRlciBmaWVsZCBmb3IgaXQgdG8gYmUgYSB2YWxpZCBxdWVyeS5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBkZWZhdWx0IGluZXF1YWxpdHkgZmllbGQgYW5kIGtleSBvcmRlcmluZyBpcyBhc2NlbmRpbmcuXG4gICAgICAgIHQuaXNLZXlGaWVsZCgpIHx8IGUuVi5wdXNoKG5ldyBvZSh0KSksIGUuVi5wdXNoKG5ldyBvZShodC5rZXlGaWVsZCgpLCBcImFzY1wiIC8qIEFTQ0VORElORyAqLykpOyBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0ID0gITE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZS5leHBsaWNpdE9yZGVyQnkpIGUuVi5wdXNoKG4pLCBuLmZpZWxkLmlzS2V5RmllbGQoKSAmJiAodCA9ICEwKTtcbiAgICAgICAgICAgIGlmICghdCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBvcmRlciBvZiB0aGUgaW1wbGljaXQga2V5IG9yZGVyaW5nIGFsd2F5cyBtYXRjaGVzIHRoZSBsYXN0XG4gICAgICAgICAgICAgICAgLy8gZXhwbGljaXQgb3JkZXIgYnlcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoID4gMCA/IGUuZXhwbGljaXRPcmRlckJ5W2UuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCAtIDFdLmRpciA6IFwiYXNjXCIgLyogQVNDRU5ESU5HICovO1xuICAgICAgICAgICAgICAgIGUuVi5wdXNoKG5ldyBvZShodC5rZXlGaWVsZCgpLCB0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGUuVjtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGBRdWVyeWAgaW5zdGFuY2UgdG8gaXQncyBjb3JyZXNwb25kaW5nIGBUYXJnZXRgIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIHBlKHQpIHtcbiAgICBjb25zdCBlID0gQih0KTtcbiAgICBpZiAoIWUuUykgaWYgKFwiRlwiIC8qIEZpcnN0ICovID09PSBlLmxpbWl0VHlwZSkgZS5TID0gS3QoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgeWUoZSksIGUuZmlsdGVycywgZS5saW1pdCwgZS5zdGFydEF0LCBlLmVuZEF0KTsgZWxzZSB7XG4gICAgICAgIC8vIEZsaXAgdGhlIG9yZGVyQnkgZGlyZWN0aW9ucyBzaW5jZSB3ZSB3YW50IHRoZSBsYXN0IHJlc3VsdHNcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgeWUoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBcImRlc2NcIiAvKiBERVNDRU5ESU5HICovID09PSBuLmRpciA/IFwiYXNjXCIgLyogQVNDRU5ESU5HICovIDogXCJkZXNjXCIgLyogREVTQ0VORElORyAqLztcbiAgICAgICAgICAgIHQucHVzaChuZXcgb2Uobi5maWVsZCwgZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gc3dhcCB0aGUgY3Vyc29ycyB0byBtYXRjaCB0aGUgbm93LWZsaXBwZWQgcXVlcnkgb3JkZXJpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGUuZW5kQXQgPyBuZXcgaWUoZS5lbmRBdC5wb3NpdGlvbiwgIWUuZW5kQXQuYmVmb3JlKSA6IG51bGwsIHMgPSBlLnN0YXJ0QXQgPyBuZXcgaWUoZS5zdGFydEF0LnBvc2l0aW9uLCAhZS5zdGFydEF0LmJlZm9yZSkgOiBudWxsO1xuICAgICAgICAvLyBOb3cgcmV0dXJuIGFzIGEgTGltaXRUeXBlLkZpcnN0IHF1ZXJ5LlxuICAgICAgICBlLlMgPSBLdChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCB0LCBlLmZpbHRlcnMsIGUubGltaXQsIG4sIHMpO1xuICAgIH1cbiAgICByZXR1cm4gZS5TO1xufVxuXG5mdW5jdGlvbiBFZSh0LCBlLCBuKSB7XG4gICAgcmV0dXJuIG5ldyBoZSh0LnBhdGgsIHQuY29sbGVjdGlvbkdyb3VwLCB0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCB0LmZpbHRlcnMuc2xpY2UoKSwgZSwgbiwgdC5zdGFydEF0LCB0LmVuZEF0KTtcbn1cblxuZnVuY3Rpb24gVGUodCwgZSkge1xuICAgIHJldHVybiBXdChwZSh0KSwgcGUoZSkpICYmIHQubGltaXRUeXBlID09PSBlLmxpbWl0VHlwZTtcbn1cblxuLy8gVE9ETyhiLzI5MTgzMTY1KTogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHVuaXF1ZSBzdHJpbmcgZnJvbSBhIHF1ZXJ5IHRvLCBmb3Jcbi8vIGV4YW1wbGUsIHVzZSBhcyBhIGRpY3Rpb25hcnkga2V5LCBidXQgdGhlIGltcGxlbWVudGF0aW9uIGlzIHN1YmplY3QgdG9cbi8vIGNvbGxpc2lvbnMuIE1ha2UgaXQgY29sbGlzaW9uLWZyZWUuXG5mdW5jdGlvbiBJZSh0KSB7XG4gICAgcmV0dXJuIGAke2p0KHBlKHQpKX18bHQ6JHt0LmxpbWl0VHlwZX1gO1xufVxuXG5mdW5jdGlvbiBBZSh0KSB7XG4gICAgcmV0dXJuIGBRdWVyeSh0YXJnZXQ9JHtRdChwZSh0KSl9OyBsaW1pdFR5cGU9JHt0LmxpbWl0VHlwZX0pYDtcbn1cblxuLyoqIFJldHVybnMgd2hldGhlciBgZG9jYCBtYXRjaGVzIHRoZSBjb25zdHJhaW50cyBvZiBgcXVlcnlgLiAqLyBmdW5jdGlvbiBSZSh0LCBlKSB7XG4gICAgcmV0dXJuIGUuaXNGb3VuZERvY3VtZW50KCkgJiYgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBjb25zdCBuID0gZS5rZXkucGF0aDtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHQuY29sbGVjdGlvbkdyb3VwID8gZS5rZXkuaGFzQ29sbGVjdGlvbklkKHQuY29sbGVjdGlvbkdyb3VwKSAmJiB0LnBhdGguaXNQcmVmaXhPZihuKSA6IFJ0LmlzRG9jdW1lbnRLZXkodC5wYXRoKSA/IHQucGF0aC5pc0VxdWFsKG4pIDogdC5wYXRoLmlzSW1tZWRpYXRlUGFyZW50T2Yobik7XG4gICAgfVxuICAgIC8qKlxuICogQSBkb2N1bWVudCBtdXN0IGhhdmUgYSB2YWx1ZSBmb3IgZXZlcnkgb3JkZXJpbmcgY2xhdXNlIGluIG9yZGVyIHRvIHNob3cgdXBcbiAqIGluIHRoZSByZXN1bHRzLlxuICovICh0LCBlKSAmJiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiB0LmV4cGxpY2l0T3JkZXJCeSkgXG4gICAgICAgIC8vIG9yZGVyIGJ5IGtleSBhbHdheXMgbWF0Y2hlc1xuICAgICAgICBpZiAoIW4uZmllbGQuaXNLZXlGaWVsZCgpICYmIG51bGwgPT09IGUuZGF0YS5maWVsZChuLmZpZWxkKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfSh0LCBlKSAmJiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiB0LmZpbHRlcnMpIGlmICghbi5tYXRjaGVzKGUpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqIE1ha2VzIHN1cmUgYSBkb2N1bWVudCBpcyB3aXRoaW4gdGhlIGJvdW5kcywgaWYgcHJvdmlkZWQuICovICh0LCBlKSAmJiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGlmICh0LnN0YXJ0QXQgJiYgIWNlKHQuc3RhcnRBdCwgeWUodCksIGUpKSByZXR1cm4gITE7XG4gICAgICAgIGlmICh0LmVuZEF0ICYmIGNlKHQuZW5kQXQsIHllKHQpLCBlKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKlxuICogUmV0dXJucyBhIG5ldyBjb21wYXJhdG9yIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcGFyZSB0d28gZG9jdW1lbnRzXG4gKiBiYXNlZCBvbiB0aGUgUXVlcnkncyBvcmRlcmluZyBjb25zdHJhaW50LlxuICovICh0LCBlKTtcbn1cblxuZnVuY3Rpb24gYmUodCkge1xuICAgIHJldHVybiAoZSwgbikgPT4ge1xuICAgICAgICBsZXQgcyA9ICExO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgeWUodCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBQZShpLCBlLCBuKTtcbiAgICAgICAgICAgIGlmICgwICE9PSB0KSByZXR1cm4gdDtcbiAgICAgICAgICAgIHMgPSBzIHx8IGkuZmllbGQuaXNLZXlGaWVsZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIFBlKHQsIGUsIG4pIHtcbiAgICBjb25zdCBzID0gdC5maWVsZC5pc0tleUZpZWxkKCkgPyBSdC5jb21wYXJhdG9yKGUua2V5LCBuLmtleSkgOiBmdW5jdGlvbih0LCBlLCBuKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmRhdGEuZmllbGQodCksIGkgPSBuLmRhdGEuZmllbGQodCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBzICYmIG51bGwgIT09IGkgPyBWdChzLCBpKSA6IEYoKTtcbiAgICB9KHQuZmllbGQsIGUsIG4pO1xuICAgIHN3aXRjaCAodC5kaXIpIHtcbiAgICAgIGNhc2UgXCJhc2NcIiAvKiBBU0NFTkRJTkcgKi8gOlxuICAgICAgICByZXR1cm4gcztcblxuICAgICAgY2FzZSBcImRlc2NcIiAvKiBERVNDRU5ESU5HICovIDpcbiAgICAgICAgcmV0dXJuIC0xICogcztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIEYoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJldHVybnMgYW4gRG91YmxlVmFsdWUgZm9yIGB2YWx1ZWAgdGhhdCBpcyBlbmNvZGVkIGJhc2VkIHRoZSBzZXJpYWxpemVyJ3NcbiAqIGB1c2VQcm90bzNKc29uYCBzZXR0aW5nLlxuICovIGZ1bmN0aW9uIHZlKHQsIGUpIHtcbiAgICBpZiAodC5EKSB7XG4gICAgICAgIGlmIChpc05hTihlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIk5hTlwiXG4gICAgICAgIH07XG4gICAgICAgIGlmIChlID09PSAxIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIkluZmluaXR5XCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGUgPT09IC0xIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIi1JbmZpbml0eVwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRvdWJsZVZhbHVlOiBJdChlKSA/IFwiLTBcIiA6IGVcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gSW50ZWdlclZhbHVlIGZvciBgdmFsdWVgLlxuICovIGZ1bmN0aW9uIFZlKHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnRlZ2VyVmFsdWU6IFwiXCIgKyB0XG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmFsdWUgZm9yIGEgbnVtYmVyIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50byBhIHByb3RvLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBhbiBJbnRlZ2VyVmFsdWUgaWYgaXQgY2FuIHNhZmVseSByZXByZXNlbnQgdGhlIHZhbHVlLFxuICogb3RoZXJ3aXNlIGEgRG91YmxlVmFsdWUgaXMgcmV0dXJuZWQuXG4gKi8gZnVuY3Rpb24gU2UodCwgZSkge1xuICAgIHJldHVybiBBdChlKSA/IFZlKGUpIDogdmUodCwgZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogVXNlZCB0byByZXByZXNlbnQgYSBmaWVsZCB0cmFuc2Zvcm0gb24gYSBtdXRhdGlvbi4gKi8gY2xhc3MgRGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgc3RydWN0dXJhbCB0eXBlIG9mIGBUcmFuc2Zvcm1PcGVyYXRpb25gIGlzIHVuaXF1ZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNTQ1MVxuICAgICAgICB0aGlzLl8gPSB2b2lkIDA7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm0gcmVzdWx0IGFnYWluc3QgdGhlIHByb3ZpZGVkIGBwcmV2aW91c1ZhbHVlYCxcbiAqIG9wdGlvbmFsbHkgdXNpbmcgdGhlIHByb3ZpZGVkIGxvY2FsV3JpdGVUaW1lLlxuICovIGZ1bmN0aW9uIENlKHQsIGUsIG4pIHtcbiAgICByZXR1cm4gdCBpbnN0YW5jZW9mIGtlID8gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgX190eXBlX186IHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nVmFsdWU6IFwic2VydmVyX3RpbWVzdGFtcFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfX2xvY2FsX3dyaXRlX3RpbWVfXzoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kczogdC5zZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFub3M6IHQubmFub3NlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGUgJiYgKG4uZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXyA9IGUpLCB7XG4gICAgICAgICAgICBtYXBWYWx1ZTogblxuICAgICAgICB9O1xuICAgIH0obiwgZSkgOiB0IGluc3RhbmNlb2YgJGUgPyBPZSh0LCBlKSA6IHQgaW5zdGFuY2VvZiBGZSA/IE1lKHQsIGUpIDogZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFNpbmNlIEphdmFTY3JpcHQncyBpbnRlZ2VyIGFyaXRobWV0aWMgaXMgbGltaXRlZCB0byA1MyBiaXRcbiAgICAgICAgLy8gcHJlY2lzaW9uIGFuZCByZXNvbHZlcyBvdmVyZmxvd3MgYnkgcmVkdWNpbmcgcHJlY2lzaW9uLCB3ZSBkbyBub3RcbiAgICAgICAgLy8gbWFudWFsbHkgY2FwIG92ZXJmbG93cyBhdCAyXjYzLlxuICAgICAgICBjb25zdCBuID0geGUodCwgZSksIHMgPSBCZShuKSArIEJlKHQuQyk7XG4gICAgICAgIHJldHVybiB4dChuKSAmJiB4dCh0LkMpID8gVmUocykgOiB2ZSh0Lk4sIHMpO1xuICAgIH0odCwgZSk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBmaW5hbCB0cmFuc2Zvcm0gcmVzdWx0IGFmdGVyIHRoZSB0cmFuc2Zvcm0gaGFzIGJlZW4gYWNrbm93bGVkZ2VkXG4gKiBieSB0aGUgc2VydmVyLCBwb3RlbnRpYWxseSB1c2luZyB0aGUgc2VydmVyLXByb3ZpZGVkIHRyYW5zZm9ybVJlc3VsdC5cbiAqLyBmdW5jdGlvbiBOZSh0LCBlLCBuKSB7XG4gICAgLy8gVGhlIHNlcnZlciBqdXN0IHNlbmRzIG51bGwgYXMgdGhlIHRyYW5zZm9ybSByZXN1bHQgZm9yIGFycmF5IG9wZXJhdGlvbnMsXG4gICAgLy8gc28gd2UgaGF2ZSB0byBjYWxjdWxhdGUgYSByZXN1bHQgdGhlIHNhbWUgYXMgd2UgZG8gZm9yIGxvY2FsXG4gICAgLy8gYXBwbGljYXRpb25zLlxuICAgIHJldHVybiB0IGluc3RhbmNlb2YgJGUgPyBPZSh0LCBlKSA6IHQgaW5zdGFuY2VvZiBGZSA/IE1lKHQsIGUpIDogbjtcbn1cblxuLyoqXG4gKiBJZiB0aGlzIHRyYW5zZm9ybSBvcGVyYXRpb24gaXMgbm90IGlkZW1wb3RlbnQsIHJldHVybnMgdGhlIGJhc2UgdmFsdWUgdG9cbiAqIHBlcnNpc3QgZm9yIHRoaXMgdHJhbnNmb3JtLiBJZiBhIGJhc2UgdmFsdWUgaXMgcmV0dXJuZWQsIHRoZSB0cmFuc2Zvcm1cbiAqIG9wZXJhdGlvbiBpcyBhbHdheXMgYXBwbGllZCB0byB0aGlzIGJhc2UgdmFsdWUsIGV2ZW4gaWYgZG9jdW1lbnQgaGFzXG4gKiBhbHJlYWR5IGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBCYXNlIHZhbHVlcyBwcm92aWRlIGNvbnNpc3RlbnQgYmVoYXZpb3IgZm9yIG5vbi1pZGVtcG90ZW50IHRyYW5zZm9ybXMgYW5kXG4gKiBhbGxvdyB1cyB0byByZXR1cm4gdGhlIHNhbWUgbGF0ZW5jeS1jb21wZW5zYXRlZCB2YWx1ZSBldmVuIGlmIHRoZSBiYWNrZW5kXG4gKiBoYXMgYWxyZWFkeSBhcHBsaWVkIHRoZSB0cmFuc2Zvcm0gb3BlcmF0aW9uLiBUaGUgYmFzZSB2YWx1ZSBpcyBudWxsIGZvclxuICogaWRlbXBvdGVudCB0cmFuc2Zvcm1zLCBhcyB0aGV5IGNhbiBiZSByZS1wbGF5ZWQgZXZlbiBpZiB0aGUgYmFja2VuZCBoYXNcbiAqIGFscmVhZHkgYXBwbGllZCB0aGVtLlxuICpcbiAqIEByZXR1cm5zIGEgYmFzZSB2YWx1ZSB0byBzdG9yZSBhbG9uZyB3aXRoIHRoZSBtdXRhdGlvbiwgb3IgbnVsbCBmb3JcbiAqIGlkZW1wb3RlbnQgdHJhbnNmb3Jtcy5cbiAqLyBmdW5jdGlvbiB4ZSh0LCBlKSB7XG4gICAgcmV0dXJuIHQgaW5zdGFuY2VvZiBMZSA/IHh0KG4gPSBlKSB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiAhIXQgJiYgXCJkb3VibGVWYWx1ZVwiIGluIHQ7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBlaXRoZXIgYW4gSW50ZWdlclZhbHVlIG9yIGEgRG91YmxlVmFsdWUuICovIChuKSA/IGUgOiB7XG4gICAgICAgIGludGVnZXJWYWx1ZTogMFxuICAgIH0gOiBudWxsO1xuICAgIHZhciBuO1xufVxuXG4vKiogVHJhbnNmb3JtcyBhIHZhbHVlIGludG8gYSBzZXJ2ZXItZ2VuZXJhdGVkIHRpbWVzdGFtcC4gKi9cbmNsYXNzIGtlIGV4dGVuZHMgRGUge31cblxuLyoqIFRyYW5zZm9ybXMgYW4gYXJyYXkgdmFsdWUgdmlhIGEgdW5pb24gb3BlcmF0aW9uLiAqLyBjbGFzcyAkZSBleHRlbmRzIERlIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZWxlbWVudHMgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gT2UodCwgZSkge1xuICAgIGNvbnN0IG4gPSBVZShlKTtcbiAgICBmb3IgKGNvbnN0IGUgb2YgdC5lbGVtZW50cykgbi5zb21lKCh0ID0+IFB0KHQsIGUpKSkgfHwgbi5wdXNoKGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgIHZhbHVlczogblxuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqIFRyYW5zZm9ybXMgYW4gYXJyYXkgdmFsdWUgdmlhIGEgcmVtb3ZlIG9wZXJhdGlvbi4gKi8gY2xhc3MgRmUgZXh0ZW5kcyBEZSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmVsZW1lbnRzID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIE1lKHQsIGUpIHtcbiAgICBsZXQgbiA9IFVlKGUpO1xuICAgIGZvciAoY29uc3QgZSBvZiB0LmVsZW1lbnRzKSBuID0gbi5maWx0ZXIoKHQgPT4gIVB0KHQsIGUpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGJhY2tlbmQgc2VtYW50aWNzIGZvciBsb2NhbGx5IGNvbXB1dGVkIE5VTUVSSUNfQUREIChpbmNyZW1lbnQpXG4gKiB0cmFuc2Zvcm1zLiBDb252ZXJ0cyBhbGwgZmllbGQgdmFsdWVzIHRvIGludGVnZXJzIG9yIGRvdWJsZXMsIGJ1dCB1bmxpa2UgdGhlXG4gKiBiYWNrZW5kIGRvZXMgbm90IGNhcCBpbnRlZ2VyIHZhbHVlcyBhdCAyXjYzLiBJbnN0ZWFkLCBKYXZhU2NyaXB0IG51bWJlclxuICogYXJpdGhtZXRpYyBpcyB1c2VkIGFuZCBwcmVjaXNpb24gbG9zcyBjYW4gb2NjdXIgZm9yIHZhbHVlcyBncmVhdGVyIHRoYW4gMl41My5cbiAqLyBjbGFzcyBMZSBleHRlbmRzIERlIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuTiA9IHQsIHRoaXMuQyA9IGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBCZSh0KSB7XG4gICAgcmV0dXJuIG10KHQuaW50ZWdlclZhbHVlIHx8IHQuZG91YmxlVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBVZSh0KSB7XG4gICAgcmV0dXJuIGt0KHQpICYmIHQuYXJyYXlWYWx1ZS52YWx1ZXMgPyB0LmFycmF5VmFsdWUudmFsdWVzLnNsaWNlKCkgOiBbXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBBIGZpZWxkIHBhdGggYW5kIHRoZSBUcmFuc2Zvcm1PcGVyYXRpb24gdG8gcGVyZm9ybSB1cG9uIGl0LiAqLyBjbGFzcyBxZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmZpZWxkID0gdCwgdGhpcy50cmFuc2Zvcm0gPSBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gS2UodCwgZSkge1xuICAgIHJldHVybiB0LmZpZWxkLmlzRXF1YWwoZS5maWVsZCkgJiYgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mICRlICYmIGUgaW5zdGFuY2VvZiAkZSB8fCB0IGluc3RhbmNlb2YgRmUgJiYgZSBpbnN0YW5jZW9mIEZlID8gdHQodC5lbGVtZW50cywgZS5lbGVtZW50cywgUHQpIDogdCBpbnN0YW5jZW9mIExlICYmIGUgaW5zdGFuY2VvZiBMZSA/IFB0KHQuQywgZS5DKSA6IHQgaW5zdGFuY2VvZiBrZSAmJiBlIGluc3RhbmNlb2Yga2U7XG4gICAgfSh0LnRyYW5zZm9ybSwgZS50cmFuc2Zvcm0pO1xufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBzdWNjZXNzZnVsbHkgYXBwbHlpbmcgYSBtdXRhdGlvbiB0byB0aGUgYmFja2VuZC4gKi9cbmNsYXNzIGplIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgdmVyc2lvbiBhdCB3aGljaCB0aGUgbXV0YXRpb24gd2FzIGNvbW1pdHRlZDpcbiAgICAgKlxuICAgICAqIC0gRm9yIG1vc3Qgb3BlcmF0aW9ucywgdGhpcyBpcyB0aGUgdXBkYXRlVGltZSBpbiB0aGUgV3JpdGVSZXN1bHQuXG4gICAgICogLSBGb3IgZGVsZXRlcywgdGhlIGNvbW1pdFRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgKGJlY2F1c2UgZGVsZXRlcyBhcmVcbiAgICAgKiAgIG5vdCBzdG9yZWQgYW5kIGhhdmUgbm8gdXBkYXRlVGltZSkuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlc2UgdmVyc2lvbnMgY2FuIGJlIGRpZmZlcmVudDogTm8tb3Agd3JpdGVzIHdpbGwgbm90IGNoYW5nZVxuICAgICAqIHRoZSB1cGRhdGVUaW1lIGV2ZW4gdGhvdWdoIHRoZSBjb21taXRUaW1lIGFkdmFuY2VzLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgZmllbGRzIHJldHVybmVkIGZyb20gdGhlIGJhY2tlbmQgYWZ0ZXIgYSBtdXRhdGlvblxuICAgICAqIGNvbnRhaW5pbmcgZmllbGQgdHJhbnNmb3JtcyBoYXMgYmVlbiBjb21taXR0ZWQuIENvbnRhaW5zIG9uZSBGaWVsZFZhbHVlXG4gICAgICogZm9yIGVhY2ggRmllbGRUcmFuc2Zvcm0gdGhhdCB3YXMgaW4gdGhlIG11dGF0aW9uLlxuICAgICAqXG4gICAgICogV2lsbCBiZSBlbXB0eSBpZiB0aGUgbXV0YXRpb24gZGlkIG5vdCBjb250YWluIGFueSBmaWVsZCB0cmFuc2Zvcm1zLlxuICAgICAqL1xuICAgIGUpIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdCwgdGhpcy50cmFuc2Zvcm1SZXN1bHRzID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIHByZWNvbmRpdGlvbiBmb3IgYSBtdXRhdGlvbi4gVGhpcyBmb2xsb3dzIHRoZSBtb2RlbCB0aGF0IHRoZVxuICogYmFja2VuZCBhY2NlcHRzIHdpdGggdGhlIHNwZWNpYWwgY2FzZSBvZiBhbiBleHBsaWNpdCBcImVtcHR5XCIgcHJlY29uZGl0aW9uXG4gKiAobWVhbmluZyBubyBwcmVjb25kaXRpb24pLlxuICovIGNsYXNzIFFlIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZSA9IHQsIHRoaXMuZXhpc3RzID0gZTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgZW1wdHkgUHJlY29uZGl0aW9uLiAqLyAgICBzdGF0aWMgbm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRZTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgUHJlY29uZGl0aW9uIHdpdGggYW4gZXhpc3RzIGZsYWcuICovICAgIHN0YXRpYyBleGlzdHModCkge1xuICAgICAgICByZXR1cm4gbmV3IFFlKHZvaWQgMCwgdCk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IFByZWNvbmRpdGlvbiBiYXNlZCBvbiBhIHZlcnNpb24gYSBkb2N1bWVudCBleGlzdHMgYXQuICovICAgIHN0YXRpYyB1cGRhdGVUaW1lKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRZSh0KTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgd2hldGhlciB0aGlzIFByZWNvbmRpdGlvbiBpcyBlbXB0eS4gKi8gICAgZ2V0IGlzTm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdGhpcy51cGRhdGVUaW1lICYmIHZvaWQgMCA9PT0gdGhpcy5leGlzdHM7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGlzdHMgPT09IHQuZXhpc3RzICYmICh0aGlzLnVwZGF0ZVRpbWUgPyAhIXQudXBkYXRlVGltZSAmJiB0aGlzLnVwZGF0ZVRpbWUuaXNFcXVhbCh0LnVwZGF0ZVRpbWUpIDogIXQudXBkYXRlVGltZSk7XG4gICAgfVxufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBwcmVjb25kaXRpb25zIGlzIHZhbGlkIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuICovIGZ1bmN0aW9uIFdlKHQsIGUpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSB0LnVwZGF0ZVRpbWUgPyBlLmlzRm91bmREb2N1bWVudCgpICYmIGUudmVyc2lvbi5pc0VxdWFsKHQudXBkYXRlVGltZSkgOiB2b2lkIDAgPT09IHQuZXhpc3RzIHx8IHQuZXhpc3RzID09PSBlLmlzRm91bmREb2N1bWVudCgpO1xufVxuXG4vKipcbiAqIEEgbXV0YXRpb24gZGVzY3JpYmVzIGEgc2VsZi1jb250YWluZWQgY2hhbmdlIHRvIGEgZG9jdW1lbnQuIE11dGF0aW9ucyBjYW5cbiAqIGNyZWF0ZSwgcmVwbGFjZSwgZGVsZXRlLCBhbmQgdXBkYXRlIHN1YnNldHMgb2YgZG9jdW1lbnRzLlxuICpcbiAqIE11dGF0aW9ucyBub3Qgb25seSBhY3Qgb24gdGhlIHZhbHVlIG9mIHRoZSBkb2N1bWVudCBidXQgYWxzbyBpdHMgdmVyc2lvbi5cbiAqXG4gKiBGb3IgbG9jYWwgbXV0YXRpb25zIChtdXRhdGlvbnMgdGhhdCBoYXZlbid0IGJlZW4gY29tbWl0dGVkIHlldCksIHdlIHByZXNlcnZlXG4gKiB0aGUgZXhpc3RpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEZvciBEZWxldGUgbXV0YXRpb25zLCB3ZVxuICogcmVzZXQgdGhlIHZlcnNpb24gdG8gMC5cbiAqXG4gKiBIZXJlJ3MgdGhlIGV4cGVjdGVkIHRyYW5zaXRpb24gdGFibGUuXG4gKlxuICogTVVUQVRJT04gICAgICAgICAgIEFQUExJRUQgVE8gICAgICAgICAgICBSRVNVTFRTIElOXG4gKlxuICogU2V0TXV0YXRpb24gICAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFNldE11dGF0aW9uICAgICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgRG9jdW1lbnQodjApXG4gKiBTZXRNdXRhdGlvbiAgICAgICAgSW52YWxpZERvY3VtZW50KHYwKSAgIERvY3VtZW50KHYwKVxuICogUGF0Y2hNdXRhdGlvbiAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgTm9Eb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBJbnZhbGlkRG9jdW1lbnQodjApICAgVW5rbm93bkRvY3VtZW50KHYzKVxuICogRGVsZXRlTXV0YXRpb24gICAgIERvY3VtZW50KHYzKSAgICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIE5vRG9jdW1lbnQodjMpICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIEludmFsaWREb2N1bWVudCh2MCkgICBOb0RvY3VtZW50KHYwKVxuICpcbiAqIEZvciBhY2tub3dsZWRnZWQgbXV0YXRpb25zLCB3ZSB1c2UgdGhlIHVwZGF0ZVRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgYXNcbiAqIHRoZSByZXN1bHRpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEFzIGRlbGV0ZXMgaGF2ZSBub1xuICogZXhwbGljaXQgdXBkYXRlIHRpbWUsIHdlIHVzZSB0aGUgY29tbWl0VGltZSBvZiB0aGUgV3JpdGVSZXNwb25zZSBmb3JcbiAqIERlbGV0ZSBtdXRhdGlvbnMuXG4gKlxuICogSWYgYSBtdXRhdGlvbiBpcyBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQgYnV0IGZhaWxzIHRoZSBwcmVjb25kaXRpb24gY2hlY2tcbiAqIGxvY2FsbHksIHdlIHRyYW5zaXRpb24gdG8gYW4gYFVua25vd25Eb2N1bWVudGAgYW5kIHJlbHkgb24gV2F0Y2ggdG8gc2VuZCB1c1xuICogdGhlIHVwZGF0ZWQgdmVyc2lvbi5cbiAqXG4gKiBGaWVsZCB0cmFuc2Zvcm1zIGFyZSB1c2VkIG9ubHkgd2l0aCBQYXRjaCBhbmQgU2V0IE11dGF0aW9ucy4gV2UgdXNlIHRoZVxuICogYHVwZGF0ZVRyYW5zZm9ybXNgIG1lc3NhZ2UgdG8gc3RvcmUgdHJhbnNmb3JtcywgcmF0aGVyIHRoYW4gdGhlIGB0cmFuc2Zvcm1zYHNcbiAqIG1lc3NhZ2VzLlxuICpcbiAqICMjIFN1YmNsYXNzaW5nIE5vdGVzXG4gKlxuICogRXZlcnkgdHlwZSBvZiBtdXRhdGlvbiBuZWVkcyB0byBpbXBsZW1lbnQgaXRzIG93biBhcHBseVRvUmVtb3RlRG9jdW1lbnQoKSBhbmRcbiAqIGFwcGx5VG9Mb2NhbFZpZXcoKSB0byBpbXBsZW1lbnQgdGhlIGFjdHVhbCBiZWhhdmlvciBvZiBhcHBseWluZyB0aGUgbXV0YXRpb25cbiAqIHRvIHNvbWUgc291cmNlIGRvY3VtZW50IChzZWUgYHNldE11dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KClgIGZvciBhblxuICogZXhhbXBsZSkuXG4gKi8gY2xhc3MgR2Uge31cblxuLyoqXG4gKiBBcHBsaWVzIHRoaXMgbXV0YXRpb24gdG8gdGhlIGdpdmVuIGRvY3VtZW50IGZvciB0aGUgcHVycG9zZXMgb2YgY29tcHV0aW5nIGFcbiAqIG5ldyByZW1vdGUgZG9jdW1lbnQuIElmIHRoZSBpbnB1dCBkb2N1bWVudCBkb2Vzbid0IG1hdGNoIHRoZSBleHBlY3RlZCBzdGF0ZVxuICogKGUuZy4gaXQgaXMgaW52YWxpZCBvciBvdXRkYXRlZCksIHRoZSBkb2N1bWVudCB0eXBlIG1heSB0cmFuc2l0aW9uIHRvXG4gKiB1bmtub3duLlxuICpcbiAqIEBwYXJhbSBtdXRhdGlvbiAtIFRoZSBtdXRhdGlvbiB0byBhcHBseS5cbiAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBtdXRhdGUuIFRoZSBpbnB1dCBkb2N1bWVudCBjYW4gYmUgYW5cbiAqICAgICBpbnZhbGlkIGRvY3VtZW50IGlmIHRoZSBjbGllbnQgaGFzIG5vIGtub3dsZWRnZSBvZiB0aGUgcHJlLW11dGF0aW9uIHN0YXRlXG4gKiAgICAgb2YgdGhlIGRvY3VtZW50LlxuICogQHBhcmFtIG11dGF0aW9uUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgbXV0YXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAqLyBmdW5jdGlvbiB6ZSh0LCBlLCBuKSB7XG4gICAgdCBpbnN0YW5jZW9mIFplID8gZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICAvLyBVbmxpa2Ugc2V0TXV0YXRpb25BcHBseVRvTG9jYWxWaWV3LCBpZiB3ZSdyZSBhcHBseWluZyBhIG11dGF0aW9uIHRvIGFcbiAgICAgICAgLy8gcmVtb3RlIGRvY3VtZW50IHRoZSBzZXJ2ZXIgaGFzIGFjY2VwdGVkIHRoZSBtdXRhdGlvbiBzbyB0aGUgcHJlY29uZGl0aW9uXG4gICAgICAgIC8vIG11c3QgaGF2ZSBoZWxkLlxuICAgICAgICBjb25zdCBzID0gdC52YWx1ZS5jbG9uZSgpLCBpID0gbm4odC5maWVsZFRyYW5zZm9ybXMsIGUsIG4udHJhbnNmb3JtUmVzdWx0cyk7XG4gICAgICAgIHMuc2V0QWxsKGkpLCBlLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCBzKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KHQsIGUsIG4pIDogdCBpbnN0YW5jZW9mIHRuID8gZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICBpZiAoIVdlKHQucHJlY29uZGl0aW9uLCBlKSkgXG4gICAgICAgIC8vIFNpbmNlIHRoZSBtdXRhdGlvbiB3YXMgbm90IHJlamVjdGVkLCB3ZSBrbm93IHRoYXQgdGhlIHByZWNvbmRpdGlvblxuICAgICAgICAvLyBtYXRjaGVkIG9uIHRoZSBiYWNrZW5kLiBXZSB0aGVyZWZvcmUgbXVzdCBub3QgaGF2ZSB0aGUgZXhwZWN0ZWQgdmVyc2lvblxuICAgICAgICAvLyBvZiB0aGUgZG9jdW1lbnQgaW4gb3VyIGNhY2hlIGFuZCBjb252ZXJ0IHRvIGFuIFVua25vd25Eb2N1bWVudCB3aXRoIGFcbiAgICAgICAgLy8ga25vd24gdXBkYXRlVGltZS5cbiAgICAgICAgcmV0dXJuIHZvaWQgZS5jb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQobi52ZXJzaW9uKTtcbiAgICAgICAgY29uc3QgcyA9IG5uKHQuZmllbGRUcmFuc2Zvcm1zLCBlLCBuLnRyYW5zZm9ybVJlc3VsdHMpLCBpID0gZS5kYXRhO1xuICAgICAgICBpLnNldEFsbChlbih0KSksIGkuc2V0QWxsKHMpLCBlLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCBpKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KHQsIGUsIG4pIDogZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICAvLyBVbmxpa2UgYXBwbHlUb0xvY2FsVmlldywgaWYgd2UncmUgYXBwbHlpbmcgYSBtdXRhdGlvbiB0byBhIHJlbW90ZVxuICAgICAgICAvLyBkb2N1bWVudCB0aGUgc2VydmVyIGhhcyBhY2NlcHRlZCB0aGUgbXV0YXRpb24gc28gdGhlIHByZWNvbmRpdGlvbiBtdXN0XG4gICAgICAgIC8vIGhhdmUgaGVsZC5cbiAgICAgICAgZS5jb252ZXJ0VG9Ob0RvY3VtZW50KG4udmVyc2lvbikuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCk7XG4gICAgfSgwLCBlLCBuKTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoaXMgbXV0YXRpb24gdG8gdGhlIGdpdmVuIGRvY3VtZW50IGZvciB0aGUgcHVycG9zZXMgb2YgY29tcHV0aW5nXG4gKiB0aGUgbmV3IGxvY2FsIHZpZXcgb2YgYSBkb2N1bWVudC4gSWYgdGhlIGlucHV0IGRvY3VtZW50IGRvZXNuJ3QgbWF0Y2ggdGhlXG4gKiBleHBlY3RlZCBzdGF0ZSwgdGhlIGRvY3VtZW50IGlzIG5vdCBtb2RpZmllZC5cbiAqXG4gKiBAcGFyYW0gbXV0YXRpb24gLSBUaGUgbXV0YXRpb24gdG8gYXBwbHkuXG4gKiBAcGFyYW0gZG9jdW1lbnQgLSBUaGUgZG9jdW1lbnQgdG8gbXV0YXRlLiBUaGUgaW5wdXQgZG9jdW1lbnQgY2FuIGJlIGFuXG4gKiAgICAgaW52YWxpZCBkb2N1bWVudCBpZiB0aGUgY2xpZW50IGhhcyBubyBrbm93bGVkZ2Ugb2YgdGhlIHByZS1tdXRhdGlvbiBzdGF0ZVxuICogICAgIG9mIHRoZSBkb2N1bWVudC5cbiAqIEBwYXJhbSBsb2NhbFdyaXRlVGltZSAtIEEgdGltZXN0YW1wIGluZGljYXRpbmcgdGhlIGxvY2FsIHdyaXRlIHRpbWUgb2YgdGhlXG4gKiAgICAgYmF0Y2ggdGhpcyBtdXRhdGlvbiBpcyBhIHBhcnQgb2YuXG4gKi8gZnVuY3Rpb24gSGUodCwgZSwgbikge1xuICAgIHQgaW5zdGFuY2VvZiBaZSA/IGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgaWYgKCFXZSh0LnByZWNvbmRpdGlvbiwgZSkpIFxuICAgICAgICAvLyBUaGUgbXV0YXRpb24gZmFpbGVkIHRvIGFwcGx5IChlLmcuIGEgZG9jdW1lbnQgSUQgY3JlYXRlZCB3aXRoIGFkZCgpXG4gICAgICAgIC8vIGNhdXNlZCBhIG5hbWUgY29sbGlzaW9uKS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzID0gdC52YWx1ZS5jbG9uZSgpLCBpID0gc24odC5maWVsZFRyYW5zZm9ybXMsIG4sIGUpO1xuICAgICAgICBzLnNldEFsbChpKSwgZS5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KFhlKGUpLCBzKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpO1xuICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCBtb2RpZmllcyBmaWVsZHMgb2YgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aCB0aGVcbiAqIGdpdmVuIHZhbHVlcy4gVGhlIHZhbHVlcyBhcmUgYXBwbGllZCB0aHJvdWdoIGEgZmllbGQgbWFzazpcbiAqXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gYm90aCB0aGUgbWFzayBhbmQgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmcgZmllbGRcbiAqICAgIGlzIHVwZGF0ZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gbmVpdGhlciB0aGUgbWFzayBub3IgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmdcbiAqICAgIGZpZWxkIGlzIHVubW9kaWZpZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gdGhlIG1hc2sgYnV0IG5vdCBpbiB0aGUgdmFsdWVzLCB0aGUgY29ycmVzcG9uZGluZyBmaWVsZFxuICogICAgaXMgZGVsZXRlZC5cbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBub3QgaW4gdGhlIG1hc2sgYnV0IGlzIGluIHRoZSB2YWx1ZXMsIHRoZSB2YWx1ZXMgbWFwIGlzXG4gKiAgICBpZ25vcmVkLlxuICovICh0LCBlLCBuKSA6IHQgaW5zdGFuY2VvZiB0biA/IGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgaWYgKCFXZSh0LnByZWNvbmRpdGlvbiwgZSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgcyA9IHNuKHQuZmllbGRUcmFuc2Zvcm1zLCBuLCBlKSwgaSA9IGUuZGF0YTtcbiAgICAgICAgaS5zZXRBbGwoZW4odCkpLCBpLnNldEFsbChzKSwgZS5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KFhlKGUpLCBpKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpO1xuICAgIH1cbiAgICAvKipcbiAqIFJldHVybnMgYSBGaWVsZFBhdGgvVmFsdWUgbWFwIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlIFBhdGNoTXV0YXRpb24uXG4gKi8gKHQsIGUsIG4pIDogZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBXZSh0LnByZWNvbmRpdGlvbiwgZSkgJiYgXG4gICAgICAgIC8vIFdlIGRvbid0IGNhbGwgYHNldEhhc0xvY2FsTXV0YXRpb25zKClgIHNpbmNlIHdlIHdhbnQgdG8gYmUgYmFja3dhcmRzXG4gICAgICAgIC8vIGNvbXBhdGlibGUgd2l0aCB0aGUgZXhpc3RpbmcgU0RLIGJlaGF2aW9yLlxuICAgICAgICBlLmNvbnZlcnRUb05vRG9jdW1lbnQoc3QubWluKCkpO1xuICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCB2ZXJpZmllcyB0aGUgZXhpc3RlbmNlIG9mIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5IHdpdGhcbiAqIHRoZSBwcm92aWRlZCBwcmVjb25kaXRpb24uXG4gKlxuICogVGhlIGB2ZXJpZnlgIG9wZXJhdGlvbiBpcyBvbmx5IHVzZWQgaW4gVHJhbnNhY3Rpb25zLCBhbmQgdGhpcyBjbGFzcyBzZXJ2ZXNcbiAqIHByaW1hcmlseSB0byBmYWNpbGl0YXRlIHNlcmlhbGl6YXRpb24gaW50byBwcm90b3MuXG4gKi8gKHQsIGUpO1xufVxuXG4vKipcbiAqIElmIHRoaXMgbXV0YXRpb24gaXMgbm90IGlkZW1wb3RlbnQsIHJldHVybnMgdGhlIGJhc2UgdmFsdWUgdG8gcGVyc2lzdCB3aXRoXG4gKiB0aGlzIG11dGF0aW9uLiBJZiBhIGJhc2UgdmFsdWUgaXMgcmV0dXJuZWQsIHRoZSBtdXRhdGlvbiBpcyBhbHdheXMgYXBwbGllZFxuICogdG8gdGhpcyBiYXNlIHZhbHVlLCBldmVuIGlmIGRvY3VtZW50IGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgYmFzZSB2YWx1ZSBpcyBhIHNwYXJzZSBvYmplY3QgdGhhdCBjb25zaXN0cyBvZiBvbmx5IHRoZSBkb2N1bWVudFxuICogZmllbGRzIGZvciB3aGljaCB0aGlzIG11dGF0aW9uIGNvbnRhaW5zIGEgbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtYXRpb25cbiAqIChlLmcuIGEgbnVtZXJpYyBpbmNyZW1lbnQpLiBUaGUgcHJvdmlkZWQgdmFsdWUgZ3VhcmFudGVlcyBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBmb3Igbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtcyBhbmQgYWxsb3cgdXMgdG8gcmV0dXJuIHRoZSBzYW1lXG4gKiBsYXRlbmN5LWNvbXBlbnNhdGVkIHZhbHVlIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzIGFscmVhZHkgYXBwbGllZCB0aGVcbiAqIG11dGF0aW9uLiBUaGUgYmFzZSB2YWx1ZSBpcyBudWxsIGZvciBpZGVtcG90ZW50IG11dGF0aW9ucywgYXMgdGhleSBjYW4gYmVcbiAqIHJlLXBsYXllZCBldmVuIGlmIHRoZSBiYWNrZW5kIGhhcyBhbHJlYWR5IGFwcGxpZWQgdGhlbS5cbiAqXG4gKiBAcmV0dXJucyBhIGJhc2UgdmFsdWUgdG8gc3RvcmUgYWxvbmcgd2l0aCB0aGUgbXV0YXRpb24sIG9yIG51bGwgZm9yXG4gKiBpZGVtcG90ZW50IG11dGF0aW9ucy5cbiAqLyBmdW5jdGlvbiBKZSh0LCBlKSB7XG4gICAgbGV0IG4gPSBudWxsO1xuICAgIGZvciAoY29uc3QgcyBvZiB0LmZpZWxkVHJhbnNmb3Jtcykge1xuICAgICAgICBjb25zdCB0ID0gZS5kYXRhLmZpZWxkKHMuZmllbGQpLCBpID0geGUocy50cmFuc2Zvcm0sIHQgfHwgbnVsbCk7XG4gICAgICAgIG51bGwgIT0gaSAmJiAobnVsbCA9PSBuICYmIChuID0gTHQuZW1wdHkoKSksIG4uc2V0KHMuZmllbGQsIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gWWUodCwgZSkge1xuICAgIHJldHVybiB0LnR5cGUgPT09IGUudHlwZSAmJiAoISF0LmtleS5pc0VxdWFsKGUua2V5KSAmJiAoISF0LnByZWNvbmRpdGlvbi5pc0VxdWFsKGUucHJlY29uZGl0aW9uKSAmJiAoISFmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgdm9pZCAwID09PSBlIHx8ICEoIXQgfHwgIWUpICYmIHR0KHQsIGUsICgodCwgZSkgPT4gS2UodCwgZSkpKTtcbiAgICB9KHQuZmllbGRUcmFuc2Zvcm1zLCBlLmZpZWxkVHJhbnNmb3JtcykgJiYgKDAgLyogU2V0ICovID09PSB0LnR5cGUgPyB0LnZhbHVlLmlzRXF1YWwoZS52YWx1ZSkgOiAxIC8qIFBhdGNoICovICE9PSB0LnR5cGUgfHwgdC5kYXRhLmlzRXF1YWwoZS5kYXRhKSAmJiB0LmZpZWxkTWFzay5pc0VxdWFsKGUuZmllbGRNYXNrKSkpKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmVyc2lvbiBmcm9tIHRoZSBnaXZlbiBkb2N1bWVudCBmb3IgdXNlIGFzIHRoZSByZXN1bHQgb2YgYVxuICogbXV0YXRpb24uIE11dGF0aW9ucyBhcmUgZGVmaW5lZCB0byByZXR1cm4gdGhlIHZlcnNpb24gb2YgdGhlIGJhc2UgZG9jdW1lbnRcbiAqIG9ubHkgaWYgaXQgaXMgYW4gZXhpc3RpbmcgZG9jdW1lbnQuIERlbGV0ZWQgYW5kIHVua25vd24gZG9jdW1lbnRzIGhhdmUgYVxuICogcG9zdC1tdXRhdGlvbiB2ZXJzaW9uIG9mIFNuYXBzaG90VmVyc2lvbi5taW4oKS5cbiAqLyBmdW5jdGlvbiBYZSh0KSB7XG4gICAgcmV0dXJuIHQuaXNGb3VuZERvY3VtZW50KCkgPyB0LnZlcnNpb24gOiBzdC5taW4oKTtcbn1cblxuLyoqXG4gKiBBIG11dGF0aW9uIHRoYXQgY3JlYXRlcyBvciByZXBsYWNlcyB0aGUgZG9jdW1lbnQgYXQgdGhlIGdpdmVuIGtleSB3aXRoIHRoZVxuICogb2JqZWN0IHZhbHVlIGNvbnRlbnRzLlxuICovIGNsYXNzIFplIGV4dGVuZHMgR2Uge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMgPSBbXSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmtleSA9IHQsIHRoaXMudmFsdWUgPSBlLCB0aGlzLnByZWNvbmRpdGlvbiA9IG4sIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gcywgXG4gICAgICAgIHRoaXMudHlwZSA9IDAgLyogU2V0ICovO1xuICAgIH1cbn1cblxuY2xhc3MgdG4gZXh0ZW5kcyBHZSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcywgaSA9IFtdKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gdCwgdGhpcy5kYXRhID0gZSwgdGhpcy5maWVsZE1hc2sgPSBuLCB0aGlzLnByZWNvbmRpdGlvbiA9IHMsIFxuICAgICAgICB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IGksIHRoaXMudHlwZSA9IDEgLyogUGF0Y2ggKi87XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbih0KSB7XG4gICAgY29uc3QgZSA9IG5ldyBNYXA7XG4gICAgcmV0dXJuIHQuZmllbGRNYXNrLmZpZWxkcy5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgaWYgKCFuLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHQuZGF0YS5maWVsZChuKTtcbiAgICAgICAgICAgIGUuc2V0KG4sIHMpO1xuICAgICAgICB9XG4gICAgfSkpLCBlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBsaXN0IG9mIFwidHJhbnNmb3JtIHJlc3VsdHNcIiAoYSB0cmFuc2Zvcm0gcmVzdWx0IGlzIGEgZmllbGQgdmFsdWVcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGEgdHJhbnNmb3JtKSBmb3IgdXNlIGFmdGVyIGEgbXV0YXRpb25cbiAqIGNvbnRhaW5pbmcgdHJhbnNmb3JtcyBoYXMgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0gZmllbGRUcmFuc2Zvcm1zIC0gVGhlIGZpZWxkIHRyYW5zZm9ybXMgdG8gYXBwbHkgdGhlIHJlc3VsdCB0by5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgYXBwbHlpbmcgYWxsXG4gKiBwcmV2aW91cyBtdXRhdGlvbnMuXG4gKiBAcGFyYW0gc2VydmVyVHJhbnNmb3JtUmVzdWx0cyAtIFRoZSB0cmFuc2Zvcm0gcmVzdWx0cyByZWNlaXZlZCBieSB0aGUgc2VydmVyLlxuICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSByZXN1bHRzIGxpc3QuXG4gKi8gZnVuY3Rpb24gbm4odCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBuZXcgTWFwO1xuICAgIE0odC5sZW5ndGggPT09IG4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgciA9IHRbaV0sIG8gPSByLnRyYW5zZm9ybSwgYSA9IGUuZGF0YS5maWVsZChyLmZpZWxkKTtcbiAgICAgICAgcy5zZXQoci5maWVsZCwgTmUobywgYSwgbltpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbGlzdCBvZiBcInRyYW5zZm9ybSByZXN1bHRzXCIgKGEgdHJhbnNmb3JtIHJlc3VsdCBpcyBhIGZpZWxkIHZhbHVlXG4gKiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIHRyYW5zZm9ybSkgZm9yIHVzZSB3aGVuIGFwcGx5aW5nIGFcbiAqIHRyYW5zZm9ybSBsb2NhbGx5LlxuICpcbiAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBUaGUgZmllbGQgdHJhbnNmb3JtcyB0byBhcHBseSB0aGUgcmVzdWx0IHRvLlxuICogQHBhcmFtIGxvY2FsV3JpdGVUaW1lIC0gVGhlIGxvY2FsIHRpbWUgb2YgdGhlIG11dGF0aW9uICh1c2VkIHRvXG4gKiAgICAgZ2VuZXJhdGUgU2VydmVyVGltZXN0YW1wVmFsdWVzKS5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgYXBwbHlpbmcgYWxsXG4gKiAgICAgcHJldmlvdXMgbXV0YXRpb25zLlxuICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSByZXN1bHRzIGxpc3QuXG4gKi8gZnVuY3Rpb24gc24odCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBuZXcgTWFwO1xuICAgIGZvciAoY29uc3QgaSBvZiB0KSB7XG4gICAgICAgIGNvbnN0IHQgPSBpLnRyYW5zZm9ybSwgciA9IG4uZGF0YS5maWVsZChpLmZpZWxkKTtcbiAgICAgICAgcy5zZXQoaS5maWVsZCwgQ2UodCwgciwgZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cblxuLyoqIEEgbXV0YXRpb24gdGhhdCBkZWxldGVzIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5LiAqLyBjbGFzcyBybiBleHRlbmRzIEdlIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gdCwgdGhpcy5wcmVjb25kaXRpb24gPSBlLCB0aGlzLnR5cGUgPSAyIC8qIERlbGV0ZSAqLyAsIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxufVxuXG5jbGFzcyBvbiBleHRlbmRzIEdlIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gdCwgdGhpcy5wcmVjb25kaXRpb24gPSBlLCB0aGlzLnR5cGUgPSAzIC8qIFZlcmlmeSAqLyAsIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBhbiB7XG4gICAgLy8gVE9ETyhiLzMzMDc4MTYzKToganVzdCB1c2Ugc2ltcGxlc3QgZm9ybSBvZiBleGlzdGVuY2UgZmlsdGVyIGZvciBub3dcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuY291bnQgPSB0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRXJyb3IgQ29kZXMgZGVzY3JpYmluZyB0aGUgZGlmZmVyZW50IHdheXMgR1JQQyBjYW4gZmFpbC4gVGhlc2UgYXJlIGNvcGllZFxuICogZGlyZWN0bHkgZnJvbSBHUlBDJ3Mgc291cmNlcyBoZXJlOlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9iY2VlYzk0ZWE0ZmM1ZjAwODVkODEyMzVkOGUxYzA2Nzk4ZGMzNDFhL2luY2x1ZGUvZ3JwYyUyQiUyQi9pbXBsL2NvZGVnZW4vc3RhdHVzX2NvZGVfZW51bS5oXG4gKlxuICogSW1wb3J0YW50ISBUaGUgbmFtZXMgb2YgdGhlc2UgaWRlbnRpZmllcnMgbWF0dGVyIGJlY2F1c2UgdGhlIHN0cmluZyBmb3Jtc1xuICogYXJlIHVzZWQgZm9yIHJldmVyc2UgbG9va3VwcyBmcm9tIHRoZSB3ZWJjaGFubmVsIHN0cmVhbS4gRG8gTk9UIGNoYW5nZSB0aGVcbiAqIG5hbWVzIG9mIHRoZXNlIGlkZW50aWZpZXJzIG9yIGNoYW5nZSB0aGlzIGludG8gYSBjb25zdCBlbnVtLlxuICovIHZhciBjbiwgdW47XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGVycm9yIGNvZGUgcmVwcmVzZW50cyBhIHBlcm1hbmVudCBlcnJvciB3aGVuIHJlY2VpdmVkXG4gKiBpbiByZXNwb25zZSB0byBhIG5vbi13cml0ZSBvcGVyYXRpb24uXG4gKlxuICogU2VlIGlzUGVybWFuZW50V3JpdGVFcnJvciBmb3IgY2xhc3NpZnlpbmcgd3JpdGUgZXJyb3JzLlxuICovXG5mdW5jdGlvbiBobih0KSB7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFUuT0s6XG4gICAgICAgIHJldHVybiBGKCk7XG5cbiAgICAgIGNhc2UgVS5DQU5DRUxMRUQ6XG4gICAgICBjYXNlIFUuVU5LTk9XTjpcbiAgICAgIGNhc2UgVS5ERUFETElORV9FWENFRURFRDpcbiAgICAgIGNhc2UgVS5SRVNPVVJDRV9FWEhBVVNURUQ6XG4gICAgICBjYXNlIFUuSU5URVJOQUw6XG4gICAgICBjYXNlIFUuVU5BVkFJTEFCTEU6XG4gLy8gVW5hdXRoZW50aWNhdGVkIG1lYW5zIHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggb3VyIHRva2VuIGFuZCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJldHJ5IHdpdGggbmV3IGNyZWRlbnRpYWxzIHdoaWNoIHdpbGwgaGFwcGVuIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgIGNhc2UgVS5VTkFVVEhFTlRJQ0FURUQ6XG4gICAgICAgIHJldHVybiAhMTtcblxuICAgICAgY2FzZSBVLklOVkFMSURfQVJHVU1FTlQ6XG4gICAgICBjYXNlIFUuTk9UX0ZPVU5EOlxuICAgICAgY2FzZSBVLkFMUkVBRFlfRVhJU1RTOlxuICAgICAgY2FzZSBVLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgY2FzZSBVLkZBSUxFRF9QUkVDT05ESVRJT046XG4gLy8gQWJvcnRlZCBtaWdodCBiZSByZXRyaWVkIGluIHNvbWUgc2NlbmFyaW9zLCBidXQgdGhhdCBpcyBkZXBlbmRhbnQgb25cbiAgICAgICAgLy8gdGhlIGNvbnRleHQgYW5kIHNob3VsZCBoYW5kbGVkIGluZGl2aWR1YWxseSBieSB0aGUgY2FsbGluZyBjb2RlLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwaXMvZGVzaWduL2Vycm9ycy5cbiAgICAgICAgICAgICAgY2FzZSBVLkFCT1JURUQ6XG4gICAgICBjYXNlIFUuT1VUX09GX1JBTkdFOlxuICAgICAgY2FzZSBVLlVOSU1QTEVNRU5URUQ6XG4gICAgICBjYXNlIFUuREFUQV9MT1NTOlxuICAgICAgICByZXR1cm4gITA7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBGKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhbiBlcnJvciBjb2RlIHJlcHJlc2VudHMgYSBwZXJtYW5lbnQgZXJyb3Igd2hlbiByZWNlaXZlZFxuICogaW4gcmVzcG9uc2UgdG8gYSB3cml0ZSBvcGVyYXRpb24uXG4gKlxuICogV3JpdGUgb3BlcmF0aW9ucyBtdXN0IGJlIGhhbmRsZWQgc3BlY2lhbGx5IGJlY2F1c2UgYXMgb2YgYi8xMTk0Mzc3NjQsIEFCT1JURURcbiAqIGVycm9ycyBvbiB0aGUgd3JpdGUgc3RyZWFtIHNob3VsZCBiZSByZXRyaWVkIHRvbyAoZXZlbiB0aG91Z2ggQUJPUlRFRCBlcnJvcnNcbiAqIGFyZSBub3QgZ2VuZXJhbGx5IHJldHJ5YWJsZSkuXG4gKlxuICogTm90ZSB0aGF0IGR1cmluZyB0aGUgaW5pdGlhbCBoYW5kc2hha2Ugb24gdGhlIHdyaXRlIHN0cmVhbSBhbiBBQk9SVEVEIGVycm9yXG4gKiBzaWduYWxzIHRoYXQgd2Ugc2hvdWxkIGRpc2NhcmQgb3VyIHN0cmVhbSB0b2tlbiAoaS5lLiBpdCBpcyBwZXJtYW5lbnQpLiBUaGlzXG4gKiBtZWFucyBhIGhhbmRzaGFrZSBlcnJvciBzaG91bGQgYmUgY2xhc3NpZmllZCB3aXRoIGlzUGVybWFuZW50RXJyb3IsIGFib3ZlLlxuICovXG4vKipcbiAqIE1hcHMgYW4gZXJyb3IgQ29kZSBmcm9tIEdSUEMgc3RhdHVzIGNvZGUgbnVtYmVyLCBsaWtlIDAsIDEsIG9yIDE0LiBUaGVzZVxuICogYXJlIG5vdCB0aGUgc2FtZSBhcyBIVFRQIHN0YXR1cyBjb2Rlcy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29kZSBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBHUlBDIHN0YXR1cyBjb2RlLiBGYWlscyBpZiB0aGVyZVxuICogICAgIGlzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBsbih0KSB7XG4gICAgaWYgKHZvaWQgMCA9PT0gdCkgXG4gICAgLy8gVGhpcyBzaG91bGRuJ3Qgbm9ybWFsbHkgaGFwcGVuLCBidXQgaW4gY2VydGFpbiBlcnJvciBjYXNlcyAobGlrZSB0cnlpbmdcbiAgICAvLyB0byBzZW5kIGludmFsaWQgcHJvdG8gbWVzc2FnZXMpIHdlIG1heSBnZXQgYW4gZXJyb3Igd2l0aCBubyBHUlBDIGNvZGUuXG4gICAgcmV0dXJuIGsoXCJHUlBDIGVycm9yIGhhcyBubyAuY29kZVwiKSwgVS5VTktOT1dOO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSBjbi5PSzpcbiAgICAgICAgcmV0dXJuIFUuT0s7XG5cbiAgICAgIGNhc2UgY24uQ0FOQ0VMTEVEOlxuICAgICAgICByZXR1cm4gVS5DQU5DRUxMRUQ7XG5cbiAgICAgIGNhc2UgY24uVU5LTk9XTjpcbiAgICAgICAgcmV0dXJuIFUuVU5LTk9XTjtcblxuICAgICAgY2FzZSBjbi5ERUFETElORV9FWENFRURFRDpcbiAgICAgICAgcmV0dXJuIFUuREVBRExJTkVfRVhDRUVERUQ7XG5cbiAgICAgIGNhc2UgY24uUkVTT1VSQ0VfRVhIQVVTVEVEOlxuICAgICAgICByZXR1cm4gVS5SRVNPVVJDRV9FWEhBVVNURUQ7XG5cbiAgICAgIGNhc2UgY24uSU5URVJOQUw6XG4gICAgICAgIHJldHVybiBVLklOVEVSTkFMO1xuXG4gICAgICBjYXNlIGNuLlVOQVZBSUxBQkxFOlxuICAgICAgICByZXR1cm4gVS5VTkFWQUlMQUJMRTtcblxuICAgICAgY2FzZSBjbi5VTkFVVEhFTlRJQ0FURUQ6XG4gICAgICAgIHJldHVybiBVLlVOQVVUSEVOVElDQVRFRDtcblxuICAgICAgY2FzZSBjbi5JTlZBTElEX0FSR1VNRU5UOlxuICAgICAgICByZXR1cm4gVS5JTlZBTElEX0FSR1VNRU5UO1xuXG4gICAgICBjYXNlIGNuLk5PVF9GT1VORDpcbiAgICAgICAgcmV0dXJuIFUuTk9UX0ZPVU5EO1xuXG4gICAgICBjYXNlIGNuLkFMUkVBRFlfRVhJU1RTOlxuICAgICAgICByZXR1cm4gVS5BTFJFQURZX0VYSVNUUztcblxuICAgICAgY2FzZSBjbi5QRVJNSVNTSU9OX0RFTklFRDpcbiAgICAgICAgcmV0dXJuIFUuUEVSTUlTU0lPTl9ERU5JRUQ7XG5cbiAgICAgIGNhc2UgY24uRkFJTEVEX1BSRUNPTkRJVElPTjpcbiAgICAgICAgcmV0dXJuIFUuRkFJTEVEX1BSRUNPTkRJVElPTjtcblxuICAgICAgY2FzZSBjbi5BQk9SVEVEOlxuICAgICAgICByZXR1cm4gVS5BQk9SVEVEO1xuXG4gICAgICBjYXNlIGNuLk9VVF9PRl9SQU5HRTpcbiAgICAgICAgcmV0dXJuIFUuT1VUX09GX1JBTkdFO1xuXG4gICAgICBjYXNlIGNuLlVOSU1QTEVNRU5URUQ6XG4gICAgICAgIHJldHVybiBVLlVOSU1QTEVNRU5URUQ7XG5cbiAgICAgIGNhc2UgY24uREFUQV9MT1NTOlxuICAgICAgICByZXR1cm4gVS5EQVRBX0xPU1M7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBGKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIEhUVFAgcmVzcG9uc2UncyBlcnJvciBzdGF0dXMgdG8gdGhlIGVxdWl2YWxlbnQgZXJyb3IgY29kZS5cbiAqXG4gKiBAcGFyYW0gc3RhdHVzIC0gQW4gSFRUUCBlcnJvciByZXNwb25zZSBzdGF0dXMgKFwiRkFJTEVEX1BSRUNPTkRJVElPTlwiLFxuICogXCJVTktOT1dOXCIsIGV0Yy4pXG4gKiBAcmV0dXJucyBUaGUgZXF1aXZhbGVudCBDb2RlLiBOb24tbWF0Y2hpbmcgcmVzcG9uc2VzIGFyZSBtYXBwZWQgdG9cbiAqICAgICBDb2RlLlVOS05PV04uXG4gKi8gKHVuID0gY24gfHwgKGNuID0ge30pKVt1bi5PSyA9IDBdID0gXCJPS1wiLCB1blt1bi5DQU5DRUxMRUQgPSAxXSA9IFwiQ0FOQ0VMTEVEXCIsIFxudW5bdW4uVU5LTk9XTiA9IDJdID0gXCJVTktOT1dOXCIsIHVuW3VuLklOVkFMSURfQVJHVU1FTlQgPSAzXSA9IFwiSU5WQUxJRF9BUkdVTUVOVFwiLCBcbnVuW3VuLkRFQURMSU5FX0VYQ0VFREVEID0gNF0gPSBcIkRFQURMSU5FX0VYQ0VFREVEXCIsIHVuW3VuLk5PVF9GT1VORCA9IDVdID0gXCJOT1RfRk9VTkRcIiwgXG51blt1bi5BTFJFQURZX0VYSVNUUyA9IDZdID0gXCJBTFJFQURZX0VYSVNUU1wiLCB1blt1bi5QRVJNSVNTSU9OX0RFTklFRCA9IDddID0gXCJQRVJNSVNTSU9OX0RFTklFRFwiLCBcbnVuW3VuLlVOQVVUSEVOVElDQVRFRCA9IDE2XSA9IFwiVU5BVVRIRU5USUNBVEVEXCIsIHVuW3VuLlJFU09VUkNFX0VYSEFVU1RFRCA9IDhdID0gXCJSRVNPVVJDRV9FWEhBVVNURURcIiwgXG51blt1bi5GQUlMRURfUFJFQ09ORElUSU9OID0gOV0gPSBcIkZBSUxFRF9QUkVDT05ESVRJT05cIiwgdW5bdW4uQUJPUlRFRCA9IDEwXSA9IFwiQUJPUlRFRFwiLCBcbnVuW3VuLk9VVF9PRl9SQU5HRSA9IDExXSA9IFwiT1VUX09GX1JBTkdFXCIsIHVuW3VuLlVOSU1QTEVNRU5URUQgPSAxMl0gPSBcIlVOSU1QTEVNRU5URURcIiwgXG51blt1bi5JTlRFUk5BTCA9IDEzXSA9IFwiSU5URVJOQUxcIiwgdW5bdW4uVU5BVkFJTEFCTEUgPSAxNF0gPSBcIlVOQVZBSUxBQkxFXCIsIHVuW3VuLkRBVEFfTE9TUyA9IDE1XSA9IFwiREFUQV9MT1NTXCI7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBBbiBpbW11dGFibGUgc29ydGVkIG1hcCBpbXBsZW1lbnRhdGlvbiwgYmFzZWQgb24gYSBMZWZ0LWxlYW5pbmcgUmVkLUJsYWNrXG4vLyB0cmVlLlxuY2xhc3MgZm4ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jb21wYXJhdG9yID0gdCwgdGhpcy5yb290ID0gZSB8fCB3bi5FTVBUWTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hcCwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleS92YWx1ZSBhZGRlZCBvciByZXBsYWNlZC5cbiAgICBpbnNlcnQodCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IGZuKHRoaXMuY29tcGFyYXRvciwgdGhpcy5yb290Lmluc2VydCh0LCBlLCB0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCwgbnVsbCwgd24uQkxBQ0ssIG51bGwsIG51bGwpKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hcCwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSByZW1vdmVkLlxuICAgIHJlbW92ZSh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgZm4odGhpcy5jb21wYXJhdG9yLCB0aGlzLnJvb3QucmVtb3ZlKHQsIHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLCBudWxsLCB3bi5CTEFDSywgbnVsbCwgbnVsbCkpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgbm9kZSB3aXRoIHRoZSBnaXZlbiBrZXksIG9yIG51bGwuXG4gICAgZ2V0KHQpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGZvciAoOyFlLmlzRW1wdHkoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5jb21wYXJhdG9yKHQsIGUua2V5KTtcbiAgICAgICAgICAgIGlmICgwID09PSBuKSByZXR1cm4gZS52YWx1ZTtcbiAgICAgICAgICAgIG4gPCAwID8gZSA9IGUubGVmdCA6IG4gPiAwICYmIChlID0gZS5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoaXMgc29ydGVkIG1hcCwgb3IgLTEgaWYgaXQgZG9lc24ndFxuICAgIC8vIGV4aXN0LlxuICAgIGluZGV4T2YodCkge1xuICAgICAgICAvLyBOdW1iZXIgb2Ygbm9kZXMgdGhhdCB3ZXJlIHBydW5lZCB3aGVuIGRlc2NlbmRpbmcgcmlnaHRcbiAgICAgICAgbGV0IGUgPSAwLCBuID0gdGhpcy5yb290O1xuICAgICAgICBmb3IgKDshbi5pc0VtcHR5KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuY29tcGFyYXRvcih0LCBuLmtleSk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcykgcmV0dXJuIGUgKyBuLmxlZnQuc2l6ZTtcbiAgICAgICAgICAgIHMgPCAwID8gbiA9IG4ubGVmdCA6IChcbiAgICAgICAgICAgIC8vIENvdW50IGFsbCBub2RlcyBsZWZ0IG9mIHRoZSBub2RlIHBsdXMgdGhlIG5vZGUgaXRzZWxmXG4gICAgICAgICAgICBlICs9IG4ubGVmdC5zaXplICsgMSwgbiA9IG4ucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vZGUgbm90IGZvdW5kXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LmlzRW1wdHkoKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIG5vZGVzIGluIHRoZSBtYXAuXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Quc2l6ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWluaW11bSBrZXkgaW4gdGhlIG1hcC5cbiAgICBtaW5LZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QubWluS2V5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1heGltdW0ga2V5IGluIHRoZSBtYXAuXG4gICAgbWF4S2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Lm1heEtleSgpO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzZXMgdGhlIG1hcCBpbiBrZXkgb3JkZXIgYW5kIGNhbGxzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIGZ1bmN0aW9uXG4gICAgLy8gZm9yIGVhY2gga2V5L3ZhbHVlIHBhaXIuIElmIGFjdGlvbiByZXR1cm5zIHRydWUsIHRyYXZlcnNhbCBpcyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICBpbm9yZGVyVHJhdmVyc2FsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5pbm9yZGVyVHJhdmVyc2FsKHQpO1xuICAgIH1cbiAgICBmb3JFYWNoKHQpIHtcbiAgICAgICAgdGhpcy5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgbikgPT4gKHQoZSwgbiksICExKSkpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgbikgPT4gKHQucHVzaChgJHtlfToke259YCksICExKSkpLCBgeyR7dC5qb2luKFwiLCBcIil9fWA7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNlcyB0aGUgbWFwIGluIHJldmVyc2Uga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvblxuICAgIC8vIGZ1bmN0aW9uIGZvciBlYWNoIGtleS92YWx1ZSBwYWlyLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXNcbiAgICAvLyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICByZXZlcnNlVHJhdmVyc2FsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5yZXZlcnNlVHJhdmVyc2FsKHQpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIFNvcnRlZE1hcC5cbiAgICBnZXRJdGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBkbih0aGlzLnJvb3QsIG51bGwsIHRoaXMuY29tcGFyYXRvciwgITEpO1xuICAgIH1cbiAgICBnZXRJdGVyYXRvckZyb20odCkge1xuICAgICAgICByZXR1cm4gbmV3IGRuKHRoaXMucm9vdCwgdCwgdGhpcy5jb21wYXJhdG9yLCAhMSk7XG4gICAgfVxuICAgIGdldFJldmVyc2VJdGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBkbih0aGlzLnJvb3QsIG51bGwsIHRoaXMuY29tcGFyYXRvciwgITApO1xuICAgIH1cbiAgICBnZXRSZXZlcnNlSXRlcmF0b3JGcm9tKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBkbih0aGlzLnJvb3QsIHQsIHRoaXMuY29tcGFyYXRvciwgITApO1xuICAgIH1cbn1cblxuIC8vIGVuZCBTb3J0ZWRNYXBcbi8vIEFuIGl0ZXJhdG9yIG92ZXIgYW4gTExSQk5vZGUuXG5jbGFzcyBkbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcykge1xuICAgICAgICB0aGlzLmlzUmV2ZXJzZSA9IHMsIHRoaXMubm9kZVN0YWNrID0gW107XG4gICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgZm9yICg7IXQuaXNFbXB0eSgpOyApIGlmIChpID0gZSA/IG4odC5rZXksIGUpIDogMSwgXG4gICAgICAgIC8vIGZsaXAgdGhlIGNvbXBhcmlzb24gaWYgd2UncmUgZ29pbmcgaW4gcmV2ZXJzZVxuICAgICAgICBzICYmIChpICo9IC0xKSwgaSA8IDApIFxuICAgICAgICAvLyBUaGlzIG5vZGUgaXMgbGVzcyB0aGFuIG91ciBzdGFydCBrZXkuIGlnbm9yZSBpdFxuICAgICAgICB0ID0gdGhpcy5pc1JldmVyc2UgPyB0LmxlZnQgOiB0LnJpZ2h0OyBlbHNlIHtcbiAgICAgICAgICAgIGlmICgwID09PSBpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBub2RlIGlzIGV4YWN0bHkgZXF1YWwgdG8gb3VyIHN0YXJ0IGtleS4gUHVzaCBpdCBvbiB0aGUgc3RhY2ssXG4gICAgICAgICAgICAgICAgLy8gYnV0IHN0b3AgaXRlcmF0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZVN0YWNrLnB1c2godCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIG5vZGUgaXMgZ3JlYXRlciB0aGFuIG91ciBzdGFydCBrZXksIGFkZCBpdCB0byB0aGUgc3RhY2sgYW5kIG1vdmVcbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IG9uZVxuICAgICAgICAgICAgdGhpcy5ub2RlU3RhY2sucHVzaCh0KSwgdCA9IHRoaXMuaXNSZXZlcnNlID8gdC5yaWdodCA6IHQubGVmdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICBsZXQgdCA9IHRoaXMubm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgICAga2V5OiB0LmtleSxcbiAgICAgICAgICAgIHZhbHVlOiB0LnZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmlzUmV2ZXJzZSkgZm9yICh0ID0gdC5sZWZ0OyAhdC5pc0VtcHR5KCk7ICkgdGhpcy5ub2RlU3RhY2sucHVzaCh0KSwgdCA9IHQucmlnaHQ7IGVsc2UgZm9yICh0ID0gdC5yaWdodDsgIXQuaXNFbXB0eSgpOyApIHRoaXMubm9kZVN0YWNrLnB1c2godCksIFxuICAgICAgICB0ID0gdC5sZWZ0O1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZVN0YWNrLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLm5vZGVTdGFjay5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHQua2V5LFxuICAgICAgICAgICAgdmFsdWU6IHQudmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbiAvLyBlbmQgU29ydGVkTWFwSXRlcmF0b3Jcbi8vIFJlcHJlc2VudHMgYSBub2RlIGluIGEgTGVmdC1sZWFuaW5nIFJlZC1CbGFjayB0cmVlLlxuY2xhc3Mgd24ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0LCB0aGlzLnZhbHVlID0gZSwgdGhpcy5jb2xvciA9IG51bGwgIT0gbiA/IG4gOiB3bi5SRUQsIHRoaXMubGVmdCA9IG51bGwgIT0gcyA/IHMgOiB3bi5FTVBUWSwgXG4gICAgICAgIHRoaXMucmlnaHQgPSBudWxsICE9IGkgPyBpIDogd24uRU1QVFksIHRoaXMuc2l6ZSA9IHRoaXMubGVmdC5zaXplICsgMSArIHRoaXMucmlnaHQuc2l6ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgbm9kZSwgb3B0aW9uYWxseSByZXBsYWNpbmcgcGllY2VzIG9mIGl0LlxuICAgIGNvcHkodCwgZSwgbiwgcywgaSkge1xuICAgICAgICByZXR1cm4gbmV3IHduKG51bGwgIT0gdCA/IHQgOiB0aGlzLmtleSwgbnVsbCAhPSBlID8gZSA6IHRoaXMudmFsdWUsIG51bGwgIT0gbiA/IG4gOiB0aGlzLmNvbG9yLCBudWxsICE9IHMgPyBzIDogdGhpcy5sZWZ0LCBudWxsICE9IGkgPyBpIDogdGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSB0cmVlIGluIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb24gZnVuY3Rpb25cbiAgICAvLyBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgaW5vcmRlclRyYXZlcnNhbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaW5vcmRlclRyYXZlcnNhbCh0KSB8fCB0KHRoaXMua2V5LCB0aGlzLnZhbHVlKSB8fCB0aGlzLnJpZ2h0Lmlub3JkZXJUcmF2ZXJzYWwodCk7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNlcyB0aGUgdHJlZSBpbiByZXZlcnNlIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb25cbiAgICAvLyBmdW5jdGlvbiBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgcmV2ZXJzZVRyYXZlcnNhbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnJldmVyc2VUcmF2ZXJzYWwodCkgfHwgdCh0aGlzLmtleSwgdGhpcy52YWx1ZSkgfHwgdGhpcy5sZWZ0LnJldmVyc2VUcmF2ZXJzYWwodCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1pbmltdW0gbm9kZSBpbiB0aGUgdHJlZS5cbiAgICBtaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaXNFbXB0eSgpID8gdGhpcyA6IHRoaXMubGVmdC5taW4oKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWF4aW11bSBrZXkgaW4gdGhlIHRyZWUuXG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oKS5rZXk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1heGltdW0ga2V5IGluIHRoZSB0cmVlLlxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpID8gdGhpcy5rZXkgOiB0aGlzLnJpZ2h0Lm1heEtleSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBrZXkvdmFsdWUgYWRkZWQuXG4gICAgaW5zZXJ0KHQsIGUsIG4pIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzO1xuICAgICAgICBjb25zdCBpID0gbih0LCBzLmtleSk7XG4gICAgICAgIHJldHVybiBzID0gaSA8IDAgPyBzLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgcy5sZWZ0Lmluc2VydCh0LCBlLCBuKSwgbnVsbCkgOiAwID09PSBpID8gcy5jb3B5KG51bGwsIGUsIG51bGwsIG51bGwsIG51bGwpIDogcy5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHMucmlnaHQuaW5zZXJ0KHQsIGUsIG4pKSwgXG4gICAgICAgIHMuZml4VXAoKTtcbiAgICB9XG4gICAgcmVtb3ZlTWluKCkge1xuICAgICAgICBpZiAodGhpcy5sZWZ0LmlzRW1wdHkoKSkgcmV0dXJuIHduLkVNUFRZO1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0LmxlZnQuaXNSZWQoKSB8fCB0LmxlZnQubGVmdC5pc1JlZCgpIHx8ICh0ID0gdC5tb3ZlUmVkTGVmdCgpKSwgdCA9IHQuY29weShudWxsLCBudWxsLCBudWxsLCB0LmxlZnQucmVtb3ZlTWluKCksIG51bGwpLCBcbiAgICAgICAgdC5maXhVcCgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBzcGVjaWZpZWQgaXRlbSByZW1vdmVkLlxuICAgIHJlbW92ZSh0LCBlKSB7XG4gICAgICAgIGxldCBuLCBzID0gdGhpcztcbiAgICAgICAgaWYgKGUodCwgcy5rZXkpIDwgMCkgcy5sZWZ0LmlzRW1wdHkoKSB8fCBzLmxlZnQuaXNSZWQoKSB8fCBzLmxlZnQubGVmdC5pc1JlZCgpIHx8IChzID0gcy5tb3ZlUmVkTGVmdCgpKSwgXG4gICAgICAgIHMgPSBzLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgcy5sZWZ0LnJlbW92ZSh0LCBlKSwgbnVsbCk7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHMubGVmdC5pc1JlZCgpICYmIChzID0gcy5yb3RhdGVSaWdodCgpKSwgcy5yaWdodC5pc0VtcHR5KCkgfHwgcy5yaWdodC5pc1JlZCgpIHx8IHMucmlnaHQubGVmdC5pc1JlZCgpIHx8IChzID0gcy5tb3ZlUmVkUmlnaHQoKSksIFxuICAgICAgICAgICAgMCA9PT0gZSh0LCBzLmtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5yaWdodC5pc0VtcHR5KCkpIHJldHVybiB3bi5FTVBUWTtcbiAgICAgICAgICAgICAgICBuID0gcy5yaWdodC5taW4oKSwgcyA9IHMuY29weShuLmtleSwgbi52YWx1ZSwgbnVsbCwgbnVsbCwgcy5yaWdodC5yZW1vdmVNaW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHMucmlnaHQucmVtb3ZlKHQsIGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcy5maXhVcCgpO1xuICAgIH1cbiAgICBpc1JlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgfVxuICAgIC8vIFJldHVybnMgbmV3IHRyZWUgYWZ0ZXIgcGVyZm9ybWluZyBhbnkgbmVlZGVkIHJvdGF0aW9ucy5cbiAgICBmaXhVcCgpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdC5yaWdodC5pc1JlZCgpICYmICF0LmxlZnQuaXNSZWQoKSAmJiAodCA9IHQucm90YXRlTGVmdCgpKSwgdC5sZWZ0LmlzUmVkKCkgJiYgdC5sZWZ0LmxlZnQuaXNSZWQoKSAmJiAodCA9IHQucm90YXRlUmlnaHQoKSksIFxuICAgICAgICB0LmxlZnQuaXNSZWQoKSAmJiB0LnJpZ2h0LmlzUmVkKCkgJiYgKHQgPSB0LmNvbG9yRmxpcCgpKSwgdDtcbiAgICB9XG4gICAgbW92ZVJlZExlZnQoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5jb2xvckZsaXAoKTtcbiAgICAgICAgcmV0dXJuIHQucmlnaHQubGVmdC5pc1JlZCgpICYmICh0ID0gdC5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHQucmlnaHQucm90YXRlUmlnaHQoKSksIFxuICAgICAgICB0ID0gdC5yb3RhdGVMZWZ0KCksIHQgPSB0LmNvbG9yRmxpcCgpKSwgdDtcbiAgICB9XG4gICAgbW92ZVJlZFJpZ2h0KCkge1xuICAgICAgICBsZXQgdCA9IHRoaXMuY29sb3JGbGlwKCk7XG4gICAgICAgIHJldHVybiB0LmxlZnQubGVmdC5pc1JlZCgpICYmICh0ID0gdC5yb3RhdGVSaWdodCgpLCB0ID0gdC5jb2xvckZsaXAoKSksIHQ7XG4gICAgfVxuICAgIHJvdGF0ZUxlZnQoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNvcHkobnVsbCwgbnVsbCwgd24uUkVELCBudWxsLCB0aGlzLnJpZ2h0LmxlZnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5jb3B5KG51bGwsIG51bGwsIHRoaXMuY29sb3IsIHQsIG51bGwpO1xuICAgIH1cbiAgICByb3RhdGVSaWdodCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY29weShudWxsLCBudWxsLCB3bi5SRUQsIHRoaXMubGVmdC5yaWdodCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuY29weShudWxsLCBudWxsLCB0aGlzLmNvbG9yLCBudWxsLCB0KTtcbiAgICB9XG4gICAgY29sb3JGbGlwKCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5sZWZ0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMubGVmdC5jb2xvciwgbnVsbCwgbnVsbCksIGUgPSB0aGlzLnJpZ2h0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMucmlnaHQuY29sb3IsIG51bGwsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KG51bGwsIG51bGwsICF0aGlzLmNvbG9yLCB0LCBlKTtcbiAgICB9XG4gICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgY2hlY2tNYXhEZXB0aCgpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY2hlY2soKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDIsIHQpIDw9IHRoaXMuc2l6ZSArIDE7XG4gICAgfVxuICAgIC8vIEluIGEgYmFsYW5jZWQgUkIgdHJlZSwgdGhlIGJsYWNrLWRlcHRoIChudW1iZXIgb2YgYmxhY2sgbm9kZXMpIGZyb20gcm9vdCB0b1xuICAgIC8vIGxlYXZlcyBpcyBlcXVhbCBvbiBib3RoIHNpZGVzLiAgVGhpcyBmdW5jdGlvbiB2ZXJpZmllcyB0aGF0IG9yIGFzc2VydHMuXG4gICAgY2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVkKCkgJiYgdGhpcy5sZWZ0LmlzUmVkKCkpIHRocm93IEYoKTtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQuaXNSZWQoKSkgdGhyb3cgRigpO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5sZWZ0LmNoZWNrKCk7XG4gICAgICAgIGlmICh0ICE9PSB0aGlzLnJpZ2h0LmNoZWNrKCkpIHRocm93IEYoKTtcbiAgICAgICAgcmV0dXJuIHQgKyAodGhpcy5pc1JlZCgpID8gMCA6IDEpO1xuICAgIH1cbn1cblxuIC8vIGVuZCBMTFJCTm9kZVxuLy8gRW1wdHkgbm9kZSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgTExSQiB0cmVlcy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG53bi5FTVBUWSA9IG51bGwsIHduLlJFRCA9ICEwLCB3bi5CTEFDSyA9ICExO1xuXG4vLyBlbmQgTExSQkVtcHR5Tm9kZVxud24uRU1QVFkgPSBuZXcgXG4vLyBSZXByZXNlbnRzIGFuIGVtcHR5IG5vZGUgKGEgbGVhZiBub2RlIGluIHRoZSBSZWQtQmxhY2sgVHJlZSkuXG5jbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuICAgIGdldCBrZXkoKSB7XG4gICAgICAgIHRocm93IEYoKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICB0aHJvdyBGKCk7XG4gICAgfVxuICAgIGdldCBjb2xvcigpIHtcbiAgICAgICAgdGhyb3cgRigpO1xuICAgIH1cbiAgICBnZXQgbGVmdCgpIHtcbiAgICAgICAgdGhyb3cgRigpO1xuICAgIH1cbiAgICBnZXQgcmlnaHQoKSB7XG4gICAgICAgIHRocm93IEYoKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICBjb3B5KHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSB0cmVlLCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5L3ZhbHVlIGFkZGVkLlxuICAgIGluc2VydCh0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgd24odCwgZSk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSB0cmVlLCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IHJlbW92ZWQuXG4gICAgcmVtb3ZlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaW5vcmRlclRyYXZlcnNhbCh0KSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgcmV2ZXJzZVRyYXZlcnNhbCh0KSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbWF4S2V5KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaXNSZWQoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgY2hlY2tNYXhEZXB0aCgpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBjaGVjaygpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogU29ydGVkU2V0IGlzIGFuIGltbXV0YWJsZSAoY29weS1vbi13cml0ZSkgY29sbGVjdGlvbiB0aGF0IGhvbGRzIGVsZW1lbnRzXG4gKiBpbiBvcmRlciBzcGVjaWZpZWQgYnkgdGhlIHByb3ZpZGVkIGNvbXBhcmF0b3IuXG4gKlxuICogTk9URTogaWYgcHJvdmlkZWQgY29tcGFyYXRvciByZXR1cm5zIDAgZm9yIHR3byBlbGVtZW50cywgd2UgY29uc2lkZXIgdGhlbSB0b1xuICogYmUgZXF1YWwhXG4gKi9cbmNsYXNzIF9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IHQsIHRoaXMuZGF0YSA9IG5ldyBmbih0aGlzLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICBoYXModCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5kYXRhLmdldCh0KTtcbiAgICB9XG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubWluS2V5KCk7XG4gICAgfVxuICAgIGxhc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubWF4S2V5KCk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNpemU7XG4gICAgfVxuICAgIGluZGV4T2YodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YodCk7XG4gICAgfVxuICAgIC8qKiBJdGVyYXRlcyBlbGVtZW50cyBpbiBvcmRlciBkZWZpbmVkIGJ5IFwiY29tcGFyYXRvclwiICovICAgIGZvckVhY2godCkge1xuICAgICAgICB0aGlzLmRhdGEuaW5vcmRlclRyYXZlcnNhbCgoKGUsIG4pID0+ICh0KGUpLCAhMSkpKTtcbiAgICB9XG4gICAgLyoqIEl0ZXJhdGVzIG92ZXIgYGVsZW1gcyBzdWNoIHRoYXQ6IHJhbmdlWzBdICZsdDs9IGVsZW0gJmx0OyByYW5nZVsxXS4gKi8gICAgZm9yRWFjaEluUmFuZ2UodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbSh0WzBdKTtcbiAgICAgICAgZm9yICg7bi5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgcyA9IG4uZ2V0TmV4dCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyYXRvcihzLmtleSwgdFsxXSkgPj0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgZShzLmtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBgZWxlbWBzIHN1Y2ggdGhhdDogc3RhcnQgJmx0Oz0gZWxlbSB1bnRpbCBmYWxzZSBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgZm9yRWFjaFdoaWxlKHQsIGUpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGZvciAobiA9IHZvaWQgMCAhPT0gZSA/IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSkgOiB0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKTsgbi5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgaWYgKCF0KG4uZ2V0TmV4dCgpLmtleSkpIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogRmluZHMgdGhlIGxlYXN0IGVsZW1lbnQgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBlbGVtYC4gKi8gICAgZmlyc3RBZnRlck9yRXF1YWwodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbSh0KTtcbiAgICAgICAgcmV0dXJuIGUuaGFzTmV4dCgpID8gZS5nZXROZXh0KCkua2V5IDogbnVsbDtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgbW4odGhpcy5kYXRhLmdldEl0ZXJhdG9yKCkpO1xuICAgIH1cbiAgICBnZXRJdGVyYXRvckZyb20odCkge1xuICAgICAgICByZXR1cm4gbmV3IG1uKHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odCkpO1xuICAgIH1cbiAgICAvKiogSW5zZXJ0cyBvciB1cGRhdGVzIGFuIGVsZW1lbnQgKi8gICAgYWRkKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKHQpLmluc2VydCh0LCAhMCkpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyBhbiBlbGVtZW50ICovICAgIGRlbGV0ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhcyh0KSA/IHRoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKHQpKSA6IHRoaXM7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuaXNFbXB0eSgpO1xuICAgIH1cbiAgICB1bmlvbldpdGgodCkge1xuICAgICAgICBsZXQgZSA9IHRoaXM7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBgcmVzdWx0YCBhbHdheXMgcmVmZXJzIHRvIHRoZSBsYXJnZXIgb25lIG9mIHRoZSB0d28gc2V0cy5cbiAgICAgICAgICAgICAgICByZXR1cm4gZS5zaXplIDwgdC5zaXplICYmIChlID0gdCwgdCA9IHRoaXMpLCB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZSA9IGUuYWRkKHQpO1xuICAgICAgICB9KSksIGU7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgX24pKSByZXR1cm4gITE7XG4gICAgICAgIGlmICh0aGlzLnNpemUgIT09IHQuc2l6ZSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5kYXRhLmdldEl0ZXJhdG9yKCksIG4gPSB0LmRhdGEuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgZm9yICg7ZS5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZ2V0TmV4dCgpLmtleSwgcyA9IG4uZ2V0TmV4dCgpLmtleTtcbiAgICAgICAgICAgIGlmICgwICE9PSB0aGlzLmNvbXBhcmF0b3IodCwgcykpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0LnB1c2goZSk7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZSA9PiB0LnB1c2goZSkpKSwgXCJTb3J0ZWRTZXQoXCIgKyB0LnRvU3RyaW5nKCkgKyBcIilcIjtcbiAgICB9XG4gICAgY29weSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgX24odGhpcy5jb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIGUuZGF0YSA9IHQsIGU7XG4gICAgfVxufVxuXG5jbGFzcyBtbiB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLml0ZXIgPSB0O1xuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyLmdldE5leHQoKS5rZXk7XG4gICAgfVxuICAgIGhhc05leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgZ24gPSBuZXcgZm4oUnQuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIHluKCkge1xuICAgIHJldHVybiBnbjtcbn1cblxuY29uc3QgcG4gPSBuZXcgZm4oUnQuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIEVuKCkge1xuICAgIHJldHVybiBwbjtcbn1cblxuY29uc3QgVG4gPSBuZXcgZm4oUnQuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIEluKCkge1xuICAgIHJldHVybiBUbjtcbn1cblxuY29uc3QgQW4gPSBuZXcgX24oUnQuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIFJuKC4uLnQpIHtcbiAgICBsZXQgZSA9IEFuO1xuICAgIGZvciAoY29uc3QgbiBvZiB0KSBlID0gZS5hZGQobik7XG4gICAgcmV0dXJuIGU7XG59XG5cbmNvbnN0IGJuID0gbmV3IF9uKFopO1xuXG5mdW5jdGlvbiBQbigpIHtcbiAgICByZXR1cm4gYm47XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGV2ZW50IGZyb20gdGhlIFJlbW90ZVN0b3JlLiBJdCBpcyBzcGxpdCBpbnRvIHRhcmdldENoYW5nZXMgKGNoYW5nZXMgdG8gdGhlXG4gKiBzdGF0ZSBvciB0aGUgc2V0IG9mIGRvY3VtZW50cyBpbiBvdXIgd2F0Y2hlZCB0YXJnZXRzKSBhbmQgZG9jdW1lbnRVcGRhdGVzXG4gKiAoY2hhbmdlcyB0byB0aGUgYWN0dWFsIGRvY3VtZW50cykuXG4gKi8gY2xhc3Mgdm4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBzbmFwc2hvdCB2ZXJzaW9uIHRoaXMgZXZlbnQgYnJpbmdzIHVzIHVwIHRvLCBvciBNSU4gaWYgbm90IHNldC5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBBIG1hcCBmcm9tIHRhcmdldCB0byBjaGFuZ2VzIHRvIHRoZSB0YXJnZXQuIFNlZSBUYXJnZXRDaGFuZ2UuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgdGFyZ2V0cyB0aGF0IGlzIGtub3duIHRvIGJlIGluY29uc2lzdGVudC4gTGlzdGVucyBmb3IgdGhlc2VcbiAgICAgKiB0YXJnZXRzIHNob3VsZCBiZSByZS1lc3RhYmxpc2hlZCB3aXRob3V0IHJlc3VtZSB0b2tlbnMuXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2Ygd2hpY2ggZG9jdW1lbnRzIGhhdmUgY2hhbmdlZCBvciBiZWVuIGRlbGV0ZWQsIGFsb25nIHdpdGggdGhlXG4gICAgICogZG9jJ3MgbmV3IHZhbHVlcyAoaWYgbm90IGRlbGV0ZWQpLlxuICAgICAqL1xuICAgIHMsIFxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHdoaWNoIGRvY3VtZW50IHVwZGF0ZXMgYXJlIGR1ZSBvbmx5IHRvIGxpbWJvIHJlc29sdXRpb24gdGFyZ2V0cy5cbiAgICAgKi9cbiAgICBpKSB7XG4gICAgICAgIHRoaXMuc25hcHNob3RWZXJzaW9uID0gdCwgdGhpcy50YXJnZXRDaGFuZ2VzID0gZSwgdGhpcy50YXJnZXRNaXNtYXRjaGVzID0gbiwgdGhpcy5kb2N1bWVudFVwZGF0ZXMgPSBzLCBcbiAgICAgICAgdGhpcy5yZXNvbHZlZExpbWJvRG9jdW1lbnRzID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSEFDSzogVmlld3MgcmVxdWlyZSBSZW1vdGVFdmVudHMgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZpZXcgaXNcbiAgICAgKiBDVVJSRU5ULCBidXQgc2Vjb25kYXJ5IHRhYnMgZG9uJ3QgcmVjZWl2ZSByZW1vdGUgZXZlbnRzLiBTbyB0aGlzIG1ldGhvZCBpc1xuICAgICAqIHVzZWQgdG8gY3JlYXRlIGEgc3ludGhlc2l6ZWQgUmVtb3RlRXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBhcHBseSBhXG4gICAgICogQ1VSUkVOVCBzdGF0dXMgY2hhbmdlIHRvIGEgVmlldywgZm9yIHF1ZXJpZXMgZXhlY3V0ZWQgaW4gYSBkaWZmZXJlbnQgdGFiLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHlcbiAgICBzdGF0aWMgY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gbmV3IE1hcDtcbiAgICAgICAgcmV0dXJuIG4uc2V0KHQsIFZuLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZSh0LCBlKSksIG5ldyB2bihzdC5taW4oKSwgbiwgUG4oKSwgeW4oKSwgUm4oKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGFyZ2V0Q2hhbmdlIHNwZWNpZmllcyB0aGUgc2V0IG9mIGNoYW5nZXMgZm9yIGEgc3BlY2lmaWMgdGFyZ2V0IGFzIHBhcnQgb2ZcbiAqIGEgUmVtb3RlRXZlbnQuIFRoZXNlIGNoYW5nZXMgdHJhY2sgd2hpY2ggZG9jdW1lbnRzIGFyZSBhZGRlZCwgbW9kaWZpZWQgb3JcbiAqIHJlbW92ZWQsIGFzIHdlbGwgYXMgdGhlIHRhcmdldCdzIHJlc3VtZSB0b2tlbiBhbmQgd2hldGhlciB0aGUgdGFyZ2V0IGlzXG4gKiBtYXJrZWQgQ1VSUkVOVC5cbiAqIFRoZSBhY3R1YWwgY2hhbmdlcyAqdG8qIGRvY3VtZW50cyBhcmUgbm90IHBhcnQgb2YgdGhlIFRhcmdldENoYW5nZSBzaW5jZVxuICogZG9jdW1lbnRzIG1heSBiZSBwYXJ0IG9mIG11bHRpcGxlIHRhcmdldHMuXG4gKi8gY2xhc3MgVm4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSwgc2VydmVyLWFzc2lnbmVkIHRva2VuIHRoYXQgYWxsb3dzIHdhdGNoaW5nIGEgcXVlcnkgdG8gYmUgcmVzdW1lZFxuICAgICAqIGFmdGVyIGRpc2Nvbm5lY3Rpbmcgd2l0aG91dCByZXRyYW5zbWl0dGluZyBhbGwgdGhlIGRhdGEgdGhhdCBtYXRjaGVzIHRoZVxuICAgICAqIHF1ZXJ5LiBUaGUgcmVzdW1lIHRva2VuIGVzc2VudGlhbGx5IGlkZW50aWZpZXMgYSBwb2ludCBpbiB0aW1lIGZyb20gd2hpY2hcbiAgICAgKiB0aGUgc2VydmVyIHNob3VsZCByZXN1bWUgc2VuZGluZyByZXN1bHRzLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBcImN1cnJlbnRcIiAoc3luY2VkKSBzdGF0dXMgb2YgdGhpcyB0YXJnZXQuIE5vdGUgdGhhdCBcImN1cnJlbnRcIlxuICAgICAqIGhhcyBzcGVjaWFsIG1lYW5pbmcgaW4gdGhlIFJQQyBwcm90b2NvbCB0aGF0IGltcGxpZXMgdGhhdCBhIHRhcmdldCBpc1xuICAgICAqIGJvdGggdXAtdG8tZGF0ZSBhbmQgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSB3YXRjaCBzdHJlYW0uXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIG5ld2x5IGFzc2lnbmVkIHRvIHRoaXMgdGFyZ2V0IGFzIHBhcnQgb2ZcbiAgICAgKiB0aGlzIHJlbW90ZSBldmVudC5cbiAgICAgKi9cbiAgICBuLCBcbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgYWxyZWFkeSBhc3NpZ25lZCB0byB0aGlzIHRhcmdldCBidXQgcmVjZWl2ZWRcbiAgICAgKiBhbiB1cGRhdGUgZHVyaW5nIHRoaXMgcmVtb3RlIGV2ZW50LlxuICAgICAqL1xuICAgIHMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSByZW1vdmVkIGZyb20gdGhpcyB0YXJnZXQgYXMgcGFydCBvZiB0aGlzXG4gICAgICogcmVtb3RlIGV2ZW50LlxuICAgICAqL1xuICAgIGkpIHtcbiAgICAgICAgdGhpcy5yZXN1bWVUb2tlbiA9IHQsIHRoaXMuY3VycmVudCA9IGUsIHRoaXMuYWRkZWREb2N1bWVudHMgPSBuLCB0aGlzLm1vZGlmaWVkRG9jdW1lbnRzID0gcywgXG4gICAgICAgIHRoaXMucmVtb3ZlZERvY3VtZW50cyA9IGk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gY3JlYXRlIGEgc3ludGhlc2l6ZWQgVGFyZ2V0Q2hhbmdlcyB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAgICogYXBwbHkgYSBDVVJSRU5UIHN0YXR1cyBjaGFuZ2UgdG8gYSBWaWV3IChmb3IgcXVlcmllcyBleGVjdXRlZCBpbiBhIGRpZmZlcmVudFxuICAgICAqIHRhYikgb3IgZm9yIG5ldyBxdWVyaWVzICh0byByYWlzZSBzbmFwc2hvdHMgd2l0aCBjb3JyZWN0IENVUlJFTlQgc3RhdHVzKS5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVm4oZHQuRU1QVFlfQllURV9TVFJJTkcsIGUsIFJuKCksIFJuKCksIFJuKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNoYW5nZWQgZG9jdW1lbnQgYW5kIGEgbGlzdCBvZiB0YXJnZXQgaWRzIHRvIHdoaWNoIHRoaXMgY2hhbmdlXG4gKiBhcHBsaWVzLlxuICpcbiAqIElmIGRvY3VtZW50IGhhcyBiZWVuIGRlbGV0ZWQgTm9Eb2N1bWVudCB3aWxsIGJlIHByb3ZpZGVkLlxuICovIGNsYXNzIFNuIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIG5ldyBkb2N1bWVudCBhcHBsaWVzIHRvIGFsbCBvZiB0aGVzZSB0YXJnZXRzLiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgbmV3IGRvY3VtZW50IGlzIHJlbW92ZWQgZnJvbSBhbGwgb2YgdGhlc2UgdGFyZ2V0cy4gKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIGtleSBvZiB0aGUgZG9jdW1lbnQgZm9yIHRoaXMgY2hhbmdlLiAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBuZXcgZG9jdW1lbnQgb3IgTm9Eb2N1bWVudCBpZiBpdCB3YXMgZGVsZXRlZC4gSXMgbnVsbCBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCB3ZW50IG91dCBvZiB2aWV3IHdpdGhvdXQgdGhlIHNlcnZlciBzZW5kaW5nIGEgbmV3IGRvY3VtZW50LlxuICAgICAqL1xuICAgIHMpIHtcbiAgICAgICAgdGhpcy5rID0gdCwgdGhpcy5yZW1vdmVkVGFyZ2V0SWRzID0gZSwgdGhpcy5rZXkgPSBuLCB0aGlzLiQgPSBzO1xuICAgIH1cbn1cblxuY2xhc3MgRG4ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHQsIHRoaXMuTyA9IGU7XG4gICAgfVxufVxuXG5jbGFzcyBDbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFdoYXQga2luZCBvZiBjaGFuZ2Ugb2NjdXJyZWQgdG8gdGhlIHdhdGNoIHRhcmdldC4gKi9cbiAgICB0LCBcbiAgICAvKiogVGhlIHRhcmdldCBJRHMgdGhhdCB3ZXJlIGFkZGVkL3JlbW92ZWQvc2V0LiAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSwgc2VydmVyLWFzc2lnbmVkIHRva2VuIHRoYXQgYWxsb3dzIHdhdGNoaW5nIGEgdGFyZ2V0IHRvIGJlXG4gICAgICogcmVzdW1lZCBhZnRlciBkaXNjb25uZWN0aW5nIHdpdGhvdXQgcmV0cmFuc21pdHRpbmcgYWxsIHRoZSBkYXRhIHRoYXRcbiAgICAgKiBtYXRjaGVzIHRoZSB0YXJnZXQuIFRoZSByZXN1bWUgdG9rZW4gZXNzZW50aWFsbHkgaWRlbnRpZmllcyBhIHBvaW50IGluXG4gICAgICogdGltZSBmcm9tIHdoaWNoIHRoZSBzZXJ2ZXIgc2hvdWxkIHJlc3VtZSBzZW5kaW5nIHJlc3VsdHMuXG4gICAgICovXG4gICAgbiA9IGR0LkVNUFRZX0JZVEVfU1RSSU5HXG4gICAgLyoqIEFuIFJQQyBlcnJvciBpbmRpY2F0aW5nIHdoeSB0aGUgd2F0Y2ggZmFpbGVkLiAqLyAsIHMgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0LCB0aGlzLnRhcmdldElkcyA9IGUsIHRoaXMucmVzdW1lVG9rZW4gPSBuLCB0aGlzLmNhdXNlID0gcztcbiAgICB9XG59XG5cbi8qKiBUcmFja3MgdGhlIGludGVybmFsIHN0YXRlIG9mIGEgV2F0Y2ggdGFyZ2V0LiAqLyBjbGFzcyBObiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVzcG9uc2VzIChhZGRzIG9yIHJlbW92ZXMpIHRoYXQgd2UgYXJlIHdhaXRpbmcgb24uXG4gICAgICAgICAqIFdlIG9ubHkgY29uc2lkZXIgdGFyZ2V0cyBhY3RpdmUgdGhhdCBoYXZlIG5vIHBlbmRpbmcgcmVzcG9uc2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5GID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgZG9jdW1lbnQgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCByYWlzZWQgc25hcHNob3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGNoYW5nZXMgYXJlIGNvbnRpbnVvdXNseSB1cGRhdGVkIGFzIHdlIHJlY2VpdmUgZG9jdW1lbnQgdXBkYXRlcyBhbmRcbiAgICAgICAgICogYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMgYWdhaW5zdCB0aGUgbGFzdCBpc3N1ZWQgc25hcHNob3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLk0gPSAkbigpLCBcbiAgICAgICAgLyoqIFNlZSBwdWJsaWMgZ2V0dGVycyBmb3IgZXhwbGFuYXRpb25zIG9mIHRoZXNlIGZpZWxkcy4gKi9cbiAgICAgICAgdGhpcy5MID0gZHQuRU1QVFlfQllURV9TVFJJTkcsIHRoaXMuQiA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyB0YXJnZXQgc3RhdGUgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBuZXh0IHNuYXBzaG90LiBXZVxuICAgICAgICAgKiBpbml0aWFsaXplIHRvIHRydWUgc28gdGhhdCBuZXdseS1hZGRlZCB0YXJnZXRzIGFyZSBpbmNsdWRlZCBpbiB0aGUgbmV4dFxuICAgICAgICAgKiBSZW1vdGVFdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuVSA9ICEwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgdGFyZ2V0IGhhcyBiZWVuIG1hcmtlZCAnY3VycmVudCcuXG4gICAgICpcbiAgICAgKiAnQ3VycmVudCcgaGFzIHNwZWNpYWwgbWVhbmluZyBpbiB0aGUgUlBDIHByb3RvY29sOiBJdCBpbXBsaWVzIHRoYXQgdGhlXG4gICAgICogV2F0Y2ggYmFja2VuZCBoYXMgc2VudCB1cyBhbGwgY2hhbmdlcyB1cCB0byB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIHRhcmdldFxuICAgICAqIHdhcyBhZGRlZCBhbmQgdGhhdCB0aGUgdGFyZ2V0IGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgd2F0Y2hcbiAgICAgKiBzdHJlYW0uXG4gICAgICovICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5CO1xuICAgIH1cbiAgICAvKiogVGhlIGxhc3QgcmVzdW1lIHRva2VuIHNlbnQgdG8gdXMgZm9yIHRoaXMgdGFyZ2V0LiAqLyAgICBnZXQgcmVzdW1lVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkw7XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgdGFyZ2V0IGhhcyBwZW5kaW5nIHRhcmdldCBhZGRzIG9yIHRhcmdldCByZW1vdmVzLiAqLyAgICBnZXQgcSgpIHtcbiAgICAgICAgcmV0dXJuIDAgIT09IHRoaXMuRjtcbiAgICB9XG4gICAgLyoqIFdoZXRoZXIgd2UgaGF2ZSBtb2RpZmllZCBhbnkgc3RhdGUgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHNuYXBzaG90LiAqLyAgICBnZXQgSygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgcmVzdW1lIHRva2VuIHRvIHRoZSBUYXJnZXRDaGFuZ2UsIGJ1dCBvbmx5IHdoZW4gaXQgaGFzIGEgbmV3XG4gICAgICogdmFsdWUuIEVtcHR5IHJlc3VtZVRva2VucyBhcmUgZGlzY2FyZGVkLlxuICAgICAqLyAgICBqKHQpIHtcbiAgICAgICAgdC5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwICYmICh0aGlzLlUgPSAhMCwgdGhpcy5MID0gdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0YXJnZXQgY2hhbmdlIGZyb20gdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBUbyByZXNldCB0aGUgZG9jdW1lbnQgY2hhbmdlcyBhZnRlciByYWlzaW5nIHRoaXMgc25hcHNob3QsIGNhbGxcbiAgICAgKiBgY2xlYXJQZW5kaW5nQ2hhbmdlcygpYC5cbiAgICAgKi8gICAgVygpIHtcbiAgICAgICAgbGV0IHQgPSBSbigpLCBlID0gUm4oKSwgbiA9IFJuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLk0uZm9yRWFjaCgoKHMsIGkpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICBjYXNlIDAgLyogQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgIHQgPSB0LmFkZChzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogTW9kaWZpZWQgKi8gOlxuICAgICAgICAgICAgICAgIGUgPSBlLmFkZChzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEgLyogUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICAgICAgbiA9IG4uYWRkKHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgRigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIG5ldyBWbih0aGlzLkwsIHRoaXMuQiwgdCwgZSwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZG9jdW1lbnQgY2hhbmdlcyBhbmQgc2V0cyBgaGFzUGVuZGluZ0NoYW5nZXNgIHRvIGZhbHNlLlxuICAgICAqLyAgICBHKCkge1xuICAgICAgICB0aGlzLlUgPSAhMSwgdGhpcy5NID0gJG4oKTtcbiAgICB9XG4gICAgSCh0LCBlKSB7XG4gICAgICAgIHRoaXMuVSA9ICEwLCB0aGlzLk0gPSB0aGlzLk0uaW5zZXJ0KHQsIGUpO1xuICAgIH1cbiAgICBKKHQpIHtcbiAgICAgICAgdGhpcy5VID0gITAsIHRoaXMuTSA9IHRoaXMuTS5yZW1vdmUodCk7XG4gICAgfVxuICAgIFkoKSB7XG4gICAgICAgIHRoaXMuRiArPSAxO1xuICAgIH1cbiAgICBYKCkge1xuICAgICAgICB0aGlzLkYgLT0gMTtcbiAgICB9XG4gICAgWigpIHtcbiAgICAgICAgdGhpcy5VID0gITAsIHRoaXMuQiA9ICEwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyB0byBhY2N1bXVsYXRlIHdhdGNoIGNoYW5nZXMgaW50byBhIFJlbW90ZUV2ZW50LlxuICovXG5jbGFzcyB4biB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnR0ID0gdCwgXG4gICAgICAgIC8qKiBUaGUgaW50ZXJuYWwgc3RhdGUgb2YgYWxsIHRyYWNrZWQgdGFyZ2V0cy4gKi9cbiAgICAgICAgdGhpcy5ldCA9IG5ldyBNYXAsIFxuICAgICAgICAvKiogS2VlcHMgdHJhY2sgb2YgdGhlIGRvY3VtZW50cyB0byB1cGRhdGUgc2luY2UgdGhlIGxhc3QgcmFpc2VkIHNuYXBzaG90LiAqL1xuICAgICAgICB0aGlzLm50ID0geW4oKSwgXG4gICAgICAgIC8qKiBBIG1hcHBpbmcgb2YgZG9jdW1lbnQga2V5cyB0byB0aGVpciBzZXQgb2YgdGFyZ2V0IElEcy4gKi9cbiAgICAgICAgdGhpcy5zdCA9IGtuKCksIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRhcmdldHMgd2l0aCBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuIFRoZXNlIHRhcmdldHMgYXJlXG4gICAgICAgICAqIGtub3duIHRvIGJlIGluY29uc2lzdGVudCBhbmQgdGhlaXIgbGlzdGVucyBuZWVkcyB0byBiZSByZS1lc3RhYmxpc2hlZCBieVxuICAgICAgICAgKiBSZW1vdGVTdG9yZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXQgPSBuZXcgX24oWik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgRG9jdW1lbnRXYXRjaENoYW5nZSB0byB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy5cbiAgICAgKi8gICAgcnQodCkge1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdC5rKSB0LiQgJiYgdC4kLmlzRm91bmREb2N1bWVudCgpID8gdGhpcy5vdChlLCB0LiQpIDogdGhpcy5hdChlLCB0LmtleSwgdC4kKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQucmVtb3ZlZFRhcmdldElkcykgdGhpcy5hdChlLCB0LmtleSwgdC4kKTtcbiAgICB9XG4gICAgLyoqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgV2F0Y2hUYXJnZXRDaGFuZ2UgdG8gdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMuICovICAgIGN0KHQpIHtcbiAgICAgICAgdGhpcy5mb3JFYWNoVGFyZ2V0KHQsIChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnV0KGUpO1xuICAgICAgICAgICAgc3dpdGNoICh0LnN0YXRlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMCAvKiBOb0NoYW5nZSAqLyA6XG4gICAgICAgICAgICAgICAgdGhpcy5odChlKSAmJiBuLmoodC5yZXN1bWVUb2tlbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxIC8qIEFkZGVkICovIDpcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRlY3JlbWVudCB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgYWNrcyBuZWVkZWQgZnJvbSB3YXRjaFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGlzIHRhcmdldElkLlxuICAgICAgICAgICAgICAgIG4uWCgpLCBuLnEgfHwgXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGZyZXNobHkgYWRkZWQgdGFyZ2V0LCBzbyB3ZSBuZWVkIHRvIHJlc2V0IGFueSBzdGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgd2UgaGFkIHByZXZpb3VzbHkuIFRoaXMgY2FuIGhhcHBlbiBlLmcuIHdoZW4gcmVtb3ZlIGFuZCBhZGRcbiAgICAgICAgICAgICAgICAvLyBiYWNrIGEgdGFyZ2V0IGZvciBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICAgICAgICAgICAgbi5HKCksIG4uaih0LnJlc3VtZVRva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBrZWVwIHRyYWNrIG9mIHJlbW92ZWQgdGFyZ2V0cyB0byB3ZSBjYW4gcG9zdC1maWx0ZXIgYW5kXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFueSB0YXJnZXQgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRlY3JlbWVudCB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgYWNrcyBuZWVkZWQgZnJvbSB3YXRjaFxuICAgICAgICAgICAgICAgIC8vIGZvciB0aGlzIHRhcmdldElkLlxuICAgICAgICAgICAgICAgIG4uWCgpLCBuLnEgfHwgdGhpcy5yZW1vdmVUYXJnZXQoZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzIC8qIEN1cnJlbnQgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuaHQoZSkgJiYgKG4uWigpLCBuLmoodC5yZXN1bWVUb2tlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNCAvKiBSZXNldCAqLyA6XG4gICAgICAgICAgICAgICAgdGhpcy5odChlKSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRhcmdldCBhbmQgc3ludGhlc2l6ZXMgcmVtb3ZlcyBmb3IgYWxsIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnRzLiBUaGUgYmFja2VuZCB3aWxsIHJlLWFkZCBhbnkgZG9jdW1lbnRzIHRoYXQgc3RpbGxcbiAgICAgICAgICAgICAgICAvLyBtYXRjaCB0aGUgdGFyZ2V0IGJlZm9yZSBpdCBzZW5kcyB0aGUgbmV4dCBnbG9iYWwgc25hcHNob3QuXG4gICAgICAgICAgICAgICAgdGhpcy5sdChlKSwgbi5qKHQucmVzdW1lVG9rZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIEYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGFsbCB0YXJnZXRJZHMgdGhhdCB0aGUgd2F0Y2ggY2hhbmdlIGFwcGxpZXMgdG86IGVpdGhlciB0aGVcbiAgICAgKiB0YXJnZXRJZHMgZXhwbGljaXRseSBsaXN0ZWQgaW4gdGhlIGNoYW5nZSBvciB0aGUgdGFyZ2V0SWRzIG9mIGFsbCBjdXJyZW50bHlcbiAgICAgKiBhY3RpdmUgdGFyZ2V0cy5cbiAgICAgKi8gICAgZm9yRWFjaFRhcmdldCh0LCBlKSB7XG4gICAgICAgIHQudGFyZ2V0SWRzLmxlbmd0aCA+IDAgPyB0LnRhcmdldElkcy5mb3JFYWNoKGUpIDogdGhpcy5ldC5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5odChuKSAmJiBlKG4pO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZXhpc3RlbmNlIGZpbHRlcnMgYW5kIHN5bnRoZXNpemVzIGRlbGV0ZXMgZm9yIGZpbHRlciBtaXNtYXRjaGVzLlxuICAgICAqIFRhcmdldHMgdGhhdCBhcmUgaW52YWxpZGF0ZWQgYnkgZmlsdGVyIG1pc21hdGNoZXMgYXJlIGFkZGVkIHRvXG4gICAgICogYHBlbmRpbmdUYXJnZXRSZXNldHNgLlxuICAgICAqLyAgICBmdCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LnRhcmdldElkLCBuID0gdC5PLmNvdW50LCBzID0gdGhpcy5kdChlKTtcbiAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBzLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChHdCh0KSkgaWYgKDAgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXhpc3RlbmNlIGZpbHRlciB0b2xkIHVzIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBleGlzdC4gV2UgZGVkdWNlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IGFuZCBhcHBseSBhIGRlbGV0ZWQgZG9jdW1lbnQgdG9cbiAgICAgICAgICAgICAgICAvLyBvdXIgdXBkYXRlcy4gV2l0aG91dCBhcHBseWluZyB0aGlzIGRlbGV0ZWQgZG9jdW1lbnQgdGhlcmUgbWlnaHQgYmVcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIHF1ZXJ5IHRoYXQgd2lsbCByYWlzZSB0aGlzIGRvY3VtZW50IGFzIHBhcnQgb2YgYSBzbmFwc2hvdFxuICAgICAgICAgICAgICAgIC8vIHVudGlsIGl0IGlzIHJlc29sdmVkLCBlc3NlbnRpYWxseSBleHBvc2luZyBpbmNvbnNpc3RlbmN5IGJldHdlZW5cbiAgICAgICAgICAgICAgICAvLyBxdWVyaWVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgUnQodC5wYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0KGUsIG4sIFV0Lm5ld05vRG9jdW1lbnQobiwgc3QubWluKCkpKTtcbiAgICAgICAgICAgIH0gZWxzZSBNKDEgPT09IG4pOyBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnd0KGUpICE9PSBuICYmIChcbiAgICAgICAgICAgICAgICAvLyBFeGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoOiBXZSByZXNldCB0aGUgbWFwcGluZyBhbmQgcmFpc2UgYSBuZXdcbiAgICAgICAgICAgICAgICAvLyBzbmFwc2hvdCB3aXRoIGBpc0Zyb21DYWNoZTp0cnVlYC5cbiAgICAgICAgICAgICAgICB0aGlzLmx0KGUpLCB0aGlzLml0ID0gdGhpcy5pdC5hZGQoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjdXJyZW50bHkgYWNjdW11bGF0ZWQgc3RhdGUgaW50byBhIHJlbW90ZSBldmVudCBhdCB0aGVcbiAgICAgKiBwcm92aWRlZCBzbmFwc2hvdCB2ZXJzaW9uLiBSZXNldHMgdGhlIGFjY3VtdWxhdGVkIGNoYW5nZXMgYmVmb3JlIHJldHVybmluZy5cbiAgICAgKi8gICAgX3QodCkge1xuICAgICAgICBjb25zdCBlID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy5ldC5mb3JFYWNoKCgobiwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuZHQocyk7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgIGlmIChuLmN1cnJlbnQgJiYgR3QoaS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvY3VtZW50IHF1ZXJpZXMgZm9yIGRvY3VtZW50IHRoYXQgZG9uJ3QgZXhpc3QgY2FuIHByb2R1Y2UgYW4gZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzdWx0IHNldC4gVG8gdXBkYXRlIG91ciBsb2NhbCBjYWNoZSwgd2Ugc3ludGhlc2l6ZSBhIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBpZiB3ZSBoYXZlIG5vdCBwcmV2aW91c2x5IHJlY2VpdmVkIHRoZSBkb2N1bWVudC4gVGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlcyB0aGUgbGltYm8gc3RhdGUgb2YgdGhlIGRvY3VtZW50LCByZW1vdmluZyBpdCBmcm9tXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpbWJvRG9jdW1lbnRSZWZzLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IElkZWFsbHkgd2Ugd291bGQgaGF2ZSBhbiBleHBsaWNpdCBsb29rdXAgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgcmVzdWx0aW5nIGluIGFuIGV4cGxpY2l0IGRlbGV0ZSBtZXNzYWdlIGFuZCB3ZSBjb3VsZFxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhpcyBzcGVjaWFsIGxvZ2ljLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IFJ0KGkudGFyZ2V0LnBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSB0aGlzLm50LmdldChlKSB8fCB0aGlzLmd0KHMsIGUpIHx8IHRoaXMuYXQocywgZSwgVXQubmV3Tm9Eb2N1bWVudChlLCB0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4uSyAmJiAoZS5zZXQocywgbi5XKCkpLCBuLkcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IG4gPSBSbigpO1xuICAgICAgICAvLyBXZSBleHRyYWN0IHRoZSBzZXQgb2YgbGltYm8tb25seSBkb2N1bWVudCB1cGRhdGVzIGFzIHRoZSBHQyBsb2dpY1xuICAgICAgICAvLyBzcGVjaWFsLWNhc2VzIGRvY3VtZW50cyB0aGF0IGRvIG5vdCBhcHBlYXIgaW4gdGhlIHRhcmdldCBjYWNoZS5cbiAgICAgICAgXG4gICAgICAgIC8vIFRPRE8oZ3NvbHRpcyk6IEV4cGFuZCBvbiB0aGlzIGNvbW1lbnQgb25jZSBHQyBpcyBhdmFpbGFibGUgaW4gdGhlIEpTXG4gICAgICAgIC8vIGNsaWVudC5cbiAgICAgICAgICAgICAgICB0aGlzLnN0LmZvckVhY2goKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcyA9ICEwO1xuICAgICAgICAgICAgZS5mb3JFYWNoV2hpbGUoKHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmR0KHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhZSB8fCAyIC8qIExpbWJvUmVzb2x1dGlvbiAqLyA9PT0gZS5wdXJwb3NlIHx8IChzID0gITEsICExKTtcbiAgICAgICAgICAgIH0pKSwgcyAmJiAobiA9IG4uYWRkKHQpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBzID0gbmV3IHZuKHQsIGUsIHRoaXMuaXQsIHRoaXMubnQsIG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5udCA9IHluKCksIHRoaXMuc3QgPSBrbigpLCB0aGlzLml0ID0gbmV3IF9uKFopLCBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBwcm92aWRlZCBkb2N1bWVudCB0byB0aGUgaW50ZXJuYWwgbGlzdCBvZiBkb2N1bWVudCB1cGRhdGVzIGFuZFxuICAgICAqIGl0cyBkb2N1bWVudCBrZXkgdG8gdGhlIGdpdmVuIHRhcmdldCdzIG1hcHBpbmcuXG4gICAgICovXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAgICBvdCh0LCBlKSB7XG4gICAgICAgIGlmICghdGhpcy5odCh0KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5ndCh0LCBlLmtleSkgPyAyIC8qIE1vZGlmaWVkICovIDogMCAvKiBBZGRlZCAqLztcbiAgICAgICAgdGhpcy51dCh0KS5IKGUua2V5LCBuKSwgdGhpcy5udCA9IHRoaXMubnQuaW5zZXJ0KGUua2V5LCBlKSwgdGhpcy5zdCA9IHRoaXMuc3QuaW5zZXJ0KGUua2V5LCB0aGlzLnl0KGUua2V5KS5hZGQodCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm92aWRlZCBkb2N1bWVudCBmcm9tIHRoZSB0YXJnZXQgbWFwcGluZy4gSWYgdGhlXG4gICAgICogZG9jdW1lbnQgbm8gbG9uZ2VyIG1hdGNoZXMgdGhlIHRhcmdldCwgYnV0IHRoZSBkb2N1bWVudCdzIHN0YXRlIGlzIHN0aWxsXG4gICAgICoga25vd24gKGUuZy4gd2Uga25vdyB0aGF0IHRoZSBkb2N1bWVudCB3YXMgZGVsZXRlZCBvciB3ZSByZWNlaXZlZCB0aGUgY2hhbmdlXG4gICAgICogdGhhdCBjYXVzZWQgdGhlIGZpbHRlciBtaXNtYXRjaCksIHRoZSBuZXcgZG9jdW1lbnQgY2FuIGJlIHByb3ZpZGVkXG4gICAgICogdG8gdXBkYXRlIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUuXG4gICAgICovXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAgICBhdCh0LCBlLCBuKSB7XG4gICAgICAgIGlmICghdGhpcy5odCh0KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzID0gdGhpcy51dCh0KTtcbiAgICAgICAgdGhpcy5ndCh0LCBlKSA/IHMuSChlLCAxIC8qIFJlbW92ZWQgKi8pIDogXG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBtYXkgaGF2ZSBlbnRlcmVkIGFuZCBsZWZ0IHRoZSB0YXJnZXQgYmVmb3JlIHdlIHJhaXNlZCBhXG4gICAgICAgIC8vIHNuYXBzaG90LCBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGNoYW5nZS5cbiAgICAgICAgcy5KKGUpLCB0aGlzLnN0ID0gdGhpcy5zdC5pbnNlcnQoZSwgdGhpcy55dChlKS5kZWxldGUodCkpLCBuICYmICh0aGlzLm50ID0gdGhpcy5udC5pbnNlcnQoZSwgbikpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXQodCkge1xuICAgICAgICB0aGlzLmV0LmRlbGV0ZSh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBjb3VudCBvZiBkb2N1bWVudHMgaW4gdGhlIHRhcmdldC4gVGhpcyBpbmNsdWRlcyBib3RoXG4gICAgICogdGhlIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCB0aGUgTG9jYWxTdG9yZSBjb25zaWRlcnMgdG8gYmUgcGFydCBvZiB0aGVcbiAgICAgKiB0YXJnZXQgYXMgd2VsbCBhcyBhbnkgYWNjdW11bGF0ZWQgY2hhbmdlcy5cbiAgICAgKi8gICAgd3QodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy51dCh0KS5XKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnR0LmdldFJlbW90ZUtleXNGb3JUYXJnZXQodCkuc2l6ZSArIGUuYWRkZWREb2N1bWVudHMuc2l6ZSAtIGUucmVtb3ZlZERvY3VtZW50cy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoIGJlZm9yZSB3ZSBjYW4gY29uc2lkZXIgdGhlXG4gICAgICogc2VydmVyIHRvIGJlICdpbi1zeW5jJyB3aXRoIHRoZSBjbGllbnQncyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAgKi8gICAgWSh0KSB7XG4gICAgICAgIHRoaXMudXQodCkuWSgpO1xuICAgIH1cbiAgICB1dCh0KSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5ldC5nZXQodCk7XG4gICAgICAgIHJldHVybiBlIHx8IChlID0gbmV3IE5uLCB0aGlzLmV0LnNldCh0LCBlKSksIGU7XG4gICAgfVxuICAgIHl0KHQpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLnN0LmdldCh0KTtcbiAgICAgICAgcmV0dXJuIGUgfHwgKGUgPSBuZXcgX24oWiksIHRoaXMuc3QgPSB0aGlzLnN0Lmluc2VydCh0LCBlKSksIGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgdGhlIHVzZXIgaXMgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGlzIHRhcmdldCAoYnkgY2FsbGluZ1xuICAgICAqIGBnZXRUYXJnZXREYXRhRm9yVGFyZ2V0KClgKSBhbmQgdGhhdCB3ZSBhcmUgbm90IHdhaXRpbmcgZm9yIHBlbmRpbmcgQUREc1xuICAgICAqIGZyb20gd2F0Y2guXG4gICAgICovICAgIGh0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IG51bGwgIT09IHRoaXMuZHQodCk7XG4gICAgICAgIHJldHVybiBlIHx8IHgoXCJXYXRjaENoYW5nZUFnZ3JlZ2F0b3JcIiwgXCJEZXRlY3RlZCBpbmFjdGl2ZSB0YXJnZXRcIiwgdCksIGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgZm9yIGFuIGFjdGl2ZSB0YXJnZXQgKGkuZS4gYSB0YXJnZXQgdGhhdCB0aGUgdXNlclxuICAgICAqIGlzIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhhdCBoYXMgbm8gb3V0c3RhbmRpbmcgdGFyZ2V0IGNoYW5nZSByZXF1ZXN0cykuXG4gICAgICovICAgIGR0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuZXQuZ2V0KHQpO1xuICAgICAgICByZXR1cm4gZSAmJiBlLnEgPyBudWxsIDogdGhpcy50dC5FdCh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBzdGF0ZSBvZiBhIFdhdGNoIHRhcmdldCB0byBpdHMgaW5pdGlhbCBzdGF0ZSAoZS5nLiBzZXRzXG4gICAgICogJ2N1cnJlbnQnIHRvIGZhbHNlLCBjbGVhcnMgdGhlIHJlc3VtZSB0b2tlbiBhbmQgcmVtb3ZlcyBpdHMgdGFyZ2V0IG1hcHBpbmdcbiAgICAgKiBmcm9tIGFsbCBkb2N1bWVudHMpLlxuICAgICAqLyAgICBsdCh0KSB7XG4gICAgICAgIHRoaXMuZXQuc2V0KHQsIG5ldyBObik7XG4gICAgICAgIHRoaXMudHQuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXQodCwgZSwgLyp1cGRhdGVkRG9jdW1lbnQ9Ki8gbnVsbCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBMb2NhbFN0b3JlIGNvbnNpZGVycyB0aGUgZG9jdW1lbnQgdG8gYmUgcGFydCBvZiB0aGVcbiAgICAgKiBzcGVjaWZpZWQgdGFyZ2V0LlxuICAgICAqLyAgICBndCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR0LmdldFJlbW90ZUtleXNGb3JUYXJnZXQodCkuaGFzKGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24ga24oKSB7XG4gICAgcmV0dXJuIG5ldyBmbihSdC5jb21wYXJhdG9yKTtcbn1cblxuZnVuY3Rpb24gJG4oKSB7XG4gICAgcmV0dXJuIG5ldyBmbihSdC5jb21wYXJhdG9yKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgT24gPSAoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICAgIGFzYzogXCJBU0NFTkRJTkdcIixcbiAgICAgICAgZGVzYzogXCJERVNDRU5ESU5HXCJcbiAgICB9O1xuICAgIHJldHVybiB0O1xufSkoKSwgRm4gPSAoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICAgIFwiPFwiOiBcIkxFU1NfVEhBTlwiLFxuICAgICAgICBcIjw9XCI6IFwiTEVTU19USEFOX09SX0VRVUFMXCIsXG4gICAgICAgIFwiPlwiOiBcIkdSRUFURVJfVEhBTlwiLFxuICAgICAgICBcIj49XCI6IFwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCIsXG4gICAgICAgIFwiPT1cIjogXCJFUVVBTFwiLFxuICAgICAgICBcIiE9XCI6IFwiTk9UX0VRVUFMXCIsXG4gICAgICAgIFwiYXJyYXktY29udGFpbnNcIjogXCJBUlJBWV9DT05UQUlOU1wiLFxuICAgICAgICBpbjogXCJJTlwiLFxuICAgICAgICBcIm5vdC1pblwiOiBcIk5PVF9JTlwiLFxuICAgICAgICBcImFycmF5LWNvbnRhaW5zLWFueVwiOiBcIkFSUkFZX0NPTlRBSU5TX0FOWVwiXG4gICAgfTtcbiAgICByZXR1cm4gdDtcbn0pKCk7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBnZW5lcmF0ZXMgSnNvbk9iamVjdCB2YWx1ZXMgZm9yIHRoZSBEYXRhc3RvcmUgQVBJIHN1aXRhYmxlIGZvclxuICogc2VuZGluZyB0byBlaXRoZXIgR1JQQyBzdHViIG1ldGhvZHMgb3IgdmlhIHRoZSBKU09OL0hUVFAgUkVTVCBBUEkuXG4gKlxuICogVGhlIHNlcmlhbGl6ZXIgc3VwcG9ydHMgYm90aCBQcm90b2J1Zi5qcyBhbmQgUHJvdG8zIEpTT04gZm9ybWF0cy4gQnlcbiAqIHNldHRpbmcgYHVzZVByb3RvM0pzb25gIHRvIHRydWUsIHRoZSBzZXJpYWxpemVyIHdpbGwgdXNlIHRoZSBQcm90bzMgSlNPTlxuICogZm9ybWF0LlxuICpcbiAqIEZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBQcm90bzMgSlNPTiBmb3JtYXQgY2hlY2tcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzMjanNvblxuICpcbiAqIFRPRE8oa2xpbXQpOiBXZSBjYW4gcmVtb3ZlIHRoZSBkYXRhYmFzZUlkIGFyZ3VtZW50IGlmIHdlIGtlZXAgdGhlIGZ1bGxcbiAqIHJlc291cmNlIG5hbWUgaW4gZG9jdW1lbnRzLlxuICovXG5jbGFzcyBNbiB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmRhdGFiYXNlSWQgPSB0LCB0aGlzLkQgPSBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmFsdWUgZm9yIGEgRGF0ZSB0aGF0J3MgYXBwcm9wcmlhdGUgdG8gcHV0IGludG8gYSBwcm90by5cbiAqL1xuZnVuY3Rpb24gTG4odCwgZSkge1xuICAgIGlmICh0LkQpIHtcbiAgICAgICAgcmV0dXJuIGAke25ldyBEYXRlKDFlMyAqIGUuc2Vjb25kcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cXC5cXGQqLywgXCJcIikucmVwbGFjZShcIlpcIiwgXCJcIil9LiR7KFwiMDAwMDAwMDAwXCIgKyBlLm5hbm9zZWNvbmRzKS5zbGljZSgtOSl9WmA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IFwiXCIgKyBlLnNlY29uZHMsXG4gICAgICAgIG5hbm9zOiBlLm5hbm9zZWNvbmRzXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmFsdWUgZm9yIGJ5dGVzIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW4gYSBwcm90by5cbiAqXG4gKiBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5mdW5jdGlvbiBCbih0LCBlKSB7XG4gICAgcmV0dXJuIHQuRCA/IGUudG9CYXNlNjQoKSA6IGUudG9VaW50OEFycmF5KCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIEJ5dGVTdHJpbmcgYmFzZWQgb24gdGhlIHByb3RvIHN0cmluZyB2YWx1ZS5cbiAqLyBmdW5jdGlvbiBVbih0LCBlKSB7XG4gICAgcmV0dXJuIExuKHQsIGUudG9UaW1lc3RhbXAoKSk7XG59XG5cbmZ1bmN0aW9uIHFuKHQpIHtcbiAgICByZXR1cm4gTSghIXQpLCBzdC5mcm9tVGltZXN0YW1wKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IF90KHQpO1xuICAgICAgICByZXR1cm4gbmV3IG50KGUuc2Vjb25kcywgZS5uYW5vcyk7XG4gICAgfSh0KSk7XG59XG5cbmZ1bmN0aW9uIEtuKHQsIGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gbmV3IGN0KFsgXCJwcm9qZWN0c1wiLCB0LnByb2plY3RJZCwgXCJkYXRhYmFzZXNcIiwgdC5kYXRhYmFzZSBdKTtcbiAgICB9KHQpLmNoaWxkKFwiZG9jdW1lbnRzXCIpLmNoaWxkKGUpLmNhbm9uaWNhbFN0cmluZygpO1xufVxuXG5mdW5jdGlvbiBqbih0KSB7XG4gICAgY29uc3QgZSA9IGN0LmZyb21TdHJpbmcodCk7XG4gICAgcmV0dXJuIE0oeXMoZSkpLCBlO1xufVxuXG5mdW5jdGlvbiBRbih0LCBlKSB7XG4gICAgcmV0dXJuIEtuKHQuZGF0YWJhc2VJZCwgZS5wYXRoKTtcbn1cblxuZnVuY3Rpb24gV24odCwgZSkge1xuICAgIGNvbnN0IG4gPSBqbihlKTtcbiAgICBpZiAobi5nZXQoMSkgIT09IHQuZGF0YWJhc2VJZC5wcm9qZWN0SWQpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgcHJvamVjdDogXCIgKyBuLmdldCgxKSArIFwiIHZzIFwiICsgdC5kYXRhYmFzZUlkLnByb2plY3RJZCk7XG4gICAgaWYgKG4uZ2V0KDMpICE9PSB0LmRhdGFiYXNlSWQuZGF0YWJhc2UpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgZGF0YWJhc2U6IFwiICsgbi5nZXQoMykgKyBcIiB2cyBcIiArIHQuZGF0YWJhc2VJZC5kYXRhYmFzZSk7XG4gICAgcmV0dXJuIG5ldyBSdChKbihuKSk7XG59XG5cbmZ1bmN0aW9uIEduKHQsIGUpIHtcbiAgICByZXR1cm4gS24odC5kYXRhYmFzZUlkLCBlKTtcbn1cblxuZnVuY3Rpb24gem4odCkge1xuICAgIGNvbnN0IGUgPSBqbih0KTtcbiAgICAvLyBJbiB2MWJldGExIHF1ZXJpZXMgZm9yIGNvbGxlY3Rpb25zIGF0IHRoZSByb290IGRpZCBub3QgaGF2ZSBhIHRyYWlsaW5nXG4gICAgLy8gXCIvZG9jdW1lbnRzXCIuIEluIHYxIGFsbCByZXNvdXJjZSBwYXRocyBjb250YWluIFwiL2RvY3VtZW50c1wiLiBQcmVzZXJ2ZSB0aGVcbiAgICAvLyBhYmlsaXR5IHRvIHJlYWQgdGhlIHYxYmV0YTEgZm9ybSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHF1ZXJpZXMgcGVyc2lzdGVkXG4gICAgLy8gaW4gdGhlIGxvY2FsIHRhcmdldCBjYWNoZS5cbiAgICAgICAgcmV0dXJuIDQgPT09IGUubGVuZ3RoID8gY3QuZW1wdHlQYXRoKCkgOiBKbihlKTtcbn1cblxuZnVuY3Rpb24gSG4odCkge1xuICAgIHJldHVybiBuZXcgY3QoWyBcInByb2plY3RzXCIsIHQuZGF0YWJhc2VJZC5wcm9qZWN0SWQsIFwiZGF0YWJhc2VzXCIsIHQuZGF0YWJhc2VJZC5kYXRhYmFzZSBdKS5jYW5vbmljYWxTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gSm4odCkge1xuICAgIHJldHVybiBNKHQubGVuZ3RoID4gNCAmJiBcImRvY3VtZW50c1wiID09PSB0LmdldCg0KSksIHQucG9wRmlyc3QoNSk7XG59XG5cbi8qKiBDcmVhdGVzIGEgRG9jdW1lbnQgcHJvdG8gZnJvbSBrZXkgYW5kIGZpZWxkcyAoYnV0IG5vIGNyZWF0ZS91cGRhdGUgdGltZSkgKi8gZnVuY3Rpb24gWW4odCwgZSwgbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IFFuKHQsIGUpLFxuICAgICAgICBmaWVsZHM6IG4udmFsdWUubWFwVmFsdWUuZmllbGRzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gWG4odCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBXbih0LCBlLm5hbWUpLCBpID0gcW4oZS51cGRhdGVUaW1lKSwgciA9IG5ldyBMdCh7XG4gICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICBmaWVsZHM6IGUuZmllbGRzXG4gICAgICAgIH1cbiAgICB9KSwgbyA9IFV0Lm5ld0ZvdW5kRG9jdW1lbnQocywgaSwgcik7XG4gICAgcmV0dXJuIG4gJiYgby5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSwgbiA/IG8uc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkgOiBvO1xufVxuXG5mdW5jdGlvbiBabih0LCBlKSB7XG4gICAgcmV0dXJuIFwiZm91bmRcIiBpbiBlID8gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBNKCEhZS5mb3VuZCksIGUuZm91bmQubmFtZSwgZS5mb3VuZC51cGRhdGVUaW1lO1xuICAgICAgICBjb25zdCBuID0gV24odCwgZS5mb3VuZC5uYW1lKSwgcyA9IHFuKGUuZm91bmQudXBkYXRlVGltZSksIGkgPSBuZXcgTHQoe1xuICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGUuZm91bmQuZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVXQubmV3Rm91bmREb2N1bWVudChuLCBzLCBpKTtcbiAgICB9KHQsIGUpIDogXCJtaXNzaW5nXCIgaW4gZSA/IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgTSghIWUubWlzc2luZyksIE0oISFlLnJlYWRUaW1lKTtcbiAgICAgICAgY29uc3QgbiA9IFduKHQsIGUubWlzc2luZyksIHMgPSBxbihlLnJlYWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIFV0Lm5ld05vRG9jdW1lbnQobiwgcyk7XG4gICAgfSh0LCBlKSA6IEYoKTtcbn1cblxuZnVuY3Rpb24gdHModCwgZSkge1xuICAgIGxldCBuO1xuICAgIGlmIChcInRhcmdldENoYW5nZVwiIGluIGUpIHtcbiAgICAgICAgZS50YXJnZXRDaGFuZ2U7XG4gICAgICAgIC8vIHByb3RvMyBkZWZhdWx0IHZhbHVlIGlzIHVuc2V0IGluIEpTT04gKHVuZGVmaW5lZCksIHNvIHVzZSAnTk9fQ0hBTkdFJ1xuICAgICAgICAvLyBpZiB1bnNldFxuICAgICAgICBjb25zdCBzID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiTk9fQ0hBTkdFXCIgPT09IHQgPyAwIC8qIE5vQ2hhbmdlICovIDogXCJBRERcIiA9PT0gdCA/IDEgLyogQWRkZWQgKi8gOiBcIlJFTU9WRVwiID09PSB0ID8gMiAvKiBSZW1vdmVkICovIDogXCJDVVJSRU5UXCIgPT09IHQgPyAzIC8qIEN1cnJlbnQgKi8gOiBcIlJFU0VUXCIgPT09IHQgPyA0IC8qIFJlc2V0ICovIDogRigpO1xuICAgICAgICB9KGUudGFyZ2V0Q2hhbmdlLnRhcmdldENoYW5nZVR5cGUgfHwgXCJOT19DSEFOR0VcIiksIGkgPSBlLnRhcmdldENoYW5nZS50YXJnZXRJZHMgfHwgW10sIHIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdC5EID8gKE0odm9pZCAwID09PSBlIHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpLCBkdC5mcm9tQmFzZTY0U3RyaW5nKGUgfHwgXCJcIikpIDogKE0odm9pZCAwID09PSBlIHx8IGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSwgXG4gICAgICAgICAgICBkdC5mcm9tVWludDhBcnJheShlIHx8IG5ldyBVaW50OEFycmF5KSk7XG4gICAgICAgIH0odCwgZS50YXJnZXRDaGFuZ2UucmVzdW1lVG9rZW4pLCBvID0gZS50YXJnZXRDaGFuZ2UuY2F1c2UsIGEgPSBvICYmIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB2b2lkIDAgPT09IHQuY29kZSA/IFUuVU5LTk9XTiA6IGxuKHQuY29kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHEoZSwgdC5tZXNzYWdlIHx8IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmV0dXJucyBhIHZhbHVlIGZvciBhIG51bWJlciAob3IgbnVsbCkgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbnRvXG4gKiBhIGdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlIHByb3RvLlxuICogRE8gTk9UIFVTRSBUSElTIEZPUiBBTllUSElORyBFTFNFLlxuICogVGhpcyBtZXRob2QgY2hlYXRzLiBJdCdzIHR5cGVkIGFzIHJldHVybmluZyBcIm51bWJlclwiIGJlY2F1c2UgdGhhdCdzIHdoYXRcbiAqIG91ciBnZW5lcmF0ZWQgcHJvdG8gaW50ZXJmYWNlcyBzYXkgSW50MzJWYWx1ZSBtdXN0IGJlLiBCdXQgR1JQQyBhY3R1YWxseVxuICogZXhwZWN0cyBhIHsgdmFsdWU6IDxudW1iZXI+IH0gc3RydWN0LlxuICovIChvKTtcbiAgICAgICAgbiA9IG5ldyBDbihzLCBpLCByLCBhIHx8IG51bGwpO1xuICAgIH0gZWxzZSBpZiAoXCJkb2N1bWVudENoYW5nZVwiIGluIGUpIHtcbiAgICAgICAgZS5kb2N1bWVudENoYW5nZTtcbiAgICAgICAgY29uc3QgcyA9IGUuZG9jdW1lbnRDaGFuZ2U7XG4gICAgICAgIHMuZG9jdW1lbnQsIHMuZG9jdW1lbnQubmFtZSwgcy5kb2N1bWVudC51cGRhdGVUaW1lO1xuICAgICAgICBjb25zdCBpID0gV24odCwgcy5kb2N1bWVudC5uYW1lKSwgciA9IHFuKHMuZG9jdW1lbnQudXBkYXRlVGltZSksIG8gPSBuZXcgTHQoe1xuICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHMuZG9jdW1lbnQuZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBhID0gVXQubmV3Rm91bmREb2N1bWVudChpLCByLCBvKSwgYyA9IHMudGFyZ2V0SWRzIHx8IFtdLCB1ID0gcy5yZW1vdmVkVGFyZ2V0SWRzIHx8IFtdO1xuICAgICAgICBuID0gbmV3IFNuKGMsIHUsIGEua2V5LCBhKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnREZWxldGVcIiBpbiBlKSB7XG4gICAgICAgIGUuZG9jdW1lbnREZWxldGU7XG4gICAgICAgIGNvbnN0IHMgPSBlLmRvY3VtZW50RGVsZXRlO1xuICAgICAgICBzLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gV24odCwgcy5kb2N1bWVudCksIHIgPSBzLnJlYWRUaW1lID8gcW4ocy5yZWFkVGltZSkgOiBzdC5taW4oKSwgbyA9IFV0Lm5ld05vRG9jdW1lbnQoaSwgciksIGEgPSBzLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgU24oW10sIGEsIG8ua2V5LCBvKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnRSZW1vdmVcIiBpbiBlKSB7XG4gICAgICAgIGUuZG9jdW1lbnRSZW1vdmU7XG4gICAgICAgIGNvbnN0IHMgPSBlLmRvY3VtZW50UmVtb3ZlO1xuICAgICAgICBzLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gV24odCwgcy5kb2N1bWVudCksIHIgPSBzLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgU24oW10sIHIsIGksIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKFwiZmlsdGVyXCIgaW4gZSkpIHJldHVybiBGKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGUuZmlsdGVyO1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuZmlsdGVyO1xuICAgICAgICAgICAgdC50YXJnZXRJZDtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0LmNvdW50IHx8IDAsIGkgPSBuZXcgYW4ocyksIHIgPSB0LnRhcmdldElkO1xuICAgICAgICAgICAgbiA9IG5ldyBEbihyLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gZXModCwgZSkge1xuICAgIGxldCBuO1xuICAgIGlmIChlIGluc3RhbmNlb2YgWmUpIG4gPSB7XG4gICAgICAgIHVwZGF0ZTogWW4odCwgZS5rZXksIGUudmFsdWUpXG4gICAgfTsgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIHJuKSBuID0ge1xuICAgICAgICBkZWxldGU6IFFuKHQsIGUua2V5KVxuICAgIH07IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiB0bikgbiA9IHtcbiAgICAgICAgdXBkYXRlOiBZbih0LCBlLmtleSwgZS5kYXRhKSxcbiAgICAgICAgdXBkYXRlTWFzazogZ3MoZS5maWVsZE1hc2spXG4gICAgfTsgZWxzZSB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBvbikpIHJldHVybiBGKCk7XG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgICB2ZXJpZnk6IFFuKHQsIGUua2V5KVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZS5maWVsZFRyYW5zZm9ybXMubGVuZ3RoID4gMCAmJiAobi51cGRhdGVUcmFuc2Zvcm1zID0gZS5maWVsZFRyYW5zZm9ybXMubWFwKCh0ID0+IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IGUudHJhbnNmb3JtO1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIGtlKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiBlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgc2V0VG9TZXJ2ZXJWYWx1ZTogXCJSRVFVRVNUX1RJTUVcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mICRlKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiBlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgYXBwZW5kTWlzc2luZ0VsZW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBuLmVsZW1lbnRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgRmUpIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZFBhdGg6IGUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksXG4gICAgICAgICAgICByZW1vdmVBbGxGcm9tQXJyYXk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IG4uZWxlbWVudHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBMZSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIGluY3JlbWVudDogbi5DXG4gICAgICAgIH07XG4gICAgICAgIHRocm93IEYoKTtcbiAgICB9KDAsIHQpKSkpLCBlLnByZWNvbmRpdGlvbi5pc05vbmUgfHwgKG4uY3VycmVudERvY3VtZW50ID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVwZGF0ZVRpbWUgPyB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lOiBVbih0LCBlLnVwZGF0ZVRpbWUpXG4gICAgICAgIH0gOiB2b2lkIDAgIT09IGUuZXhpc3RzID8ge1xuICAgICAgICAgICAgZXhpc3RzOiBlLmV4aXN0c1xuICAgICAgICB9IDogRigpO1xuICAgIH0odCwgZS5wcmVjb25kaXRpb24pKSwgbjtcbn1cblxuZnVuY3Rpb24gbnModCwgZSkge1xuICAgIGNvbnN0IG4gPSBlLmN1cnJlbnREb2N1bWVudCA/IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdC51cGRhdGVUaW1lID8gUWUudXBkYXRlVGltZShxbih0LnVwZGF0ZVRpbWUpKSA6IHZvaWQgMCAhPT0gdC5leGlzdHMgPyBRZS5leGlzdHModC5leGlzdHMpIDogUWUubm9uZSgpO1xuICAgIH0oZS5jdXJyZW50RG9jdW1lbnQpIDogUWUubm9uZSgpLCBzID0gZS51cGRhdGVUcmFuc2Zvcm1zID8gZS51cGRhdGVUcmFuc2Zvcm1zLm1hcCgoZSA9PiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGxldCBuID0gbnVsbDtcbiAgICAgICAgaWYgKFwic2V0VG9TZXJ2ZXJWYWx1ZVwiIGluIGUpIE0oXCJSRVFVRVNUX1RJTUVcIiA9PT0gZS5zZXRUb1NlcnZlclZhbHVlKSwgbiA9IG5ldyBrZTsgZWxzZSBpZiAoXCJhcHBlbmRNaXNzaW5nRWxlbWVudHNcIiBpbiBlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5hcHBlbmRNaXNzaW5nRWxlbWVudHMudmFsdWVzIHx8IFtdO1xuICAgICAgICAgICAgbiA9IG5ldyAkZSh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChcInJlbW92ZUFsbEZyb21BcnJheVwiIGluIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLnJlbW92ZUFsbEZyb21BcnJheS52YWx1ZXMgfHwgW107XG4gICAgICAgICAgICBuID0gbmV3IEZlKHQpO1xuICAgICAgICB9IGVsc2UgXCJpbmNyZW1lbnRcIiBpbiBlID8gbiA9IG5ldyBMZSh0LCBlLmluY3JlbWVudCkgOiBGKCk7XG4gICAgICAgIGNvbnN0IHMgPSBodC5mcm9tU2VydmVyRm9ybWF0KGUuZmllbGRQYXRoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBxZShzLCBuKTtcbiAgICB9KHQsIGUpKSkgOiBbXTtcbiAgICBpZiAoZS51cGRhdGUpIHtcbiAgICAgICAgZS51cGRhdGUubmFtZTtcbiAgICAgICAgY29uc3QgaSA9IFduKHQsIGUudXBkYXRlLm5hbWUpLCByID0gbmV3IEx0KHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBlLnVwZGF0ZS5maWVsZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlLnVwZGF0ZU1hc2spIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuZmllbGRQYXRocyB8fCBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGx0KGUubWFwKCh0ID0+IGh0LmZyb21TZXJ2ZXJGb3JtYXQodCkpKSk7XG4gICAgICAgICAgICB9KGUudXBkYXRlTWFzayk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRuKGksIHIsIHQsIG4sIHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWmUoaSwgciwgbiwgcyk7XG4gICAgfVxuICAgIGlmIChlLmRlbGV0ZSkge1xuICAgICAgICBjb25zdCBzID0gV24odCwgZS5kZWxldGUpO1xuICAgICAgICByZXR1cm4gbmV3IHJuKHMsIG4pO1xuICAgIH1cbiAgICBpZiAoZS52ZXJpZnkpIHtcbiAgICAgICAgY29uc3QgcyA9IFduKHQsIGUudmVyaWZ5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBvbihzLCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIEYoKTtcbn1cblxuZnVuY3Rpb24gc3ModCwgZSkge1xuICAgIHJldHVybiB0ICYmIHQubGVuZ3RoID4gMCA/IChNKHZvaWQgMCAhPT0gZSksIHQubWFwKCh0ID0+IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgLy8gTk9URTogRGVsZXRlcyBkb24ndCBoYXZlIGFuIHVwZGF0ZVRpbWUuXG4gICAgICAgIGxldCBuID0gdC51cGRhdGVUaW1lID8gcW4odC51cGRhdGVUaW1lKSA6IHFuKGUpO1xuICAgICAgICByZXR1cm4gbi5pc0VxdWFsKHN0Lm1pbigpKSAmJiAoXG4gICAgICAgIC8vIFRoZSBGaXJlc3RvcmUgRW11bGF0b3IgY3VycmVudGx5IHJldHVybnMgYW4gdXBkYXRlIHRpbWUgb2YgMCBmb3JcbiAgICAgICAgLy8gZGVsZXRlcyBvZiBub24tZXhpc3RpbmcgZG9jdW1lbnRzIChyYXRoZXIgdGhhbiBudWxsKS4gVGhpcyBicmVha3MgdGhlXG4gICAgICAgIC8vIHRlc3QgXCJnZXQgZGVsZXRlZCBkb2Mgd2hpbGUgb2ZmbGluZSB3aXRoIHNvdXJjZT1jYWNoZVwiIGFzIE5vRG9jdW1lbnRzXG4gICAgICAgIC8vIHdpdGggdmVyc2lvbiAwIGFyZSBmaWx0ZXJlZCBieSBJbmRleGVkRGIncyBSZW1vdGVEb2N1bWVudENhY2hlLlxuICAgICAgICAvLyBUT0RPKCMyMTQ5KTogUmVtb3ZlIHRoaXMgd2hlbiBFbXVsYXRvciBpcyBmaXhlZFxuICAgICAgICBuID0gcW4oZSkpLCBuZXcgamUobiwgdC50cmFuc2Zvcm1SZXN1bHRzIHx8IFtdKTtcbiAgICB9KHQsIGUpKSkpIDogW107XG59XG5cbmZ1bmN0aW9uIGlzKHQsIGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2N1bWVudHM6IFsgR24odCwgZS5wYXRoKSBdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcnModCwgZSkge1xuICAgIC8vIERpc3NlY3QgdGhlIHBhdGggaW50byBwYXJlbnQsIGNvbGxlY3Rpb25JZCwgYW5kIG9wdGlvbmFsIGtleSBmaWx0ZXIuXG4gICAgY29uc3QgbiA9IHtcbiAgICAgICAgc3RydWN0dXJlZFF1ZXJ5OiB7fVxuICAgIH0sIHMgPSBlLnBhdGg7XG4gICAgbnVsbCAhPT0gZS5jb2xsZWN0aW9uR3JvdXAgPyAobi5wYXJlbnQgPSBHbih0LCBzKSwgbi5zdHJ1Y3R1cmVkUXVlcnkuZnJvbSA9IFsge1xuICAgICAgICBjb2xsZWN0aW9uSWQ6IGUuY29sbGVjdGlvbkdyb3VwLFxuICAgICAgICBhbGxEZXNjZW5kYW50czogITBcbiAgICB9IF0pIDogKG4ucGFyZW50ID0gR24odCwgcy5wb3BMYXN0KCkpLCBuLnN0cnVjdHVyZWRRdWVyeS5mcm9tID0gWyB7XG4gICAgICAgIGNvbGxlY3Rpb25JZDogcy5sYXN0U2VnbWVudCgpXG4gICAgfSBdKTtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24odCkge1xuICAgICAgICBpZiAoMCA9PT0gdC5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgY29uc3QgZSA9IHQubWFwKCh0ID0+IFxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmIChcIj09XCIgLyogRVFVQUwgKi8gPT09IHQub3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoT3QodC52YWx1ZSkpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZHModC5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OQU5cIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoJHQodC52YWx1ZSkpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZHModC5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OVUxMXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwiIT1cIiAvKiBOT1RfRVFVQUwgKi8gPT09IHQub3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoT3QodC52YWx1ZSkpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZHModC5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OT1RfTkFOXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCR0KHQudmFsdWUpKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGRzKHQuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiSVNfTk9UX05VTExcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmllbGRGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGRzKHQuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogZnModC5vcCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0LnZhbHVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0KSkpO1xuICAgICAgICBpZiAoMSA9PT0gZS5sZW5ndGgpIHJldHVybiBlWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29tcG9zaXRlRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgb3A6IFwiQU5EXCIsXG4gICAgICAgICAgICAgICAgZmlsdGVyczogZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0oZS5maWx0ZXJzKTtcbiAgICBpICYmIChuLnN0cnVjdHVyZWRRdWVyeS53aGVyZSA9IGkpO1xuICAgIGNvbnN0IHIgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGlmICgwID09PSB0Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gdC5tYXAoKHQgPT4gXG4gICAgICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWVsZDogZHModC5maWVsZCksXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBscyh0LmRpcilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpKTtcbiAgICB9KGUub3JkZXJCeSk7XG4gICAgciAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkub3JkZXJCeSA9IHIpO1xuICAgIGNvbnN0IG8gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiB0LkQgfHwgVHQoZSkgPyBlIDoge1xuICAgICAgICAgICAgdmFsdWU6IGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIChvciBudWxsKSBmcm9tIGEgZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUgcHJvdG8uXG4gKi8gKHQsIGUubGltaXQpO1xuICAgIHJldHVybiBudWxsICE9PSBvICYmIChuLnN0cnVjdHVyZWRRdWVyeS5saW1pdCA9IG8pLCBlLnN0YXJ0QXQgJiYgKG4uc3RydWN0dXJlZFF1ZXJ5LnN0YXJ0QXQgPSB1cyhlLnN0YXJ0QXQpKSwgXG4gICAgZS5lbmRBdCAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkuZW5kQXQgPSB1cyhlLmVuZEF0KSksIG47XG59XG5cbmZ1bmN0aW9uIG9zKHQpIHtcbiAgICBsZXQgZSA9IHpuKHQucGFyZW50KTtcbiAgICBjb25zdCBuID0gdC5zdHJ1Y3R1cmVkUXVlcnksIHMgPSBuLmZyb20gPyBuLmZyb20ubGVuZ3RoIDogMDtcbiAgICBsZXQgaSA9IG51bGw7XG4gICAgaWYgKHMgPiAwKSB7XG4gICAgICAgIE0oMSA9PT0gcyk7XG4gICAgICAgIGNvbnN0IHQgPSBuLmZyb21bMF07XG4gICAgICAgIHQuYWxsRGVzY2VuZGFudHMgPyBpID0gdC5jb2xsZWN0aW9uSWQgOiBlID0gZS5jaGlsZCh0LmNvbGxlY3Rpb25JZCk7XG4gICAgfVxuICAgIGxldCByID0gW107XG4gICAgbi53aGVyZSAmJiAociA9IGNzKG4ud2hlcmUpKTtcbiAgICBsZXQgbyA9IFtdO1xuICAgIG4ub3JkZXJCeSAmJiAobyA9IG4ub3JkZXJCeS5tYXAoKHQgPT4gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gbmV3IG9lKHdzKHQuZmllbGQpLCBcbiAgICAgICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgICAgICBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkFTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImFzY1wiIC8qIEFTQ0VORElORyAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiREVTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImRlc2NcIiAvKiBERVNDRU5ESU5HICovO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAgICAgKHQuZGlyZWN0aW9uKSk7XG4gICAgfSh0KSkpKTtcbiAgICBsZXQgYSA9IG51bGw7XG4gICAgbi5saW1pdCAmJiAoYSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgbGV0IGU7XG4gICAgICAgIHJldHVybiBlID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCA/IHQudmFsdWUgOiB0LCBUdChlKSA/IG51bGwgOiBlO1xuICAgIH0obi5saW1pdCkpO1xuICAgIGxldCBjID0gbnVsbDtcbiAgICBuLnN0YXJ0QXQgJiYgKGMgPSBocyhuLnN0YXJ0QXQpKTtcbiAgICBsZXQgdSA9IG51bGw7XG4gICAgcmV0dXJuIG4uZW5kQXQgJiYgKHUgPSBocyhuLmVuZEF0KSksIGxlKGUsIGksIG8sIHIsIGEsIFwiRlwiIC8qIEZpcnN0ICovICwgYywgdSk7XG59XG5cbmZ1bmN0aW9uIGFzKHQsIGUpIHtcbiAgICBjb25zdCBuID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIDAgLyogTGlzdGVuICovIDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIEV4aXN0ZW5jZUZpbHRlck1pc21hdGNoICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2hcIjtcblxuICAgICAgICAgIGNhc2UgMiAvKiBMaW1ib1Jlc29sdXRpb24gKi8gOlxuICAgICAgICAgICAgcmV0dXJuIFwibGltYm8tZG9jdW1lbnRcIjtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRigpO1xuICAgICAgICB9XG4gICAgfSgwLCBlLnB1cnBvc2UpO1xuICAgIHJldHVybiBudWxsID09IG4gPyBudWxsIDoge1xuICAgICAgICBcImdvb2ctbGlzdGVuLXRhZ3NcIjogblxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNzKHQpIHtcbiAgICByZXR1cm4gdCA/IHZvaWQgMCAhPT0gdC51bmFyeUZpbHRlciA/IFsgbXModCkgXSA6IHZvaWQgMCAhPT0gdC5maWVsZEZpbHRlciA/IFsgX3ModCkgXSA6IHZvaWQgMCAhPT0gdC5jb21wb3NpdGVGaWx0ZXIgPyB0LmNvbXBvc2l0ZUZpbHRlci5maWx0ZXJzLm1hcCgodCA9PiBjcyh0KSkpLnJlZHVjZSgoKHQsIGUpID0+IHQuY29uY2F0KGUpKSkgOiBGKCkgOiBbXTtcbn1cblxuZnVuY3Rpb24gdXModCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJlZm9yZTogdC5iZWZvcmUsXG4gICAgICAgIHZhbHVlczogdC5wb3NpdGlvblxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGhzKHQpIHtcbiAgICBjb25zdCBlID0gISF0LmJlZm9yZSwgbiA9IHQudmFsdWVzIHx8IFtdO1xuICAgIHJldHVybiBuZXcgaWUobiwgZSk7XG59XG5cbi8vIHZpc2libGUgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIGxzKHQpIHtcbiAgICByZXR1cm4gT25bdF07XG59XG5cbmZ1bmN0aW9uIGZzKHQpIHtcbiAgICByZXR1cm4gRm5bdF07XG59XG5cbmZ1bmN0aW9uIGRzKHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaWVsZFBhdGg6IHQuY2Fub25pY2FsU3RyaW5nKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3cyh0KSB7XG4gICAgcmV0dXJuIGh0LmZyb21TZXJ2ZXJGb3JtYXQodC5maWVsZFBhdGgpO1xufVxuXG5mdW5jdGlvbiBfcyh0KSB7XG4gICAgcmV0dXJuIHp0LmNyZWF0ZSh3cyh0LmZpZWxkRmlsdGVyLmZpZWxkKSwgZnVuY3Rpb24odCkge1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICBjYXNlIFwiRVFVQUxcIjpcbiAgICAgICAgICAgIHJldHVybiBcIj09XCIgLyogRVFVQUwgKi87XG5cbiAgICAgICAgICBjYXNlIFwiTk9UX0VRVUFMXCI6XG4gICAgICAgICAgICByZXR1cm4gXCIhPVwiIC8qIE5PVF9FUVVBTCAqLztcblxuICAgICAgICAgIGNhc2UgXCJHUkVBVEVSX1RIQU5cIjpcbiAgICAgICAgICAgIHJldHVybiBcIj5cIiAvKiBHUkVBVEVSX1RIQU4gKi87XG5cbiAgICAgICAgICBjYXNlIFwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCI6XG4gICAgICAgICAgICByZXR1cm4gXCI+PVwiIC8qIEdSRUFURVJfVEhBTl9PUl9FUVVBTCAqLztcblxuICAgICAgICAgIGNhc2UgXCJMRVNTX1RIQU5cIjpcbiAgICAgICAgICAgIHJldHVybiBcIjxcIiAvKiBMRVNTX1RIQU4gKi87XG5cbiAgICAgICAgICBjYXNlIFwiTEVTU19USEFOX09SX0VRVUFMXCI6XG4gICAgICAgICAgICByZXR1cm4gXCI8PVwiIC8qIExFU1NfVEhBTl9PUl9FUVVBTCAqLztcblxuICAgICAgICAgIGNhc2UgXCJBUlJBWV9DT05UQUlOU1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXktY29udGFpbnNcIiAvKiBBUlJBWV9DT05UQUlOUyAqLztcblxuICAgICAgICAgIGNhc2UgXCJJTlwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiaW5cIiAvKiBJTiAqLztcblxuICAgICAgICAgIGNhc2UgXCJOT1RfSU5cIjpcbiAgICAgICAgICAgIHJldHVybiBcIm5vdC1pblwiIC8qIE5PVF9JTiAqLztcblxuICAgICAgICAgIGNhc2UgXCJBUlJBWV9DT05UQUlOU19BTllcIjpcbiAgICAgICAgICAgIHJldHVybiBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLztcblxuICAgICAgICAgIGNhc2UgXCJPUEVSQVRPUl9VTlNQRUNJRklFRFwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRigpO1xuICAgICAgICB9XG4gICAgfSh0LmZpZWxkRmlsdGVyLm9wKSwgdC5maWVsZEZpbHRlci52YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIG1zKHQpIHtcbiAgICBzd2l0Y2ggKHQudW5hcnlGaWx0ZXIub3ApIHtcbiAgICAgIGNhc2UgXCJJU19OQU5cIjpcbiAgICAgICAgY29uc3QgZSA9IHdzKHQudW5hcnlGaWx0ZXIuZmllbGQpO1xuICAgICAgICByZXR1cm4genQuY3JlYXRlKGUsIFwiPT1cIiAvKiBFUVVBTCAqLyAsIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBOYU5cbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgXCJJU19OVUxMXCI6XG4gICAgICAgIGNvbnN0IG4gPSB3cyh0LnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIHp0LmNyZWF0ZShuLCBcIj09XCIgLyogRVFVQUwgKi8gLCB7XG4gICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlIFwiSVNfTk9UX05BTlwiOlxuICAgICAgICBjb25zdCBzID0gd3ModC51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgIHJldHVybiB6dC5jcmVhdGUocywgXCIhPVwiIC8qIE5PVF9FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBOYU5cbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgXCJJU19OT1RfTlVMTFwiOlxuICAgICAgICBjb25zdCBpID0gd3ModC51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgIHJldHVybiB6dC5jcmVhdGUoaSwgXCIhPVwiIC8qIE5PVF9FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgXCJPUEVSQVRPUl9VTlNQRUNJRklFRFwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIEYoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdzKHQpIHtcbiAgICBjb25zdCBlID0gW107XG4gICAgcmV0dXJuIHQuZmllbGRzLmZvckVhY2goKHQgPT4gZS5wdXNoKHQuY2Fub25pY2FsU3RyaW5nKCkpKSksIHtcbiAgICAgICAgZmllbGRQYXRoczogZVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHlzKHQpIHtcbiAgICAvLyBSZXNvdXJjZSBuYW1lcyBoYXZlIGF0IGxlYXN0IDQgY29tcG9uZW50cyAocHJvamVjdCBJRCwgZGF0YWJhc2UgSUQpXG4gICAgcmV0dXJuIHQubGVuZ3RoID49IDQgJiYgXCJwcm9qZWN0c1wiID09PSB0LmdldCgwKSAmJiBcImRhdGFiYXNlc1wiID09PSB0LmdldCgyKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRW5jb2RlcyBhIHJlc291cmNlIHBhdGggaW50byBhIEluZGV4ZWREYi1jb21wYXRpYmxlIHN0cmluZyBmb3JtLlxuICovXG5mdW5jdGlvbiBwcyh0KSB7XG4gICAgbGV0IGUgPSBcIlwiO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgZS5sZW5ndGggPiAwICYmIChlID0gVHMoZSkpLCBlID0gRXModC5nZXQobiksIGUpO1xuICAgIHJldHVybiBUcyhlKTtcbn1cblxuLyoqIEVuY29kZXMgYSBzaW5nbGUgc2VnbWVudCBvZiBhIHJlc291cmNlIHBhdGggaW50byB0aGUgZ2l2ZW4gcmVzdWx0ICovIGZ1bmN0aW9uIEVzKHQsIGUpIHtcbiAgICBsZXQgbiA9IGU7XG4gICAgY29uc3QgcyA9IHQubGVuZ3RoO1xuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgczsgZSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0LmNoYXJBdChlKTtcbiAgICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgICAgY2FzZSBcIlxcMFwiOlxuICAgICAgICAgICAgbiArPSBcIlx1MDAwMVx1MDAxMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiXHUwMDAxXCI6XG4gICAgICAgICAgICBuICs9IFwiXHUwMDAxXHUwMDExXCI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBuICs9IHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG5cbi8qKiBFbmNvZGVzIGEgcGF0aCBzZXBhcmF0b3IgaW50byB0aGUgZ2l2ZW4gcmVzdWx0ICovIGZ1bmN0aW9uIFRzKHQpIHtcbiAgICByZXR1cm4gdCArIFwiXHUwMDAxXHUwMDAxXCI7XG59XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgZ2l2ZW4gSW5kZXhlZERiLWNvbXBhdGlibGUgc3RyaW5nIGZvcm0gb2YgYSByZXNvdXJjZSBwYXRoIGludG9cbiAqIGEgUmVzb3VyY2VQYXRoIGluc3RhbmNlLiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHN1aXRhYmxlIGZvciB1c2Ugd2l0aFxuICogZGVjb2RpbmcgcmVzb3VyY2UgbmFtZXMgZnJvbSB0aGUgc2VydmVyOyB0aG9zZSBhcmUgT25lIFBsYXRmb3JtIGZvcm1hdFxuICogc3RyaW5ncy5cbiAqLyBmdW5jdGlvbiBJcyh0KSB7XG4gICAgLy8gRXZlbnQgdGhlIGVtcHR5IHBhdGggbXVzdCBlbmNvZGUgYXMgYSBwYXRoIG9mIGF0IGxlYXN0IGxlbmd0aCAyLiBBIHBhdGhcbiAgICAvLyB3aXRoIGV4YWN0bHkgMiBtdXN0IGJlIHRoZSBlbXB0eSBwYXRoLlxuICAgIGNvbnN0IGUgPSB0Lmxlbmd0aDtcbiAgICBpZiAoTShlID49IDIpLCAyID09PSBlKSByZXR1cm4gTShcIlx1MDAwMVwiID09PSB0LmNoYXJBdCgwKSAmJiBcIlx1MDAwMVwiID09PSB0LmNoYXJBdCgxKSksIGN0LmVtcHR5UGF0aCgpO1xuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIGNhbm5vdCBleGlzdCBwYXN0IHRoZSBzZWNvbmQtdG8tbGFzdCBwb3NpdGlvbiBpbiB0aGVcbiAgICAvLyBzb3VyY2UgdmFsdWUuXG4gICAgICAgIGNvbnN0IG4gPSBlIC0gMiwgcyA9IFtdO1xuICAgIGxldCBpID0gXCJcIjtcbiAgICBmb3IgKGxldCByID0gMDsgciA8IGU7ICkge1xuICAgICAgICAvLyBUaGUgbGFzdCB0d28gY2hhcmFjdGVycyBvZiBhIHZhbGlkIGVuY29kZWQgcGF0aCBtdXN0IGJlIGEgc2VwYXJhdG9yLCBzb1xuICAgICAgICAvLyB0aGVyZSBtdXN0IGJlIGFuIGVuZCB0byB0aGlzIHNlZ21lbnQuXG4gICAgICAgIGNvbnN0IGUgPSB0LmluZGV4T2YoXCJcdTAwMDFcIiwgcik7XG4gICAgICAgIChlIDwgMCB8fCBlID4gbikgJiYgRigpO1xuICAgICAgICBzd2l0Y2ggKHQuY2hhckF0KGUgKyAxKSkge1xuICAgICAgICAgIGNhc2UgXCJcdTAwMDFcIjpcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LnN1YnN0cmluZyhyLCBlKTtcbiAgICAgICAgICAgIGxldCBvO1xuICAgICAgICAgICAgMCA9PT0gaS5sZW5ndGggPyBcbiAgICAgICAgICAgIC8vIEF2b2lkIGNvcHlpbmcgZm9yIHRoZSBjb21tb24gY2FzZSBvZiBhIHNlZ21lbnQgdGhhdCBleGNsdWRlcyBcXDBcbiAgICAgICAgICAgIC8vIGFuZCBcXDAwMVxuICAgICAgICAgICAgbyA9IG4gOiAoaSArPSBuLCBvID0gaSwgaSA9IFwiXCIpLCBzLnB1c2gobyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJcdTAwMTBcIjpcbiAgICAgICAgICAgIGkgKz0gdC5zdWJzdHJpbmcociwgZSksIGkgKz0gXCJcXDBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIlx1MDAxMVwiOlxuICAgICAgICAgICAgLy8gVGhlIGVzY2FwZSBjaGFyYWN0ZXIgY2FuIGJlIHVzZWQgaW4gdGhlIG91dHB1dCB0byBlbmNvZGUgaXRzZWxmLlxuICAgICAgICAgICAgaSArPSB0LnN1YnN0cmluZyhyLCBlICsgMSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBGKCk7XG4gICAgICAgIH1cbiAgICAgICAgciA9IGUgKyAyO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGN0KHMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTY2hlbWEgVmVyc2lvbiBmb3IgdGhlIFdlYiBjbGllbnQ6XG4gKiAxLiAgSW5pdGlhbCB2ZXJzaW9uIGluY2x1ZGluZyBNdXRhdGlvbiBRdWV1ZSwgUXVlcnkgQ2FjaGUsIGFuZCBSZW1vdGVcbiAqICAgICBEb2N1bWVudCBDYWNoZVxuICogMi4gIFVzZWQgdG8gZW5zdXJlIGEgdGFyZ2V0R2xvYmFsIG9iamVjdCBleGlzdHMgYW5kIGFkZCB0YXJnZXRDb3VudCB0byBpdC4gTm9cbiAqICAgICBsb25nZXIgcmVxdWlyZWQgYmVjYXVzZSBtaWdyYXRpb24gMyB1bmNvbmRpdGlvbmFsbHkgY2xlYXJzIGl0LlxuICogMy4gIERyb3BwZWQgYW5kIHJlLWNyZWF0ZWQgUXVlcnkgQ2FjaGUgdG8gZGVhbCB3aXRoIGNhY2hlIGNvcnJ1cHRpb24gcmVsYXRlZFxuICogICAgIHRvIGxpbWJvIHJlc29sdXRpb24uIEFkZHJlc3Nlc1xuICogICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1pb3Mtc2RrL2lzc3Vlcy8xNTQ4XG4gKiA0LiAgTXVsdGktVGFiIFN1cHBvcnQuXG4gKiA1LiAgUmVtb3ZhbCBvZiBoZWxkIHdyaXRlIGFja3MuXG4gKiA2LiAgQ3JlYXRlIGRvY3VtZW50IGdsb2JhbCBmb3IgdHJhY2tpbmcgZG9jdW1lbnQgY2FjaGUgc2l6ZS5cbiAqIDcuICBFbnN1cmUgZXZlcnkgY2FjaGVkIGRvY3VtZW50IGhhcyBhIHNlbnRpbmVsIHJvdyB3aXRoIGEgc2VxdWVuY2UgbnVtYmVyLlxuICogOC4gIEFkZCBjb2xsZWN0aW9uLXBhcmVudCBpbmRleCBmb3IgQ29sbGVjdGlvbiBHcm91cCBxdWVyaWVzLlxuICogOS4gIENoYW5nZSBSZW1vdGVEb2N1bWVudENoYW5nZXMgc3RvcmUgdG8gYmUga2V5ZWQgYnkgcmVhZFRpbWUgcmF0aGVyIHRoYW5cbiAqICAgICBhbiBhdXRvLWluY3JlbWVudGluZyBJRC4gVGhpcyBpcyByZXF1aXJlZCBmb3IgSW5kZXgtRnJlZSBxdWVyaWVzLlxuICogMTAuIFJld3JpdGUgdGhlIGNhbm9uaWNhbCBJRHMgdG8gdGhlIGV4cGxpY2l0IFByb3RvYnVmLWJhc2VkIGZvcm1hdC5cbiAqIDExLiBBZGQgYnVuZGxlcyBhbmQgbmFtZWRfcXVlcmllcyBmb3IgYnVuZGxlIHN1cHBvcnQuXG4gKi9cbi8qKlxuICogV3JhcHBlciBjbGFzcyB0byBzdG9yZSB0aW1lc3RhbXBzIChzZWNvbmRzIGFuZCBuYW5vcykgaW4gSW5kZXhlZERiIG9iamVjdHMuXG4gKi9cbmNsYXNzIEFzIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuc2Vjb25kcyA9IHQsIHRoaXMubmFub3NlY29uZHMgPSBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIHNpbmdsZXRvbiBvYmplY3QgdG8gYmUgc3RvcmVkIGluIHRoZSAnb3duZXInIHN0b3JlIGluIEluZGV4ZWREYi5cbiAqXG4gKiBBIGdpdmVuIGRhdGFiYXNlIGNhbiBoYXZlIGEgc2luZ2xlIHByaW1hcnkgdGFiIGFzc2lnbmVkIGF0IGEgZ2l2ZW4gdGltZS4gVGhhdFxuICogdGFiIG11c3QgdmFsaWRhdGUgdGhhdCBpdCBpcyBzdGlsbCBob2xkaW5nIHRoZSBwcmltYXJ5IGxlYXNlIGJlZm9yZSBldmVyeVxuICogb3BlcmF0aW9uIHRoYXQgcmVxdWlyZXMgbG9ja2VkIGFjY2Vzcy4gVGhlIHByaW1hcnkgdGFiIHNob3VsZCByZWd1bGFybHlcbiAqIHdyaXRlIGFuIHVwZGF0ZWQgdGltZXN0YW1wIHRvIHRoaXMgbGVhc2UgdG8gcHJldmVudCBvdGhlciB0YWJzIGZyb21cbiAqIFwic3RlYWxpbmdcIiB0aGUgcHJpbWFyeSBsZWFzZVxuICovIGNsYXNzIFJzIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBcbiAgICAvKiogV2hldGhlciB0byBhbGxvdyBzaGFyZWQgYWNjZXNzIGZyb20gbXVsdGlwbGUgdGFicy4gKi9cbiAgICBlLCBuKSB7XG4gICAgICAgIHRoaXMub3duZXJJZCA9IHQsIHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24gPSBlLCB0aGlzLmxlYXNlVGltZXN0YW1wTXMgPSBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgbmFtZSAnb3duZXInIGlzIGNob3NlbiB0byBlbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aFxuICogb2xkZXIgY2xpZW50cyB0aGF0IG9ubHkgc3VwcG9ydGVkIHNpbmdsZSBsb2NrZWQgYWNjZXNzIHRvIHRoZSBwZXJzaXN0ZW5jZVxuICogbGF5ZXIuXG4gKi8gUnMuc3RvcmUgPSBcIm93bmVyXCIsIFxuLyoqXG4gKiBUaGUga2V5IHN0cmluZyB1c2VkIGZvciB0aGUgc2luZ2xlIG9iamVjdCB0aGF0IGV4aXN0cyBpbiB0aGVcbiAqIERiUHJpbWFyeUNsaWVudCBzdG9yZS5cbiAqL1xuUnMua2V5ID0gXCJvd25lclwiO1xuXG4vKipcbiAqIEFuIG9iamVjdCB0byBiZSBzdG9yZWQgaW4gdGhlICdtdXRhdGlvblF1ZXVlcycgc3RvcmUgaW4gSW5kZXhlZERiLlxuICpcbiAqIEVhY2ggdXNlciBnZXRzIGEgc2luZ2xlIHF1ZXVlIG9mIE11dGF0aW9uQmF0Y2hlcyB0byBhcHBseSB0byB0aGUgc2VydmVyLlxuICogRGJNdXRhdGlvblF1ZXVlIHRyYWNrcyB0aGUgbWV0YWRhdGEgYWJvdXQgdGhlIHF1ZXVlLlxuICovXG5jbGFzcyBicyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIG5vcm1hbGl6ZWQgdXNlciBJRCB0byB3aGljaCB0aGlzIHF1ZXVlIGJlbG9uZ3MuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQW4gaWRlbnRpZmllciBmb3IgdGhlIGhpZ2hlc3QgbnVtYmVyZWQgYmF0Y2ggdGhhdCBoYXMgYmVlbiBhY2tub3dsZWRnZWRcbiAgICAgKiBieSB0aGUgc2VydmVyLiBBbGwgTXV0YXRpb25CYXRjaGVzIGluIHRoaXMgcXVldWUgd2l0aCBiYXRjaElkcyBsZXNzXG4gICAgICogdGhhbiBvciBlcXVhbCB0byB0aGlzIHZhbHVlIGFyZSBjb25zaWRlcmVkIHRvIGhhdmUgYmVlbiBhY2tub3dsZWRnZWQgYnlcbiAgICAgKiB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogTk9URTogdGhpcyBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgdXNlZCBieSB0aGUgY29kZS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBBIHN0cmVhbSB0b2tlbiB0aGF0IHdhcyBwcmV2aW91c2x5IHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIFNlZSBTdHJlYW1pbmdXcml0ZVJlcXVlc3QgaW4gZGF0YXN0b3JlLnByb3RvIGZvciBtb3JlIGRldGFpbHMgYWJvdXRcbiAgICAgKiB1c2FnZS5cbiAgICAgKlxuICAgICAqIEFmdGVyIHNlbmRpbmcgdGhpcyB0b2tlbiwgZWFybGllciB0b2tlbnMgbWF5IG5vdCBiZSB1c2VkIGFueW1vcmUgc29cbiAgICAgKiBvbmx5IGEgc2luZ2xlIHN0cmVhbSB0b2tlbiBpcyByZXRhaW5lZC5cbiAgICAgKlxuICAgICAqIE5PVEU6IHRoaXMgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIHVzZWQgYnkgdGhlIGNvZGUuXG4gICAgICovXG4gICAgbikge1xuICAgICAgICB0aGlzLnVzZXJJZCA9IHQsIHRoaXMubGFzdEFja25vd2xlZGdlZEJhdGNoSWQgPSBlLCB0aGlzLmxhc3RTdHJlYW1Ub2tlbiA9IG47XG4gICAgfVxufVxuXG4vKiogTmFtZSBvZiB0aGUgSW5kZXhlZERiIG9iamVjdCBzdG9yZS4gICovIGJzLnN0b3JlID0gXCJtdXRhdGlvblF1ZXVlc1wiLCBcbi8qKiBLZXlzIGFyZSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHZpYSB0aGUgdXNlcklkIHByb3BlcnR5LiAqL1xuYnMua2V5UGF0aCA9IFwidXNlcklkXCI7XG5cbi8qKlxuICogQW4gb2JqZWN0IHRvIGJlIHN0b3JlZCBpbiB0aGUgJ211dGF0aW9ucycgc3RvcmUgaW4gSW5kZXhlZERiLlxuICpcbiAqIFJlcHJlc2VudHMgYSBiYXRjaCBvZiB1c2VyLWxldmVsIG11dGF0aW9ucyBpbnRlbmRlZCB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXJcbiAqIGluIGEgc2luZ2xlIHdyaXRlLiBFYWNoIHVzZXItbGV2ZWwgYmF0Y2ggZ2V0cyBhIHNlcGFyYXRlIERiTXV0YXRpb25CYXRjaFxuICogd2l0aCBhIG5ldyBiYXRjaElkLlxuICovXG5jbGFzcyBQcyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIG5vcm1hbGl6ZWQgdXNlciBJRCB0byB3aGljaCB0aGlzIGJhdGNoIGJlbG9uZ3MuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQW4gaWRlbnRpZmllciBmb3IgdGhpcyBiYXRjaCwgYWxsb2NhdGVkIHVzaW5nIGFuIGF1dG8tZ2VuZXJhdGVkIGtleS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgd3JpdGUgdGltZSBvZiB0aGUgYmF0Y2gsIHN0b3JlZCBhcyBtaWxsaXNlY29uZHMgc2luY2UgdGhlXG4gICAgICogZXBvY2guXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIFwibXV0YXRpb25zXCIgdGhhdCByZXByZXNlbnQgYSBwYXJ0aWFsIGJhc2Ugc3RhdGUgZnJvbSB3aGVuIHRoaXNcbiAgICAgKiB3cml0ZSBiYXRjaCB3YXMgaW5pdGlhbGx5IGNyZWF0ZWQuIER1cmluZyBsb2NhbCBhcHBsaWNhdGlvbiBvZiB0aGUgd3JpdGVcbiAgICAgKiBiYXRjaCwgdGhlc2UgYmFzZU11dGF0aW9ucyBhcmUgYXBwbGllZCBwcmlvciB0byB0aGUgcmVhbCB3cml0ZXMgaW4gb3JkZXJcbiAgICAgKiB0byBvdmVycmlkZSBjZXJ0YWluIGRvY3VtZW50IGZpZWxkcyBmcm9tIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUuIFRoaXNcbiAgICAgKiBpcyBuZWNlc3NhcnkgaW4gdGhlIGNhc2Ugb2Ygbm9uLWlkZW1wb3RlbnQgd3JpdGVzIChlLmcuIGBpbmNyZW1lbnQoKWBcbiAgICAgKiB0cmFuc2Zvcm1zKSB0byBtYWtlIHN1cmUgdGhhdCB0aGUgbG9jYWwgdmlldyBvZiB0aGUgbW9kaWZpZWQgZG9jdW1lbnRzXG4gICAgICogZG9lc24ndCBmbGlja2VyIGlmIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgcmVjZWl2ZXMgdGhlIHJlc3VsdCBvZiB0aGVcbiAgICAgKiBub24taWRlbXBvdGVudCB3cml0ZSBiZWZvcmUgdGhlIHdyaXRlIGlzIHJlbW92ZWQgZnJvbSB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGVzZSBtdXRhdGlvbnMgYXJlIG5ldmVyIHNlbnQgdG8gdGhlIGJhY2tlbmQuXG4gICAgICovXG4gICAgcywgXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIG11dGF0aW9ucyB0byBhcHBseS4gQWxsIG11dGF0aW9ucyB3aWxsIGJlIGFwcGxpZWQgYXRvbWljYWxseS5cbiAgICAgKlxuICAgICAqIE11dGF0aW9ucyBhcmUgc2VyaWFsaXplZCB2aWEgdG9NdXRhdGlvbigpLlxuICAgICAqL1xuICAgIGkpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSB0LCB0aGlzLmJhdGNoSWQgPSBlLCB0aGlzLmxvY2FsV3JpdGVUaW1lTXMgPSBuLCB0aGlzLmJhc2VNdXRhdGlvbnMgPSBzLCBcbiAgICAgICAgdGhpcy5tdXRhdGlvbnMgPSBpO1xuICAgIH1cbn1cblxuLyoqIE5hbWUgb2YgdGhlIEluZGV4ZWREYiBvYmplY3Qgc3RvcmUuICAqLyBQcy5zdG9yZSA9IFwibXV0YXRpb25zXCIsIFxuLyoqIEtleXMgYXJlIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdmlhIHRoZSB1c2VySWQsIGJhdGNoSWQgcHJvcGVydGllcy4gKi9cblBzLmtleVBhdGggPSBcImJhdGNoSWRcIiwgXG4vKiogVGhlIGluZGV4IG5hbWUgZm9yIGxvb2t1cCBvZiBtdXRhdGlvbnMgYnkgdXNlci4gKi9cblBzLnVzZXJNdXRhdGlvbnNJbmRleCA9IFwidXNlck11dGF0aW9uc0luZGV4XCIsIFxuLyoqIFRoZSB1c2VyIG11dGF0aW9ucyBpbmRleCBpcyBrZXllZCBieSBbdXNlcklkLCBiYXRjaElkXSBwYWlycy4gKi9cblBzLnVzZXJNdXRhdGlvbnNLZXlQYXRoID0gWyBcInVzZXJJZFwiLCBcImJhdGNoSWRcIiBdO1xuXG4vKipcbiAqIEFuIG9iamVjdCB0byBiZSBzdG9yZWQgaW4gdGhlICdkb2N1bWVudE11dGF0aW9ucycgc3RvcmUgaW4gSW5kZXhlZERiLlxuICpcbiAqIEEgbWFudWFsbHkgbWFpbnRhaW5lZCBpbmRleCBvZiBhbGwgdGhlIG11dGF0aW9uIGJhdGNoZXMgdGhhdCBhZmZlY3QgYSBnaXZlblxuICogZG9jdW1lbnQga2V5LiBUaGUgcm93cyBpbiB0aGlzIHRhYmxlIGFyZSByZWZlcmVuY2VzIGJhc2VkIG9uIHRoZSBjb250ZW50cyBvZlxuICogRGJNdXRhdGlvbkJhdGNoLm11dGF0aW9ucy5cbiAqL1xuY2xhc3MgdnMge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgW3VzZXJJZF0ga2V5IGZvciB1c2UgaW4gdGhlIERiRG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggdG8gaXRlcmF0ZVxuICAgICAqIG92ZXIgYWxsIG9mIGEgdXNlcidzIGRvY3VtZW50IG11dGF0aW9ucy5cbiAgICAgKi8gICAgc3RhdGljIHByZWZpeEZvclVzZXIodCkge1xuICAgICAgICByZXR1cm4gWyB0IF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbdXNlcklkLCBlbmNvZGVkUGF0aF0ga2V5IGZvciB1c2UgaW4gdGhlIERiRG9jdW1lbnRNdXRhdGlvbnNcbiAgICAgKiBpbmRleCB0byBpdGVyYXRlIG92ZXIgYWxsIGF0IGRvY3VtZW50IG11dGF0aW9ucyBmb3IgYSBnaXZlbiBwYXRoIG9yIGxvd2VyLlxuICAgICAqLyAgICBzdGF0aWMgcHJlZml4Rm9yUGF0aCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBbIHQsIHBzKGUpIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdWxsIGluZGV4IGtleSBvZiBbdXNlcklkLCBlbmNvZGVkUGF0aCwgYmF0Y2hJZF0gZm9yIGluc2VydGluZ1xuICAgICAqIGFuZCBkZWxldGluZyBpbnRvIHRoZSBEYkRvY3VtZW50TXV0YXRpb25zIGluZGV4LlxuICAgICAqLyAgICBzdGF0aWMga2V5KHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIFsgdCwgcHMoZSksIG4gXTtcbiAgICB9XG59XG5cbnZzLnN0b3JlID0gXCJkb2N1bWVudE11dGF0aW9uc1wiLCBcbi8qKlxuICogQmVjYXVzZSB3ZSBzdG9yZSBhbGwgdGhlIHVzZWZ1bCBpbmZvcm1hdGlvbiBmb3IgdGhpcyBzdG9yZSBpbiB0aGUga2V5LFxuICogdGhlcmUgaXMgbm8gdXNlZnVsIGluZm9ybWF0aW9uIHRvIHN0b3JlIGFzIHRoZSB2YWx1ZS4gVGhlIHJhdyAodW5lbmNvZGVkKVxuICogcGF0aCBjYW5ub3QgYmUgc3RvcmVkIGJlY2F1c2UgSW5kZXhlZERiIGRvZXNuJ3Qgc3RvcmUgcHJvdG90eXBlXG4gKiBpbmZvcm1hdGlvbi5cbiAqL1xudnMuUExBQ0VIT0xERVIgPSBuZXcgdnM7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUga25vd24gYWJzZW5jZSBvZiBhIGRvY3VtZW50IGF0IGEgcGFydGljdWxhciB2ZXJzaW9uLlxuICogU3RvcmVkIGluIEluZGV4ZWREYiBhcyBwYXJ0IG9mIGEgRGJSZW1vdGVEb2N1bWVudCBvYmplY3QuXG4gKi9cbmNsYXNzIFZzIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHQsIHRoaXMucmVhZFRpbWUgPSBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZG9jdW1lbnQgdGhhdCBpcyBrbm93biB0byBleGlzdCBidXQgd2hvc2UgZGF0YSBpcyB1bmtub3duLlxuICogU3RvcmVkIGluIEluZGV4ZWREYiBhcyBwYXJ0IG9mIGEgRGJSZW1vdGVEb2N1bWVudCBvYmplY3QuXG4gKi8gY2xhc3MgU3Mge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gdCwgdGhpcy52ZXJzaW9uID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQW4gb2JqZWN0IHRvIGJlIHN0b3JlZCBpbiB0aGUgJ3JlbW90ZURvY3VtZW50cycgc3RvcmUgaW4gSW5kZXhlZERiLlxuICogSXQgcmVwcmVzZW50cyBlaXRoZXI6XG4gKlxuICogLSBBIGNvbXBsZXRlIGRvY3VtZW50LlxuICogLSBBIFwibm8gZG9jdW1lbnRcIiByZXByZXNlbnRpbmcgYSBkb2N1bWVudCB0aGF0IGlzIGtub3duIG5vdCB0byBleGlzdCAoYXRcbiAqIHNvbWUgdmVyc2lvbikuXG4gKiAtIEFuIFwidW5rbm93biBkb2N1bWVudFwiIHJlcHJlc2VudGluZyBhIGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gZXhpc3QgKGF0XG4gKiBzb21lIHZlcnNpb24pIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgdW5rbm93bi5cbiAqXG4gKiBOb3RlOiBUaGlzIGlzIHRoZSBwZXJzaXN0ZWQgZXF1aXZhbGVudCBvZiBhIE1heWJlRG9jdW1lbnQgYW5kIGNvdWxkIHBlcmhhcHNcbiAqIGJlIG1hZGUgbW9yZSBnZW5lcmFsIGlmIG5lY2Vzc2FyeS5cbiAqLyBjbGFzcyBEcyB7XG4gICAgLy8gVE9ETzogV2UgYXJlIGN1cnJlbnRseSBzdG9yaW5nIGZ1bGwgZG9jdW1lbnQga2V5cyBhbG1vc3QgdGhyZWUgdGltZXNcbiAgICAvLyAob25jZSBhcyBwYXJ0IG9mIHRoZSBwcmltYXJ5IGtleSwgb25jZSAtIHBhcnRseSAtIGFzIGBwYXJlbnRQYXRoYCBhbmQgb25jZVxuICAgIC8vIGluc2lkZSB0aGUgZW5jb2RlZCBkb2N1bWVudHMpLiBEdXJpbmcgb3VyIG5leHQgbWlncmF0aW9uLCB3ZSBzaG91bGRcbiAgICAvLyByZXdyaXRlIHRoZSBwcmltYXJ5IGtleSBhcyBwYXJlbnRQYXRoICsgZG9jdW1lbnQgSUQgd2hpY2ggd291bGQgYWxsb3cgdXNcbiAgICAvLyB0byBkcm9wIG9uZSB2YWx1ZS5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBTZXQgdG8gYW4gaW5zdGFuY2Ugb2YgRGJVbmtub3duRG9jdW1lbnQgaWYgdGhlIGRhdGEgZm9yIGEgZG9jdW1lbnQgaXNcbiAgICAgKiBub3Qga25vd24sIGJ1dCBpdCBpcyBrbm93biB0aGF0IGEgZG9jdW1lbnQgZXhpc3RzIGF0IHRoZSBzcGVjaWZpZWRcbiAgICAgKiB2ZXJzaW9uIChlLmcuIGl0IGhhZCBhIHN1Y2Nlc3NmdWwgdXBkYXRlIGFwcGxpZWQgdG8gaXQpXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogU2V0IHRvIGFuIGluc3RhbmNlIG9mIGEgRGJOb0RvY3VtZW50IGlmIGl0IGlzIGtub3duIHRoYXQgbm8gZG9jdW1lbnRcbiAgICAgKiBleGlzdHMuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogU2V0IHRvIGFuIGluc3RhbmNlIG9mIGEgRG9jdW1lbnQgaWYgdGhlcmUncyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIGRvY3VtZW50LlxuICAgICAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIERvY3VtZW50cyB0aGF0IHdlcmUgd3JpdHRlbiB0byB0aGUgcmVtb3RlIGRvY3VtZW50IHN0b3JlIGJhc2VkIG9uXG4gICAgICogYSB3cml0ZSBhY2tub3dsZWRnbWVudCBhcmUgbWFya2VkIHdpdGggYGhhc0NvbW1pdHRlZE11dGF0aW9uc2AuIFRoZXNlXG4gICAgICogZG9jdW1lbnRzIGFyZSBwb3RlbnRpYWxseSBpbmNvbnNpc3RlbnQgd2l0aCB0aGUgYmFja2VuZCdzIGNvcHkgYW5kIHVzZVxuICAgICAqIHRoZSB3cml0ZSdzIGNvbW1pdCB2ZXJzaW9uIGFzIHRoZWlyIGRvY3VtZW50IHZlcnNpb24uXG4gICAgICovXG4gICAgcywgXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZG9jdW1lbnQgd2FzIHJlYWQgZnJvbSB0aGUgYmFja2VuZC4gVW5kZWZpbmVkIGZvciBkYXRhIHdyaXR0ZW5cbiAgICAgKiBwcmlvciB0byBzY2hlbWEgdmVyc2lvbiA5LlxuICAgICAqL1xuICAgIGksIFxuICAgIC8qKlxuICAgICAqIFRoZSBwYXRoIG9mIHRoZSBjb2xsZWN0aW9uIHRoaXMgZG9jdW1lbnQgaXMgcGFydCBvZi4gVW5kZWZpbmVkIGZvciBkYXRhXG4gICAgICogd3JpdHRlbiBwcmlvciB0byBzY2hlbWEgdmVyc2lvbiA5LlxuICAgICAqL1xuICAgIHIpIHtcbiAgICAgICAgdGhpcy51bmtub3duRG9jdW1lbnQgPSB0LCB0aGlzLm5vRG9jdW1lbnQgPSBlLCB0aGlzLmRvY3VtZW50ID0gbiwgdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnMgPSBzLCBcbiAgICAgICAgdGhpcy5yZWFkVGltZSA9IGksIHRoaXMucGFyZW50UGF0aCA9IHI7XG4gICAgfVxufVxuXG5Ecy5zdG9yZSA9IFwicmVtb3RlRG9jdW1lbnRzXCIsIFxuLyoqXG4gKiBBbiBpbmRleCB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBhbGwgZW50cmllcyBzb3J0ZWQgYnkgcmVhZCB0aW1lICh3aGljaFxuICogY29ycmVzcG9uZHMgdG8gdGhlIGxhc3QgbW9kaWZpY2F0aW9uIHRpbWUgb2YgZWFjaCByb3cpLlxuICpcbiAqIFRoaXMgaW5kZXggaXMgdXNlZCB0byBwcm92aWRlIGEgY2hhbmdlbG9nIGZvciBNdWx0aS1UYWIuXG4gKi9cbkRzLnJlYWRUaW1lSW5kZXggPSBcInJlYWRUaW1lSW5kZXhcIiwgRHMucmVhZFRpbWVJbmRleFBhdGggPSBcInJlYWRUaW1lXCIsIFxuLyoqXG4gKiBBbiBpbmRleCB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBkb2N1bWVudHMgaW4gYSBjb2xsZWN0aW9uIHNvcnRlZCBieSByZWFkXG4gKiB0aW1lLlxuICpcbiAqIFRoaXMgaW5kZXggaXMgdXNlZCB0byBhbGxvdyB0aGUgUmVtb3RlRG9jdW1lbnRDYWNoZSB0byBmZXRjaCBuZXdseSBjaGFuZ2VkXG4gKiBkb2N1bWVudHMgaW4gYSBjb2xsZWN0aW9uLlxuICovXG5Ecy5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleCA9IFwiY29sbGVjdGlvblJlYWRUaW1lSW5kZXhcIiwgRHMuY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoID0gWyBcInBhcmVudFBhdGhcIiwgXCJyZWFkVGltZVwiIF07XG5cbi8qKlxuICogQ29udGFpbnMgYSBzaW5nbGUgZW50cnkgdGhhdCBoYXMgbWV0YWRhdGEgYWJvdXQgdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZS5cbiAqL1xuY2xhc3MgQ3Mge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBieXRlU2l6ZSAtIEFwcHJveGltYXRlbHkgdGhlIHRvdGFsIHNpemUgaW4gYnl0ZXMgb2YgYWxsIHRoZVxuICAgICAqIGRvY3VtZW50cyBpbiB0aGUgZG9jdW1lbnQgY2FjaGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmJ5dGVTaXplID0gdDtcbiAgICB9XG59XG5cbkNzLnN0b3JlID0gXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiLCBDcy5rZXkgPSBcInJlbW90ZURvY3VtZW50R2xvYmFsS2V5XCI7XG5cbi8qKlxuICogQW4gb2JqZWN0IHRvIGJlIHN0b3JlZCBpbiB0aGUgJ3RhcmdldHMnIHN0b3JlIGluIEluZGV4ZWREYi5cbiAqXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGFuZCBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHByb3RvIHVzZWQgaW4gdGhlIGlPU1xuICogY2xpZW50LlxuICpcbiAqIEVhY2ggcXVlcnkgdGhlIGNsaWVudCBsaXN0ZW5zIHRvIGFnYWluc3QgdGhlIHNlcnZlciBpcyB0cmFja2VkIG9uIGRpc2sgc29cbiAqIHRoYXQgdGhlIHF1ZXJ5IGNhbiBiZSBlZmZpY2llbnRseSByZXN1bWVkIG9uIHJlc3RhcnQuXG4gKi9cbmNsYXNzIE5zIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBBbiBhdXRvLWdlbmVyYXRlZCBzZXF1ZW50aWFsIG51bWVyaWMgaWRlbnRpZmllciBmb3IgdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogUXVlcmllcyBhcmUgc3RvcmVkIHVzaW5nIHRoZWlyIGNhbm9uaWNhbElkIGFzIHRoZSBrZXksIGJ1dCB0aGVzZVxuICAgICAqIGNhbm9uaWNhbElkcyBjYW4gYmUgcXVpdGUgbG9uZyBzbyB3ZSBhZGRpdGlvbmFsbHkgYXNzaWduIGEgdW5pcXVlXG4gICAgICogcXVlcnlJZCB3aGljaCBjYW4gYmUgdXNlZCBieSByZWZlcmVuY2VkIGRhdGEgc3RydWN0dXJlcyAoZS5nLlxuICAgICAqIGluZGV4ZXMpIHRvIG1pbmltaXplIHRoZSBvbi1kaXNrIGNvc3QuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogVGhlIGNhbm9uaWNhbCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoaXMgcXVlcnkuIFRoaXMgaXMgbm90IHVuaXF1ZS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCByZWFkVGltZSByZWNlaXZlZCBmcm9tIHRoZSBXYXRjaCBTZXJ2aWNlIGZvciB0aGlzIHF1ZXJ5LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB0aGUgc2FtZSB2YWx1ZSBhcyBUYXJnZXRDaGFuZ2UucmVhZF90aW1lIGluIHRoZSBwcm90b3MuXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSBxdWVyeSB0byBiZVxuICAgICAqIHJlc3VtZWQgYWZ0ZXIgZGlzY29ubmVjdGluZyB3aXRob3V0IHJldHJhbnNtaXR0aW5nIGFsbCB0aGUgZGF0YVxuICAgICAqIHRoYXQgbWF0Y2hlcyB0aGUgcXVlcnkuIFRoZSByZXN1bWUgdG9rZW4gZXNzZW50aWFsbHkgaWRlbnRpZmllcyBhXG4gICAgICogcG9pbnQgaW4gdGltZSBmcm9tIHdoaWNoIHRoZSBzZXJ2ZXIgc2hvdWxkIHJlc3VtZSBzZW5kaW5nIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHJlbGF0ZWQgdG8gdGhlIHNuYXBzaG90VmVyc2lvbiBpbiB0aGF0IHRoZSByZXN1bWVUb2tlblxuICAgICAqIGVmZmVjdGl2ZWx5IGFsc28gZW5jb2RlcyB0aGF0IHZhbHVlLCBidXQgdGhlIHJlc3VtZVRva2VuIGlzIG9wYXF1ZVxuICAgICAqIGFuZCBzb21ldGltZXMgZW5jb2RlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQSBjb25zZXF1ZW5jZSBvZiB0aGlzIGlzIHRoYXQgdGhlIHJlc3VtZVRva2VuIHNob3VsZCBiZSB1c2VkIHdoZW5cbiAgICAgKiBhc2tpbmcgdGhlIHNlcnZlciB0byByZWFzb24gYWJvdXQgd2hlcmUgdGhpcyBjbGllbnQgaXMgaW4gdGhlIHdhdGNoXG4gICAgICogc3RyZWFtLCBidXQgdGhlIGNsaWVudCBzaG91bGQgdXNlIHRoZSBzbmFwc2hvdFZlcnNpb24gZm9yIGl0cyBvd25cbiAgICAgKiBwdXJwb3Nlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIHNhbWUgdmFsdWUgYXMgVGFyZ2V0Q2hhbmdlLnJlc3VtZV90b2tlbiBpbiB0aGUgcHJvdG9zLlxuICAgICAqL1xuICAgIHMsIFxuICAgIC8qKlxuICAgICAqIEEgc2VxdWVuY2UgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgbGFzdCB0aW1lIHRoaXMgcXVlcnkgd2FzXG4gICAgICogbGlzdGVuZWQgdG8sIHVzZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbiBwdXJwb3Nlcy5cbiAgICAgKlxuICAgICAqIENvbnZlbnRpb25hbGx5IHRoaXMgd291bGQgYmUgYSB0aW1lc3RhbXAgdmFsdWUsIGJ1dCBkZXZpY2UtbG9jYWxcbiAgICAgKiBjbG9ja3MgYXJlIHVucmVsaWFibGUgYW5kIHRoZXkgbXVzdCBiZSBhYmxlIHRvIGNyZWF0ZSBuZXcgbGlzdGVuc1xuICAgICAqIGV2ZW4gd2hpbGUgZGlzY29ubmVjdGVkLiBJbnN0ZWFkIHRoaXMgc2hvdWxkIGJlIGEgbW9ub3RvbmljYWxseVxuICAgICAqIGluY3JlYXNpbmcgbnVtYmVyIHRoYXQncyBpbmNyZW1lbnRlZCBvbiBlYWNoIGxpc3RlbiBjYWxsLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgcXVlcnlJZCBzaW5jZSB0aGUgcXVlcnlJZCBpcyBhblxuICAgICAqIGltbXV0YWJsZSBpZGVudGlmaWVyIGFzc2lnbmVkIHRvIHRoZSBRdWVyeSBvbiBmaXJzdCB1c2Ugd2hpbGVcbiAgICAgKiBsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgaXMgdXBkYXRlZCBldmVyeSB0aW1lIHRoZSBxdWVyeSBpc1xuICAgICAqIGxpc3RlbmVkIHRvLlxuICAgICAqL1xuICAgIGksIFxuICAgIC8qKlxuICAgICAqIERlbm90ZXMgdGhlIG1heGltdW0gc25hcHNob3QgdmVyc2lvbiBhdCB3aGljaCB0aGUgYXNzb2NpYXRlZCBxdWVyeSB2aWV3XG4gICAgICogY29udGFpbmVkIG5vIGxpbWJvIGRvY3VtZW50cy4gIFVuZGVmaW5lZCBmb3IgZGF0YSB3cml0dGVuIHByaW9yIHRvXG4gICAgICogc2NoZW1hIHZlcnNpb24gOS5cbiAgICAgKi9cbiAgICByLCBcbiAgICAvKipcbiAgICAgKiBUaGUgcXVlcnkgZm9yIHRoaXMgdGFyZ2V0LlxuICAgICAqXG4gICAgICogQmVjYXVzZSBjYW5vbmljYWwgaWRzIGFyZSBub3QgdW5pcXVlIHdlIG11c3Qgc3RvcmUgdGhlIGFjdHVhbCBxdWVyeS4gV2VcbiAgICAgKiB1c2UgdGhlIHByb3RvIHRvIGhhdmUgYW4gb2JqZWN0IHdlIGNhbiBwZXJzaXN0IHdpdGhvdXQgaGF2aW5nIHRvXG4gICAgICogZHVwbGljYXRlIHRyYW5zbGF0aW9uIGxvZ2ljIHRvIGFuZCBmcm9tIGEgYFF1ZXJ5YCBvYmplY3QuXG4gICAgICovXG4gICAgbykge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gdCwgdGhpcy5jYW5vbmljYWxJZCA9IGUsIHRoaXMucmVhZFRpbWUgPSBuLCB0aGlzLnJlc3VtZVRva2VuID0gcywgXG4gICAgICAgIHRoaXMubGFzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gaSwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uID0gciwgdGhpcy5xdWVyeSA9IG87XG4gICAgfVxufVxuXG5Ocy5zdG9yZSA9IFwidGFyZ2V0c1wiLCBcbi8qKiBLZXlzIGFyZSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHZpYSB0aGUgdGFyZ2V0SWQgcHJvcGVydHkuICovXG5Ocy5rZXlQYXRoID0gXCJ0YXJnZXRJZFwiLCBcbi8qKiBUaGUgbmFtZSBvZiB0aGUgcXVlcnlUYXJnZXRzIGluZGV4LiAqL1xuTnMucXVlcnlUYXJnZXRzSW5kZXhOYW1lID0gXCJxdWVyeVRhcmdldHNJbmRleFwiLCBcbi8qKlxuICogVGhlIGluZGV4IG9mIGFsbCBjYW5vbmljYWxJZHMgdG8gdGhlIHRhcmdldHMgdGhhdCB0aGV5IG1hdGNoLiBUaGlzIGlzIG5vdFxuICogYSB1bmlxdWUgbWFwcGluZyBiZWNhdXNlIGNhbm9uaWNhbElkIGRvZXMgbm90IHByb21pc2UgYSB1bmlxdWUgbmFtZSBmb3IgYWxsXG4gKiBwb3NzaWJsZSBxdWVyaWVzLCBzbyB3ZSBhcHBlbmQgdGhlIHRhcmdldElkIHRvIG1ha2UgdGhlIG1hcHBpbmcgdW5pcXVlLlxuICovXG5Ocy5xdWVyeVRhcmdldHNLZXlQYXRoID0gWyBcImNhbm9uaWNhbElkXCIsIFwidGFyZ2V0SWRcIiBdO1xuXG4vKipcbiAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgYW4gYXNzb2NpYXRpb24gYmV0d2VlbiBhIHRhcmdldCBhbmQgYSBkb2N1bWVudCwgb3IgYVxuICogc2VudGluZWwgcm93IG1hcmtpbmcgdGhlIGxhc3Qgc2VxdWVuY2UgbnVtYmVyIGF0IHdoaWNoIGEgZG9jdW1lbnQgd2FzIHVzZWQuXG4gKiBFYWNoIGRvY3VtZW50IGNhY2hlZCBtdXN0IGhhdmUgYSBjb3JyZXNwb25kaW5nIHNlbnRpbmVsIHJvdyBiZWZvcmUgbHJ1XG4gKiBnYXJiYWdlIGNvbGxlY3Rpb24gaXMgZW5hYmxlZC5cbiAqXG4gKiBUaGUgdGFyZ2V0IGFzc29jaWF0aW9ucyBhbmQgc2VudGluZWwgcm93cyBhcmUgY28tbG9jYXRlZCBzbyB0aGF0IG9ycGhhbmVkXG4gKiBkb2N1bWVudHMgYW5kIHRoZWlyIHNlcXVlbmNlIG51bWJlcnMgY2FuIGJlIGlkZW50aWZpZWQgZWZmaWNpZW50bHkgdmlhIGEgc2NhblxuICogb2YgdGhpcyBzdG9yZS5cbiAqL1xuY2xhc3MgeHMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXRJZCBpZGVudGlmeWluZyBhIHRhcmdldCBvciAwIGZvciBhIHNlbnRpbmVsIHJvdy5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgcGF0aCB0byB0aGUgZG9jdW1lbnQsIGFzIGVuY29kZWQgaW4gdGhlIGtleS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIGlzIGEgc2VudGluZWwgcm93LCB0aGlzIHNob3VsZCBiZSB0aGUgc2VxdWVuY2UgbnVtYmVyIG9mIHRoZSBsYXN0XG4gICAgICogdGltZSB0aGUgZG9jdW1lbnQgc3BlY2lmaWVkIGJ5IGBwYXRoYCB3YXMgdXNlZC4gT3RoZXJ3aXNlLCBpdCBzaG91bGQgYmVcbiAgICAgKiBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBuKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0SWQgPSB0LCB0aGlzLnBhdGggPSBlLCB0aGlzLnNlcXVlbmNlTnVtYmVyID0gbjtcbiAgICB9XG59XG5cbi8qKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLiAgKi8geHMuc3RvcmUgPSBcInRhcmdldERvY3VtZW50c1wiLCBcbi8qKiBLZXlzIGFyZSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHZpYSB0aGUgdGFyZ2V0SWQsIHBhdGggcHJvcGVydGllcy4gKi9cbnhzLmtleVBhdGggPSBbIFwidGFyZ2V0SWRcIiwgXCJwYXRoXCIgXSwgXG4vKiogVGhlIGluZGV4IG5hbWUgZm9yIHRoZSByZXZlcnNlIGluZGV4LiAqL1xueHMuZG9jdW1lbnRUYXJnZXRzSW5kZXggPSBcImRvY3VtZW50VGFyZ2V0c0luZGV4XCIsIFxuLyoqIFdlIGFsc28gbmVlZCB0byBjcmVhdGUgdGhlIHJldmVyc2UgaW5kZXggZm9yIHRoZXNlIHByb3BlcnRpZXMuICovXG54cy5kb2N1bWVudFRhcmdldHNLZXlQYXRoID0gWyBcInBhdGhcIiwgXCJ0YXJnZXRJZFwiIF07XG5cbi8qKlxuICogQSByZWNvcmQgb2YgZ2xvYmFsIHN0YXRlIHRyYWNrZWQgYWNyb3NzIGFsbCBUYXJnZXRzLCB0cmFja2VkIHNlcGFyYXRlbHlcbiAqIHRvIGF2b2lkIHRoZSBuZWVkIGZvciBleHRyYSBpbmRleGVzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgaW4tc3luYyB3aXRoIHRoZSBwcm90byB1c2VkIGluIHRoZSBpT1MgY2xpZW50LlxuICovXG5jbGFzcyBrcyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGhpZ2hlc3QgbnVtYmVyZWQgdGFyZ2V0IGlkIGFjcm9zcyBhbGwgdGFyZ2V0cy5cbiAgICAgKlxuICAgICAqIFNlZSBEYlRhcmdldC50YXJnZXRJZC5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgaGlnaGVzdCBudW1iZXJlZCBsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgYWNyb3NzIGFsbCB0YXJnZXRzLlxuICAgICAqXG4gICAgICogU2VlIERiVGFyZ2V0Lmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlci5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBBIGdsb2JhbCBzbmFwc2hvdCB2ZXJzaW9uIHJlcHJlc2VudGluZyB0aGUgbGFzdCBjb25zaXN0ZW50IHNuYXBzaG90IHdlXG4gICAgICogcmVjZWl2ZWQgZnJvbSB0aGUgYmFja2VuZC4gVGhpcyBpcyBtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgYW5kIGFueVxuICAgICAqIHNuYXBzaG90cyByZWNlaXZlZCBmcm9tIHRoZSBiYWNrZW5kIHByaW9yIHRvIHRoaXMgdmVyc2lvbiAoZS5nLiBmb3JcbiAgICAgKiB0YXJnZXRzIHJlc3VtZWQgd2l0aCBhIHJlc3VtZVRva2VuKSBzaG91bGQgYmUgc3VwcHJlc3NlZCAoYnVmZmVyZWQpXG4gICAgICogdW50aWwgdGhlIGJhY2tlbmQgaGFzIGNhdWdodCB1cCB0byB0aGlzIHNuYXBzaG90IHZlcnNpb24gYWdhaW4uIFRoaXNcbiAgICAgKiBwcmV2ZW50cyBvdXIgY2FjaGUgZnJvbSBldmVyIGdvaW5nIGJhY2t3YXJkcyBpbiB0aW1lLlxuICAgICAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGFyZ2V0cyBwZXJzaXN0ZWQuXG4gICAgICovXG4gICAgcykge1xuICAgICAgICB0aGlzLmhpZ2hlc3RUYXJnZXRJZCA9IHQsIHRoaXMuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gZSwgdGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uID0gbiwgXG4gICAgICAgIHRoaXMudGFyZ2V0Q291bnQgPSBzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUga2V5IHN0cmluZyB1c2VkIGZvciB0aGUgc2luZ2xlIG9iamVjdCB0aGF0IGV4aXN0cyBpbiB0aGVcbiAqIERiVGFyZ2V0R2xvYmFsIHN0b3JlLlxuICovIGtzLmtleSA9IFwidGFyZ2V0R2xvYmFsS2V5XCIsIGtzLnN0b3JlID0gXCJ0YXJnZXRHbG9iYWxcIjtcblxuLyoqXG4gKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGFuIGFzc29jaWF0aW9uIGJldHdlZW4gYSBDb2xsZWN0aW9uIGlkIChlLmcuICdtZXNzYWdlcycpXG4gKiB0byBhIHBhcmVudCBwYXRoIChlLmcuICcvY2hhdHMvMTIzJykgdGhhdCBjb250YWlucyBpdCBhcyBhIChzdWIpY29sbGVjdGlvbi5cbiAqIFRoaXMgaXMgdXNlZCB0byBlZmZpY2llbnRseSBmaW5kIGFsbCBjb2xsZWN0aW9ucyB0byBxdWVyeSB3aGVuIHBlcmZvcm1pbmdcbiAqIGEgQ29sbGVjdGlvbiBHcm91cCBxdWVyeS5cbiAqL1xuY2xhc3MgJHMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uSWQgKGUuZy4gJ21lc3NhZ2VzJylcbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgcGF0aCB0byB0aGUgcGFyZW50IChlaXRoZXIgYSBkb2N1bWVudCBsb2NhdGlvbiBvciBhbiBlbXB0eSBwYXRoIGZvclxuICAgICAqIGEgcm9vdC1sZXZlbCBjb2xsZWN0aW9uKS5cbiAgICAgKi9cbiAgICBlKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbklkID0gdCwgdGhpcy5wYXJlbnQgPSBlO1xuICAgIH1cbn1cblxuLyoqIE5hbWUgb2YgdGhlIEluZGV4ZWREYiBvYmplY3Qgc3RvcmUuICovICRzLnN0b3JlID0gXCJjb2xsZWN0aW9uUGFyZW50c1wiLCBcbi8qKiBLZXlzIGFyZSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHZpYSB0aGUgY29sbGVjdGlvbklkLCBwYXJlbnQgcHJvcGVydGllcy4gKi9cbiRzLmtleVBhdGggPSBbIFwiY29sbGVjdGlvbklkXCIsIFwicGFyZW50XCIgXTtcblxuLyoqXG4gKiBBIHJlY29yZCBvZiB0aGUgbWV0YWRhdGEgc3RhdGUgb2YgZWFjaCBjbGllbnQuXG4gKlxuICogUE9SVElORyBOT1RFOiBUaGlzIGlzIHVzZWQgdG8gc3luY2hyb25pemUgbXVsdGktdGFiIHN0YXRlIGFuZCBkb2VzIG5vdCBuZWVkXG4gKiB0byBiZSBwb3J0ZWQgdG8gaU9TIG9yIEFuZHJvaWQuXG4gKi9cbmNsYXNzIE9zIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBOb3RlOiBQcmV2aW91cyBzY2hlbWEgdmVyc2lvbnMgaW5jbHVkZWQgYSBmaWVsZFxuICAgIC8vIFwibGFzdFByb2Nlc3NlZERvY3VtZW50Q2hhbmdlSWRcIi4gRG9uJ3QgdXNlIGFueW1vcmUuXG4gICAgLyoqIFRoZSBhdXRvLWdlbmVyYXRlZCBjbGllbnQgaWQgYXNzaWduZWQgYXQgY2xpZW50IHN0YXJ0dXAuICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBsYXN0IHRpbWUgdGhpcyBzdGF0ZSB3YXMgdXBkYXRlZC4gKi9cbiAgICBlLCBcbiAgICAvKiogV2hldGhlciB0aGUgY2xpZW50J3MgbmV0d29yayBjb25uZWN0aW9uIGlzIGVuYWJsZWQuICovXG4gICAgbiwgXG4gICAgLyoqIFdoZXRoZXIgdGhpcyBjbGllbnQgaXMgcnVubmluZyBpbiBhIGZvcmVncm91bmQgdGFiLiAqL1xuICAgIHMpIHtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IHQsIHRoaXMudXBkYXRlVGltZU1zID0gZSwgdGhpcy5uZXR3b3JrRW5hYmxlZCA9IG4sIHRoaXMuaW5Gb3JlZ3JvdW5kID0gcztcbiAgICB9XG59XG5cbi8qKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLiAqLyBPcy5zdG9yZSA9IFwiY2xpZW50TWV0YWRhdGFcIiwgXG4vKiogS2V5cyBhcmUgYXV0b21hdGljYWxseSBhc3NpZ25lZCB2aWEgdGhlIGNsaWVudElkIHByb3BlcnRpZXMuICovXG5Pcy5rZXlQYXRoID0gXCJjbGllbnRJZFwiO1xuXG4vKipcbiAqIEEgb2JqZWN0IHJlcHJlc2VudGluZyBhIGJ1bmRsZSBsb2FkZWQgYnkgdGhlIFNESy5cbiAqL1xuY2xhc3MgRnMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgSUQgb2YgdGhlIGxvYWRlZCBidW5kbGUuICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBjcmVhdGUgdGltZSBvZiB0aGUgbG9hZGVkIGJ1bmRsZS4gKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIHNjaGVtYSB2ZXJzaW9uIG9mIHRoZSBsb2FkZWQgYnVuZGxlLiAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5idW5kbGVJZCA9IHQsIHRoaXMuY3JlYXRlVGltZSA9IGUsIHRoaXMudmVyc2lvbiA9IG47XG4gICAgfVxufVxuXG4vKiogTmFtZSBvZiB0aGUgSW5kZXhlZERiIG9iamVjdCBzdG9yZS4gKi8gRnMuc3RvcmUgPSBcImJ1bmRsZXNcIiwgRnMua2V5UGF0aCA9IFwiYnVuZGxlSWRcIjtcblxuLyoqXG4gKiBBIG9iamVjdCByZXByZXNlbnRpbmcgYSBuYW1lZCBxdWVyeSBsb2FkZWQgYnkgdGhlIFNESyB2aWEgYSBidW5kbGUuXG4gKi9cbmNsYXNzIE1zIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgcmVhZCB0aW1lIG9mIHRoZSByZXN1bHRzIHNhdmVkIGluIHRoZSBidW5kbGUgZnJvbSB0aGUgbmFtZWQgcXVlcnkuICovXG4gICAgZSwgXG4gICAgLyoqIFRoZSBxdWVyeSBzYXZlZCBpbiB0aGUgYnVuZGxlLiAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gdCwgdGhpcy5yZWFkVGltZSA9IGUsIHRoaXMuYnVuZGxlZFF1ZXJ5ID0gbjtcbiAgICB9XG59XG5cbi8qKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLiAqLyBNcy5zdG9yZSA9IFwibmFtZWRRdWVyaWVzXCIsIE1zLmtleVBhdGggPSBcIm5hbWVcIjtcblxuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY29uc3QgTHMgPSBbIC4uLlsgLi4uWyAuLi5bIC4uLlsgYnMuc3RvcmUsIFBzLnN0b3JlLCB2cy5zdG9yZSwgRHMuc3RvcmUsIE5zLnN0b3JlLCBScy5zdG9yZSwga3Muc3RvcmUsIHhzLnN0b3JlIF0sIE9zLnN0b3JlIF0sIENzLnN0b3JlIF0sICRzLnN0b3JlIF0sIEZzLnN0b3JlLCBNcy5zdG9yZSBdLCBCcyA9IFwiVGhlIGN1cnJlbnQgdGFiIGlzIG5vdCBpbiB0aGUgcmVxdWlyZWQgc3RhdGUgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4gSXQgbWlnaHQgYmUgbmVjZXNzYXJ5IHRvIHJlZnJlc2ggdGhlIGJyb3dzZXIgdGFiLlwiO1xuXG4vLyBWMiBpcyBubyBsb25nZXIgdXNhYmxlIChzZWUgY29tbWVudCBhdCB0b3Agb2YgZmlsZSlcbi8vIFZpc2libGUgZm9yIHRlc3Rpbmdcbi8qKlxuICogQSBiYXNlIGNsYXNzIHJlcHJlc2VudGluZyBhIHBlcnNpc3RlbmNlIHRyYW5zYWN0aW9uLCBlbmNhcHN1bGF0aW5nIGJvdGggdGhlXG4gKiB0cmFuc2FjdGlvbidzIHNlcXVlbmNlIG51bWJlcnMgYXMgd2VsbCBhcyBhIGxpc3Qgb2Ygb25Db21taXR0ZWQgbGlzdGVuZXJzLlxuICpcbiAqIFdoZW4geW91IGNhbGwgUGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oKSwgaXQgd2lsbCBjcmVhdGUgYSB0cmFuc2FjdGlvbiBhbmRcbiAqIHBhc3MgaXQgdG8geW91ciBjYWxsYmFjay4gWW91IHRoZW4gcGFzcyBpdCB0byBhbnkgbWV0aG9kIHRoYXQgb3BlcmF0ZXNcbiAqIG9uIHBlcnNpc3RlbmNlLlxuICovXG5jbGFzcyBVcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG4gICAgYWRkT25Db21taXR0ZWRMaXN0ZW5lcih0KSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMucHVzaCh0KTtcbiAgICB9XG4gICAgcmFpc2VPbkNvbW1pdHRlZEV2ZW50KCkge1xuICAgICAgICB0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLmZvckVhY2goKHQgPT4gdCgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQZXJzaXN0ZW5jZVByb21pc2UgaXMgZXNzZW50aWFsbHkgYSByZS1pbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlIGV4Y2VwdFxuICogaXQgaGFzIGEgLm5leHQoKSBtZXRob2QgaW5zdGVhZCBvZiAudGhlbigpIGFuZCAubmV4dCgpIGFuZCAuY2F0Y2goKSBjYWxsYmFja3NcbiAqIGFyZSBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gYSBQZXJzaXN0ZW5jZVByb21pc2UgcmVzb2x2ZXMgcmF0aGVyIHRoYW5cbiAqIGFzeW5jaHJvbm91c2x5IChQcm9taXNlIGltcGxlbWVudGF0aW9ucyB1c2Ugc2V0SW1tZWRpYXRlKCkgb3Igc2ltaWxhcikuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgdG8gaW50ZXJvcGVyYXRlIHdpdGggSW5kZXhlZERCIHdoaWNoIHdpbGwgYXV0b21hdGljYWxseVxuICogY29tbWl0IHRyYW5zYWN0aW9ucyBpZiBjb250cm9sIGlzIHJldHVybmVkIHRvIHRoZSBldmVudCBsb29wIHdpdGhvdXRcbiAqIHN5bmNocm9ub3VzbHkgaW5pdGlhdGluZyBhbm90aGVyIG9wZXJhdGlvbiBvbiB0aGUgdHJhbnNhY3Rpb24uXG4gKlxuICogTk9URTogLnRoZW4oKSBhbmQgLmNhdGNoKCkgb25seSBhbGxvdyBhIHNpbmdsZSBjb25zdW1lciwgdW5saWtlIG5vcm1hbFxuICogUHJvbWlzZXMuXG4gKi8gY2xhc3MgcXMge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgLy8gTk9URTogbmV4dC9jYXRjaENhbGxiYWNrIHdpbGwgYWx3YXlzIHBvaW50IHRvIG91ciBvd24gd3JhcHBlciBmdW5jdGlvbnMsXG4gICAgICAgIC8vIG5vdCB0aGUgdXNlcidzIHJhdyBuZXh0KCkgb3IgY2F0Y2goKSBjYWxsYmFja3MuXG4gICAgICAgIHRoaXMubmV4dENhbGxiYWNrID0gbnVsbCwgdGhpcy5jYXRjaENhbGxiYWNrID0gbnVsbCwgXG4gICAgICAgIC8vIFdoZW4gdGhlIG9wZXJhdGlvbiByZXNvbHZlcywgd2UnbGwgc2V0IHJlc3VsdCBvciBlcnJvciBhbmQgbWFyayBpc0RvbmUuXG4gICAgICAgIHRoaXMucmVzdWx0ID0gdm9pZCAwLCB0aGlzLmVycm9yID0gdm9pZCAwLCB0aGlzLmlzRG9uZSA9ICExLCBcbiAgICAgICAgLy8gU2V0IHRvIHRydWUgd2hlbiAudGhlbigpIG9yIC5jYXRjaCgpIGFyZSBjYWxsZWQgYW5kIHByZXZlbnRzIGFkZGl0aW9uYWxcbiAgICAgICAgLy8gY2hhaW5pbmcuXG4gICAgICAgIHRoaXMuY2FsbGJhY2tBdHRhY2hlZCA9ICExLCB0KCh0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNEb25lID0gITAsIHRoaXMucmVzdWx0ID0gdCwgdGhpcy5uZXh0Q2FsbGJhY2sgJiYgXG4gICAgICAgICAgICAvLyB2YWx1ZSBzaG91bGQgYmUgZGVmaW5lZCB1bmxlc3MgVCBpcyBWb2lkLCBidXQgd2UgY2FuJ3QgZXhwcmVzc1xuICAgICAgICAgICAgLy8gdGhhdCBpbiB0aGUgdHlwZSBzeXN0ZW0uXG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsYmFjayh0KTtcbiAgICAgICAgfSksICh0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNEb25lID0gITAsIHRoaXMuZXJyb3IgPSB0LCB0aGlzLmNhdGNoQ2FsbGJhY2sgJiYgdGhpcy5jYXRjaENhbGxiYWNrKHQpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNhdGNoKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dCh2b2lkIDAsIHQpO1xuICAgIH1cbiAgICBuZXh0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tBdHRhY2hlZCAmJiBGKCksIHRoaXMuY2FsbGJhY2tBdHRhY2hlZCA9ICEwLCB0aGlzLmlzRG9uZSA/IHRoaXMuZXJyb3IgPyB0aGlzLndyYXBGYWlsdXJlKGUsIHRoaXMuZXJyb3IpIDogdGhpcy53cmFwU3VjY2Vzcyh0LCB0aGlzLnJlc3VsdCkgOiBuZXcgcXMoKChuLCBzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsYmFjayA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcFN1Y2Nlc3ModCwgZSkubmV4dChuLCBzKTtcbiAgICAgICAgICAgIH0sIHRoaXMuY2F0Y2hDYWxsYmFjayA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcEZhaWx1cmUoZSwgdCkubmV4dChuLCBzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdG9Qcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHQodCwgZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgd3JhcFVzZXJGdW5jdGlvbih0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBxcyA/IGUgOiBxcy5yZXNvbHZlKGUpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gcXMucmVqZWN0KHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdyYXBTdWNjZXNzKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPyB0aGlzLndyYXBVc2VyRnVuY3Rpb24oKCgpID0+IHQoZSkpKSA6IHFzLnJlc29sdmUoZSk7XG4gICAgfVxuICAgIHdyYXBGYWlsdXJlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPyB0aGlzLndyYXBVc2VyRnVuY3Rpb24oKCgpID0+IHQoZSkpKSA6IHFzLnJlamVjdChlKTtcbiAgICB9XG4gICAgc3RhdGljIHJlc29sdmUodCkge1xuICAgICAgICByZXR1cm4gbmV3IHFzKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgZSh0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVqZWN0KHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBxcygoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIG4odCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIHdhaXRGb3IoXG4gICAgLy8gQWNjZXB0IGFsbCBQcm9taXNlIHR5cGVzIGluIHdhaXRGb3IoKS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBxcygoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIGxldCBzID0gMCwgaSA9IDAsIHIgPSAhMTtcbiAgICAgICAgICAgIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICAgICAgKytzLCB0Lm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKytpLCByICYmIGkgPT09IHMgJiYgZSgpO1xuICAgICAgICAgICAgICAgIH0pLCAodCA9PiBuKHQpKSk7XG4gICAgICAgICAgICB9KSksIHIgPSAhMCwgaSA9PT0gcyAmJiBlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW4gYXJyYXkgb2YgcHJlZGljYXRlIGZ1bmN0aW9ucyB0aGF0IGFzeW5jaHJvbm91c2x5IGV2YWx1YXRlIHRvIGFcbiAgICAgKiBib29sZWFuLCBpbXBsZW1lbnRzIGEgc2hvcnQtY2lyY3VpdGluZyBgb3JgIGJldHdlZW4gdGhlIHJlc3VsdHMuIFByZWRpY2F0ZXNcbiAgICAgKiB3aWxsIGJlIGV2YWx1YXRlZCB1bnRpbCBvbmUgb2YgdGhlbSByZXR1cm5zIGB0cnVlYCwgdGhlbiBzdG9wLiBUaGUgZmluYWxcbiAgICAgKiByZXN1bHQgd2lsbCBiZSB3aGV0aGVyIGFueSBvZiB0aGVtIHJldHVybmVkIGB0cnVlYC5cbiAgICAgKi8gICAgc3RhdGljIG9yKHQpIHtcbiAgICAgICAgbGV0IGUgPSBxcy5yZXNvbHZlKCExKTtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHQpIGUgPSBlLm5leHQoKHQgPT4gdCA/IHFzLnJlc29sdmUodCkgOiBuKCkpKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHN0YXRpYyBmb3JFYWNoKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCgodCwgcykgPT4ge1xuICAgICAgICAgICAgbi5wdXNoKGUuY2FsbCh0aGlzLCB0LCBzKSk7XG4gICAgICAgIH0pKSwgdGhpcy53YWl0Rm9yKG4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIFJlZmVyZW5jZXMgdG8gYHdpbmRvd2AgYXJlIGd1YXJkZWQgYnkgU2ltcGxlRGIuaXNBdmFpbGFibGUoKVxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKipcbiAqIFdyYXBzIGFuIElEQlRyYW5zYWN0aW9uIGFuZCBleHBvc2VzIGEgc3RvcmUoKSBtZXRob2QgdG8gZ2V0IGEgaGFuZGxlIHRvIGFcbiAqIHNwZWNpZmljIG9iamVjdCBzdG9yZS5cbiAqL1xuY2xhc3MgS3Mge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5hY3Rpb24gPSB0LCB0aGlzLnRyYW5zYWN0aW9uID0gZSwgdGhpcy5hYm9ydGVkID0gITEsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIEluZGV4ZWREYiB0cmFuc2FjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuVHQgPSBuZXcgSywgdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5UdC5yZXNvbHZlKCk7XG4gICAgICAgIH0sIHRoaXMudHJhbnNhY3Rpb24ub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGUuZXJyb3IgPyB0aGlzLlR0LnJlamVjdChuZXcgV3ModCwgZS5lcnJvcikpIDogdGhpcy5UdC5yZXNvbHZlKCk7XG4gICAgICAgIH0sIHRoaXMudHJhbnNhY3Rpb24ub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IFlzKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuVHQucmVqZWN0KG5ldyBXcyh0LCBuKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBvcGVuKHQsIGUsIG4sIHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgS3MoZSwgdC50cmFuc2FjdGlvbihzLCBuKSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcyhlLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgSXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlR0LnByb21pc2U7XG4gICAgfVxuICAgIGFib3J0KHQpIHtcbiAgICAgICAgdCAmJiB0aGlzLlR0LnJlamVjdCh0KSwgdGhpcy5hYm9ydGVkIHx8ICh4KFwiU2ltcGxlRGJcIiwgXCJBYm9ydGluZyB0cmFuc2FjdGlvbjpcIiwgdCA/IHQubWVzc2FnZSA6IFwiQ2xpZW50LWluaXRpYXRlZCBhYm9ydFwiKSwgXG4gICAgICAgIHRoaXMuYWJvcnRlZCA9ICEwLCB0aGlzLnRyYW5zYWN0aW9uLmFib3J0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgU2ltcGxlRGJTdG9yZTxLZXlUeXBlLCBWYWx1ZVR5cGU+IGZvciB0aGUgc3BlY2lmaWVkIHN0b3JlLiBBbGxcbiAgICAgKiBvcGVyYXRpb25zIHBlcmZvcm1lZCBvbiB0aGUgU2ltcGxlRGJTdG9yZSBoYXBwZW4gd2l0aGluIHRoZSBjb250ZXh0IG9mIHRoaXNcbiAgICAgKiB0cmFuc2FjdGlvbiBhbmQgaXQgY2Fubm90IGJlIHVzZWQgYW55bW9yZSBvbmNlIHRoZSB0cmFuc2FjdGlvbiBpc1xuICAgICAqIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB3ZSBjYW4ndCBhY3R1YWxseSBlbmZvcmNlIHRoYXQgdGhlIEtleVR5cGUgYW5kIFZhbHVlVHlwZSBhcmVcbiAgICAgKiBjb3JyZWN0LCBidXQgdGhleSBhbGxvdyB0eXBlIHNhZmV0eSB0aHJvdWdoIHRoZSByZXN0IG9mIHRoZSBjb25zdW1pbmcgY29kZS5cbiAgICAgKi8gICAgc3RvcmUodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy50cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyB6cyhlKTtcbiAgICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBJbmRleGVkRGIgd2l0aCBhIHNpbXBsaWZpZWQgaW50ZXJmYWNlIHRoYXQgdXNlc1xuICogUHJvbWlzZS1saWtlIHJldHVybiB2YWx1ZXMgdG8gY2hhaW4gb3BlcmF0aW9ucy4gUmVhbCBwcm9taXNlcyBjYW5ub3QgYmUgdXNlZFxuICogc2luY2UgLnRoZW4oKSBjb250aW51YXRpb25zIGFyZSBleGVjdXRlZCBhc3luY2hyb25vdXNseSAoZS5nLiB2aWFcbiAqIC5zZXRJbW1lZGlhdGUpLCB3aGljaCB3b3VsZCBjYXVzZSBJbmRleGVkREIgdG8gZW5kIHRoZSB0cmFuc2FjdGlvbi5cbiAqIFNlZSBQZXJzaXN0ZW5jZVByb21pc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqLyBjbGFzcyBqcyB7XG4gICAgLypcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFNpbXBsZURiIHdyYXBwZXIgZm9yIEluZGV4ZWREYiBkYXRhYmFzZSBgbmFtZWAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYHZlcnNpb25gIG11c3Qgbm90IGJlIGEgZG93bmdyYWRlLiBJbmRleGVkREIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIGRvd25ncmFkaW5nIHRoZSBzY2hlbWEgdmVyc2lvbi4gV2UgY3VycmVudGx5IGRvIG5vdCBzdXBwb3J0IGFueSB3YXkgdG8gZG9cbiAgICAgKiB2ZXJzaW9uaW5nIG91dHNpZGUgb2YgSW5kZXhlZERCJ3MgdmVyc2lvbmluZyBtZWNoYW5pc20sIGFzIG9ubHlcbiAgICAgKiB2ZXJzaW9uLXVwZ3JhZGUgdHJhbnNhY3Rpb25zIGFyZSBhbGxvd2VkIHRvIGRvIHRoaW5ncyBsaWtlIGNyZWF0ZVxuICAgICAqIG9iamVjdHN0b3Jlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IHQsIHRoaXMudmVyc2lvbiA9IGUsIHRoaXMuQXQgPSBuO1xuICAgICAgICAvLyBOT1RFOiBBY2NvcmRpbmcgdG8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzA1MCwgdGhlXG4gICAgICAgIC8vIGJ1ZyB3ZSdyZSBjaGVja2luZyBmb3Igc2hvdWxkIGV4aXN0IGluIGlPUyA+PSAxMi4yIGFuZCA8IDEzLCBidXQgZm9yXG4gICAgICAgIC8vIHdoYXRldmVyIHJlYXNvbiBpdCdzIG11Y2ggaGFyZGVyIHRvIGhpdCBhZnRlciAxMi4yIHNvIHdlIG9ubHkgcHJvYWN0aXZlbHlcbiAgICAgICAgLy8gbG9nIG9uIDEyLjIuXG4gICAgICAgIDEyLjIgPT09IGpzLlJ0KGMoKSkgJiYgayhcIkZpcmVzdG9yZSBwZXJzaXN0ZW5jZSBzdWZmZXJzIGZyb20gYSBidWcgaW4gaU9TIDEyLjIgU2FmYXJpIHRoYXQgbWF5IGNhdXNlIHlvdXIgYXBwIHRvIHN0b3Agd29ya2luZy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuXCIpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLiAqLyAgICBzdGF0aWMgZGVsZXRlKHQpIHtcbiAgICAgICAgcmV0dXJuIHgoXCJTaW1wbGVEYlwiLCBcIlJlbW92aW5nIGRhdGFiYXNlOlwiLCB0KSwgSHMod2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZSh0KSkudG9Qcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgSW5kZXhlZERCIGlzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4gKi8gICAgc3RhdGljIGJ0KCkge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgaW5kZXhlZERCKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChqcy5QdCgpKSByZXR1cm4gITA7XG4gICAgICAgIC8vIFdlIGV4dGVuc2l2ZWx5IHVzZSBpbmRleGVkIGFycmF5IHZhbHVlcyBhbmQgY29tcG91bmQga2V5cyxcbiAgICAgICAgLy8gd2hpY2ggSUUgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQuIEhvd2V2ZXIsIHRoZXkgc3RpbGwgaGF2ZSBpbmRleGVkREJcbiAgICAgICAgLy8gZGVmaW5lZCBvbiB0aGUgd2luZG93LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGVtIGhlcmUgYW5kIG1ha2Ugc3VyZVxuICAgICAgICAvLyB0byByZXR1cm4gdGhhdCBwZXJzaXN0ZW5jZSBpcyBub3QgZW5hYmxlZCBmb3IgdGhvc2UgYnJvd3NlcnMuXG4gICAgICAgIC8vIEZvciB0cmFja2luZyBzdXBwb3J0IG9mIHRoaXMgZmVhdHVyZSwgc2VlIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vc3RhdHVzL2luZGV4ZWRkYmFycmF5c2FuZG11bHRpZW50cnlzdXBwb3J0L1xuICAgICAgICAvLyBDaGVjayB0aGUgVUEgc3RyaW5nIHRvIGZpbmQgb3V0IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBjKCksIGUgPSBqcy5SdCh0KSwgbiA9IDAgPCBlICYmIGUgPCAxMCwgcyA9IGpzLnZ0KHQpLCBpID0gMCA8IHMgJiYgcyA8IDQuNTtcbiAgICAgICAgLy8gSUUgMTBcbiAgICAgICAgLy8gdWEgPSAnTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IE1TSUUgMTAuMDsgV2luZG93cyBOVCA2LjI7IFRyaWRlbnQvNi4wKSc7XG4gICAgICAgIC8vIElFIDExXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28nO1xuICAgICAgICAvLyBFZGdlXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLFxuICAgICAgICAvLyBsaWtlIEdlY2tvKSBDaHJvbWUvMzkuMC4yMTcxLjcxIFNhZmFyaS81MzcuMzYgRWRnZS8xMi4wJztcbiAgICAgICAgLy8gaU9TIFNhZmFyaTogRGlzYWJsZSBmb3IgdXNlcnMgcnVubmluZyBpT1MgdmVyc2lvbiA8IDEwLlxuICAgICAgICAgICAgICAgIHJldHVybiAhKHQuaW5kZXhPZihcIk1TSUUgXCIpID4gMCB8fCB0LmluZGV4T2YoXCJUcmlkZW50L1wiKSA+IDAgfHwgdC5pbmRleE9mKFwiRWRnZS9cIikgPiAwIHx8IG4gfHwgaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYmFja2luZyBJbmRleGVkREIgc3RvcmUgaXMgdGhlIE5vZGUgSW5kZXhlZERCU2hpbVxuICAgICAqIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2F4ZW1jbGlvbi9JbmRleGVkREJTaGltKS5cbiAgICAgKi8gICAgc3RhdGljIFB0KCkge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHByb2Nlc3MgJiYgXCJZRVNcIiA9PT0gKG51bGwgPT09ICh0ID0gcHJvY2Vzcy5lbnYpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuVnQpO1xuICAgIH1cbiAgICAvKiogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZnJvbSBhIHRyYW5zYWN0aW9uLiAqLyAgICBzdGF0aWMgU3QodCwgZSkge1xuICAgICAgICByZXR1cm4gdC5zdG9yZShlKTtcbiAgICB9XG4gICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgIC8qKiBQYXJzZSBVc2VyIEFnZW50IHRvIGRldGVybWluZSBpT1MgdmVyc2lvbi4gUmV0dXJucyAtMSBpZiBub3QgZm91bmQuICovXG4gICAgc3RhdGljIFJ0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQubWF0Y2goL2koPzpwaG9uZXxwYWR8cG9kKSBvcyAoW1xcZF9dKykvaSksIG4gPSBlID8gZVsxXS5zcGxpdChcIl9cIikuc2xpY2UoMCwgMikuam9pbihcIi5cIikgOiBcIi0xXCI7XG4gICAgICAgIHJldHVybiBOdW1iZXIobik7XG4gICAgfVxuICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAvKiogUGFyc2UgVXNlciBBZ2VudCB0byBkZXRlcm1pbmUgQW5kcm9pZCB2ZXJzaW9uLiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC4gKi9cbiAgICBzdGF0aWMgdnQodCkge1xuICAgICAgICBjb25zdCBlID0gdC5tYXRjaCgvQW5kcm9pZCAoW1xcZC5dKykvaSksIG4gPSBlID8gZVsxXS5zcGxpdChcIi5cIikuc2xpY2UoMCwgMikuam9pbihcIi5cIikgOiBcIi0xXCI7XG4gICAgICAgIHJldHVybiBOdW1iZXIobik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UsIGNyZWF0aW5nIG9yIHVwZ3JhZGluZyBpdCBpZiBuZWNlc3NhcnkuXG4gICAgICovICAgIGFzeW5jIER0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIgfHwgKHgoXCJTaW1wbGVEYlwiLCBcIk9wZW5pbmcgZGF0YWJhc2U6XCIsIHRoaXMubmFtZSksIHRoaXMuZGIgPSBhd2FpdCBuZXcgUHJvbWlzZSgoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogSW52ZXN0aWdhdGUgYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0luZGV4ZWREQl9BUEkvVXNpbmdfSW5kZXhlZERCXG4gICAgICAgICAgICAvLyBzdWdnZXN0cyBJRTkgYW5kIG9sZGVyIFdlYktpdCBicm93c2VycyBoYW5kbGUgdXBncmFkZVxuICAgICAgICAgICAgLy8gZGlmZmVyZW50bHkuIFRoZXkgZXhwZWN0IHNldFZlcnNpb24sIGFzIGRlc2NyaWJlZCBoZXJlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0lEQlZlcnNpb25DaGFuZ2VSZXF1ZXN0L3NldFZlcnNpb25cbiAgICAgICAgICAgIGNvbnN0IHMgPSBpbmRleGVkREIub3Blbih0aGlzLm5hbWUsIHRoaXMudmVyc2lvbik7XG4gICAgICAgICAgICBzLm9uc3VjY2VzcyA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgZShuKTtcbiAgICAgICAgICAgIH0sIHMub25ibG9ja2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG4obmV3IFdzKHQsIFwiQ2Fubm90IHVwZ3JhZGUgSW5kZXhlZERCIHNjaGVtYSB3aGlsZSBhbm90aGVyIHRhYiBpcyBvcGVuLiBDbG9zZSBhbGwgdGFicyB0aGF0IGFjY2VzcyBGaXJlc3RvcmUgYW5kIHJlbG9hZCB0aGlzIHBhZ2UgdG8gcHJvY2VlZC5cIikpO1xuICAgICAgICAgICAgfSwgcy5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgICAgICAgICAgIFwiVmVyc2lvbkVycm9yXCIgPT09IHMubmFtZSA/IG4obmV3IHEoVS5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgRmlyZXN0b3JlIFNESyB3YXMgcHJldmlvdXNseSB1c2VkIGFuZCBzbyB0aGUgcGVyc2lzdGVkIGRhdGEgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgdmVyc2lvbiBvZiB0aGUgU0RLIHlvdSBhcmUgbm93IHVzaW5nLiBUaGUgU0RLIHdpbGwgb3BlcmF0ZSB3aXRoIHBlcnNpc3RlbmNlIGRpc2FibGVkLiBJZiB5b3UgbmVlZCBwZXJzaXN0ZW5jZSwgcGxlYXNlIHJlLXVwZ3JhZGUgdG8gYSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBTREsgb3IgZWxzZSBjbGVhciB0aGUgcGVyc2lzdGVkIEluZGV4ZWREQiBkYXRhIGZvciB5b3VyIGFwcCB0byBzdGFydCBmcmVzaC5cIikpIDogXCJJbnZhbGlkU3RhdGVFcnJvclwiID09PSBzLm5hbWUgPyBuKG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJVbmFibGUgdG8gb3BlbiBhbiBJbmRleGVkREIgY29ubmVjdGlvbi4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gcnVubmluZyBpbiBhIHByaXZhdGUgYnJvd3Npbmcgc2Vzc2lvbiBvbiBhIGJyb3dzZXIgd2hvc2UgcHJpdmF0ZSBicm93c2luZyBzZXNzaW9ucyBkbyBub3Qgc3VwcG9ydCBJbmRleGVkREI6IFwiICsgcykpIDogbihuZXcgV3ModCwgcykpO1xuICAgICAgICAgICAgfSwgcy5vbnVwZ3JhZGVuZWVkZWQgPSB0ID0+IHtcbiAgICAgICAgICAgICAgICB4KFwiU2ltcGxlRGJcIiwgJ0RhdGFiYXNlIFwiJyArIHRoaXMubmFtZSArICdcIiByZXF1aXJlcyB1cGdyYWRlIGZyb20gdmVyc2lvbjonLCB0Lm9sZFZlcnNpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5BdC5DdChlLCBzLnRyYW5zYWN0aW9uLCB0Lm9sZFZlcnNpb24sIHRoaXMudmVyc2lvbikubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4KFwiU2ltcGxlRGJcIiwgXCJEYXRhYmFzZSB1cGdyYWRlIHRvIHZlcnNpb24gXCIgKyB0aGlzLnZlcnNpb24gKyBcIiBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSkpLCB0aGlzLk50ICYmICh0aGlzLmRiLm9udmVyc2lvbmNoYW5nZSA9IHQgPT4gdGhpcy5OdCh0KSksIHRoaXMuZGI7XG4gICAgfVxuICAgIHh0KHQpIHtcbiAgICAgICAgdGhpcy5OdCA9IHQsIHRoaXMuZGIgJiYgKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlID0gZSA9PiB0KGUpKTtcbiAgICB9XG4gICAgYXN5bmMgcnVuVHJhbnNhY3Rpb24odCwgZSwgbiwgcykge1xuICAgICAgICBjb25zdCBpID0gXCJyZWFkb25seVwiID09PSBlO1xuICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICsrcjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYiA9IGF3YWl0IHRoaXMuRHQodCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IEtzLm9wZW4odGhpcy5kYiwgdCwgaSA/IFwicmVhZG9ubHlcIiA6IFwicmVhZHdyaXRlXCIsIG4pLCByID0gcyhlKS5jYXRjaCgodCA9PiAoXG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgdGhlIHRyYW5zYWN0aW9uIGlmIHRoZXJlIHdhcyBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICBlLmFib3J0KHQpLCBxcy5yZWplY3QodCkpKSkudG9Qcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gQXMgbm90ZWQgYWJvdmUsIGVycm9ycyBhcmUgcHJvcGFnYXRlZCBieSBhYm9ydGluZyB0aGUgdHJhbnNhY3Rpb24uIFNvXG4gICAgICAgICAgICAgICAgLy8gd2Ugc3dhbGxvdyBhbnkgZXJyb3IgaGVyZSB0byBhdm9pZCB0aGUgYnJvd3NlciBsb2dnaW5nIGl0IGFzIHVuaGFuZGxlZC5cbiAgICAgICAgICAgICAgICByZXR1cm4gci5jYXRjaCgoKCkgPT4ge30pKSwgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlIChpLmUuIEluZGV4ZWREYidzIG9uc3VjY2VzcyBldmVudCB0b1xuICAgICAgICAgICAgICAgIC8vIGZpcmUpLCBidXQgc3RpbGwgcmV0dXJuIHRoZSBvcmlnaW5hbCB0cmFuc2FjdGlvbkZuUmVzdWx0IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FsbGVyLlxuICAgICAgICAgICAgICAgIGF3YWl0IGUuSXQsIHI7XG4gICAgICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhzY2htaWR0LXNlYmFzdGlhbik6IFdlIGNvdWxkIHByb2JhYmx5IGJlIHNtYXJ0ZXIgYWJvdXQgdGhpcyBhbmRcbiAgICAgICAgICAgICAgICAvLyBub3QgcmV0cnkgZXhjZXB0aW9ucyB0aGF0IGFyZSBsaWtlbHkgdW5yZWNvdmVyYWJsZSAoc3VjaCBhcyBxdW90YVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VlZGVkIGVycm9ycykuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHVzZSBhbiBpbnN0YW5jZW9mIGNoZWNrIGZvciBGaXJlc3RvcmVFeGNlcHRpb24sIHNpbmNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBpcyB3cmFwcGVkIGluIGEgZ2VuZXJpYyBlcnJvciBieSBvdXIgYXN5bmMvYXdhaXQgaGFuZGxpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IFwiRmlyZWJhc2VFcnJvclwiICE9PSB0Lm5hbWUgJiYgciA8IDM7XG4gICAgICAgICAgICAgICAgaWYgKHgoXCJTaW1wbGVEYlwiLCBcIlRyYW5zYWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yOlwiLCB0Lm1lc3NhZ2UsIFwiUmV0cnlpbmc6XCIsIGUpLCBcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCksICFlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGIgJiYgdGhpcy5kYi5jbG9zZSgpLCB0aGlzLmRiID0gdm9pZCAwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGNvbnRyb2xsZXIgZm9yIGl0ZXJhdGluZyBvdmVyIGEga2V5IHJhbmdlIG9yIGluZGV4LiBJdCBhbGxvd3MgYW4gaXRlcmF0ZVxuICogY2FsbGJhY2sgdG8gZGVsZXRlIHRoZSBjdXJyZW50bHktcmVmZXJlbmNlZCBvYmplY3QsIG9yIGp1bXAgdG8gYSBuZXcga2V5XG4gKiB3aXRoaW4gdGhlIGtleSByYW5nZSBvciBpbmRleC5cbiAqLyBjbGFzcyBRcyB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLmt0ID0gdCwgdGhpcy4kdCA9ICExLCB0aGlzLk90ID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGlzRG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHQ7XG4gICAgfVxuICAgIGdldCBGdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuT3Q7XG4gICAgfVxuICAgIHNldCBjdXJzb3IodCkge1xuICAgICAgICB0aGlzLmt0ID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHRvIHN0b3AgaXRlcmF0aW9uIGF0IGFueSBwb2ludC5cbiAgICAgKi8gICAgZG9uZSgpIHtcbiAgICAgICAgdGhpcy4kdCA9ICEwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgdG8gc2tpcCB0byB0aGF0IG5leHQga2V5LCB3aGljaCBjb3VsZCBiZVxuICAgICAqIGFuIGluZGV4IG9yIGEgcHJpbWFyeSBrZXkuXG4gICAgICovICAgIE10KHQpIHtcbiAgICAgICAgdGhpcy5PdCA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB0aGUgY3VycmVudCBjdXJzb3IgdmFsdWUgZnJvbSB0aGUgb2JqZWN0IHN0b3JlLlxuICAgICAqXG4gICAgICogTk9URTogWW91IENBTk5PVCBkbyB0aGlzIHdpdGggYSBrZXlzT25seSBxdWVyeS5cbiAgICAgKi8gICAgZGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gSHModGhpcy5rdC5kZWxldGUoKSk7XG4gICAgfVxufVxuXG4vKiogQW4gZXJyb3IgdGhhdCB3cmFwcyBleGNlcHRpb25zIHRoYXQgdGhyb3duIGR1cmluZyBJbmRleGVkREIgZXhlY3V0aW9uLiAqLyBjbGFzcyBXcyBleHRlbmRzIHEge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIoVS5VTkFWQUlMQUJMRSwgYEluZGV4ZWREQiB0cmFuc2FjdGlvbiAnJHt0fScgZmFpbGVkOiAke2V9YCksIHRoaXMubmFtZSA9IFwiSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvclwiO1xuICAgIH1cbn1cblxuLyoqIFZlcmlmaWVzIHdoZXRoZXIgYGVgIGlzIGFuIEluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IuICovIGZ1bmN0aW9uIEdzKHQpIHtcbiAgICAvLyBVc2UgbmFtZSBlcXVhbGl0eSwgYXMgaW5zdGFuY2VvZiBjaGVja3Mgb24gZXJyb3JzIGRvbid0IHdvcmsgd2l0aCBlcnJvcnNcbiAgICAvLyB0aGF0IHdyYXAgb3RoZXIgZXJyb3JzLlxuICAgIHJldHVybiBcIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIiA9PT0gdC5uYW1lO1xufVxuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgYW4gSURCT2JqZWN0U3RvcmUgcHJvdmlkaW5nIGFuIEFQSSB0aGF0OlxuICpcbiAqIDEpIEhhcyBnZW5lcmljIEtleVR5cGUgLyBWYWx1ZVR5cGUgcGFyYW1ldGVycyB0byBwcm92aWRlIHN0cm9uZ2x5LXR5cGVkXG4gKiBtZXRob2RzIGZvciBhY3RpbmcgYWdhaW5zdCB0aGUgb2JqZWN0IHN0b3JlLlxuICogMikgRGVhbHMgd2l0aCBJbmRleGVkREIncyBvbnN1Y2Nlc3MgLyBvbmVycm9yIGV2ZW50IGNhbGxiYWNrcywgbWFraW5nIGV2ZXJ5XG4gKiBtZXRob2QgcmV0dXJuIGEgUGVyc2lzdGVuY2VQcm9taXNlIGluc3RlYWQuXG4gKiAzKSBQcm92aWRlcyBhIGhpZ2hlci1sZXZlbCBBUEkgdG8gYXZvaWQgbmVlZGluZyB0byBkbyBleGNlc3NpdmUgd3JhcHBpbmcgb2ZcbiAqIGludGVybWVkaWF0ZSBJbmRleGVkREIgdHlwZXMgKElEQkN1cnNvcldpdGhWYWx1ZSwgZXRjLilcbiAqLyBjbGFzcyB6cyB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnN0b3JlID0gdDtcbiAgICB9XG4gICAgcHV0KHQsIGUpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUgPyAoeChcIlNpbXBsZURiXCIsIFwiUFVUXCIsIHRoaXMuc3RvcmUubmFtZSwgdCwgZSksIG4gPSB0aGlzLnN0b3JlLnB1dChlLCB0KSkgOiAoeChcIlNpbXBsZURiXCIsIFwiUFVUXCIsIHRoaXMuc3RvcmUubmFtZSwgXCI8YXV0by1rZXk+XCIsIHQpLCBcbiAgICAgICAgbiA9IHRoaXMuc3RvcmUucHV0KHQpKSwgSHMobik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgdmFsdWUgaW50byBhbiBPYmplY3QgU3RvcmUgYW5kIHJldHVybnMgdGhlIG5ldyBrZXkuIFNpbWlsYXIgdG9cbiAgICAgKiBJbmRleGVkRGIncyBgYWRkKClgLCB0aGlzIG1ldGhvZCB3aWxsIGZhaWwgb24gcHJpbWFyeSBrZXkgY29sbGlzaW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBvYmplY3QgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gYWRkLlxuICAgICAqLyAgICBhZGQodCkge1xuICAgICAgICB4KFwiU2ltcGxlRGJcIiwgXCJBRERcIiwgdGhpcy5zdG9yZS5uYW1lLCB0LCB0KTtcbiAgICAgICAgcmV0dXJuIEhzKHRoaXMuc3RvcmUuYWRkKHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZnJvbSB0aGUgc3BlY2lmaWVkIHN0b3JlLCBvciBudWxsXG4gICAgICogaWYgbm8gb2JqZWN0IGV4aXN0cyB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqXG4gICAgICogQGtleSBUaGUga2V5IG9mIHRoZSBvYmplY3QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIFRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBvciBudWxsIGlmIG5vIG9iamVjdCBleGlzdHMuXG4gICAgICovICAgIGdldCh0KSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvaW5nIGFuIHVuc2FmZSBjYXN0IHRvIFZhbHVlVHlwZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIEhzKHRoaXMuc3RvcmUuZ2V0KHQpKS5uZXh0KChlID0+IChcbiAgICAgICAgLy8gTm9ybWFsaXplIG5vbmV4aXN0ZW5jZSB0byBudWxsLlxuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBudWxsKSwgeChcIlNpbXBsZURiXCIsIFwiR0VUXCIsIHRoaXMuc3RvcmUubmFtZSwgdCwgZSksIGUpKSk7XG4gICAgfVxuICAgIGRlbGV0ZSh0KSB7XG4gICAgICAgIHgoXCJTaW1wbGVEYlwiLCBcIkRFTEVURVwiLCB0aGlzLnN0b3JlLm5hbWUsIHQpO1xuICAgICAgICByZXR1cm4gSHModGhpcy5zdG9yZS5kZWxldGUodCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBldmVyIG5lZWQgbW9yZSBvZiB0aGUgY291bnQgdmFyaWFudHMsIHdlIGNhbiBhZGQgb3ZlcmxvYWRzLiBGb3Igbm93LFxuICAgICAqIGFsbCB3ZSBuZWVkIGlzIHRvIGNvdW50IGV2ZXJ5dGhpbmcgaW4gYSBzdG9yZS5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGluIHRoZSBzdG9yZS5cbiAgICAgKi8gICAgY291bnQoKSB7XG4gICAgICAgIHgoXCJTaW1wbGVEYlwiLCBcIkNPVU5UXCIsIHRoaXMuc3RvcmUubmFtZSk7XG4gICAgICAgIHJldHVybiBIcyh0aGlzLnN0b3JlLmNvdW50KCkpO1xuICAgIH1cbiAgICBMdCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmN1cnNvcih0aGlzLm9wdGlvbnModCwgZSkpLCBzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLkJ0KG4sICgodCwgZSkgPT4ge1xuICAgICAgICAgICAgcy5wdXNoKGUpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gcykpO1xuICAgIH1cbiAgICBVdCh0LCBlKSB7XG4gICAgICAgIHgoXCJTaW1wbGVEYlwiLCBcIkRFTEVURSBBTExcIiwgdGhpcy5zdG9yZS5uYW1lKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMub3B0aW9ucyh0LCBlKTtcbiAgICAgICAgbi5xdCA9ICExO1xuICAgICAgICBjb25zdCBzID0gdGhpcy5jdXJzb3Iobik7XG4gICAgICAgIHJldHVybiB0aGlzLkJ0KHMsICgodCwgZSwgbikgPT4gbi5kZWxldGUoKSkpO1xuICAgIH1cbiAgICBLdCh0LCBlKSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBlID8gbiA9IHQgOiAobiA9IHt9LCBlID0gdCk7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmN1cnNvcihuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuQnQocywgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYSBzdG9yZSwgYnV0IHdhaXRzIGZvciB0aGUgZ2l2ZW4gY2FsbGJhY2sgdG8gY29tcGxldGUgZm9yXG4gICAgICogZWFjaCBlbnRyeSBiZWZvcmUgaXRlcmF0aW5nIHRoZSBuZXh0IGVudHJ5LiBUaGlzIGFsbG93cyB0aGUgY2FsbGJhY2sgdG8gZG9cbiAgICAgKiBhc3luY2hyb25vdXMgd29yayB0byBkZXRlcm1pbmUgaWYgdGhpcyBpdGVyYXRpb24gc2hvdWxkIGNvbnRpbnVlLlxuICAgICAqXG4gICAgICogVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHNob3VsZCByZXR1cm4gYHRydWVgIHRvIGNvbnRpbnVlIGl0ZXJhdGlvbiwgYW5kXG4gICAgICogYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovICAgIGp0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY3Vyc29yKHt9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBxcygoKG4sIHMpID0+IHtcbiAgICAgICAgICAgIGUub25lcnJvciA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBZcyh0LnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICAgICAgcyhlKTtcbiAgICAgICAgICAgIH0sIGUub25zdWNjZXNzID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBzID8gdChzLnByaW1hcnlLZXksIHMudmFsdWUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ID8gcy5jb250aW51ZSgpIDogbigpO1xuICAgICAgICAgICAgICAgIH0pKSA6IG4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgQnQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgIHJldHVybiBuZXcgcXMoKChzLCBpKSA9PiB7XG4gICAgICAgICAgICB0Lm9uZXJyb3IgPSB0ID0+IHtcbiAgICAgICAgICAgICAgICBpKHQudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIH0sIHQub25zdWNjZXNzID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHJldHVybiB2b2lkIHMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gbmV3IFFzKGkpLCBvID0gZShpLnByaW1hcnlLZXksIGkudmFsdWUsIHIpO1xuICAgICAgICAgICAgICAgIGlmIChvIGluc3RhbmNlb2YgcXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IG8uY2F0Y2goKHQgPT4gKHIuZG9uZSgpLCBxcy5yZWplY3QodCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIG4ucHVzaCh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgci5pc0RvbmUgPyBzKCkgOiBudWxsID09PSByLkZ0ID8gaS5jb250aW51ZSgpIDogaS5jb250aW51ZShyLkZ0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBxcy53YWl0Rm9yKG4pKSk7XG4gICAgfVxuICAgIG9wdGlvbnModCwgZSkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdCAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IG4gPSB0IDogZSA9IHQpLCB7XG4gICAgICAgICAgICBpbmRleDogbixcbiAgICAgICAgICAgIHJhbmdlOiBlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGN1cnNvcih0KSB7XG4gICAgICAgIGxldCBlID0gXCJuZXh0XCI7XG4gICAgICAgIGlmICh0LnJldmVyc2UgJiYgKGUgPSBcInByZXZcIiksIHQuaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnN0b3JlLmluZGV4KHQuaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIHQucXQgPyBuLm9wZW5LZXlDdXJzb3IodC5yYW5nZSwgZSkgOiBuLm9wZW5DdXJzb3IodC5yYW5nZSwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcih0LnJhbmdlLCBlKTtcbiAgICB9XG59XG5cbi8qKlxuICogV3JhcHMgYW4gSURCUmVxdWVzdCBpbiBhIFBlcnNpc3RlbmNlUHJvbWlzZSwgdXNpbmcgdGhlIG9uc3VjY2VzcyAvIG9uZXJyb3JcbiAqIGhhbmRsZXJzIHRvIHJlc29sdmUgLyByZWplY3QgdGhlIFBlcnNpc3RlbmNlUHJvbWlzZSBhcyBhcHByb3ByaWF0ZS5cbiAqLyBmdW5jdGlvbiBIcyh0KSB7XG4gICAgcmV0dXJuIG5ldyBxcygoKGUsIG4pID0+IHtcbiAgICAgICAgdC5vbnN1Y2Nlc3MgPSB0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBlKG4pO1xuICAgICAgICB9LCB0Lm9uZXJyb3IgPSB0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBZcyh0LnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICBuKGUpO1xuICAgICAgICB9O1xuICAgIH0pKTtcbn1cblxuLy8gR3VhcmQgc28gd2Ugb25seSByZXBvcnQgdGhlIGVycm9yIG9uY2UuXG5sZXQgSnMgPSAhMTtcblxuZnVuY3Rpb24gWXModCkge1xuICAgIGNvbnN0IGUgPSBqcy5SdChjKCkpO1xuICAgIGlmIChlID49IDEyLjIgJiYgZSA8IDEzKSB7XG4gICAgICAgIGNvbnN0IGUgPSBcIkFuIGludGVybmFsIGVycm9yIHdhcyBlbmNvdW50ZXJlZCBpbiB0aGUgSW5kZXhlZCBEYXRhYmFzZSBzZXJ2ZXJcIjtcbiAgICAgICAgaWYgKHQubWVzc2FnZS5pbmRleE9mKGUpID49IDApIHtcbiAgICAgICAgICAgIC8vIFdyYXAgZXJyb3IgaW4gYSBtb3JlIGRlc2NyaXB0aXZlIG9uZS5cbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgcShcImludGVybmFsXCIsIGBJT1NfSU5ERVhFRERCX0JVRzE6IEluZGV4ZWREYiBoYXMgdGhyb3duICcke2V9Jy4gVGhpcyBpcyBsaWtlbHkgZHVlIHRvIGFuIHVuYXZvaWRhYmxlIGJ1ZyBpbiBpT1MuIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNTY0OTYyOTYvMTEwOTE1IGZvciBkZXRhaWxzIGFuZCBhIHBvdGVudGlhbCB3b3JrYXJvdW5kLmApO1xuICAgICAgICAgICAgcmV0dXJuIEpzIHx8IChKcyA9ICEwLCBcbiAgICAgICAgICAgIC8vIFRocm93IGEgZ2xvYmFsIGV4Y2VwdGlvbiBvdXRzaWRlIG9mIHRoaXMgcHJvbWlzZSBjaGFpbiwgZm9yIHRoZSB1c2VyIHRvXG4gICAgICAgICAgICAvLyBwb3RlbnRpYWxseSBjYXRjaC5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyB0O1xuICAgICAgICAgICAgfSksIDApKSwgdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgWHMgZXh0ZW5kcyBVcyB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLlF0ID0gdCwgdGhpcy5jdXJyZW50U2VxdWVuY2VOdW1iZXIgPSBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gWnModCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIHJldHVybiBqcy5TdChuLlF0LCBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBiYXRjaCBvZiBtdXRhdGlvbnMgdGhhdCB3aWxsIGJlIHNlbnQgYXMgb25lIHVuaXQgdG8gdGhlIGJhY2tlbmQuXG4gKi8gY2xhc3MgdGkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBiYXRjaElkIC0gVGhlIHVuaXF1ZSBJRCBvZiB0aGlzIG11dGF0aW9uIGJhdGNoLlxuICAgICAqIEBwYXJhbSBsb2NhbFdyaXRlVGltZSAtIFRoZSBvcmlnaW5hbCB3cml0ZSB0aW1lIG9mIHRoaXMgbXV0YXRpb24uXG4gICAgICogQHBhcmFtIGJhc2VNdXRhdGlvbnMgLSBNdXRhdGlvbnMgdGhhdCBhcmUgdXNlZCB0byBwb3B1bGF0ZSB0aGUgYmFzZVxuICAgICAqIHZhbHVlcyB3aGVuIHRoaXMgbXV0YXRpb24gaXMgYXBwbGllZCBsb2NhbGx5LiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvY2FsbHlcbiAgICAgKiBvdmVyd3JpdGUgdmFsdWVzIHRoYXQgYXJlIHBlcnNpc3RlZCBpbiB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlLiBCYXNlXG4gICAgICogbXV0YXRpb25zIGFyZSBuZXZlciBzZW50IHRvIHRoZSBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSBtdXRhdGlvbnMgLSBUaGUgdXNlci1wcm92aWRlZCBtdXRhdGlvbnMgaW4gdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBVc2VyLXByb3ZpZGVkIG11dGF0aW9ucyBhcmUgYXBwbGllZCBib3RoIGxvY2FsbHkgYW5kIHJlbW90ZWx5IG9uIHRoZVxuICAgICAqIGJhY2tlbmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcykge1xuICAgICAgICB0aGlzLmJhdGNoSWQgPSB0LCB0aGlzLmxvY2FsV3JpdGVUaW1lID0gZSwgdGhpcy5iYXNlTXV0YXRpb25zID0gbiwgdGhpcy5tdXRhdGlvbnMgPSBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGFsbCB0aGUgbXV0YXRpb25zIGluIHRoaXMgTXV0YXRpb25CYXRjaCB0byB0aGUgc3BlY2lmaWVkIGRvY3VtZW50XG4gICAgICogdG8gY29tcHV0ZSB0aGUgc3RhdGUgb2YgdGhlIHJlbW90ZSBkb2N1bWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIGFwcGx5IG11dGF0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0gYmF0Y2hSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBNdXRhdGlvbkJhdGNoIHRvIHRoZVxuICAgICAqIGJhY2tlbmQuXG4gICAgICovICAgIGFwcGx5VG9SZW1vdGVEb2N1bWVudCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLm11dGF0aW9uUmVzdWx0cztcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLm11dGF0aW9ucy5sZW5ndGg7IGUrKykge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMubXV0YXRpb25zW2VdO1xuICAgICAgICAgICAgaWYgKHMua2V5LmlzRXF1YWwodC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgemUocywgdCwgbltlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGxvY2FsIHZpZXcgb2YgYSBkb2N1bWVudCBnaXZlbiBhbGwgdGhlIG11dGF0aW9ucyBpbiB0aGlzXG4gICAgICogYmF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnQgLSBUaGUgZG9jdW1lbnQgdG8gYXBwbHkgbXV0YXRpb25zIHRvLlxuICAgICAqLyAgICBhcHBseVRvTG9jYWxWaWV3KHQpIHtcbiAgICAgICAgLy8gRmlyc3QsIGFwcGx5IHRoZSBiYXNlIHN0YXRlLiBUaGlzIGFsbG93cyB1cyB0byBhcHBseSBub24taWRlbXBvdGVudFxuICAgICAgICAvLyB0cmFuc2Zvcm0gYWdhaW5zdCBhIGNvbnNpc3RlbnQgc2V0IG9mIHZhbHVlcy5cbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuYmFzZU11dGF0aW9ucykgZS5rZXkuaXNFcXVhbCh0LmtleSkgJiYgSGUoZSwgdCwgdGhpcy5sb2NhbFdyaXRlVGltZSk7XG4gICAgICAgIC8vIFNlY29uZCwgYXBwbHkgYWxsIHVzZXItcHJvdmlkZWQgbXV0YXRpb25zLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLm11dGF0aW9ucykgZS5rZXkuaXNFcXVhbCh0LmtleSkgJiYgSGUoZSwgdCwgdGhpcy5sb2NhbFdyaXRlVGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBsb2NhbCB2aWV3IGZvciBhbGwgcHJvdmlkZWQgZG9jdW1lbnRzIGdpdmVuIHRoZSBtdXRhdGlvbnMgaW5cbiAgICAgKiB0aGlzIGJhdGNoLlxuICAgICAqLyAgICBhcHBseVRvTG9jYWxEb2N1bWVudFNldCh0KSB7XG4gICAgICAgIC8vIFRPRE8obXJzY2htaWR0KTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBPKG5eMikuIElmIHdlIGFwcGx5IHRoZSBtdXRhdGlvbnNcbiAgICAgICAgLy8gZGlyZWN0bHkgKGFzIGRvbmUgaW4gYGFwcGx5VG9Mb2NhbFZpZXcoKWApLCB3ZSBjYW4gcmVkdWNlIHRoZSBjb21wbGV4aXR5XG4gICAgICAgIC8vIHRvIE8obikuXG4gICAgICAgIHRoaXMubXV0YXRpb25zLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuZ2V0KGUua2V5KSwgcyA9IG47XG4gICAgICAgICAgICAvLyBUT0RPKG11dGFibGVkb2N1bWVudHMpOiBUaGlzIG1ldGhvZCBzaG91bGQgdGFrZSBhIE11dGFibGVEb2N1bWVudE1hcFxuICAgICAgICAgICAgLy8gYW5kIHdlIHNob3VsZCByZW1vdmUgdGhpcyBjYXN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVRvTG9jYWxWaWV3KHMpLCBuLmlzVmFsaWREb2N1bWVudCgpIHx8IHMuY29udmVydFRvTm9Eb2N1bWVudChzdC5taW4oKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25zLnJlZHVjZSgoKHQsIGUpID0+IHQuYWRkKGUua2V5KSksIFJuKCkpO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmF0Y2hJZCA9PT0gdC5iYXRjaElkICYmIHR0KHRoaXMubXV0YXRpb25zLCB0Lm11dGF0aW9ucywgKCh0LCBlKSA9PiBZZSh0LCBlKSkpICYmIHR0KHRoaXMuYmFzZU11dGF0aW9ucywgdC5iYXNlTXV0YXRpb25zLCAoKHQsIGUpID0+IFllKHQsIGUpKSk7XG4gICAgfVxufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIG11dGF0aW9uIGJhdGNoIHRvIHRoZSBiYWNrZW5kLiAqLyBjbGFzcyBlaSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgXG4gICAgLyoqXG4gICAgICogQSBwcmUtY29tcHV0ZWQgbWFwcGluZyBmcm9tIGVhY2ggbXV0YXRlZCBkb2N1bWVudCB0byB0aGUgcmVzdWx0aW5nXG4gICAgICogdmVyc2lvbi5cbiAgICAgKi9cbiAgICBzKSB7XG4gICAgICAgIHRoaXMuYmF0Y2ggPSB0LCB0aGlzLmNvbW1pdFZlcnNpb24gPSBlLCB0aGlzLm11dGF0aW9uUmVzdWx0cyA9IG4sIHRoaXMuZG9jVmVyc2lvbnMgPSBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE11dGF0aW9uQmF0Y2hSZXN1bHQgZm9yIHRoZSBnaXZlbiBiYXRjaCBhbmQgcmVzdWx0cy4gVGhlcmVcbiAgICAgKiBtdXN0IGJlIG9uZSByZXN1bHQgZm9yIGVhY2ggbXV0YXRpb24gaW4gdGhlIGJhdGNoLiBUaGlzIHN0YXRpYyBmYWN0b3J5XG4gICAgICogY2FjaGVzIGEgZG9jdW1lbnQ9Jmd0O3ZlcnNpb24gbWFwcGluZyAoZG9jVmVyc2lvbnMpLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbSh0LCBlLCBuKSB7XG4gICAgICAgIE0odC5tdXRhdGlvbnMubGVuZ3RoID09PSBuLmxlbmd0aCk7XG4gICAgICAgIGxldCBzID0gSW4oKTtcbiAgICAgICAgY29uc3QgaSA9IHQubXV0YXRpb25zO1xuICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGkubGVuZ3RoOyB0KyspIHMgPSBzLmluc2VydChpW3RdLmtleSwgblt0XS52ZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBlaSh0LCBlLCBuLCBzKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGltbXV0YWJsZSBzZXQgb2YgbWV0YWRhdGEgdGhhdCB0aGUgbG9jYWwgc3RvcmUgdHJhY2tzIGZvciBlYWNoIHRhcmdldC5cbiAqLyBjbGFzcyBuaSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0YXJnZXQgYmVpbmcgbGlzdGVuZWQgdG8uICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBJRCB0byB3aGljaCB0aGUgdGFyZ2V0IGNvcnJlc3BvbmRzOyBBc3NpZ25lZCBieSB0aGVcbiAgICAgKiBMb2NhbFN0b3JlIGZvciB1c2VyIGxpc3RlbnMgYW5kIGJ5IHRoZSBTeW5jRW5naW5lIGZvciBsaW1ibyB3YXRjaGVzLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgcHVycG9zZSBvZiB0aGUgdGFyZ2V0LiAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIGxhc3QgdHJhbnNhY3Rpb24gZHVyaW5nIHdoaWNoIHRoaXMgdGFyZ2V0IGRhdGFcbiAgICAgKiB3YXMgbW9kaWZpZWQuXG4gICAgICovXG4gICAgcywgXG4gICAgLyoqIFRoZSBsYXRlc3Qgc25hcHNob3QgdmVyc2lvbiBzZWVuIGZvciB0aGlzIHRhcmdldC4gKi9cbiAgICBpID0gc3QubWluKClcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBzbmFwc2hvdCB2ZXJzaW9uIGF0IHdoaWNoIHRoZSBhc3NvY2lhdGVkIHZpZXdcbiAgICAgKiBjb250YWluZWQgbm8gbGltYm8gZG9jdW1lbnRzLlxuICAgICAqLyAsIHIgPSBzdC5taW4oKVxuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSwgc2VydmVyLWFzc2lnbmVkIHRva2VuIHRoYXQgYWxsb3dzIHdhdGNoaW5nIGEgdGFyZ2V0IHRvIGJlXG4gICAgICogcmVzdW1lZCBhZnRlciBkaXNjb25uZWN0aW5nIHdpdGhvdXQgcmV0cmFuc21pdHRpbmcgYWxsIHRoZSBkYXRhIHRoYXRcbiAgICAgKiBtYXRjaGVzIHRoZSB0YXJnZXQuIFRoZSByZXN1bWUgdG9rZW4gZXNzZW50aWFsbHkgaWRlbnRpZmllcyBhIHBvaW50IGluXG4gICAgICogdGltZSBmcm9tIHdoaWNoIHRoZSBzZXJ2ZXIgc2hvdWxkIHJlc3VtZSBzZW5kaW5nIHJlc3VsdHMuXG4gICAgICovICwgbyA9IGR0LkVNUFRZX0JZVEVfU1RSSU5HKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdCwgdGhpcy50YXJnZXRJZCA9IGUsIHRoaXMucHVycG9zZSA9IG4sIHRoaXMuc2VxdWVuY2VOdW1iZXIgPSBzLCB0aGlzLnNuYXBzaG90VmVyc2lvbiA9IGksIFxuICAgICAgICB0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gPSByLCB0aGlzLnJlc3VtZVRva2VuID0gbztcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIHNlcXVlbmNlIG51bWJlci4gKi8gICAgd2l0aFNlcXVlbmNlTnVtYmVyKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBuaSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCB0LCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCB0aGlzLnJlc3VtZVRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgZGF0YSBpbnN0YW5jZSB3aXRoIGFuIHVwZGF0ZWQgcmVzdW1lIHRva2VuIGFuZFxuICAgICAqIHNuYXBzaG90IHZlcnNpb24uXG4gICAgICovICAgIHdpdGhSZXN1bWVUb2tlbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgbmkodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0SWQsIHRoaXMucHVycG9zZSwgdGhpcy5zZXF1ZW5jZU51bWJlciwgZSwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgZGF0YSBpbnN0YW5jZSB3aXRoIGFuIHVwZGF0ZWQgbGFzdCBsaW1ibyBmcmVlXG4gICAgICogc25hcHNob3QgdmVyc2lvbiBudW1iZXIuXG4gICAgICovICAgIHdpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBuaSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCB0aGlzLnNlcXVlbmNlTnVtYmVyLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgdCwgdGhpcy5yZXN1bWVUb2tlbik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFNlcmlhbGl6ZXIgZm9yIHZhbHVlcyBzdG9yZWQgaW4gdGhlIExvY2FsU3RvcmUuICovIGNsYXNzIHNpIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuV3QgPSB0O1xuICAgIH1cbn1cblxuLyoqIERlY29kZXMgYSByZW1vdGUgZG9jdW1lbnQgZnJvbSBzdG9yYWdlIGxvY2FsbHkgdG8gYSBEb2N1bWVudC4gKi8gZnVuY3Rpb24gaWkodCwgZSkge1xuICAgIGlmIChlLmRvY3VtZW50KSByZXR1cm4gWG4odC5XdCwgZS5kb2N1bWVudCwgISFlLmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7XG4gICAgaWYgKGUubm9Eb2N1bWVudCkge1xuICAgICAgICBjb25zdCB0ID0gUnQuZnJvbVNlZ21lbnRzKGUubm9Eb2N1bWVudC5wYXRoKSwgbiA9IHVpKGUubm9Eb2N1bWVudC5yZWFkVGltZSksIHMgPSBVdC5uZXdOb0RvY3VtZW50KHQsIG4pO1xuICAgICAgICByZXR1cm4gZS5oYXNDb21taXR0ZWRNdXRhdGlvbnMgPyBzLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpIDogcztcbiAgICB9XG4gICAgaWYgKGUudW5rbm93bkRvY3VtZW50KSB7XG4gICAgICAgIGNvbnN0IHQgPSBSdC5mcm9tU2VnbWVudHMoZS51bmtub3duRG9jdW1lbnQucGF0aCksIG4gPSB1aShlLnVua25vd25Eb2N1bWVudC52ZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIFV0Lm5ld1Vua25vd25Eb2N1bWVudCh0LCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIEYoKTtcbn1cblxuLyoqIEVuY29kZXMgYSBkb2N1bWVudCBmb3Igc3RvcmFnZSBsb2NhbGx5LiAqLyBmdW5jdGlvbiByaSh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IG9pKG4pLCBpID0gZS5rZXkucGF0aC5wb3BMYXN0KCkudG9BcnJheSgpO1xuICAgIGlmIChlLmlzRm91bmREb2N1bWVudCgpKSB7XG4gICAgICAgIGNvbnN0IG4gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IFFuKHQsIGUua2V5KSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGUuZGF0YS52YWx1ZS5tYXBWYWx1ZS5maWVsZHMsXG4gICAgICAgICAgICAgICAgdXBkYXRlVGltZTogTG4odCwgZS52ZXJzaW9uLnRvVGltZXN0YW1wKCkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KHQuV3QsIGUpLCByID0gZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM7XG4gICAgICAgIHJldHVybiBuZXcgRHMoXG4gICAgICAgIC8qIHVua25vd25Eb2N1bWVudD0gKi8gbnVsbCwgXG4gICAgICAgIC8qIG5vRG9jdW1lbnQ9ICovIG51bGwsIG4sIHIsIHMsIGkpO1xuICAgIH1cbiAgICBpZiAoZS5pc05vRG9jdW1lbnQoKSkge1xuICAgICAgICBjb25zdCB0ID0gZS5rZXkucGF0aC50b0FycmF5KCksIG4gPSBjaShlLnZlcnNpb24pLCByID0gZS5oYXNDb21taXR0ZWRNdXRhdGlvbnM7XG4gICAgICAgIHJldHVybiBuZXcgRHMoXG4gICAgICAgIC8qIHVua25vd25Eb2N1bWVudD0gKi8gbnVsbCwgbmV3IFZzKHQsIG4pLCBcbiAgICAgICAgLyogZG9jdW1lbnQ9ICovIG51bGwsIHIsIHMsIGkpO1xuICAgIH1cbiAgICBpZiAoZS5pc1Vua25vd25Eb2N1bWVudCgpKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmtleS5wYXRoLnRvQXJyYXkoKSwgbiA9IGNpKGUudmVyc2lvbik7XG4gICAgICAgIHJldHVybiBuZXcgRHMobmV3IFNzKHQsIG4pLCBcbiAgICAgICAgLyogbm9Eb2N1bWVudD0gKi8gbnVsbCwgXG4gICAgICAgIC8qIGRvY3VtZW50PSAqLyBudWxsLCBcbiAgICAgICAgLyogaGFzQ29tbWl0dGVkTXV0YXRpb25zPSAqLyAhMCwgcywgaSk7XG4gICAgfVxuICAgIHJldHVybiBGKCk7XG59XG5cbmZ1bmN0aW9uIG9pKHQpIHtcbiAgICBjb25zdCBlID0gdC50b1RpbWVzdGFtcCgpO1xuICAgIHJldHVybiBbIGUuc2Vjb25kcywgZS5uYW5vc2Vjb25kcyBdO1xufVxuXG5mdW5jdGlvbiBhaSh0KSB7XG4gICAgY29uc3QgZSA9IG5ldyBudCh0WzBdLCB0WzFdKTtcbiAgICByZXR1cm4gc3QuZnJvbVRpbWVzdGFtcChlKTtcbn1cblxuZnVuY3Rpb24gY2kodCkge1xuICAgIGNvbnN0IGUgPSB0LnRvVGltZXN0YW1wKCk7XG4gICAgcmV0dXJuIG5ldyBBcyhlLnNlY29uZHMsIGUubmFub3NlY29uZHMpO1xufVxuXG5mdW5jdGlvbiB1aSh0KSB7XG4gICAgY29uc3QgZSA9IG5ldyBudCh0LnNlY29uZHMsIHQubmFub3NlY29uZHMpO1xuICAgIHJldHVybiBzdC5mcm9tVGltZXN0YW1wKGUpO1xufVxuXG4vKiogRW5jb2RlcyBhIGJhdGNoIG9mIG11dGF0aW9ucyBpbnRvIGEgRGJNdXRhdGlvbkJhdGNoIGZvciBsb2NhbCBzdG9yYWdlLiAqL1xuLyoqIERlY29kZXMgYSBEYk11dGF0aW9uQmF0Y2ggaW50byBhIE11dGF0aW9uQmF0Y2ggKi9cbmZ1bmN0aW9uIGhpKHQsIGUpIHtcbiAgICBjb25zdCBuID0gKGUuYmFzZU11dGF0aW9ucyB8fCBbXSkubWFwKChlID0+IG5zKHQuV3QsIGUpKSk7XG4gICAgLy8gU3F1YXNoIG9sZCB0cmFuc2Zvcm0gbXV0YXRpb25zIGludG8gZXhpc3RpbmcgcGF0Y2ggb3Igc2V0IG11dGF0aW9ucy5cbiAgICAvLyBUaGUgcmVwbGFjZW1lbnQgb2YgcmVwcmVzZW50aW5nIGB0cmFuc2Zvcm1zYCB3aXRoIGB1cGRhdGVfdHJhbnNmb3Jtc2BcbiAgICAvLyBvbiB0aGUgU0RLIG1lYW5zIHRoYXQgb2xkIGB0cmFuc2Zvcm1gIG11dGF0aW9ucyBzdG9yZWQgaW4gSW5kZXhlZERCIG5lZWRcbiAgICAvLyB0byBiZSB1cGRhdGVkIHRvIGB1cGRhdGVfdHJhbnNmb3Jtc2AuXG4gICAgLy8gVE9ETyhiLzE3NDYwODM3NCk6IFJlbW92ZSB0aGlzIGNvZGUgb25jZSB3ZSBwZXJmb3JtIGEgc2NoZW1hIG1pZ3JhdGlvbi5cbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlLm11dGF0aW9ucy5sZW5ndGggLSAxOyArK3QpIHtcbiAgICAgICAgY29uc3QgbiA9IGUubXV0YXRpb25zW3RdO1xuICAgICAgICBpZiAodCArIDEgPCBlLm11dGF0aW9ucy5sZW5ndGggJiYgdm9pZCAwICE9PSBlLm11dGF0aW9uc1t0ICsgMV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gZS5tdXRhdGlvbnNbdCArIDFdO1xuICAgICAgICAgICAgbi51cGRhdGVUcmFuc2Zvcm1zID0gcy50cmFuc2Zvcm0uZmllbGRUcmFuc2Zvcm1zLCBlLm11dGF0aW9ucy5zcGxpY2UodCArIDEsIDEpLCBcbiAgICAgICAgICAgICsrdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzID0gZS5tdXRhdGlvbnMubWFwKChlID0+IG5zKHQuV3QsIGUpKSksIGkgPSBudC5mcm9tTWlsbGlzKGUubG9jYWxXcml0ZVRpbWVNcyk7XG4gICAgcmV0dXJuIG5ldyB0aShlLmJhdGNoSWQsIGksIG4sIHMpO1xufVxuXG4vKiogRGVjb2RlcyBhIERiVGFyZ2V0IGludG8gVGFyZ2V0RGF0YSAqLyBmdW5jdGlvbiBsaSh0KSB7XG4gICAgY29uc3QgZSA9IHVpKHQucmVhZFRpbWUpLCBuID0gdm9pZCAwICE9PSB0Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gPyB1aSh0Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pIDogc3QubWluKCk7XG4gICAgbGV0IHM7XG4gICAgdmFyIGk7XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gdC5xdWVyeS5kb2N1bWVudHMgPyAoTSgxID09PSAoaSA9IHQucXVlcnkpLmRvY3VtZW50cy5sZW5ndGgpLCBcbiAgICBzID0gcGUoZmUoem4oaS5kb2N1bWVudHNbMF0pKSkpIDogcyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHBlKG9zKHQpKTtcbiAgICB9KHQucXVlcnkpLCBuZXcgbmkocywgdC50YXJnZXRJZCwgMCAvKiBMaXN0ZW4gKi8gLCB0Lmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciwgZSwgbiwgZHQuZnJvbUJhc2U2NFN0cmluZyh0LnJlc3VtZVRva2VuKSk7XG59XG5cbi8qKiBFbmNvZGVzIFRhcmdldERhdGEgaW50byBhIERiVGFyZ2V0IGZvciBzdG9yYWdlIGxvY2FsbHkuICovIGZ1bmN0aW9uIGZpKHQsIGUpIHtcbiAgICBjb25zdCBuID0gY2koZS5zbmFwc2hvdFZlcnNpb24pLCBzID0gY2koZS5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKTtcbiAgICBsZXQgaTtcbiAgICBpID0gR3QoZS50YXJnZXQpID8gaXModC5XdCwgZS50YXJnZXQpIDogcnModC5XdCwgZS50YXJnZXQpO1xuICAgIC8vIFdlIGNhbid0IHN0b3JlIHRoZSByZXN1bWVUb2tlbiBhcyBhIEJ5dGVTdHJpbmcgaW4gSW5kZXhlZERiLCBzbyB3ZVxuICAgIC8vIGNvbnZlcnQgaXQgdG8gYSBiYXNlNjQgc3RyaW5nIGZvciBzdG9yYWdlLlxuICAgICAgICBjb25zdCByID0gZS5yZXN1bWVUb2tlbi50b0Jhc2U2NCgpO1xuICAgIC8vIGxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciBpcyBhbHdheXMgMCB1bnRpbCB3ZSBkbyByZWFsIEdDLlxuICAgICAgICByZXR1cm4gbmV3IE5zKGUudGFyZ2V0SWQsIGp0KGUudGFyZ2V0KSwgbiwgciwgZS5zZXF1ZW5jZU51bWJlciwgcywgaSk7XG59XG5cbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZpZ3VyaW5nIG91dCB3aGF0IGtpbmQgb2YgcXVlcnkgaGFzIGJlZW4gc3RvcmVkLlxuICovXG4vKipcbiAqIEVuY29kZXMgYSBgQnVuZGxlZFF1ZXJ5YCBmcm9tIGJ1bmRsZSBwcm90byB0byBhIFF1ZXJ5IG9iamVjdC5cbiAqXG4gKiBUaGlzIHJlY29uc3RydWN0cyB0aGUgb3JpZ2luYWwgcXVlcnkgdXNlZCB0byBidWlsZCB0aGUgYnVuZGxlIGJlaW5nIGxvYWRlZCxcbiAqIGluY2x1ZGluZyBmZWF0dXJlcyBleGlzdHMgb25seSBpbiBTREtzIChmb3IgZXhhbXBsZTogbGltaXQtdG8tbGFzdCkuXG4gKi9cbmZ1bmN0aW9uIGRpKHQpIHtcbiAgICBjb25zdCBlID0gb3Moe1xuICAgICAgICBwYXJlbnQ6IHQucGFyZW50LFxuICAgICAgICBzdHJ1Y3R1cmVkUXVlcnk6IHQuc3RydWN0dXJlZFF1ZXJ5XG4gICAgfSk7XG4gICAgcmV0dXJuIFwiTEFTVFwiID09PSB0LmxpbWl0VHlwZSA/IEVlKGUsIGUubGltaXQsIFwiTFwiIC8qIExhc3QgKi8pIDogZTtcbn1cblxuLyoqIEVuY29kZXMgYSBOYW1lZFF1ZXJ5IHByb3RvIG9iamVjdCB0byBhIE5hbWVkUXVlcnkgbW9kZWwgb2JqZWN0LiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNsYXNzIHdpIHtcbiAgICBnZXRCdW5kbGVNZXRhZGF0YSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBfaSh0KS5nZXQoZSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBpZiAodCkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogKGUgPSB0KS5idW5kbGVJZCxcbiAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiB1aShlLmNyZWF0ZVRpbWUpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGUudmVyc2lvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKiBFbmNvZGVzIGEgRGJCdW5kbGUgdG8gYSBCdW5kbGVNZXRhZGF0YSBvYmplY3QuICovXG4gICAgICAgICAgICB2YXIgZTtcbiAgICAgICAgICAgIC8qKiBFbmNvZGVzIGEgQnVuZGxlTWV0YWRhdGEgdG8gYSBEYkJ1bmRsZS4gKi8gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2F2ZUJ1bmRsZU1ldGFkYXRhKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIF9pKHQpLnB1dCh7XG4gICAgICAgICAgICBidW5kbGVJZDogKG4gPSBlKS5pZCxcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IGNpKHFuKG4uY3JlYXRlVGltZSkpLFxuICAgICAgICAgICAgdmVyc2lvbjogbi52ZXJzaW9uXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbjtcbiAgICAgICAgLyoqIEVuY29kZXMgYSBEYk5hbWVkUXVlcnkgdG8gYSBOYW1lZFF1ZXJ5LiAqLyAgICB9XG4gICAgZ2V0TmFtZWRRdWVyeSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBtaSh0KS5nZXQoZSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBpZiAodCkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAoZSA9IHQpLm5hbWUsXG4gICAgICAgICAgICAgICAgcXVlcnk6IGRpKGUuYnVuZGxlZFF1ZXJ5KSxcbiAgICAgICAgICAgICAgICByZWFkVGltZTogdWkoZS5yZWFkVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZTtcbiAgICAgICAgICAgIC8qKiBFbmNvZGVzIGEgTmFtZWRRdWVyeSBmcm9tIGEgYnVuZGxlIHByb3RvIHRvIGEgRGJOYW1lZFF1ZXJ5LiAqLyAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzYXZlTmFtZWRRdWVyeSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBtaSh0KS5wdXQoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICAgICAgICAgICAgcmVhZFRpbWU6IGNpKHFuKHQucmVhZFRpbWUpKSxcbiAgICAgICAgICAgICAgICBidW5kbGVkUXVlcnk6IHQuYnVuZGxlZFF1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KGUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBidW5kbGVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfaSh0KSB7XG4gICAgcmV0dXJuIFpzKHQsIEZzLnN0b3JlKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG5hbWVkUXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gbWkodCkge1xuICAgIHJldHVybiBacyh0LCBNcy5zdG9yZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGluLW1lbW9yeSBpbXBsZW1lbnRhdGlvbiBvZiBJbmRleE1hbmFnZXIuXG4gKi8gY2xhc3MgZ2kge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkd0ID0gbmV3IHlpO1xuICAgIH1cbiAgICBhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkd0LmFkZChlKSwgcXMucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRDb2xsZWN0aW9uUGFyZW50cyh0LCBlKSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKHRoaXMuR3QuZ2V0RW50cmllcyhlKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb2xsZWN0aW9uLXBhcmVudCBpbmRleCBleHBvc2VkIGJ5IE1lbW9yeUluZGV4TWFuYWdlci5cbiAqIEFsc28gdXNlZCBmb3IgaW4tbWVtb3J5IGNhY2hpbmcgYnkgSW5kZXhlZERiSW5kZXhNYW5hZ2VyIGFuZCBpbml0aWFsIGluZGV4IHBvcHVsYXRpb25cbiAqIGluIGluZGV4ZWRkYl9zY2hlbWEudHNcbiAqLyBjbGFzcyB5aSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSB7fTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBmYWxzZSBpZiB0aGUgZW50cnkgYWxyZWFkeSBleGlzdGVkLlxuICAgIGFkZCh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0Lmxhc3RTZWdtZW50KCksIG4gPSB0LnBvcExhc3QoKSwgcyA9IHRoaXMuaW5kZXhbZV0gfHwgbmV3IF9uKGN0LmNvbXBhcmF0b3IpLCBpID0gIXMuaGFzKG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleFtlXSA9IHMuYWRkKG4pLCBpO1xuICAgIH1cbiAgICBoYXModCkge1xuICAgICAgICBjb25zdCBlID0gdC5sYXN0U2VnbWVudCgpLCBuID0gdC5wb3BMYXN0KCksIHMgPSB0aGlzLmluZGV4W2VdO1xuICAgICAgICByZXR1cm4gcyAmJiBzLmhhcyhuKTtcbiAgICB9XG4gICAgZ2V0RW50cmllcyh0KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5pbmRleFt0XSB8fCBuZXcgX24oY3QuY29tcGFyYXRvcikpLnRvQXJyYXkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgcGVyc2lzdGVkIGltcGxlbWVudGF0aW9uIG9mIEluZGV4TWFuYWdlci5cbiAqLyBjbGFzcyBwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBpbi1tZW1vcnkgY29weSBvZiB0aGUgaW5kZXggZW50cmllcyB3ZSd2ZSBhbHJlYWR5IHdyaXR0ZW4gc2luY2UgdGhlIFNES1xuICAgICAgICAgKiBsYXVuY2hlZC4gVXNlZCB0byBhdm9pZCByZS13cml0aW5nIHRoZSBzYW1lIGVudHJ5IHJlcGVhdGVkbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgKk5PVCogYSBjb21wbGV0ZSBjYWNoZSBvZiB3aGF0J3MgaW4gcGVyc2lzdGVuY2UgYW5kIHNvIGNhbiBuZXZlciBiZSB1c2VkIHRvXG4gICAgICAgICAqIHNhdGlzZnkgcmVhZHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnp0ID0gbmV3IHlpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGVudHJ5IHRvIHRoZSBjb2xsZWN0aW9uIHBhcmVudCBpbmRleC5cbiAgICAgKlxuICAgICAqIFJlcGVhdGVkIGNhbGxzIGZvciB0aGUgc2FtZSBjb2xsZWN0aW9uUGF0aCBzaG91bGQgYmUgYXZvaWRlZCB3aXRoaW4gYVxuICAgICAqIHRyYW5zYWN0aW9uIGFzIEluZGV4ZWREYkluZGV4TWFuYWdlciBvbmx5IGNhY2hlcyB3cml0ZXMgb25jZSBhIHRyYW5zYWN0aW9uXG4gICAgICogaGFzIGJlZW4gY29tbWl0dGVkLlxuICAgICAqLyAgICBhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LCBlKSB7XG4gICAgICAgIGlmICghdGhpcy56dC5oYXMoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmxhc3RTZWdtZW50KCksIHMgPSBlLnBvcExhc3QoKTtcbiAgICAgICAgICAgIHQuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY29sbGVjdGlvbiB0byB0aGUgaW4gbWVtb3J5IGNhY2hlIG9ubHkgaWYgdGhlIHRyYW5zYWN0aW9uIHdhc1xuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQuXG4gICAgICAgICAgICAgICAgdGhpcy56dC5hZGQoZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogbixcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBzKHMpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIEVpKHQpLnB1dChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRDb2xsZWN0aW9uUGFyZW50cyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXSwgcyA9IElEQktleVJhbmdlLmJvdW5kKFsgZSwgXCJcIiBdLCBbIGV0KGUpLCBcIlwiIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgcmV0dXJuIEVpKHQpLkx0KHMpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbGxlY3Rpb25JZCBndWFyZCBzaG91bGRuJ3QgYmUgbmVjZXNzYXJ5IChhbmQgaXNuJ3QgYXMgbG9uZ1xuICAgICAgICAgICAgICAgIC8vIGFzIHdlJ3JlIHJ1bm5pbmcgaW4gYSByZWFsIGJyb3dzZXIpLCBidXQgdGhlcmUncyBhIGJ1ZyBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4ZWRkYnNoaW0gdGhhdCBicmVha3Mgb3VyIHJhbmdlIGluIG91ciB0ZXN0cyBydW5uaW5nIGluIG5vZGU6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F4ZW1jbGlvbi9JbmRleGVkREJTaGltL2lzc3Vlcy8zMzRcbiAgICAgICAgICAgICAgICBpZiAocy5jb2xsZWN0aW9uSWQgIT09IGUpIGJyZWFrO1xuICAgICAgICAgICAgICAgIG4ucHVzaChJcyhzLnBhcmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBjb2xsZWN0aW9uUGFyZW50c1xuICogZG9jdW1lbnQgc3RvcmUuXG4gKi8gZnVuY3Rpb24gRWkodCkge1xuICAgIHJldHVybiBacyh0LCAkcy5zdG9yZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IFRpID0ge1xuICAgIGRpZFJ1bjogITEsXG4gICAgc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOiAwLFxuICAgIHRhcmdldHNSZW1vdmVkOiAwLFxuICAgIGRvY3VtZW50c1JlbW92ZWQ6IDBcbn07XG5cbmNsYXNzIElpIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBXaGVuIHdlIGF0dGVtcHQgdG8gY29sbGVjdCwgd2Ugd2lsbCBvbmx5IGRvIHNvIGlmIHRoZSBjYWNoZSBzaXplIGlzIGdyZWF0ZXIgdGhhbiB0aGlzXG4gICAgLy8gdGhyZXNob2xkLiBQYXNzaW5nIGBDT0xMRUNUSU9OX0RJU0FCTEVEYCBoZXJlIHdpbGwgY2F1c2UgY29sbGVjdGlvbiB0byBhbHdheXMgYmUgc2tpcHBlZC5cbiAgICB0LCBcbiAgICAvLyBUaGUgcGVyY2VudGFnZSBvZiBzZXF1ZW5jZSBudW1iZXJzIHRoYXQgd2Ugd2lsbCBhdHRlbXB0IHRvIGNvbGxlY3RcbiAgICBlLCBcbiAgICAvLyBBIGNhcCBvbiB0aGUgdG90YWwgbnVtYmVyIG9mIHNlcXVlbmNlIG51bWJlcnMgdGhhdCB3aWxsIGJlIGNvbGxlY3RlZC4gVGhpcyBwcmV2ZW50c1xuICAgIC8vIHVzIGZyb20gY29sbGVjdGluZyBhIGh1Z2UgbnVtYmVyIG9mIHNlcXVlbmNlIG51bWJlcnMgaWYgdGhlIGNhY2hlIGhhcyBncm93biB2ZXJ5IGxhcmdlLlxuICAgIG4pIHtcbiAgICAgICAgdGhpcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkID0gdCwgdGhpcy5wZXJjZW50aWxlVG9Db2xsZWN0ID0gZSwgdGhpcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0ID0gbjtcbiAgICB9XG4gICAgc3RhdGljIHdpdGhDYWNoZVNpemUodCkge1xuICAgICAgICByZXR1cm4gbmV3IElpKHQsIElpLkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLCBJaS5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRGVsZXRlIGEgbXV0YXRpb24gYmF0Y2ggYW5kIHRoZSBhc3NvY2lhdGVkIGRvY3VtZW50IG11dGF0aW9ucy5cbiAqIEByZXR1cm5zIEEgUGVyc2lzdGVuY2VQcm9taXNlIG9mIHRoZSBkb2N1bWVudCBtdXRhdGlvbnMgdGhhdCB3ZXJlIHJlbW92ZWQuXG4gKi9cbmZ1bmN0aW9uIEFpKHQsIGUsIG4pIHtcbiAgICBjb25zdCBzID0gdC5zdG9yZShQcy5zdG9yZSksIGkgPSB0LnN0b3JlKHZzLnN0b3JlKSwgciA9IFtdLCBvID0gSURCS2V5UmFuZ2Uub25seShuLmJhdGNoSWQpO1xuICAgIGxldCBhID0gMDtcbiAgICBjb25zdCBjID0gcy5LdCh7XG4gICAgICAgIHJhbmdlOiBvXG4gICAgfSwgKCh0LCBlLCBuKSA9PiAoYSsrLCBuLmRlbGV0ZSgpKSkpO1xuICAgIHIucHVzaChjLm5leHQoKCgpID0+IHtcbiAgICAgICAgTSgxID09PSBhKTtcbiAgICB9KSkpO1xuICAgIGNvbnN0IHUgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHQgb2Ygbi5tdXRhdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcyA9IHZzLmtleShlLCB0LmtleS5wYXRoLCBuLmJhdGNoSWQpO1xuICAgICAgICByLnB1c2goaS5kZWxldGUocykpLCB1LnB1c2godC5rZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcXMud2FpdEZvcihyKS5uZXh0KCgoKSA9PiB1KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcHByb3hpbWF0ZSBzaXplIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gKi8gZnVuY3Rpb24gUmkodCkge1xuICAgIGlmICghdCkgcmV0dXJuIDA7XG4gICAgbGV0IGU7XG4gICAgaWYgKHQuZG9jdW1lbnQpIGUgPSB0LmRvY3VtZW50OyBlbHNlIGlmICh0LnVua25vd25Eb2N1bWVudCkgZSA9IHQudW5rbm93bkRvY3VtZW50OyBlbHNlIHtcbiAgICAgICAgaWYgKCF0Lm5vRG9jdW1lbnQpIHRocm93IEYoKTtcbiAgICAgICAgZSA9IHQubm9Eb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBBIG11dGF0aW9uIHF1ZXVlIGZvciBhIHNwZWNpZmljIHVzZXIsIGJhY2tlZCBieSBJbmRleGVkREIuICovIElpLkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFID0gMTAsIFxuSWkuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUID0gMWUzLCBJaS5ERUZBVUxUID0gbmV3IElpKDQxOTQzMDQwLCBJaS5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSwgSWkuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKSwgXG5JaS5ESVNBQkxFRCA9IG5ldyBJaSgtMSwgMCwgMCk7XG5cbmNsYXNzIGJpIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgbm9ybWFsaXplZCB1c2VySWQgKGUuZy4gbnVsbCBVSUQgPT4gXCJcIiB1c2VySWQpIHVzZWQgdG8gc3RvcmUgL1xuICAgICAqIHJldHJpZXZlIG11dGF0aW9ucy5cbiAgICAgKi9cbiAgICB0LCBlLCBuLCBzKSB7XG4gICAgICAgIHRoaXMudXNlcklkID0gdCwgdGhpcy5OID0gZSwgdGhpcy5IdCA9IG4sIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSBzLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlcyB0aGUgZG9jdW1lbnQga2V5cyBmb3IgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzLiBJZiB0aGUgbXV0YXRpb25cbiAgICAgICAgICogaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIEluZGV4ZWREYiwgdGhlIGNhY2hlZCB2YWx1ZSBtYXkgY29udGludWUgdG9cbiAgICAgICAgICogYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgYmF0Y2gncyBkb2N1bWVudCBrZXlzLiBUbyByZW1vdmUgYSBjYWNoZWQgdmFsdWVcbiAgICAgICAgICogbG9jYWxseSwgYHJlbW92ZUNhY2hlZE11dGF0aW9uS2V5cygpYCBzaG91bGQgYmUgaW52b2tlZCBlaXRoZXIgZGlyZWN0bHlcbiAgICAgICAgICogb3IgdGhyb3VnaCBgcmVtb3ZlTXV0YXRpb25CYXRjaGVzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaXRoIG11bHRpLXRhYiwgd2hlbiB0aGUgcHJpbWFyeSBjbGllbnQgYWNrbm93bGVkZ2VzIG9yIHJlamVjdHMgYSBtdXRhdGlvbixcbiAgICAgICAgICogdGhpcyBjYWNoZSBpcyB1c2VkIGJ5IHNlY29uZGFyeSBjbGllbnRzIHRvIGludmFsaWRhdGUgdGhlIGxvY2FsXG4gICAgICAgICAqIHZpZXcgb2YgdGhlIGRvY3VtZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSBhZmZlY3RlZCBieSB0aGUgbXV0YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgICAgICB0aGlzLkp0ID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbXV0YXRpb24gcXVldWUgZm9yIHRoZSBnaXZlbiB1c2VyLlxuICAgICAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIG11dGF0aW9uIHF1ZXVlLlxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVyIC0gVGhlIHNlcmlhbGl6ZXIgdG8gdXNlIHdoZW4gcGVyc2lzdGluZyB0byBJbmRleGVkRGIuXG4gICAgICovICAgIHN0YXRpYyBZdCh0LCBlLCBuLCBzKSB7XG4gICAgICAgIC8vIFRPRE8obWNnKTogRmlndXJlIG91dCB3aGF0IGNvbnN0cmFpbnRzIHRoZXJlIGFyZSBvbiB1c2VySURzXG4gICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIGFyZSB0aGVyZSBhbnkgcmVzZXJ2ZWQgY2hhcmFjdGVycz8gYXJlIGVtcHR5IGlkcyBhbGxvd2VkP1xuICAgICAgICAvLyBGb3IgdGhlIG1vbWVudCBzdG9yZSB0aGVzZSB0b2dldGhlciBpbiB0aGUgc2FtZSBtdXRhdGlvbnMgdGFibGUgYXNzdW1pbmdcbiAgICAgICAgLy8gdGhhdCBlbXB0eSB1c2VySURzIGFyZW4ndCBhbGxvd2VkLlxuICAgICAgICBNKFwiXCIgIT09IHQudWlkKTtcbiAgICAgICAgY29uc3QgaSA9IHQuaXNBdXRoZW50aWNhdGVkKCkgPyB0LnVpZCA6IFwiXCI7XG4gICAgICAgIHJldHVybiBuZXcgYmkoaSwgZSwgbiwgcyk7XG4gICAgfVxuICAgIGNoZWNrRW1wdHkodCkge1xuICAgICAgICBsZXQgZSA9ICEwO1xuICAgICAgICBjb25zdCBuID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0aGlzLnVzZXJJZCwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIF0sIFsgdGhpcy51c2VySWQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdKTtcbiAgICAgICAgcmV0dXJuIHZpKHQpLkt0KHtcbiAgICAgICAgICAgIGluZGV4OiBQcy51c2VyTXV0YXRpb25zSW5kZXgsXG4gICAgICAgICAgICByYW5nZTogblxuICAgICAgICB9LCAoKHQsIG4sIHMpID0+IHtcbiAgICAgICAgICAgIGUgPSAhMSwgcy5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBlKSk7XG4gICAgfVxuICAgIGFkZE11dGF0aW9uQmF0Y2godCwgZSwgbiwgcykge1xuICAgICAgICBjb25zdCBpID0gVmkodCksIHIgPSB2aSh0KTtcbiAgICAgICAgLy8gVGhlIEluZGV4ZWREYiBpbXBsZW1lbnRhdGlvbiBpbiBDaHJvbWUgKGFuZCBGaXJlZm94KSBkb2VzIG5vdCBoYW5kbGVcbiAgICAgICAgLy8gY29tcG91bmQgaW5kaWNlcyB0aGF0IGluY2x1ZGUgYXV0by1nZW5lcmF0ZWQga2V5cyBjb3JyZWN0bHkuIFRvIGVuc3VyZVxuICAgICAgICAvLyB0aGF0IHRoZSBpbmRleCBlbnRyeSBpcyBhZGRlZCBjb3JyZWN0bHkgaW4gYWxsIGJyb3dzZXJzLCB3ZSBwZXJmb3JtIHR3b1xuICAgICAgICAvLyB3cml0ZXM6IFRoZSBmaXJzdCB3cml0ZSBpcyB1c2VkIHRvIHJldHJpZXZlIHRoZSBuZXh0IGF1dG8tZ2VuZXJhdGVkIEJhdGNoXG4gICAgICAgIC8vIElELCBhbmQgdGhlIHNlY29uZCB3cml0ZSBwb3B1bGF0ZXMgdGhlIGluZGV4IGFuZCBzdG9yZXMgdGhlIGFjdHVhbFxuICAgICAgICAvLyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03MDE5NzJcbiAgICAgICAgLy8gV2Ugd3JpdGUgYW4gZW1wdHkgb2JqZWN0IHRvIG9idGFpbiBrZXlcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIHIuYWRkKHt9KS5uZXh0KChvID0+IHtcbiAgICAgICAgICAgIE0oXCJudW1iZXJcIiA9PSB0eXBlb2Ygbyk7XG4gICAgICAgICAgICBjb25zdCBhID0gbmV3IHRpKG8sIGUsIG4sIHMpLCBjID0gZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuLmJhc2VNdXRhdGlvbnMubWFwKChlID0+IGVzKHQuV3QsIGUpKSksIGkgPSBuLm11dGF0aW9ucy5tYXAoKGUgPT4gZXModC5XdCwgZSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBzKGUsIG4uYmF0Y2hJZCwgbi5sb2NhbFdyaXRlVGltZS50b01pbGxpcygpLCBzLCBpKTtcbiAgICAgICAgICAgIH0odGhpcy5OLCB0aGlzLnVzZXJJZCwgYSksIHUgPSBbXTtcbiAgICAgICAgICAgIGxldCBoID0gbmV3IF9uKCgodCwgZSkgPT4gWih0LmNhbm9uaWNhbFN0cmluZygpLCBlLmNhbm9uaWNhbFN0cmluZygpKSkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdnMua2V5KHRoaXMudXNlcklkLCB0LmtleS5wYXRoLCBvKTtcbiAgICAgICAgICAgICAgICBoID0gaC5hZGQodC5rZXkucGF0aC5wb3BMYXN0KCkpLCB1LnB1c2goci5wdXQoYykpLCB1LnB1c2goaS5wdXQoZSwgdnMuUExBQ0VIT0xERVIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIHUucHVzaCh0aGlzLkh0LmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KHQsIGUpKTtcbiAgICAgICAgICAgIH0pKSwgdC5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5KdFtvXSA9IGEua2V5cygpO1xuICAgICAgICAgICAgfSkpLCBxcy53YWl0Rm9yKHUpLm5leHQoKCgpID0+IGEpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBsb29rdXBNdXRhdGlvbkJhdGNoKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZpKHQpLmdldChlKS5uZXh0KCh0ID0+IHQgPyAoTSh0LnVzZXJJZCA9PT0gdGhpcy51c2VySWQpLCBoaSh0aGlzLk4sIHQpKSA6IG51bGwpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQga2V5cyBmb3IgdGhlIG11dGF0aW9uIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQuXG4gICAgICogRm9yIHByaW1hcnkgY2xpZW50cywgdGhpcyBtZXRob2QgcmV0dXJucyBgbnVsbGAgYWZ0ZXJcbiAgICAgKiBgcmVtb3ZlTXV0YXRpb25CYXRjaGVzKClgIGhhcyBiZWVuIGNhbGxlZC4gU2Vjb25kYXJ5IGNsaWVudHMgcmV0dXJuIGFcbiAgICAgKiBjYWNoZWQgcmVzdWx0IHVudGlsIGByZW1vdmVDYWNoZWRNdXRhdGlvbktleXMoKWAgaXMgaW52b2tlZC5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIFh0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSnRbZV0gPyBxcy5yZXNvbHZlKHRoaXMuSnRbZV0pIDogdGhpcy5sb29rdXBNdXRhdGlvbkJhdGNoKHQsIGUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdC5rZXlzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuSnRbZV0gPSBuLCBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gZSArIDEsIHMgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKFsgdGhpcy51c2VySWQsIG4gXSk7XG4gICAgICAgIGxldCBpID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZpKHQpLkt0KHtcbiAgICAgICAgICAgIGluZGV4OiBQcy51c2VyTXV0YXRpb25zSW5kZXgsXG4gICAgICAgICAgICByYW5nZTogc1xuICAgICAgICB9LCAoKHQsIGUsIHMpID0+IHtcbiAgICAgICAgICAgIGUudXNlcklkID09PSB0aGlzLnVzZXJJZCAmJiAoTShlLmJhdGNoSWQgPj0gbiksIGkgPSBoaSh0aGlzLk4sIGUpKSwgcy5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQodCkge1xuICAgICAgICBjb25zdCBlID0gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChbIHRoaXMudXNlcklkLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgXSk7XG4gICAgICAgIGxldCBuID0gLTE7XG4gICAgICAgIHJldHVybiB2aSh0KS5LdCh7XG4gICAgICAgICAgICBpbmRleDogUHMudXNlck11dGF0aW9uc0luZGV4LFxuICAgICAgICAgICAgcmFuZ2U6IGUsXG4gICAgICAgICAgICByZXZlcnNlOiAhMFxuICAgICAgICB9LCAoKHQsIGUsIHMpID0+IHtcbiAgICAgICAgICAgIG4gPSBlLmJhdGNoSWQsIHMuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXModCkge1xuICAgICAgICBjb25zdCBlID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0aGlzLnVzZXJJZCwgLTEgXSwgWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICByZXR1cm4gdmkodCkuTHQoUHMudXNlck11dGF0aW9uc0luZGV4LCBlKS5uZXh0KCh0ID0+IHQubWFwKCh0ID0+IGhpKHRoaXMuTiwgdCkpKSkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleSh0LCBlKSB7XG4gICAgICAgIC8vIFNjYW4gdGhlIGRvY3VtZW50LW11dGF0aW9uIGluZGV4IHN0YXJ0aW5nIHdpdGggYSBwcmVmaXggc3RhcnRpbmcgd2l0aFxuICAgICAgICAvLyB0aGUgZ2l2ZW4gZG9jdW1lbnRLZXkuXG4gICAgICAgIGNvbnN0IG4gPSB2cy5wcmVmaXhGb3JQYXRoKHRoaXMudXNlcklkLCBlLnBhdGgpLCBzID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChuKSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gVmkodCkuS3Qoe1xuICAgICAgICAgICAgcmFuZ2U6IHNcbiAgICAgICAgfSwgKChuLCBzLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbbywgYSwgY10gPSBuLCB1ID0gSXMoYSk7XG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIHJvd3MgbWF0Y2hpbmcgZXhhY3RseSB0aGUgc3BlY2lmaWMga2V5IG9mXG4gICAgICAgICAgICAvLyBpbnRlcmVzdC4gTm90ZSB0aGF0IGJlY2F1c2Ugd2Ugb3JkZXIgYnkgcGF0aCBmaXJzdCwgYW5kIHdlXG4gICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAvLyB0aGUgaW5kZXggcm93cyBmb3IgZG9jdW1lbnRLZXkgY29udGlndW91c2x5LiBJbiBwYXJ0aWN1bGFyLCBhbGxcbiAgICAgICAgICAgIC8vIHRoZSByb3dzIGZvciBkb2N1bWVudEtleSB3aWxsIG9jY3VyIGJlZm9yZSBhbnkgcm93cyBmb3JcbiAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgIC8vIGNhbiBzdG9wIGFzIHNvb24gYXMgd2UgaGl0IGFueSBzdWNoIHJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSB0aGlzLnVzZXJJZCAmJiBlLnBhdGguaXNFcXVhbCh1KSkgXG4gICAgICAgICAgICAvLyBMb29rIHVwIHRoZSBtdXRhdGlvbiBiYXRjaCBpbiB0aGUgc3RvcmUuXG4gICAgICAgICAgICByZXR1cm4gdmkodCkuZ2V0KGMpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdCkgdGhyb3cgRigpO1xuICAgICAgICAgICAgICAgIE0odC51c2VySWQgPT09IHRoaXMudXNlcklkKSwgaS5wdXNoKGhpKHRoaXMuTiwgdCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgci5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyh0LCBlKSB7XG4gICAgICAgIGxldCBuID0gbmV3IF9uKFopO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHZzLnByZWZpeEZvclBhdGgodGhpcy51c2VySWQsIGUucGF0aCksIHIgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGkpLCBvID0gVmkodCkuS3Qoe1xuICAgICAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgICAgICB9LCAoKHQsIHMsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbciwgbywgYV0gPSB0LCBjID0gSXMobyk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25zaWRlciByb3dzIG1hdGNoaW5nIGV4YWN0bHkgdGhlIHNwZWNpZmljIGtleSBvZlxuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0LiBOb3RlIHRoYXQgYmVjYXVzZSB3ZSBvcmRlciBieSBwYXRoIGZpcnN0LCBhbmQgd2VcbiAgICAgICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIGluZGV4IHJvd3MgZm9yIGRvY3VtZW50S2V5IGNvbnRpZ3VvdXNseS4gSW4gcGFydGljdWxhciwgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvd3MgZm9yIGRvY3VtZW50S2V5IHdpbGwgb2NjdXIgYmVmb3JlIGFueSByb3dzIGZvclxuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gc3RvcCBhcyBzb29uIGFzIHdlIGhpdCBhbnkgc3VjaCByb3cuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPT09IHRoaXMudXNlcklkICYmIGUucGF0aC5pc0VxdWFsKGMpID8gbiA9IG4uYWRkKGEpIDogaS5kb25lKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzLnB1c2gobyk7XG4gICAgICAgIH0pKSwgcXMud2FpdEZvcihzKS5uZXh0KCgoKSA9PiB0aGlzLlp0KHQsIG4pKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IGUucGF0aCwgcyA9IG4ubGVuZ3RoICsgMSwgaSA9IHZzLnByZWZpeEZvclBhdGgodGhpcy51c2VySWQsIG4pLCByID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChpKTtcbiAgICAgICAgLy8gQ29sbGVjdCB1cCB1bmlxdWUgYmF0Y2hJRHMgZW5jb3VudGVyZWQgZHVyaW5nIGEgc2NhbiBvZiB0aGUgaW5kZXguIFVzZSBhXG4gICAgICAgIC8vIFNvcnRlZFNldCB0byBhY2N1bXVsYXRlIGJhdGNoIElEcyBzbyB0aGV5IGNhbiBiZSB0cmF2ZXJzZWQgaW4gb3JkZXIgaW4gYVxuICAgICAgICAvLyBzY2FuIG9mIHRoZSBtYWluIHRhYmxlLlxuICAgICAgICBsZXQgbyA9IG5ldyBfbihaKTtcbiAgICAgICAgcmV0dXJuIFZpKHQpLkt0KHtcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgodCwgZSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3IsIGEsIGNdID0gdCwgdSA9IElzKGEpO1xuICAgICAgICAgICAgciA9PT0gdGhpcy51c2VySWQgJiYgbi5pc1ByZWZpeE9mKHUpID8gXG4gICAgICAgICAgICAvLyBSb3dzIHdpdGggZG9jdW1lbnQga2V5cyBtb3JlIHRoYW4gb25lIHNlZ21lbnQgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAgICAvLyBxdWVyeSBwYXRoIGNhbid0IGJlIG1hdGNoZXMuIEZvciBleGFtcGxlLCBhIHF1ZXJ5IG9uICdyb29tcydcbiAgICAgICAgICAgIC8vIGNhbid0IG1hdGNoIHRoZSBkb2N1bWVudCAvcm9vbXMvYWJjL21lc3NhZ2VzL3h5eC5cbiAgICAgICAgICAgIC8vIFRPRE8obWNnKTogd2UnbGwgbmVlZCBhIGRpZmZlcmVudCBzY2FubmVyIHdoZW4gd2UgaW1wbGVtZW50XG4gICAgICAgICAgICAvLyBhbmNlc3RvciBxdWVyaWVzLlxuICAgICAgICAgICAgdS5sZW5ndGggPT09IHMgJiYgKG8gPSBvLmFkZChjKSkgOiBpLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHRoaXMuWnQodCwgbykpKTtcbiAgICB9XG4gICAgWnQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gW10sIHMgPSBbXTtcbiAgICAgICAgLy8gVE9ETyhyb2Nrd29vZCk6IEltcGxlbWVudCB0aGlzIHVzaW5nIGl0ZXJhdGUuXG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgcy5wdXNoKHZpKHQpLmdldChlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gdCkgdGhyb3cgRigpO1xuICAgICAgICAgICAgICAgIE0odC51c2VySWQgPT09IHRoaXMudXNlcklkKSwgbi5wdXNoKGhpKHRoaXMuTiwgdCkpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpLCBxcy53YWl0Rm9yKHMpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgcmVtb3ZlTXV0YXRpb25CYXRjaCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBBaSh0LlF0LCB0aGlzLnVzZXJJZCwgZSkubmV4dCgobiA9PiAodC5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRlKGUuYmF0Y2hJZCk7XG4gICAgICAgIH0pKSwgcXMuZm9yRWFjaChuLCAoZSA9PiB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKHQsIGUpKSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FjaGVkIGtleXMgZm9yIGEgbXV0YXRpb24gYmF0Y2guIFRoaXMgbWV0aG9kIHNob3VsZCBiZVxuICAgICAqIGNhbGxlZCBieSBzZWNvbmRhcnkgY2xpZW50cyBhZnRlciB0aGV5IHByb2Nlc3MgbXV0YXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBkb2VzIG5vdCBoYXZlIHRvIGJlIGNhbGxlZCBmcm9tIHByaW1hcnkgY2xpZW50cyBhc1xuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIGNhY2hlIGVudHJpZXMgYXJlIGNsZWFyZWQgd2hlbiBhbiBhY2tub3dsZWRnZWQgb3JcbiAgICAgKiByZWplY3RlZCBiYXRjaCBpcyByZW1vdmVkIGZyb20gdGhlIG11dGF0aW9uIHF1ZXVlLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHlcbiAgICB0ZSh0KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLkp0W3RdO1xuICAgIH1cbiAgICBwZXJmb3JtQ29uc2lzdGVuY3lDaGVjayh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrRW1wdHkodCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUpIHJldHVybiBxcy5yZXNvbHZlKCk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBhcmUgbm8gZW50cmllcyBpbiB0aGUgZG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggaWZcbiAgICAgICAgICAgIC8vIHRoZSBxdWV1ZSBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHZzLnByZWZpeEZvclVzZXIodGhpcy51c2VySWQpKSwgcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIFZpKHQpLkt0KHtcbiAgICAgICAgICAgICAgICByYW5nZTogblxuICAgICAgICAgICAgfSwgKCh0LCBlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRbMF0gPT09IHRoaXMudXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBJcyh0WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgcy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBuLmRvbmUoKTtcbiAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgTSgwID09PSBzLmxlbmd0aCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY29udGFpbnNLZXkodCwgZSkge1xuICAgICAgICByZXR1cm4gUGkodCwgdGhpcy51c2VySWQsIGUpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5IChzdGF0ZSBpcyBoZWxkIGluIG1lbW9yeSBpbiBvdGhlciBjbGllbnRzKS5cbiAgICAvKiogUmV0dXJucyB0aGUgbXV0YXRpb24gcXVldWUncyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi4gKi9cbiAgICBlZSh0KSB7XG4gICAgICAgIHJldHVybiBTaSh0KS5nZXQodGhpcy51c2VySWQpLm5leHQoKHQgPT4gdCB8fCBuZXcgYnModGhpcy51c2VySWQsIC0xLCBcbiAgICAgICAgLypsYXN0U3RyZWFtVG9rZW49Ki8gXCJcIikpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbXV0YXRpb24gcXVldWUgZm9yIHRoZSBnaXZlbiB1c2VyIGNvbnRhaW5zIGEgcGVuZGluZ1xuICogICAgICAgICBtdXRhdGlvbiBmb3IgdGhlIGdpdmVuIGtleS5cbiAqLyBmdW5jdGlvbiBQaSh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IHZzLnByZWZpeEZvclBhdGgoZSwgbi5wYXRoKSwgaSA9IHNbMV0sIHIgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHMpO1xuICAgIGxldCBvID0gITE7XG4gICAgcmV0dXJuIFZpKHQpLkt0KHtcbiAgICAgICAgcmFuZ2U6IHIsXG4gICAgICAgIHF0OiAhMFxuICAgIH0sICgodCwgbiwgcykgPT4ge1xuICAgICAgICBjb25zdCBbciwgYSwgLypiYXRjaElEKi8gY10gPSB0O1xuICAgICAgICByID09PSBlICYmIGEgPT09IGkgJiYgKG8gPSAhMCksIHMuZG9uZSgpO1xuICAgIH0pKS5uZXh0KCgoKSA9PiBvKSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYW55IG11dGF0aW9uIHF1ZXVlIGNvbnRhaW5zIHRoZSBnaXZlbiBkb2N1bWVudC4gKi9cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBtdXRhdGlvbnMgb2JqZWN0IHN0b3JlLlxuICovXG5mdW5jdGlvbiB2aSh0KSB7XG4gICAgcmV0dXJuIFpzKHQsIFBzLnN0b3JlKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG11dGF0aW9uUXVldWVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBWaSh0KSB7XG4gICAgcmV0dXJuIFpzKHQsIHZzLnN0b3JlKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG11dGF0aW9uUXVldWVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBTaSh0KSB7XG4gICAgcmV0dXJuIFpzKHQsIGJzLnN0b3JlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBPZmZzZXQgdG8gZW5zdXJlIG5vbi1vdmVybGFwcGluZyB0YXJnZXQgaWRzLiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHRhcmdldCBJRHMgZm9yIHNlbmRpbmcgdGFyZ2V0cyB0byB0aGVcbiAqIHdhdGNoIHN0cmVhbS5cbiAqXG4gKiBUaGUgY2xpZW50IGNvbnN0cnVjdHMgdHdvIGdlbmVyYXRvcnMsIG9uZSBmb3IgdGhlIHRhcmdldCBjYWNoZSwgYW5kIG9uZSBmb3JcbiAqIGZvciB0aGUgc3luYyBlbmdpbmUgKHRvIGdlbmVyYXRlIGxpbWJvIGRvY3VtZW50cyB0YXJnZXRzKS4gVGhlc2VcbiAqIGdlbmVyYXRvcnMgcHJvZHVjZSBub24tb3ZlcmxhcHBpbmcgSURzIChieSB1c2luZyBldmVuIGFuZCBvZGQgSURzXG4gKiByZXNwZWN0aXZlbHkpLlxuICpcbiAqIEJ5IHNlcGFyYXRpbmcgdGhlIHRhcmdldCBJRCBzcGFjZSwgdGhlIHF1ZXJ5IGNhY2hlIGNhbiBnZW5lcmF0ZSB0YXJnZXQgSURzXG4gKiB0aGF0IHBlcnNpc3QgYWNyb3NzIGNsaWVudCByZXN0YXJ0cywgd2hpbGUgc3luYyBlbmdpbmUgY2FuIGluZGVwZW5kZW50bHlcbiAqIGdlbmVyYXRlIGluLW1lbW9yeSB0YXJnZXQgSURzIHRoYXQgYXJlIHRyYW5zaWVudCBhbmQgY2FuIGJlIHJldXNlZCBhZnRlciBhXG4gKiByZXN0YXJ0LlxuICovXG5jbGFzcyBEaSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLm5lID0gdDtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmUgKz0gMiwgdGhpcy5uZTtcbiAgICB9XG4gICAgc3RhdGljIHNlKCkge1xuICAgICAgICAvLyBUaGUgdGFyZ2V0IGNhY2hlIGdlbmVyYXRvciBtdXN0IHJldHVybiAnMicgaW4gaXRzIGZpcnN0IGNhbGwgdG8gYG5leHQoKWBcbiAgICAgICAgLy8gYXMgdGhlcmUgaXMgbm8gZGlmZmVyZW50aWF0aW9uIGluIHRoZSBwcm90b2NvbCBsYXllciBiZXR3ZWVuIGFuIHVuc2V0XG4gICAgICAgIC8vIG51bWJlciBhbmQgdGhlIG51bWJlciAnMCcuIElmIHdlIHdlcmUgdG8gc2VudCBhIHRhcmdldCB3aXRoIHRhcmdldCBJRFxuICAgICAgICAvLyAnMCcsIHRoZSBiYWNrZW5kIHdvdWxkIGNvbnNpZGVyIGl0IHVuc2V0IGFuZCByZXBsYWNlIGl0IHdpdGggaXRzIG93biBJRC5cbiAgICAgICAgcmV0dXJuIG5ldyBEaSgwKTtcbiAgICB9XG4gICAgc3RhdGljIGllKCkge1xuICAgICAgICAvLyBTeW5jIGVuZ2luZSBhc3NpZ25zIHRhcmdldCBJRHMgZm9yIGxpbWJvIGRvY3VtZW50IGRldGVjdGlvbi5cbiAgICAgICAgcmV0dXJuIG5ldyBEaSgtMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBDaSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gdCwgdGhpcy5OID0gZTtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBXZSBkb24ndCBjYWNoZSBnbG9iYWwgbWV0YWRhdGEgZm9yIHRoZSB0YXJnZXQgY2FjaGUsIHNpbmNlXG4gICAgLy8gc29tZSBvZiBpdCAoaW4gcGFydGljdWxhciBgaGlnaGVzdFRhcmdldElkYCkgY2FuIGJlIG1vZGlmaWVkIGJ5IHNlY29uZGFyeVxuICAgIC8vIHRhYnMuIFdlIGNvdWxkIHBlcmhhcHMgYmUgbW9yZSBncmFudWxhciAoYW5kIGUuZy4gc3RpbGwgY2FjaGVcbiAgICAvLyBgbGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbmAgaW4gbWVtb3J5KSBidXQgZm9yIHNpbXBsaWNpdHkgd2UgY3VycmVudGx5IGdvXG4gICAgLy8gdG8gSW5kZXhlZERiIHdoZW5ldmVyIHdlIG5lZWQgdG8gcmVhZCBtZXRhZGF0YS4gV2UgY2FuIHJldmlzaXQgaWYgaXQgdHVybnNcbiAgICAvLyBvdXQgdG8gaGF2ZSBhIG1lYW5pbmdmdWwgcGVyZm9ybWFuY2UgaW1wYWN0LlxuICAgIGFsbG9jYXRlVGFyZ2V0SWQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZSh0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgRGkoZS5oaWdoZXN0VGFyZ2V0SWQpO1xuICAgICAgICAgICAgcmV0dXJuIGUuaGlnaGVzdFRhcmdldElkID0gbi5uZXh0KCksIHRoaXMub2UodCwgZSkubmV4dCgoKCkgPT4gZS5oaWdoZXN0VGFyZ2V0SWQpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmUodCkubmV4dCgodCA9PiBzdC5mcm9tVGltZXN0YW1wKG5ldyBudCh0Lmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24uc2Vjb25kcywgdC5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLm5hbm9zZWNvbmRzKSkpKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmUodCkubmV4dCgodCA9PiB0LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcikpO1xuICAgIH1cbiAgICBzZXRUYXJnZXRzTWV0YWRhdGEodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZSh0KS5uZXh0KChzID0+IChzLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciA9IGUsIG4gJiYgKHMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IG4udG9UaW1lc3RhbXAoKSksIFxuICAgICAgICBlID4gcy5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgJiYgKHMuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gZSksIHRoaXMub2UodCwgcykpKSk7XG4gICAgfVxuICAgIGFkZFRhcmdldERhdGEodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZSh0LCBlKS5uZXh0KCgoKSA9PiB0aGlzLnJlKHQpLm5leHQoKG4gPT4gKG4udGFyZ2V0Q291bnQgKz0gMSwgdGhpcy5jZShlLCBuKSwgXG4gICAgICAgIHRoaXMub2UodCwgbikpKSkpKTtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0RGF0YSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFlKHQsIGUpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXREYXRhKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCwgZS50YXJnZXRJZCkubmV4dCgoKCkgPT4gTmkodCkuZGVsZXRlKGUudGFyZ2V0SWQpKSkubmV4dCgoKCkgPT4gdGhpcy5yZSh0KSkpLm5leHQoKGUgPT4gKE0oZS50YXJnZXRDb3VudCA+IDApLCBcbiAgICAgICAgZS50YXJnZXRDb3VudCAtPSAxLCB0aGlzLm9lKHQsIGUpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcm9wcyBhbnkgdGFyZ2V0cyB3aXRoIHNlcXVlbmNlIG51bWJlciBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHVwcGVyIGJvdW5kLCBleGNlcHRpbmcgdGhvc2VcbiAgICAgKiBwcmVzZW50IGluIGBhY3RpdmVUYXJnZXRJZHNgLiBEb2N1bWVudCBhc3NvY2lhdGlvbnMgZm9yIHRoZSByZW1vdmVkIHRhcmdldHMgYXJlIGFsc28gcmVtb3ZlZC5cbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgdGFyZ2V0cyByZW1vdmVkLlxuICAgICAqLyAgICByZW1vdmVUYXJnZXRzKHQsIGUsIG4pIHtcbiAgICAgICAgbGV0IHMgPSAwO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIHJldHVybiBOaSh0KS5LdCgoKHIsIG8pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBsaShvKTtcbiAgICAgICAgICAgIGEuc2VxdWVuY2VOdW1iZXIgPD0gZSAmJiBudWxsID09PSBuLmdldChhLnRhcmdldElkKSAmJiAocysrLCBpLnB1c2godGhpcy5yZW1vdmVUYXJnZXREYXRhKHQsIGEpKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBxcy53YWl0Rm9yKGkpKSkubmV4dCgoKCkgPT4gcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHByb3ZpZGVkIGZ1bmN0aW9uIHdpdGggZWFjaCBgVGFyZ2V0RGF0YWAgdGhhdCB3ZSBoYXZlIGNhY2hlZC5cbiAgICAgKi8gICAgZm9yRWFjaFRhcmdldCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBOaSh0KS5LdCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBsaShuKTtcbiAgICAgICAgICAgIGUocyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmUodCkge1xuICAgICAgICByZXR1cm4geGkodCkuZ2V0KGtzLmtleSkubmV4dCgodCA9PiAoTShudWxsICE9PSB0KSwgdCkpKTtcbiAgICB9XG4gICAgb2UodCwgZSkge1xuICAgICAgICByZXR1cm4geGkodCkucHV0KGtzLmtleSwgZSk7XG4gICAgfVxuICAgIGFlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIE5pKHQpLnB1dChmaSh0aGlzLk4sIGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW4tcGxhY2UgdXBkYXRlcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEgdG8gYWNjb3VudCBmb3IgdmFsdWVzIGluIHRoZSBnaXZlblxuICAgICAqIFRhcmdldERhdGEuIFNhdmluZyBpcyBkb25lIHNlcGFyYXRlbHkuIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSB3ZXJlIGFueVxuICAgICAqIGNoYW5nZXMgdG8gdGhlIG1ldGFkYXRhLlxuICAgICAqLyAgICBjZSh0LCBlKSB7XG4gICAgICAgIGxldCBuID0gITE7XG4gICAgICAgIHJldHVybiB0LnRhcmdldElkID4gZS5oaWdoZXN0VGFyZ2V0SWQgJiYgKGUuaGlnaGVzdFRhcmdldElkID0gdC50YXJnZXRJZCwgbiA9ICEwKSwgXG4gICAgICAgIHQuc2VxdWVuY2VOdW1iZXIgPiBlLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciAmJiAoZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgPSB0LnNlcXVlbmNlTnVtYmVyLCBcbiAgICAgICAgbiA9ICEwKSwgbjtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q291bnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZSh0KS5uZXh0KCh0ID0+IHQudGFyZ2V0Q291bnQpKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0RGF0YSh0LCBlKSB7XG4gICAgICAgIC8vIEl0ZXJhdGluZyBieSB0aGUgY2Fub25pY2FsSWQgbWF5IHlpZWxkIG1vcmUgdGhhbiBvbmUgcmVzdWx0IGJlY2F1c2VcbiAgICAgICAgLy8gY2Fub25pY2FsSWQgdmFsdWVzIGFyZSBub3QgcmVxdWlyZWQgdG8gYmUgdW5pcXVlIHBlciB0YXJnZXQuIFRoaXMgcXVlcnlcbiAgICAgICAgLy8gZGVwZW5kcyBvbiB0aGUgcXVlcnlUYXJnZXRzIGluZGV4IHRvIGJlIGVmZmljaWVudC5cbiAgICAgICAgY29uc3QgbiA9IGp0KGUpLCBzID0gSURCS2V5UmFuZ2UuYm91bmQoWyBuLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgXSwgWyBuLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgXSk7XG4gICAgICAgIGxldCBpID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIE5pKHQpLkt0KHtcbiAgICAgICAgICAgIHJhbmdlOiBzLFxuICAgICAgICAgICAgaW5kZXg6IE5zLnF1ZXJ5VGFyZ2V0c0luZGV4TmFtZVxuICAgICAgICB9LCAoKHQsIG4sIHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBsaShuKTtcbiAgICAgICAgICAgIC8vIEFmdGVyIGZpbmRpbmcgYSBwb3RlbnRpYWwgbWF0Y2gsIGNoZWNrIHRoYXQgdGhlIHRhcmdldCBpc1xuICAgICAgICAgICAgLy8gYWN0dWFsbHkgZXF1YWwgdG8gdGhlIHJlcXVlc3RlZCB0YXJnZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBXdChlLCByLnRhcmdldCkgJiYgKGkgPSByLCBzLmRvbmUoKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGFkZE1hdGNoaW5nS2V5cyh0LCBlLCBuKSB7XG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogVGhlIHJldmVyc2UgaW5kZXggKGRvY3VtZW50c1RhcmdldHMpIGlzIG1haW50YWluZWQgYnlcbiAgICAgICAgLy8gSW5kZXhlZERiLlxuICAgICAgICBjb25zdCBzID0gW10sIGkgPSBraSh0KTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gcHMoZS5wYXRoKTtcbiAgICAgICAgICAgIHMucHVzaChpLnB1dChuZXcgeHMobiwgcikpKSwgcy5wdXNoKHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuYWRkUmVmZXJlbmNlKHQsIG4sIGUpKTtcbiAgICAgICAgfSkpLCBxcy53YWl0Rm9yKHMpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXModCwgZSwgbikge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSByZXZlcnNlIGluZGV4IChkb2N1bWVudHNUYXJnZXRzKSBpcyBtYWludGFpbmVkIGJ5XG4gICAgICAgIC8vIEluZGV4ZWREYi5cbiAgICAgICAgY29uc3QgcyA9IGtpKHQpO1xuICAgICAgICByZXR1cm4gcXMuZm9yRWFjaChlLCAoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gcHMoZS5wYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBxcy53YWl0Rm9yKFsgcy5kZWxldGUoWyBuLCBpIF0pLCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZSh0LCBuLCBlKSBdKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBraSh0KSwgcyA9IElEQktleVJhbmdlLmJvdW5kKFsgZSBdLCBbIGUgKyAxIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgcmV0dXJuIG4uZGVsZXRlKHMpO1xuICAgIH1cbiAgICBnZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5ib3VuZChbIGUgXSwgWyBlICsgMSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCksIHMgPSBraSh0KTtcbiAgICAgICAgbGV0IGkgPSBSbigpO1xuICAgICAgICByZXR1cm4gcy5LdCh7XG4gICAgICAgICAgICByYW5nZTogbixcbiAgICAgICAgICAgIHF0OiAhMFxuICAgICAgICB9LCAoKHQsIGUsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBJcyh0WzFdKSwgciA9IG5ldyBSdChzKTtcbiAgICAgICAgICAgIGkgPSBpLmFkZChyKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgY29udGFpbnNLZXkodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gcHMoZS5wYXRoKSwgcyA9IElEQktleVJhbmdlLmJvdW5kKFsgbiBdLCBbIGV0KG4pIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4ga2kodCkuS3Qoe1xuICAgICAgICAgICAgaW5kZXg6IHhzLmRvY3VtZW50VGFyZ2V0c0luZGV4LFxuICAgICAgICAgICAgcXQ6ICEwLFxuICAgICAgICAgICAgcmFuZ2U6IHNcbiAgICAgICAgfSwgKChbdCwgZV0sIG4sIHMpID0+IHtcbiAgICAgICAgICAgIC8vIEhhdmluZyBhIHNlbnRpbmVsIHJvdyBmb3IgYSBkb2N1bWVudCBkb2VzIG5vdCBjb3VudCBhcyBjb250YWluaW5nIHRoYXQgZG9jdW1lbnQ7XG4gICAgICAgICAgICAvLyBGb3IgdGhlIHRhcmdldCBjYWNoZSwgY29udGFpbmluZyB0aGUgZG9jdW1lbnQgbWVhbnMgdGhlIGRvY3VtZW50IGlzIHBhcnQgb2Ygc29tZVxuICAgICAgICAgICAgLy8gdGFyZ2V0LlxuICAgICAgICAgICAgMCAhPT0gdCAmJiAoaSsrLCBzLmRvbmUoKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpID4gMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBhIFRhcmdldERhdGEgZW50cnkgYnkgdGFyZ2V0IElELlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhcmdldElkIC0gVGhlIHRhcmdldCBJRCBvZiB0aGUgVGFyZ2V0RGF0YSBlbnRyeSB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIFRoZSBjYWNoZWQgVGFyZ2V0RGF0YSBlbnRyeSwgb3IgbnVsbCBpZiB0aGUgY2FjaGUgaGFzIG5vIGVudHJ5IGZvclxuICAgICAqIHRoZSB0YXJnZXQuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICBFdCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBOaSh0KS5nZXQoZSkubmV4dCgodCA9PiB0ID8gbGkodCkgOiBudWxsKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gTmkodCkge1xuICAgIHJldHVybiBacyh0LCBOcy5zdG9yZSk7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSB0YXJnZXQgZ2xvYmFscyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24geGkodCkge1xuICAgIHJldHVybiBacyh0LCBrcy5zdG9yZSk7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBkb2N1bWVudCB0YXJnZXQgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIGtpKHQpIHtcbiAgICByZXR1cm4gWnModCwgeHMuc3RvcmUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBWZXJpZmllcyB0aGUgZXJyb3IgdGhyb3duIGJ5IGEgTG9jYWxTdG9yZSBvcGVyYXRpb24uIElmIGEgTG9jYWxTdG9yZVxuICogb3BlcmF0aW9uIGZhaWxzIGJlY2F1c2UgdGhlIHByaW1hcnkgbGVhc2UgaGFzIGJlZW4gdGFrZW4gYnkgYW5vdGhlciBjbGllbnQsXG4gKiB3ZSBpZ25vcmUgdGhlIGVycm9yICh0aGUgcGVyc2lzdGVuY2UgbGF5ZXIgd2lsbCBpbW1lZGlhdGVseSBjYWxsXG4gKiBgYXBwbHlQcmltYXJ5TGVhc2VgIHRvIHByb3BhZ2F0ZSB0aGUgcHJpbWFyeSBzdGF0ZSBjaGFuZ2UpLiBBbGwgb3RoZXIgZXJyb3JzXG4gKiBhcmUgcmUtdGhyb3duLlxuICpcbiAqIEBwYXJhbSBlcnIgLSBBbiBlcnJvciByZXR1cm5lZCBieSBhIExvY2FsU3RvcmUgb3BlcmF0aW9uLlxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgd2UgcmVjb3ZlcmVkLCBvciB0aGUgb3JpZ2luYWwgZXJyb3IuXG4gKi8gYXN5bmMgZnVuY3Rpb24gJGkodCkge1xuICAgIGlmICh0LmNvZGUgIT09IFUuRkFJTEVEX1BSRUNPTkRJVElPTiB8fCB0Lm1lc3NhZ2UgIT09IEJzKSB0aHJvdyB0O1xuICAgIHgoXCJMb2NhbFN0b3JlXCIsIFwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZVwiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gT2koW3QsIGVdLCBbbiwgc10pIHtcbiAgICBjb25zdCBpID0gWih0LCBuKTtcbiAgICByZXR1cm4gMCA9PT0gaSA/IFooZSwgcykgOiBpO1xufVxuXG4vKipcbiAqIFVzZWQgdG8gY2FsY3VsYXRlIHRoZSBudGggc2VxdWVuY2UgbnVtYmVyLiBLZWVwcyBhIHJvbGxpbmcgYnVmZmVyIG9mIHRoZVxuICogbG93ZXN0IG4gdmFsdWVzIHBhc3NlZCB0byBgYWRkRWxlbWVudGAsIGFuZCBmaW5hbGx5IHJlcG9ydHMgdGhlIGxhcmdlc3Qgb2ZcbiAqIHRoZW0gaW4gYG1heFZhbHVlYC5cbiAqLyBjbGFzcyBGaSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLnVlID0gdCwgdGhpcy5idWZmZXIgPSBuZXcgX24oT2kpLCB0aGlzLmhlID0gMDtcbiAgICB9XG4gICAgbGUoKSB7XG4gICAgICAgIHJldHVybiArK3RoaXMuaGU7XG4gICAgfVxuICAgIGZlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IFsgdCwgdGhpcy5sZSgpIF07XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5zaXplIDwgdGhpcy51ZSkgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5hZGQoZSk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuYnVmZmVyLmxhc3QoKTtcbiAgICAgICAgICAgIE9pKGUsIHQpIDwgMCAmJiAodGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5kZWxldGUodCkuYWRkKGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdG8gYmUgbm9uLWVtcHR5LiBJZiB3ZSBkZWNpZGUgd2UgYXJlIG5vdCBjb2xsZWN0aW5nIGFueVxuICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXJzLCBudGhTZXF1ZW5jZU51bWJlciBiZWxvdyBzaG9ydC1jaXJjdWl0cy4gSWYgd2UgaGF2ZVxuICAgICAgICAvLyBkZWNpZGVkIHRoYXQgd2UgYXJlIGNvbGxlY3RpbmcgbiBzZXF1ZW5jZSBudW1iZXJzLCBpdCdzIGJlY2F1c2UgbiBpcyBzb21lXG4gICAgICAgIC8vIHBlcmNlbnRhZ2Ugb2YgdGhlIGV4aXN0aW5nIHNlcXVlbmNlIG51bWJlcnMuIFRoYXQgbWVhbnMgd2Ugc2hvdWxkIG5ldmVyXG4gICAgICAgIC8vIGJlIGluIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGFyZSBjb2xsZWN0aW5nIHNlcXVlbmNlIG51bWJlcnMgYnV0IGRvbid0XG4gICAgICAgIC8vIGFjdHVhbGx5IGhhdmUgYW55LlxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGFzdCgpWzBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgc2NoZWR1bGluZyBvZiBMUlUgZ2FyYmFnZSBjb2xsZWN0aW9uLiBJdCBoYW5kbGVzIGNoZWNraW5nXG4gKiB3aGV0aGVyIG9yIG5vdCBHQyBpcyBlbmFibGVkLCBhcyB3ZWxsIGFzIHdoaWNoIGRlbGF5IHRvIHVzZSBiZWZvcmUgdGhlIG5leHQgcnVuLlxuICovIGNsYXNzIE1pIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuZ2FyYmFnZUNvbGxlY3RvciA9IHQsIHRoaXMuYXN5bmNRdWV1ZSA9IGUsIHRoaXMuZGUgPSAhMSwgdGhpcy53ZSA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KHQpIHtcbiAgICAgICAgLTEgIT09IHRoaXMuZ2FyYmFnZUNvbGxlY3Rvci5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCAmJiB0aGlzLl9lKHQpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLndlICYmICh0aGlzLndlLmNhbmNlbCgpLCB0aGlzLndlID0gbnVsbCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy53ZTtcbiAgICB9XG4gICAgX2UodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5kZSA/IDNlNSA6IDZlNDtcbiAgICAgICAgeChcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgYEdhcmJhZ2UgY29sbGVjdGlvbiBzY2hlZHVsZWQgaW4gJHtlfW1zYCksIHRoaXMud2UgPSB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkoXCJscnVfZ2FyYmFnZV9jb2xsZWN0aW9uXCIgLyogTHJ1R2FyYmFnZUNvbGxlY3Rpb24gKi8gLCBlLCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53ZSA9IG51bGwsIHRoaXMuZGUgPSAhMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdC5jb2xsZWN0R2FyYmFnZSh0aGlzLmdhcmJhZ2VDb2xsZWN0b3IpO1xuICAgICAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgICAgIEdzKHQpID8geChcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgXCJJZ25vcmluZyBJbmRleGVkREIgZXJyb3IgZHVyaW5nIGdhcmJhZ2UgY29sbGVjdGlvbjogXCIsIHQpIDogYXdhaXQgJGkodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9lKHQpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKiogSW1wbGVtZW50cyB0aGUgc3RlcHMgZm9yIExSVSBnYXJiYWdlIGNvbGxlY3Rpb24uICovIGNsYXNzIExpIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMubWUgPSB0LCB0aGlzLnBhcmFtcyA9IGU7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVRhcmdldENvdW50KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWUuZ2UodCkubmV4dCgodCA9PiBNYXRoLmZsb29yKGUgLyAxMDAgKiB0KSkpO1xuICAgIH1cbiAgICBudGhTZXF1ZW5jZU51bWJlcih0LCBlKSB7XG4gICAgICAgIGlmICgwID09PSBlKSByZXR1cm4gcXMucmVzb2x2ZShKLlQpO1xuICAgICAgICBjb25zdCBuID0gbmV3IEZpKGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5tZS5mb3JFYWNoVGFyZ2V0KHQsICh0ID0+IG4uZmUodC5zZXF1ZW5jZU51bWJlcikpKS5uZXh0KCgoKSA9PiB0aGlzLm1lLnllKHQsICh0ID0+IG4uZmUodCkpKSkpLm5leHQoKCgpID0+IG4ubWF4VmFsdWUpKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0cyh0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lLnJlbW92ZVRhcmdldHModCwgZSwgbik7XG4gICAgfVxuICAgIHJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWUucmVtb3ZlT3JwaGFuZWREb2N1bWVudHModCwgZSk7XG4gICAgfVxuICAgIGNvbGxlY3QodCwgZSkge1xuICAgICAgICByZXR1cm4gLTEgPT09IHRoaXMucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgPyAoeChcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgZGlzYWJsZWRcIiksIFxuICAgICAgICBxcy5yZXNvbHZlKFRpKSkgOiB0aGlzLmdldENhY2hlU2l6ZSh0KS5uZXh0KChuID0+IG4gPCB0aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkID8gKHgoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgQ2FjaGUgc2l6ZSAke259IGlzIGxvd2VyIHRoYW4gdGhyZXNob2xkICR7dGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZH1gKSwgXG4gICAgICAgIFRpKSA6IHRoaXMucGUodCwgZSkpKTtcbiAgICB9XG4gICAgZ2V0Q2FjaGVTaXplKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWUuZ2V0Q2FjaGVTaXplKHQpO1xuICAgIH1cbiAgICBwZSh0LCBlKSB7XG4gICAgICAgIGxldCBuLCBzLCBpLCByLCBvLCBjLCB1O1xuICAgICAgICBjb25zdCBoID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlVGFyZ2V0Q291bnQodCwgdGhpcy5wYXJhbXMucGVyY2VudGlsZVRvQ29sbGVjdCkubmV4dCgoZSA9PiAoXG4gICAgICAgIC8vIENhcCBhdCB0aGUgY29uZmlndXJlZCBtYXhcbiAgICAgICAgZSA+IHRoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QgPyAoeChcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgYENhcHBpbmcgc2VxdWVuY2UgbnVtYmVycyB0byBjb2xsZWN0IGRvd24gdG8gdGhlIG1heGltdW0gb2YgJHt0aGlzLnBhcmFtcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0fSBmcm9tICR7ZX1gKSwgXG4gICAgICAgIHMgPSB0aGlzLnBhcmFtcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0KSA6IHMgPSBlLCByID0gRGF0ZS5ub3coKSwgdGhpcy5udGhTZXF1ZW5jZU51bWJlcih0LCBzKSkpKS5uZXh0KChzID0+IChuID0gcywgXG4gICAgICAgIG8gPSBEYXRlLm5vdygpLCB0aGlzLnJlbW92ZVRhcmdldHModCwgbiwgZSkpKSkubmV4dCgoZSA9PiAoaSA9IGUsIGMgPSBEYXRlLm5vdygpLCBcbiAgICAgICAgdGhpcy5yZW1vdmVPcnBoYW5lZERvY3VtZW50cyh0LCBuKSkpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGlmICh1ID0gRGF0ZS5ub3coKSwgQygpIDw9IGEuREVCVUcpIHtcbiAgICAgICAgICAgICAgICB4KFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBgTFJVIEdhcmJhZ2UgQ29sbGVjdGlvblxcblxcdENvdW50ZWQgdGFyZ2V0cyBpbiAke3IgLSBofW1zXFxuXFx0RGV0ZXJtaW5lZCBsZWFzdCByZWNlbnRseSB1c2VkICR7c30gaW4gYCArIChvIC0gcikgKyBcIm1zXFxuXCIgKyBgXFx0UmVtb3ZlZCAke2l9IHRhcmdldHMgaW4gYCArIChjIC0gbykgKyBcIm1zXFxuXCIgKyBgXFx0UmVtb3ZlZCAke3R9IGRvY3VtZW50cyBpbiBgICsgKHUgLSBjKSArIFwibXNcXG5cIiArIGBUb3RhbCBEdXJhdGlvbjogJHt1IC0gaH1tc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHFzLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIGRpZFJ1bjogITAsXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOiBzLFxuICAgICAgICAgICAgICAgIHRhcmdldHNSZW1vdmVkOiBpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50c1JlbW92ZWQ6IHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFByb3ZpZGVzIExSVSBmdW5jdGlvbmFsaXR5IGZvciBJbmRleGVkREIgcGVyc2lzdGVuY2UuICovXG5jbGFzcyBCaSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmRiID0gdCwgdGhpcy5nYXJiYWdlQ29sbGVjdG9yID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaSh0LCBlKTtcbiAgICAgICAgfSh0aGlzLCBlKTtcbiAgICB9XG4gICAgZ2UodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5FZSh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5nZXRUYXJnZXRDb3VudCh0KS5uZXh0KCh0ID0+IGUubmV4dCgoZSA9PiB0ICsgZSkpKSk7XG4gICAgfVxuICAgIEVlKHQpIHtcbiAgICAgICAgbGV0IGUgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy55ZSh0LCAodCA9PiB7XG4gICAgICAgICAgICBlKys7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBlKSk7XG4gICAgfVxuICAgIGZvckVhY2hUYXJnZXQodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLmZvckVhY2hUYXJnZXQodCwgZSk7XG4gICAgfVxuICAgIHllKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVGUodCwgKCh0LCBuKSA9PiBlKG4pKSk7XG4gICAgfVxuICAgIGFkZFJlZmVyZW5jZSh0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiBVaSh0LCBuKTtcbiAgICB9XG4gICAgcmVtb3ZlUmVmZXJlbmNlKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIFVpKHQsIG4pO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXRzKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKHQsIGUsIG4pO1xuICAgIH1cbiAgICBtYXJrUG90ZW50aWFsbHlPcnBoYW5lZCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBVaSh0LCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFueXRoaW5nIHdvdWxkIHByZXZlbnQgdGhpcyBkb2N1bWVudCBmcm9tIGJlaW5nIGdhcmJhZ2VcbiAgICAgKiBjb2xsZWN0ZWQsIGdpdmVuIHRoYXQgdGhlIGRvY3VtZW50IGluIHF1ZXN0aW9uIGlzIG5vdCBwcmVzZW50IGluIGFueVxuICAgICAqIHRhcmdldHMgYW5kIGhhcyBhIHNlcXVlbmNlIG51bWJlciBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHVwcGVyIGJvdW5kIGZvclxuICAgICAqIHRoZSBjb2xsZWN0aW9uIHJ1bi5cbiAgICAgKi8gICAgSWUodCwgZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgbGV0IG4gPSAhMTtcbiAgICAgICAgICAgIHJldHVybiBTaSh0KS5qdCgocyA9PiBQaSh0LCBzLCBlKS5uZXh0KCh0ID0+ICh0ICYmIChuID0gITApLCBxcy5yZXNvbHZlKCF0KSkpKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICAgICAgfSh0LCBlKTtcbiAgICB9XG4gICAgcmVtb3ZlT3JwaGFuZWREb2N1bWVudHModCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCksIHMgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5UZSh0LCAoKHIsIG8pID0+IHtcbiAgICAgICAgICAgIGlmIChvIDw9IGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5JZSh0LCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlKSBcbiAgICAgICAgICAgICAgICAgICAgLy8gT3VyIHNpemUgYWNjb3VudGluZyByZXF1aXJlcyB1cyB0byByZWFkIGFsbCBkb2N1bWVudHMgYmVmb3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92aW5nIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpKyssIG4uZ2V0RW50cnkodCwgcikubmV4dCgoKCkgPT4gKG4ucmVtb3ZlRW50cnkociksIGtpKHQpLmRlbGV0ZShbIDAsIHBzKHIucGF0aCkgXSkpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHMucHVzaChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHFzLndhaXRGb3IocykpKS5uZXh0KCgoKSA9PiBuLmFwcGx5KHQpKSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gZS53aXRoU2VxdWVuY2VOdW1iZXIodC5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLnVwZGF0ZVRhcmdldERhdGEodCwgbik7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQodCwgZSkge1xuICAgICAgICByZXR1cm4gVWkodCwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgcHJvdmlkZWQgZnVuY3Rpb24gZm9yIGVhY2ggZG9jdW1lbnQgaW4gdGhlIGNhY2hlIHRoYXQgaXMgJ29ycGhhbmVkJy4gT3JwaGFuZWRcbiAgICAgKiBtZWFucyBub3QgYSBwYXJ0IG9mIGFueSB0YXJnZXQsIHNvIHRoZSBvbmx5IGVudHJ5IGluIHRoZSB0YXJnZXQtZG9jdW1lbnQgaW5kZXggZm9yXG4gICAgICogdGhhdCBkb2N1bWVudCB3aWxsIGJlIHRoZSBzZW50aW5lbCByb3cgKHRhcmdldElkIDApLCB3aGljaCB3aWxsIGFsc28gaGF2ZSB0aGUgc2VxdWVuY2VcbiAgICAgKiBudW1iZXIgZm9yIHRoZSBsYXN0IHRpbWUgdGhlIGRvY3VtZW50IHdhcyBhY2Nlc3NlZC5cbiAgICAgKi8gICAgVGUodCwgZSkge1xuICAgICAgICBjb25zdCBuID0ga2kodCk7XG4gICAgICAgIGxldCBzLCBpID0gSi5UO1xuICAgICAgICByZXR1cm4gbi5LdCh7XG4gICAgICAgICAgICBpbmRleDogeHMuZG9jdW1lbnRUYXJnZXRzSW5kZXhcbiAgICAgICAgfSwgKChbdCwgbl0sIHtwYXRoOiByLCBzZXF1ZW5jZU51bWJlcjogb30pID0+IHtcbiAgICAgICAgICAgIDAgPT09IHQgPyAoXG4gICAgICAgICAgICAvLyBpZiBuZXh0VG9SZXBvcnQgaXMgdmFsaWQsIHJlcG9ydCBpdCwgdGhpcyBpcyBhIG5ldyBrZXkgc28gdGhlXG4gICAgICAgICAgICAvLyBsYXN0IG9uZSBtdXN0IG5vdCBiZSBhIG1lbWJlciBvZiBhbnkgdGFyZ2V0cy5cbiAgICAgICAgICAgIGkgIT09IEouVCAmJiBlKG5ldyBSdChJcyhzKSksIGkpLCBcbiAgICAgICAgICAgIC8vIHNldCBuZXh0VG9SZXBvcnQgdG8gYmUgdGhpcyBzZXF1ZW5jZSBudW1iZXIuIEl0J3MgdGhlIG5leHQgb25lIHdlXG4gICAgICAgICAgICAvLyBtaWdodCByZXBvcnQsIGlmIHdlIGRvbid0IGZpbmQgYW55IHRhcmdldHMgZm9yIHRoaXMgZG9jdW1lbnQuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIHNlcXVlbmNlIG51bWJlciBtdXN0IGJlIGRlZmluZWQgd2hlbiB0aGUgdGFyZ2V0SWRcbiAgICAgICAgICAgIC8vIGlzIDAuXG4gICAgICAgICAgICBpID0gbywgcyA9IHIpIDogXG4gICAgICAgICAgICAvLyBzZXQgbmV4dFRvUmVwb3J0IHRvIGJlIGludmFsaWQsIHdlIGtub3cgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgIC8vIHRoaXMgb25lIHNpbmNlIHdlIGZvdW5kIGEgdGFyZ2V0IGZvciBpdC5cbiAgICAgICAgICAgIGkgPSBKLlQ7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSByZXBvcnQgc2VxdWVuY2UgbnVtYmVycyBhZnRlciBnZXR0aW5nIHRvIHRoZSBuZXh0IGtleSwgd2VcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGxhc3Qga2V5IHdlIGl0ZXJhdGVkIG92ZXIgd2FzIGFuIG9ycGhhbmVkXG4gICAgICAgICAgICAvLyBkb2N1bWVudCBhbmQgcmVwb3J0IGl0LlxuICAgICAgICAgICAgaSAhPT0gSi5UICYmIGUobmV3IFJ0KElzKHMpKSwgaSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0Q2FjaGVTaXplKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLmdldFNpemUodCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBVaSh0LCBlKSB7XG4gICAgcmV0dXJuIGtpKHQpLnB1dChcbiAgICAvKipcbiAqIEByZXR1cm5zIEEgdmFsdWUgc3VpdGFibGUgZm9yIHdyaXRpbmcgYSBzZW50aW5lbCByb3cgaW4gdGhlIHRhcmdldC1kb2N1bWVudFxuICogc3RvcmUuXG4gKi9cbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgeHMoMCwgcHModC5wYXRoKSwgZSk7XG4gICAgfShlLCB0LmN1cnJlbnRTZXF1ZW5jZU51bWJlcikpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIG1hcCBpbXBsZW1lbnRhdGlvbiB0aGF0IHVzZXMgb2JqZWN0cyBhcyBrZXlzLiBPYmplY3RzIG11c3QgaGF2ZSBhblxuICogYXNzb2NpYXRlZCBlcXVhbHMgZnVuY3Rpb24gYW5kIG11c3QgYmUgaW1tdXRhYmxlLiBFbnRyaWVzIGluIHRoZSBtYXAgYXJlXG4gKiBzdG9yZWQgdG9nZXRoZXIgd2l0aCB0aGUga2V5IGJlaW5nIHByb2R1Y2VkIGZyb20gdGhlIG1hcEtleUZuLiBUaGlzIG1hcFxuICogYXV0b21hdGljYWxseSBoYW5kbGVzIGNvbGxpc2lvbnMgb2Yga2V5cy5cbiAqLyBjbGFzcyBxaSB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLm1hcEtleUZuID0gdCwgdGhpcy5lcXVhbHNGbiA9IGUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlubmVyIG1hcCBmb3IgYSBrZXkvdmFsdWUgcGFpci4gRHVlIHRvIHRoZSBwb3NzaWJpbGl0eSBvZiBjb2xsaXNpb25zIHdlXG4gICAgICAgICAqIGtlZXAgYSBsaXN0IG9mIGVudHJpZXMgdGhhdCB3ZSBkbyBhIGxpbmVhciBzZWFyY2ggdGhyb3VnaCB0byBmaW5kIGFuIGFjdHVhbFxuICAgICAgICAgKiBtYXRjaC4gTm90ZSB0aGF0IGNvbGxpc2lvbnMgc2hvdWxkIGJlIHJhcmUsIHNvIHdlIHN0aWxsIGV4cGVjdCBuZWFyXG4gICAgICAgICAqIGNvbnN0YW50IHRpbWUgbG9va3VwcyBpbiBwcmFjdGljZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5uZXIgPSB7fTtcbiAgICB9XG4gICAgLyoqIEdldCBhIHZhbHVlIGZvciB0aGlzIGtleSwgb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LiAqLyAgICBnZXQodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5tYXBLZXlGbih0KSwgbiA9IHRoaXMuaW5uZXJbZV07XG4gICAgICAgIGlmICh2b2lkIDAgIT09IG4pIGZvciAoY29uc3QgW2UsIHNdIG9mIG4pIGlmICh0aGlzLmVxdWFsc0ZuKGUsIHQpKSByZXR1cm4gcztcbiAgICB9XG4gICAgaGFzKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5nZXQodCk7XG4gICAgfVxuICAgIC8qKiBQdXQgdGhpcyBrZXkgYW5kIHZhbHVlIGluIHRoZSBtYXAuICovICAgIHNldCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm1hcEtleUZuKHQpLCBzID0gdGhpcy5pbm5lcltuXTtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gcykge1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBzLmxlbmd0aDsgbisrKSBpZiAodGhpcy5lcXVhbHNGbihzW25dWzBdLCB0KSkgcmV0dXJuIHZvaWQgKHNbbl0gPSBbIHQsIGUgXSk7XG4gICAgICAgICAgICBzLnB1c2goWyB0LCBlIF0pO1xuICAgICAgICB9IGVsc2UgdGhpcy5pbm5lcltuXSA9IFsgWyB0LCBlIF0gXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoaXMga2V5IGZyb20gdGhlIG1hcC4gUmV0dXJucyBhIGJvb2xlYW4gaWYgYW55dGhpbmcgd2FzIGRlbGV0ZWQuXG4gICAgICovICAgIGRlbGV0ZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLm1hcEtleUZuKHQpLCBuID0gdGhpcy5pbm5lcltlXTtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbikgcmV0dXJuICExO1xuICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IG4ubGVuZ3RoOyBzKyspIGlmICh0aGlzLmVxdWFsc0ZuKG5bc11bMF0sIHQpKSByZXR1cm4gMSA9PT0gbi5sZW5ndGggPyBkZWxldGUgdGhpcy5pbm5lcltlXSA6IG4uc3BsaWNlKHMsIDEpLCBcbiAgICAgICAgITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZm9yRWFjaCh0KSB7XG4gICAgICAgIHJ0KHRoaXMuaW5uZXIsICgoZSwgbikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZSwgc10gb2YgbikgdChlLCBzKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gb3QodGhpcy5pbm5lcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbi1tZW1vcnkgYnVmZmVyIG9mIGVudHJpZXMgdG8gYmUgd3JpdHRlbiB0byBhIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKiBJdCBjYW4gYmUgdXNlZCB0byBiYXRjaCB1cCBhIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHdyaXR0ZW4gdG8gdGhlIGNhY2hlLCBidXRcbiAqIGFkZGl0aW9uYWxseSBzdXBwb3J0cyByZWFkaW5nIGVudHJpZXMgYmFjayB3aXRoIHRoZSBgZ2V0RW50cnkoKWAgbWV0aG9kLFxuICogZmFsbGluZyBiYWNrIHRvIHRoZSB1bmRlcmx5aW5nIFJlbW90ZURvY3VtZW50Q2FjaGUgaWYgbm8gZW50cnkgaXNcbiAqIGJ1ZmZlcmVkLlxuICpcbiAqIEVudHJpZXMgYWRkZWQgdG8gdGhlIGNhY2hlICptdXN0KiBiZSByZWFkIGZpcnN0LiBUaGlzIGlzIHRvIGZhY2lsaXRhdGVcbiAqIGNhbGN1bGF0aW5nIHRoZSBzaXplIGRlbHRhIG9mIHRoZSBwZW5kaW5nIGNoYW5nZXMuXG4gKlxuICogUE9SVElORyBOT1RFOiBUaGlzIGNsYXNzIHdhcyBpbXBsZW1lbnRlZCB0aGVuIHJlbW92ZWQgZnJvbSBvdGhlciBwbGF0Zm9ybXMuXG4gKiBJZiBieXRlLWNvdW50aW5nIGVuZHMgdXAgYmVpbmcgbmVlZGVkIG9uIHRoZSBvdGhlciBwbGF0Zm9ybXMsIGNvbnNpZGVyXG4gKiBwb3J0aW5nIHRoaXMgY2xhc3MgYXMgcGFydCBvZiB0aGF0IGltcGxlbWVudGF0aW9uIHdvcmsuXG4gKi8gY2xhc3MgS2kge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBBIG1hcHBpbmcgb2YgZG9jdW1lbnQga2V5IHRvIHRoZSBuZXcgY2FjaGUgZW50cnkgdGhhdCBzaG91bGQgYmUgd3JpdHRlbiAob3IgbnVsbCBpZiBhbnlcbiAgICAgICAgLy8gZXhpc3RpbmcgY2FjaGUgZW50cnkgc2hvdWxkIGJlIHJlbW92ZWQpLlxuICAgICAgICB0aGlzLmNoYW5nZXMgPSBuZXcgcWkoKHQgPT4gdC50b1N0cmluZygpKSwgKCh0LCBlKSA9PiB0LmlzRXF1YWwoZSkpKSwgdGhpcy5jaGFuZ2VzQXBwbGllZCA9ICExO1xuICAgIH1cbiAgICBnZXRSZWFkVGltZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNoYW5nZXMuZ2V0KHQpO1xuICAgICAgICByZXR1cm4gZSA/IGUucmVhZFRpbWUgOiBzdC5taW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVmZmVycyBhIGBSZW1vdGVEb2N1bWVudENhY2hlLmFkZEVudHJ5KClgIGNhbGwuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG9ubHkgbW9kaWZ5IGRvY3VtZW50cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHJldHJpZXZlZCB2aWFcbiAgICAgKiBgZ2V0RW50cnkoKS9nZXRFbnRyaWVzKClgIChlbmZvcmNlZCB2aWEgSW5kZXhlZERicyBgYXBwbHkoKWApLlxuICAgICAqLyAgICBhZGRFbnRyeSh0LCBlKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXMuc2V0KHQua2V5LCB7XG4gICAgICAgICAgICBkb2N1bWVudDogdCxcbiAgICAgICAgICAgIHJlYWRUaW1lOiBlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWZmZXJzIGEgYFJlbW90ZURvY3VtZW50Q2FjaGUucmVtb3ZlRW50cnkoKWAgY2FsbC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb25seSByZW1vdmUgZG9jdW1lbnRzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gcmV0cmlldmVkIHZpYVxuICAgICAqIGBnZXRFbnRyeSgpL2dldEVudHJpZXMoKWAgKGVuZm9yY2VkIHZpYSBJbmRleGVkRGJzIGBhcHBseSgpYCkuXG4gICAgICovICAgIHJlbW92ZUVudHJ5KHQsIGUgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXMuc2V0KHQsIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiBVdC5uZXdJbnZhbGlkRG9jdW1lbnQodCksXG4gICAgICAgICAgICByZWFkVGltZTogZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYW4gZW50cnkgaW4gdGhlIGNhY2hlLiBUaGUgYnVmZmVyZWQgY2hhbmdlcyB3aWxsIGZpcnN0IGJlIGNoZWNrZWQsXG4gICAgICogYW5kIGlmIG5vIGJ1ZmZlcmVkIGNoYW5nZSBhcHBsaWVzLCB0aGlzIHdpbGwgZm9yd2FyZCB0b1xuICAgICAqIGBSZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIGluIHdoaWNoIHRvIHBlcmZvcm0gYW55IHBlcnNpc3RlbmNlXG4gICAgICogICAgIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIGRvY3VtZW50IG9yIGFuIGludmFsaWQgZG9jdW1lbnQgaWYgd2UgaGF2ZSBub3RoaW5nXG4gICAgICogY2FjaGVkLlxuICAgICAqLyAgICBnZXRFbnRyeSh0LCBlKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5jaGFuZ2VzLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gbiA/IHFzLnJlc29sdmUobi5kb2N1bWVudCkgOiB0aGlzLmdldEZyb21DYWNoZSh0LCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgc2V2ZXJhbCBlbnRyaWVzIGluIHRoZSBjYWNoZSwgZm9yd2FyZGluZyB0b1xuICAgICAqIGBSZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIGluIHdoaWNoIHRvIHBlcmZvcm0gYW55IHBlcnNpc3RlbmNlXG4gICAgICogICAgIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5cyAtIFRoZSBrZXlzIG9mIHRoZSBlbnRyaWVzIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgQSBtYXAgb2YgY2FjaGVkIGRvY3VtZW50cywgaW5kZXhlZCBieSBrZXkuIElmIGFuIGVudHJ5IGNhbm5vdCBiZVxuICAgICAqICAgICBmb3VuZCwgdGhlIGNvcnJlc3BvbmRpbmcga2V5IHdpbGwgYmUgbWFwcGVkIHRvIGFuIGludmFsaWQgZG9jdW1lbnQuXG4gICAgICovICAgIGdldEVudHJpZXModCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxGcm9tQ2FjaGUodCwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYnVmZmVyZWQgY2hhbmdlcyB0byB0aGUgdW5kZXJseWluZyBSZW1vdGVEb2N1bWVudENhY2hlLCB1c2luZ1xuICAgICAqIHRoZSBwcm92aWRlZCB0cmFuc2FjdGlvbi5cbiAgICAgKi8gICAgYXBwbHkodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnROb3RBcHBsaWVkKCksIHRoaXMuY2hhbmdlc0FwcGxpZWQgPSAhMCwgdGhpcy5hcHBseUNoYW5nZXModCk7XG4gICAgfVxuICAgIC8qKiBIZWxwZXIgdG8gYXNzZXJ0IHRoaXMuY2hhbmdlcyBpcyBub3QgbnVsbCAgKi8gICAgYXNzZXJ0Tm90QXBwbGllZCgpIHt9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBSZW1vdGVEb2N1bWVudENhY2hlIGZvciBJbmRleGVkRGIuIFRvIGNvbnN0cnVjdCwgaW52b2tlXG4gKiBgbmV3SW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZSgpYC5cbiAqLyBjbGFzcyBqaSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZXIgLSBUaGUgZG9jdW1lbnQgc2VyaWFsaXplci5cbiAgICAgKiBAcGFyYW0gaW5kZXhNYW5hZ2VyIC0gVGhlIHF1ZXJ5IGluZGV4ZXMgdGhhdCBuZWVkIHRvIGJlIG1haW50YWluZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLk4gPSB0LCB0aGlzLkh0ID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgc3VwcGxpZWQgZW50cmllcyB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYGFkZEVudHJ5YCBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgIHRvIGVuc3VyZSBwcm9wZXIgYWNjb3VudGluZyBvZiBtZXRhZGF0YS5cbiAgICAgKi8gICAgYWRkRW50cnkodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gR2kodCkucHV0KHppKGUpLCBuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRvY3VtZW50IGZyb20gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgIGFyZSByZXF1aXJlZCB0byBnbyB0aHJvdWdoIHRoZSBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlclxuICAgICAqIHJldHVybmVkIGJ5IGBuZXdDaGFuZ2VCdWZmZXIoKWAgdG8gZW5zdXJlIHByb3BlciBhY2NvdW50aW5nIG9mIG1ldGFkYXRhLlxuICAgICAqLyAgICByZW1vdmVFbnRyeSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBHaSh0KSwgcyA9IHppKGUpO1xuICAgICAgICByZXR1cm4gbi5kZWxldGUocyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgY2FjaGUgc2l6ZS5cbiAgICAgKlxuICAgICAqIENhbGxlcnMgdG8gYGFkZEVudHJ5KClgIGFuZCBgcmVtb3ZlRW50cnkoKWAgKm11c3QqIGNhbGwgdGhpcyBhZnRlcndhcmRzIHRvIHVwZGF0ZSB0aGVcbiAgICAgKiBjYWNoZSdzIG1ldGFkYXRhLlxuICAgICAqLyAgICB1cGRhdGVNZXRhZGF0YSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKHQpLm5leHQoKG4gPT4gKG4uYnl0ZVNpemUgKz0gZSwgdGhpcy5BZSh0LCBuKSkpKTtcbiAgICB9XG4gICAgZ2V0RW50cnkodCwgZSkge1xuICAgICAgICByZXR1cm4gR2kodCkuZ2V0KHppKGUpKS5uZXh0KCh0ID0+IHRoaXMuUmUoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYW4gZW50cnkgaW4gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIGRvY3VtZW50IGVudHJ5IGFuZCBpdHMgc2l6ZS5cbiAgICAgKi8gICAgYmUodCwgZSkge1xuICAgICAgICByZXR1cm4gR2kodCkuZ2V0KHppKGUpKS5uZXh0KCh0ID0+ICh7XG4gICAgICAgICAgICBkb2N1bWVudDogdGhpcy5SZShlLCB0KSxcbiAgICAgICAgICAgIHNpemU6IFJpKHQpXG4gICAgICAgIH0pKSk7XG4gICAgfVxuICAgIGdldEVudHJpZXModCwgZSkge1xuICAgICAgICBsZXQgbiA9IHluKCk7XG4gICAgICAgIHJldHVybiB0aGlzLlBlKHQsIGUsICgodCwgZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuUmUodCwgZSk7XG4gICAgICAgICAgICBuID0gbi5pbnNlcnQodCwgcyk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIHNldmVyYWwgZW50cmllcyBpbiB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRLZXlzIC0gVGhlIHNldCBvZiBrZXlzIGVudHJpZXMgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBBIG1hcCBvZiBkb2N1bWVudHMgaW5kZXhlZCBieSBrZXkgYW5kIGEgbWFwIG9mIHNpemVzIGluZGV4ZWQgYnlcbiAgICAgKiAgICAga2V5ICh6ZXJvIGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBleGlzdCkuXG4gICAgICovICAgIHZlKHQsIGUpIHtcbiAgICAgICAgbGV0IG4gPSB5bigpLCBzID0gbmV3IGZuKFJ0LmNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5QZSh0LCBlLCAoKHQsIGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLlJlKHQsIGUpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KHQsIGkpLCBzID0gcy5pbnNlcnQodCwgUmkoZSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gKHtcbiAgICAgICAgICAgIGRvY3VtZW50czogbixcbiAgICAgICAgICAgIFZlOiBzXG4gICAgICAgIH0pKSk7XG4gICAgfVxuICAgIFBlKHQsIGUsIG4pIHtcbiAgICAgICAgaWYgKGUuaXNFbXB0eSgpKSByZXR1cm4gcXMucmVzb2x2ZSgpO1xuICAgICAgICBjb25zdCBzID0gSURCS2V5UmFuZ2UuYm91bmQoZS5maXJzdCgpLnBhdGgudG9BcnJheSgpLCBlLmxhc3QoKS5wYXRoLnRvQXJyYXkoKSksIGkgPSBlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGxldCByID0gaS5nZXROZXh0KCk7XG4gICAgICAgIHJldHVybiBHaSh0KS5LdCh7XG4gICAgICAgICAgICByYW5nZTogc1xuICAgICAgICB9LCAoKHQsIGUsIHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBSdC5mcm9tU2VnbWVudHModCk7XG4gICAgICAgICAgICAvLyBHbyB0aHJvdWdoIGtleXMgbm90IGZvdW5kIGluIGNhY2hlLlxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7ciAmJiBSdC5jb21wYXJhdG9yKHIsIG8pIDwgMDsgKSBuKHIsIG51bGwpLCByID0gaS5nZXROZXh0KCk7XG4gICAgICAgICAgICByICYmIHIuaXNFcXVhbChvKSAmJiAoXG4gICAgICAgICAgICAvLyBLZXkgZm91bmQgaW4gY2FjaGUuXG4gICAgICAgICAgICBuKHIsIGUpLCByID0gaS5oYXNOZXh0KCkgPyBpLmdldE5leHQoKSA6IG51bGwpLCBcbiAgICAgICAgICAgIC8vIFNraXAgdG8gdGhlIG5leHQga2V5IChpZiB0aGVyZSBpcyBvbmUpLlxuICAgICAgICAgICAgciA/IHMuTXQoci5wYXRoLnRvQXJyYXkoKSkgOiBzLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBrZXlzIGFyZSBub3QgaW4gdGhlIGNhY2hlLiBPbmUgY2FzZSB3aGVyZSBgaXRlcmF0ZWBcbiAgICAgICAgICAgIC8vIGFib3ZlIHdvbid0IGdvIHRocm91Z2ggdGhlbSBpcyB3aGVuIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgICAgICAgIGZvciAoO3I7ICkgbihyLCBudWxsKSwgciA9IGkuaGFzTmV4dCgpID8gaS5nZXROZXh0KCkgOiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkodCwgZSwgbikge1xuICAgICAgICBsZXQgcyA9IHluKCk7XG4gICAgICAgIGNvbnN0IGkgPSBlLnBhdGgubGVuZ3RoICsgMSwgciA9IHt9O1xuICAgICAgICBpZiAobi5pc0VxdWFsKHN0Lm1pbigpKSkge1xuICAgICAgICAgICAgLy8gRG9jdW1lbnRzIGFyZSBvcmRlcmVkIGJ5IGtleSwgc28gd2UgY2FuIHVzZSBhIHByZWZpeCBzY2FuIHRvIG5hcnJvd1xuICAgICAgICAgICAgLy8gZG93biB0aGUgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWF0Y2ggdGhlIHF1ZXJ5IGFnYWluc3QuXG4gICAgICAgICAgICBjb25zdCB0ID0gZS5wYXRoLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHIucmFuZ2UgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSBhbiBpbmRleC1mcmVlIHF1ZXJ5IGFuZCBmaWx0ZXIgYnkgcmVhZCB0aW1lLiBUaGlzIGlzIHNhZmVcbiAgICAgICAgICAgIC8vIHNpbmNlIGFsbCBkb2N1bWVudCBjaGFuZ2VzIHRvIHF1ZXJpZXMgdGhhdCBoYXZlIGFcbiAgICAgICAgICAgIC8vIGxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gKGBzaW5jZVJlYWRUaW1lYCkgaGF2ZSBhIHJlYWQgdGltZSBzZXQuXG4gICAgICAgICAgICBjb25zdCB0ID0gZS5wYXRoLnRvQXJyYXkoKSwgcyA9IG9pKG4pO1xuICAgICAgICAgICAgci5yYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQoWyB0LCBzIF0sIFxuICAgICAgICAgICAgLyogb3Blbj0gKi8gITApLCByLmluZGV4ID0gRHMuY29sbGVjdGlvblJlYWRUaW1lSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEdpKHQpLkt0KHIsICgodCwgbiwgcikgPT4ge1xuICAgICAgICAgICAgLy8gVGhlIHF1ZXJ5IGlzIGFjdHVhbGx5IHJldHVybmluZyBhbnkgcGF0aCB0aGF0IHN0YXJ0cyB3aXRoIHRoZSBxdWVyeVxuICAgICAgICAgICAgLy8gcGF0aCBwcmVmaXggd2hpY2ggbWF5IGluY2x1ZGUgZG9jdW1lbnRzIGluIHN1YmNvbGxlY3Rpb25zLiBGb3JcbiAgICAgICAgICAgIC8vIGV4YW1wbGUsIGEgcXVlcnkgb24gJ3Jvb21zJyB3aWxsIHJldHVybiByb29tcy9hYmMvbWVzc2FnZXMveHl4IGJ1dCB3ZVxuICAgICAgICAgICAgLy8gc2hvdWxkbid0IG1hdGNoIGl0LiBGaXggdGhpcyBieSBkaXNjYXJkaW5nIHJvd3Mgd2l0aCBkb2N1bWVudCBrZXlzXG4gICAgICAgICAgICAvLyBtb3JlIHRoYW4gb25lIHNlZ21lbnQgbG9uZ2VyIHRoYW4gdGhlIHF1ZXJ5IHBhdGguXG4gICAgICAgICAgICBpZiAodC5sZW5ndGggIT09IGkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBpaSh0aGlzLk4sIG4pO1xuICAgICAgICAgICAgZS5wYXRoLmlzUHJlZml4T2Yoby5rZXkucGF0aCkgPyBSZShlLCBvKSAmJiAocyA9IHMuaW5zZXJ0KG8ua2V5LCBvKSkgOiByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHMpKTtcbiAgICB9XG4gICAgbmV3Q2hhbmdlQnVmZmVyKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRaSh0aGlzLCAhIXQgJiYgdC50cmFja1JlbW92YWxzKTtcbiAgICB9XG4gICAgZ2V0U2l6ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKHQpLm5leHQoKHQgPT4gdC5ieXRlU2l6ZSkpO1xuICAgIH1cbiAgICBnZXRNZXRhZGF0YSh0KSB7XG4gICAgICAgIHJldHVybiBXaSh0KS5nZXQoQ3Mua2V5KS5uZXh0KCh0ID0+IChNKCEhdCksIHQpKSk7XG4gICAgfVxuICAgIEFlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIFdpKHQpLnB1dChDcy5rZXksIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIGByZW1vdGVEb2NgIGFuZCByZXR1cm5zIHRoZSBkb2N1bWVudCAob3IgbnVsbCwgaWYgdGhlIGRvY3VtZW50XG4gICAgICogY29ycmVzcG9uZHMgdG8gdGhlIGZvcm1hdCB1c2VkIGZvciBzZW50aW5lbCBkZWxldGVzKS5cbiAgICAgKi8gICAgUmUodCwgZSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGlpKHRoaXMuTiwgZSk7XG4gICAgICAgICAgICAvLyBXaGV0aGVyIHRoZSBkb2N1bWVudCBpcyBhIHNlbnRpbmVsIHJlbW92YWwgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGhlXG4gICAgICAgICAgICAvLyBgZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKClgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0LmlzTm9Eb2N1bWVudCgpICYmIHQudmVyc2lvbi5pc0VxdWFsKHN0Lm1pbigpKSkpIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBVdC5uZXdJbnZhbGlkRG9jdW1lbnQodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqXG4gKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBkb2N1bWVudCBzZXJpYWxpemVyLlxuICogQHBhcmFtIGluZGV4TWFuYWdlciAtIFRoZSBxdWVyeSBpbmRleGVzIHRoYXQgbmVlZCB0byBiZSBtYWludGFpbmVkLlxuICovXG4vKipcbiAqIEhhbmRsZXMgdGhlIGRldGFpbHMgb2YgYWRkaW5nIGFuZCB1cGRhdGluZyBkb2N1bWVudHMgaW4gdGhlIEluZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKlxuICogVW5saWtlIHRoZSBNZW1vcnlSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciwgdGhlIEluZGV4ZWREYiBpbXBsZW1lbnRhdGlvbiBjb21wdXRlcyB0aGUgc2l6ZVxuICogZGVsdGEgZm9yIGFsbCBzdWJtaXR0ZWQgY2hhbmdlcy4gVGhpcyBhdm9pZHMgaGF2aW5nIHRvIHJlLXJlYWQgYWxsIGRvY3VtZW50cyBmcm9tIEluZGV4ZWREYlxuICogd2hlbiB3ZSBhcHBseSB0aGUgY2hhbmdlcy5cbiAqL1xuY2xhc3MgUWkgZXh0ZW5kcyBLaSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRvY3VtZW50Q2FjaGUgLSBUaGUgSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZSB0byBhcHBseSB0aGUgY2hhbmdlcyB0by5cbiAgICAgKiBAcGFyYW0gdHJhY2tSZW1vdmFscyAtIFdoZXRoZXIgdG8gY3JlYXRlIHNlbnRpbmVsIGRlbGV0ZXMgdGhhdCBjYW4gYmUgdHJhY2tlZCBieVxuICAgICAqIGBnZXROZXdEb2N1bWVudENoYW5nZXMoKWAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLlNlID0gdCwgdGhpcy50cmFja1JlbW92YWxzID0gZSwgXG4gICAgICAgIC8vIEEgbWFwIG9mIGRvY3VtZW50IHNpemVzIHByaW9yIHRvIGFwcGx5aW5nIHRoZSBjaGFuZ2VzIGluIHRoaXMgYnVmZmVyLlxuICAgICAgICB0aGlzLkRlID0gbmV3IHFpKCh0ID0+IHQudG9TdHJpbmcoKSksICgodCwgZSkgPT4gdC5pc0VxdWFsKGUpKSk7XG4gICAgfVxuICAgIGFwcGx5Q2hhbmdlcyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgbGV0IG4gPSAwLCBzID0gbmV3IF9uKCgodCwgZSkgPT4gWih0LmNhbm9uaWNhbFN0cmluZygpLCBlLmNhbm9uaWNhbFN0cmluZygpKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goKChpLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gdGhpcy5EZS5nZXQoaSk7XG4gICAgICAgICAgICBpZiAoci5kb2N1bWVudC5pc1ZhbGlkRG9jdW1lbnQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSByaSh0aGlzLlNlLk4sIHIuZG9jdW1lbnQsIHRoaXMuZ2V0UmVhZFRpbWUoaSkpO1xuICAgICAgICAgICAgICAgIHMgPSBzLmFkZChpLnBhdGgucG9wTGFzdCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gUmkoYSk7XG4gICAgICAgICAgICAgICAgbiArPSBjIC0gbywgZS5wdXNoKHRoaXMuU2UuYWRkRW50cnkodCwgaSwgYSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuIC09IG8sIHRoaXMudHJhY2tSZW1vdmFscykge1xuICAgICAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIHRyYWNrIHJlbW92YWxzLCB3ZSBzdG9yZSBhIFwic2VudGluZWwgZGVsZXRlXCIgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlRG9jdW1lbnRDYWNoZS4gVGhpcyBlbnRyeSBpcyByZXByZXNlbnRlZCBieSBhIE5vRG9jdW1lbnRcbiAgICAgICAgICAgICAgICAvLyB3aXRoIGEgdmVyc2lvbiBvZiAwIGFuZCBpZ25vcmVkIGJ5IGBtYXliZURlY29kZURvY3VtZW50KClgIGJ1dFxuICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlZCBpbiBgZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKClgLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSByaSh0aGlzLlNlLk4sIFV0Lm5ld05vRG9jdW1lbnQoaSwgc3QubWluKCkpLCB0aGlzLmdldFJlYWRUaW1lKGkpKTtcbiAgICAgICAgICAgICAgICBlLnB1c2godGhpcy5TZS5hZGRFbnRyeSh0LCBpLCBuKSk7XG4gICAgICAgICAgICB9IGVsc2UgZS5wdXNoKHRoaXMuU2UucmVtb3ZlRW50cnkodCwgaSkpO1xuICAgICAgICB9KSksIHMuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICBlLnB1c2godGhpcy5TZS5IdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LCBuKSk7XG4gICAgICAgIH0pKSwgZS5wdXNoKHRoaXMuU2UudXBkYXRlTWV0YWRhdGEodCwgbikpLCBxcy53YWl0Rm9yKGUpO1xuICAgIH1cbiAgICBnZXRGcm9tQ2FjaGUodCwgZSkge1xuICAgICAgICAvLyBSZWNvcmQgdGhlIHNpemUgb2YgZXZlcnl0aGluZyB3ZSBsb2FkIGZyb20gdGhlIGNhY2hlIHNvIHdlIGNhbiBjb21wdXRlIGEgZGVsdGEgbGF0ZXIuXG4gICAgICAgIHJldHVybiB0aGlzLlNlLmJlKHQsIGUpLm5leHQoKHQgPT4gKHRoaXMuRGUuc2V0KGUsIHQuc2l6ZSksIHQuZG9jdW1lbnQpKSk7XG4gICAgfVxuICAgIGdldEFsbEZyb21DYWNoZSh0LCBlKSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgc2l6ZSBvZiBldmVyeXRoaW5nIHdlIGxvYWQgZnJvbSB0aGUgY2FjaGUgc28gd2UgY2FuIGNvbXB1dGVcbiAgICAgICAgLy8gYSBkZWx0YSBsYXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuU2UudmUodCwgZSkubmV4dCgoKHtkb2N1bWVudHM6IHQsIFZlOiBlfSkgPT4gKFxuICAgICAgICAvLyBOb3RlOiBgZ2V0QWxsRnJvbUNhY2hlYCByZXR1cm5zIHR3byBtYXBzIGluc3RlYWQgb2YgYSBzaW5nbGUgbWFwIGZyb21cbiAgICAgICAgLy8ga2V5cyB0byBgRG9jdW1lbnRTaXplRW50cnlgcy4gVGhpcyBpcyB0byBhbGxvdyByZXR1cm5pbmcgdGhlXG4gICAgICAgIC8vIGBNdXRhYmxlRG9jdW1lbnRNYXBgIGRpcmVjdGx5LCB3aXRob3V0IGEgY29udmVyc2lvbi5cbiAgICAgICAgZS5mb3JFYWNoKCgodCwgZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5EZS5zZXQodCwgZSk7XG4gICAgICAgIH0pKSwgdCkpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFdpKHQpIHtcbiAgICByZXR1cm4gWnModCwgQ3Muc3RvcmUpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcmVtb3RlRG9jdW1lbnRzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBHaSh0KSB7XG4gICAgcmV0dXJuIFpzKHQsIERzLnN0b3JlKTtcbn1cblxuZnVuY3Rpb24gemkodCkge1xuICAgIHJldHVybiB0LnBhdGgudG9BcnJheSgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFBlcmZvcm1zIGRhdGFiYXNlIGNyZWF0aW9uIGFuZCBzY2hlbWEgdXBncmFkZXMuICovIGNsYXNzIEhpIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuTiA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGRhdGFiYXNlIGNyZWF0aW9uIGFuZCBzY2hlbWEgdXBncmFkZXMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaW4gcHJvZHVjdGlvbiwgdGhpcyBtZXRob2QgaXMgb25seSBldmVyIHVzZWQgdG8gdXBncmFkZSB0aGUgc2NoZW1hXG4gICAgICogdG8gU0NIRU1BX1ZFUlNJT04uIERpZmZlcmVudCB2YWx1ZXMgb2YgdG9WZXJzaW9uIGFyZSBvbmx5IHVzZWQgZm9yIHRlc3RpbmdcbiAgICAgKiBhbmQgbG9jYWwgZmVhdHVyZSBkZXZlbG9wbWVudC5cbiAgICAgKi8gICAgQ3QodCwgZSwgbiwgcykge1xuICAgICAgICBNKG4gPCBzICYmIG4gPj0gMCAmJiBzIDw9IDExKTtcbiAgICAgICAgY29uc3QgaSA9IG5ldyBLcyhcImNyZWF0ZU9yVXBncmFkZVwiLCBlKTtcbiAgICAgICAgbiA8IDEgJiYgcyA+PSAxICYmIChmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICB0LmNyZWF0ZU9iamVjdFN0b3JlKFJzLnN0b3JlKTtcbiAgICAgICAgfSh0KSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgdC5jcmVhdGVPYmplY3RTdG9yZShicy5zdG9yZSwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IGJzLmtleVBhdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdC5jcmVhdGVPYmplY3RTdG9yZShQcy5zdG9yZSwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFBzLmtleVBhdGgsXG4gICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogITBcbiAgICAgICAgICAgIH0pLmNyZWF0ZUluZGV4KFBzLnVzZXJNdXRhdGlvbnNJbmRleCwgUHMudXNlck11dGF0aW9uc0tleVBhdGgsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICEwXG4gICAgICAgICAgICB9KSwgdC5jcmVhdGVPYmplY3RTdG9yZSh2cy5zdG9yZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBVcGdyYWRlIGZ1bmN0aW9uIHRvIG1pZ3JhdGUgdGhlICdtdXRhdGlvbnMnIHN0b3JlIGZyb20gVjEgdG8gVjMuIExvYWRzXG4gKiBhbmQgcmV3cml0ZXMgYWxsIGRhdGEuXG4gKi8gKHQpLCBKaSh0KSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgdC5jcmVhdGVPYmplY3RTdG9yZShEcy5zdG9yZSk7XG4gICAgICAgIH0odCkpO1xuICAgICAgICAvLyBNaWdyYXRpb24gMiB0byBwb3B1bGF0ZSB0aGUgdGFyZ2V0R2xvYmFsIG9iamVjdCBubyBsb25nZXIgbmVlZGVkIHNpbmNlXG4gICAgICAgIC8vIG1pZ3JhdGlvbiAzIHVuY29uZGl0aW9uYWxseSBjbGVhcnMgaXQuXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBxcy5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBuIDwgMyAmJiBzID49IDMgJiYgKFxuICAgICAgICAvLyBCcmFuZCBuZXcgY2xpZW50cyBkb24ndCBuZWVkIHRvIGRyb3AgYW5kIHJlY3JlYXRlLS1vbmx5IGNsaWVudHMgdGhhdFxuICAgICAgICAvLyBwb3RlbnRpYWxseSBoYXZlIGNvcnJ1cHQgZGF0YS5cbiAgICAgICAgMCAhPT0gbiAmJiAoIWZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHQuZGVsZXRlT2JqZWN0U3RvcmUoeHMuc3RvcmUpLCB0LmRlbGV0ZU9iamVjdFN0b3JlKE5zLnN0b3JlKSwgdC5kZWxldGVPYmplY3RTdG9yZShrcy5zdG9yZSk7XG4gICAgICAgIH0odCksIEppKHQpKSwgciA9IHIubmV4dCgoKCkgPT4gXG4gICAgICAgIC8qKlxuICogQ3JlYXRlcyB0aGUgdGFyZ2V0IGdsb2JhbCBzaW5nbGV0b24gcm93LlxuICpcbiAqIEBwYXJhbSB0eG4gLSBUaGUgdmVyc2lvbiB1cGdyYWRlIHRyYW5zYWN0aW9uIGZvciBpbmRleGVkZGJcbiAqL1xuICAgICAgICBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5zdG9yZShrcy5zdG9yZSksIG4gPSBuZXcga3MoXG4gICAgICAgICAgICAvKmhpZ2hlc3RUYXJnZXRJZD0qLyAwLCBcbiAgICAgICAgICAgIC8qbGFzdExpc3RlblNlcXVlbmNlTnVtYmVyPSovIDAsIHN0Lm1pbigpLnRvVGltZXN0YW1wKCksIFxuICAgICAgICAgICAgLyp0YXJnZXRDb3VudD0qLyAwKTtcbiAgICAgICAgICAgIHJldHVybiBlLnB1dChrcy5rZXksIG4pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQ3JlYXRlcyBpbmRpY2VzIG9uIHRoZSBSZW1vdGVEb2N1bWVudHMgc3RvcmUgdXNlZCBmb3IgYm90aCBtdWx0aS10YWJcbiAqIGFuZCBJbmRleC1GcmVlIHF1ZXJpZXMuXG4gKi8gKGkpKSkpLCBuIDwgNCAmJiBzID49IDQgJiYgKDAgIT09IG4gJiYgKFxuICAgICAgICAvLyBTY2hlbWEgdmVyc2lvbiAzIHVzZXMgYXV0by1nZW5lcmF0ZWQga2V5cyB0byBnZW5lcmF0ZSBnbG9iYWxseSB1bmlxdWVcbiAgICAgICAgLy8gbXV0YXRpb24gYmF0Y2ggSURzICh0aGlzIHdhcyBwcmV2aW91c2x5IGVuc3VyZWQgaW50ZXJuYWxseSBieSB0aGVcbiAgICAgICAgLy8gY2xpZW50KS4gVG8gbWlncmF0ZSB0byB0aGUgbmV3IHNjaGVtYSwgd2UgaGF2ZSB0byByZWFkIGFsbCBtdXRhdGlvbnNcbiAgICAgICAgLy8gYW5kIHdyaXRlIHRoZW0gYmFjayBvdXQuIFdlIHByZXNlcnZlIHRoZSBleGlzdGluZyBiYXRjaCBJRHMgdG8gZ3VhcmFudGVlXG4gICAgICAgIC8vIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgb2JqZWN0IHN0b3Jlcy4gQW55IGZ1cnRoZXIgbXV0YXRpb24gYmF0Y2ggSURzIHdpbGxcbiAgICAgICAgLy8gYmUgYXV0by1nZW5lcmF0ZWQuXG4gICAgICAgIHIgPSByLm5leHQoKCgpID0+IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLnN0b3JlKFBzLnN0b3JlKS5MdCgpLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIHQuZGVsZXRlT2JqZWN0U3RvcmUoUHMuc3RvcmUpO1xuICAgICAgICAgICAgICAgIHQuY3JlYXRlT2JqZWN0U3RvcmUoUHMuc3RvcmUsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogUHMua2V5UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogITBcbiAgICAgICAgICAgICAgICB9KS5jcmVhdGVJbmRleChQcy51c2VyTXV0YXRpb25zSW5kZXgsIFBzLnVzZXJNdXRhdGlvbnNLZXlQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZS5zdG9yZShQcy5zdG9yZSksIGkgPSBuLm1hcCgodCA9PiBzLnB1dCh0KSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBxcy53YWl0Rm9yKGkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KHQsIGkpKSkpLCByID0gci5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAhZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHQuY3JlYXRlT2JqZWN0U3RvcmUoT3Muc3RvcmUsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogT3Mua2V5UGF0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSh0KTtcbiAgICAgICAgfSkpKSwgbiA8IDUgJiYgcyA+PSA1ICYmIChyID0gci5uZXh0KCgoKSA9PiB0aGlzLkNlKGkpKSkpLCBuIDwgNiAmJiBzID49IDYgJiYgKHIgPSByLm5leHQoKCgpID0+IChmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICB0LmNyZWF0ZU9iamVjdFN0b3JlKENzLnN0b3JlKTtcbiAgICAgICAgfSh0KSwgdGhpcy5OZShpKSkpKSksIG4gPCA3ICYmIHMgPj0gNyAmJiAociA9IHIubmV4dCgoKCkgPT4gdGhpcy54ZShpKSkpKSwgbiA8IDggJiYgcyA+PSA4ICYmIChyID0gci5uZXh0KCgoKSA9PiB0aGlzLmtlKHQsIGkpKSkpLCBcbiAgICAgICAgbiA8IDkgJiYgcyA+PSA5ICYmIChyID0gci5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBNdWx0aS1UYWIgdXNlZCB0byBtYW5hZ2UgaXRzIG93biBjaGFuZ2Vsb2csIGJ1dCB0aGlzIGhhcyBiZWVuIG1vdmVkXG4gICAgICAgICAgICAvLyB0byB0aGUgRGJSZW1vdGVEb2N1bWVudCBvYmplY3Qgc3RvcmUgaXRzZWxmLiBTaW5jZSB0aGUgcHJldmlvdXMgY2hhbmdlXG4gICAgICAgICAgICAvLyBsb2cgb25seSBjb250YWluZWQgdHJhbnNpZW50IGRhdGEsIHdlIGNhbiBkcm9wIGl0cyBvYmplY3Qgc3RvcmUuXG4gICAgICAgICAgICAhZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHQub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcInJlbW90ZURvY3VtZW50Q2hhbmdlc1wiKSAmJiB0LmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpO1xuICAgICAgICAgICAgfSh0KSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0Lm9iamVjdFN0b3JlKERzLnN0b3JlKTtcbiAgICAgICAgICAgICAgICBlLmNyZWF0ZUluZGV4KERzLnJlYWRUaW1lSW5kZXgsIERzLnJlYWRUaW1lSW5kZXhQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITFcbiAgICAgICAgICAgICAgICB9KSwgZS5jcmVhdGVJbmRleChEcy5jb2xsZWN0aW9uUmVhZFRpbWVJbmRleCwgRHMuY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0oZSk7XG4gICAgICAgIH0pKSksIG4gPCAxMCAmJiBzID49IDEwICYmIChyID0gci5uZXh0KCgoKSA9PiB0aGlzLiRlKGkpKSkpLCBuIDwgMTEgJiYgcyA+PSAxMSAmJiAociA9IHIubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgIWZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB0LmNyZWF0ZU9iamVjdFN0b3JlKEZzLnN0b3JlLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IEZzLmtleVBhdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0odCksIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB0LmNyZWF0ZU9iamVjdFN0b3JlKE1zLnN0b3JlLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IE1zLmtleVBhdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0KTtcbiAgICAgICAgfSkpKSwgcjtcbiAgICB9XG4gICAgTmUodCkge1xuICAgICAgICBsZXQgZSA9IDA7XG4gICAgICAgIHJldHVybiB0LnN0b3JlKERzLnN0b3JlKS5LdCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGUgKz0gUmkobik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IENzKGUpO1xuICAgICAgICAgICAgcmV0dXJuIHQuc3RvcmUoQ3Muc3RvcmUpLnB1dChDcy5rZXksIG4pO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIENlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuc3RvcmUoYnMuc3RvcmUpLCBuID0gdC5zdG9yZShQcy5zdG9yZSk7XG4gICAgICAgIHJldHVybiBlLkx0KCkubmV4dCgoZSA9PiBxcy5mb3JFYWNoKGUsIChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBJREJLZXlSYW5nZS5ib3VuZChbIGUudXNlcklkLCAtMSBdLCBbIGUudXNlcklkLCBlLmxhc3RBY2tub3dsZWRnZWRCYXRjaElkIF0pO1xuICAgICAgICAgICAgcmV0dXJuIG4uTHQoUHMudXNlck11dGF0aW9uc0luZGV4LCBzKS5uZXh0KChuID0+IHFzLmZvckVhY2gobiwgKG4gPT4ge1xuICAgICAgICAgICAgICAgIE0obi51c2VySWQgPT09IGUudXNlcklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gaGkodGhpcy5OLCBuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQWkodCwgZS51c2VySWQsIHMpLm5leHQoKCgpID0+IHt9KSk7XG4gICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCBldmVyeSBkb2N1bWVudCBpbiB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlIGhhcyBhIGNvcnJlc3BvbmRpbmcgc2VudGluZWwgcm93XG4gICAgICogd2l0aCBhIHNlcXVlbmNlIG51bWJlci4gTWlzc2luZyByb3dzIGFyZSBnaXZlbiB0aGUgbW9zdCByZWNlbnRseSB1c2VkIHNlcXVlbmNlIG51bWJlci5cbiAgICAgKi8gICAgeGUodCkge1xuICAgICAgICBjb25zdCBlID0gdC5zdG9yZSh4cy5zdG9yZSksIG4gPSB0LnN0b3JlKERzLnN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHQuc3RvcmUoa3Muc3RvcmUpLmdldChrcy5rZXkpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIG4uS3QoKChuLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBjdChuKSwgbyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgMCwgcHModCkgXTtcbiAgICAgICAgICAgICAgICB9KHIpO1xuICAgICAgICAgICAgICAgIHMucHVzaChlLmdldChvKS5uZXh0KChuID0+IG4gPyBxcy5yZXNvbHZlKCkgOiAobiA9PiBlLnB1dChuZXcgeHMoMCwgcHMobiksIHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyKSkpKHIpKSkpO1xuICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IHFzLndhaXRGb3IocykpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBrZSh0LCBlKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgaW5kZXguXG4gICAgICAgIHQuY3JlYXRlT2JqZWN0U3RvcmUoJHMuc3RvcmUsIHtcbiAgICAgICAgICAgIGtleVBhdGg6ICRzLmtleVBhdGhcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG4gPSBlLnN0b3JlKCRzLnN0b3JlKSwgcyA9IG5ldyB5aSwgaSA9IHQgPT4ge1xuICAgICAgICAgICAgaWYgKHMuYWRkKHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQubGFzdFNlZ21lbnQoKSwgcyA9IHQucG9wTGFzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnB1dCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwcyhzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBIZWxwZXIgdG8gYWRkIGFuIGluZGV4IGVudHJ5IGlmZiB3ZSBoYXZlbid0IGFscmVhZHkgd3JpdHRlbiBpdC5cbiAgICAgICAgICAgICAgICAvLyBJbmRleCBleGlzdGluZyByZW1vdGUgZG9jdW1lbnRzLlxuICAgICAgICByZXR1cm4gZS5zdG9yZShEcy5zdG9yZSkuS3Qoe1xuICAgICAgICAgICAgcXQ6ICEwXG4gICAgICAgIH0sICgodCwgZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IG5ldyBjdCh0KTtcbiAgICAgICAgICAgIHJldHVybiBpKG4ucG9wTGFzdCgpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGUuc3RvcmUodnMuc3RvcmUpLkt0KHtcbiAgICAgICAgICAgIHF0OiAhMFxuICAgICAgICB9LCAoKFt0LCBlLCBuXSwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IElzKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGkoci5wb3BMYXN0KCkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgJGUodCkge1xuICAgICAgICBjb25zdCBlID0gdC5zdG9yZShOcy5zdG9yZSk7XG4gICAgICAgIHJldHVybiBlLkt0KCgodCwgbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IGxpKG4pLCBpID0gZmkodGhpcy5OLCBzKTtcbiAgICAgICAgICAgIHJldHVybiBlLnB1dChpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gSmkodCkge1xuICAgIHQuY3JlYXRlT2JqZWN0U3RvcmUoeHMuc3RvcmUsIHtcbiAgICAgICAga2V5UGF0aDogeHMua2V5UGF0aFxuICAgIH0pLmNyZWF0ZUluZGV4KHhzLmRvY3VtZW50VGFyZ2V0c0luZGV4LCB4cy5kb2N1bWVudFRhcmdldHNLZXlQYXRoLCB7XG4gICAgICAgIHVuaXF1ZTogITBcbiAgICB9KTtcbiAgICAvLyBOT1RFOiBUaGlzIGlzIHVuaXF1ZSBvbmx5IGJlY2F1c2UgdGhlIFRhcmdldElkIGlzIHRoZSBzdWZmaXguXG4gICAgdC5jcmVhdGVPYmplY3RTdG9yZShOcy5zdG9yZSwge1xuICAgICAgICBrZXlQYXRoOiBOcy5rZXlQYXRoXG4gICAgfSkuY3JlYXRlSW5kZXgoTnMucXVlcnlUYXJnZXRzSW5kZXhOYW1lLCBOcy5xdWVyeVRhcmdldHNLZXlQYXRoLCB7XG4gICAgICAgIHVuaXF1ZTogITBcbiAgICB9KSwgdC5jcmVhdGVPYmplY3RTdG9yZShrcy5zdG9yZSk7XG59XG5cbmNvbnN0IFlpID0gXCJGYWlsZWQgdG8gb2J0YWluIGV4Y2x1c2l2ZSBhY2Nlc3MgdG8gdGhlIHBlcnNpc3RlbmNlIGxheWVyLiBUbyBhbGxvdyBzaGFyZWQgYWNjZXNzLCBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uIGhhcyB0byBiZSBlbmFibGVkIGluIGFsbCB0YWJzLiBJZiB5b3UgYXJlIHVzaW5nIGBleHBlcmltZW50YWxGb3JjZU93bmluZ1RhYjp0cnVlYCwgbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgdGFiIGhhcyBwZXJzaXN0ZW5jZSBlbmFibGVkIGF0IGFueSBnaXZlbiB0aW1lLlwiO1xuXG4vKipcbiAqIE9sZGVzdCBhY2NlcHRhYmxlIGFnZSBpbiBtaWxsaXNlY29uZHMgZm9yIGNsaWVudCBtZXRhZGF0YSBiZWZvcmUgdGhlIGNsaWVudFxuICogaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgaXRzIGFzc29jaWF0ZWQgZGF0YSBpcyBnYXJiYWdlIGNvbGxlY3RlZC5cbiAqL1xuLyoqXG4gKiBBbiBJbmRleGVkREItYmFja2VkIGluc3RhbmNlIG9mIFBlcnNpc3RlbmNlLiBEYXRhIGlzIHN0b3JlZCBwZXJzaXN0ZW50bHlcbiAqIGFjcm9zcyBzZXNzaW9ucy5cbiAqXG4gKiBPbiBXZWIgb25seSwgdGhlIEZpcmVzdG9yZSBTREtzIHN1cHBvcnQgc2hhcmVkIGFjY2VzcyB0byBpdHMgcGVyc2lzdGVuY2VcbiAqIGxheWVyLiBUaGlzIGFsbG93cyBtdWx0aXBsZSBicm93c2VyIHRhYnMgdG8gcmVhZCBhbmQgd3JpdGUgdG8gSW5kZXhlZERiIGFuZFxuICogdG8gc3luY2hyb25pemUgc3RhdGUgZXZlbiB3aXRob3V0IG5ldHdvcmsgY29ubmVjdGl2aXR5LiBTaGFyZWQgYWNjZXNzIGlzXG4gKiBjdXJyZW50bHkgb3B0aW9uYWwgYW5kIG5vdCBlbmFibGVkIHVubGVzcyBhbGwgY2xpZW50cyBpbnZva2VcbiAqIGBlbmFibGVQZXJzaXN0ZW5jZSgpYCB3aXRoIGB7c3luY2hyb25pemVUYWJzOnRydWV9YC5cbiAqXG4gKiBJbiBtdWx0aS10YWIgbW9kZSwgaWYgbXVsdGlwbGUgY2xpZW50cyBhcmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUsIHRoZSBTREtcbiAqIHdpbGwgZGVzaWduYXRlIG9uZSBjbGllbnQgYXMgdGhlIOKAnHByaW1hcnkgY2xpZW504oCdLiBBbiBlZmZvcnQgaXMgbWFkZSB0byBwaWNrXG4gKiBhIHZpc2libGUsIG5ldHdvcmstY29ubmVjdGVkIGFuZCBhY3RpdmUgY2xpZW50LCBhbmQgdGhpcyBjbGllbnQgaXNcbiAqIHJlc3BvbnNpYmxlIGZvciBsZXR0aW5nIG90aGVyIGNsaWVudHMga25vdyBhYm91dCBpdHMgcHJlc2VuY2UuIFRoZSBwcmltYXJ5XG4gKiBjbGllbnQgd3JpdGVzIGEgdW5pcXVlIGNsaWVudC1nZW5lcmF0ZWQgaWRlbnRpZmllciAodGhlIGNsaWVudCBJRCkgdG9cbiAqIEluZGV4ZWREYuKAmXMg4oCcb3duZXLigJ0gc3RvcmUgZXZlcnkgNCBzZWNvbmRzLiBJZiB0aGUgcHJpbWFyeSBjbGllbnQgZmFpbHMgdG9cbiAqIHVwZGF0ZSB0aGlzIGVudHJ5LCBhbm90aGVyIGNsaWVudCBjYW4gYWNxdWlyZSB0aGUgbGVhc2UgYW5kIHRha2Ugb3ZlciBhc1xuICogcHJpbWFyeS5cbiAqXG4gKiBTb21lIHBlcnNpc3RlbmNlIG9wZXJhdGlvbnMgaW4gdGhlIFNESyBhcmUgZGVzaWduYXRlZCBhcyBwcmltYXJ5LWNsaWVudCBvbmx5XG4gKiBvcGVyYXRpb25zLiBUaGlzIGluY2x1ZGVzIHRoZSBhY2tub3dsZWRnbWVudCBvZiBtdXRhdGlvbnMgYW5kIGFsbCB1cGRhdGVzIG9mXG4gKiByZW1vdGUgZG9jdW1lbnRzLiBUaGUgZWZmZWN0cyBvZiB0aGVzZSBvcGVyYXRpb25zIGFyZSB3cml0dGVuIHRvIHBlcnNpc3RlbmNlXG4gKiBhbmQgdGhlbiBicm9hZGNhc3QgdG8gb3RoZXIgdGFicyB2aWEgTG9jYWxTdG9yYWdlIChzZWVcbiAqIGBXZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGVgKSwgd2hpY2ggdGhlbiByZWZyZXNoIHRoZWlyIHN0YXRlIGZyb21cbiAqIHBlcnNpc3RlbmNlLlxuICpcbiAqIFNpbWlsYXJseSwgdGhlIHByaW1hcnkgY2xpZW50IGxpc3RlbnMgdG8gbm90aWZpY2F0aW9ucyBzZW50IGJ5IHNlY29uZGFyeVxuICogY2xpZW50cyB0byBkaXNjb3ZlciBwZXJzaXN0ZW5jZSBjaGFuZ2VzIHdyaXR0ZW4gYnkgc2Vjb25kYXJ5IGNsaWVudHMsIHN1Y2ggYXNcbiAqIHRoZSBhZGRpdGlvbiBvZiBuZXcgbXV0YXRpb25zIGFuZCBxdWVyeSB0YXJnZXRzLlxuICpcbiAqIElmIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZCBhbmQgYW5vdGhlciB0YWIgYWxyZWFkeSBvYnRhaW5lZCB0aGUgcHJpbWFyeVxuICogbGVhc2UsIEluZGV4ZWREYlBlcnNpc3RlbmNlIGVudGVycyBhIGZhaWxlZCBzdGF0ZSBhbmQgYWxsIHN1YnNlcXVlbnRcbiAqIG9wZXJhdGlvbnMgd2lsbCBhdXRvbWF0aWNhbGx5IGZhaWwuXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGVyZSBpcyBhbiBvcHRpbWl6YXRpb24gc28gdGhhdCB3aGVuIGEgdGFiIGlzIGNsb3NlZCwgdGhlXG4gKiBwcmltYXJ5IGxlYXNlIGlzIHJlbGVhc2VkIGltbWVkaWF0ZWx5ICh0aGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IHRvIG1ha2VcbiAqIHN1cmUgdGhhdCBhIHJlZnJlc2hlZCB0YWIgaXMgYWJsZSB0byBpbW1lZGlhdGVseSByZS1hY3F1aXJlIHRoZSBwcmltYXJ5XG4gKiBsZWFzZSkuIFVuZm9ydHVuYXRlbHksIEluZGV4ZWREQiBjYW5ub3QgYmUgcmVsaWFibHkgdXNlZCBpbiB3aW5kb3cudW5sb2FkXG4gKiBzaW5jZSBpdCBpcyBhbiBhc3luY2hyb25vdXMgQVBJLiBTbyBpbiBhZGRpdGlvbiB0byBhdHRlbXB0aW5nIHRvIGdpdmUgdXAgdGhlXG4gKiBsZWFzZSwgdGhlIGxlYXNlaG9sZGVyIHdyaXRlcyBpdHMgY2xpZW50IElEIHRvIGEgXCJ6b21iaWVkQ2xpZW50XCIgZW50cnkgaW5cbiAqIExvY2FsU3RvcmFnZSB3aGljaCBhY3RzIGFzIGFuIGluZGljYXRvciB0aGF0IGFub3RoZXIgdGFiIHNob3VsZCBnbyBhaGVhZCBhbmRcbiAqIHRha2UgdGhlIHByaW1hcnkgbGVhc2UgaW1tZWRpYXRlbHkgcmVnYXJkbGVzcyBvZiB0aGUgY3VycmVudCBsZWFzZSB0aW1lc3RhbXAuXG4gKlxuICogVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSBgc3luY2hyb25pemVUYWJzYCBzZWN0aW9uIHdoZW4gbXVsdGktdGFiIGlzIG5vXG4gKiBsb25nZXIgb3B0aW9uYWwuXG4gKi9cbmNsYXNzIFhpIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIHN5bmNocm9uaXplIHRoZSBpbi1tZW1vcnkgc3RhdGUgb2YgbXVsdGlwbGUgdGFicyBhbmQgc2hhcmVcbiAgICAgKiBhY2Nlc3MgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gICAgICovXG4gICAgdCwgZSwgbiwgcywgaSwgciwgbywgYSwgYywgXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUsIGZvcmNlZnVsbHkgb2J0YWlucyBkYXRhYmFzZSBhY2Nlc3MuIEV4aXN0aW5nIHRhYnMgd2lsbFxuICAgICAqIG5vIGxvbmdlciBiZSBhYmxlIHRvIGFjY2VzcyBJbmRleGVkREIuXG4gICAgICovXG4gICAgdSkge1xuICAgICAgICBpZiAodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbiA9IHQsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSBlLCB0aGlzLmNsaWVudElkID0gbiwgXG4gICAgICAgIHRoaXMuT2UgPSBpLCB0aGlzLndpbmRvdyA9IHIsIHRoaXMuZG9jdW1lbnQgPSBvLCB0aGlzLkZlID0gYywgdGhpcy5NZSA9IHUsIHRoaXMuTGUgPSBudWxsLCBcbiAgICAgICAgdGhpcy5CZSA9ICExLCB0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLm5ldHdvcmtFbmFibGVkID0gITAsIFxuICAgICAgICAvKiogT3VyIHdpbmRvdy51bmxvYWQgaGFuZGxlciwgaWYgcmVnaXN0ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5VZSA9IG51bGwsIHRoaXMuaW5Gb3JlZ3JvdW5kID0gITEsIFxuICAgICAgICAvKiogT3VyICd2aXNpYmlsaXR5Y2hhbmdlJyBsaXN0ZW5lciBpZiByZWdpc3RlcmVkLiAqL1xuICAgICAgICB0aGlzLnFlID0gbnVsbCwgXG4gICAgICAgIC8qKiBUaGUgY2xpZW50IG1ldGFkYXRhIHJlZnJlc2ggdGFzay4gKi9cbiAgICAgICAgdGhpcy5LZSA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGxhc3QgdGltZSB3ZSBnYXJiYWdlIGNvbGxlY3RlZCB0aGUgY2xpZW50IG1ldGFkYXRhIG9iamVjdCBzdG9yZS4gKi9cbiAgICAgICAgdGhpcy5qZSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgXG4gICAgICAgIC8qKiBBIGxpc3RlbmVyIHRvIG5vdGlmeSBvbiBwcmltYXJ5IHN0YXRlIGNoYW5nZXMuICovXG4gICAgICAgIHRoaXMuUWUgPSB0ID0+IFByb21pc2UucmVzb2x2ZSgpLCAhWGkuYnQoKSkgdGhyb3cgbmV3IHEoVS5VTklNUExFTUVOVEVELCBcIlRoaXMgcGxhdGZvcm0gaXMgZWl0aGVyIG1pc3NpbmcgSW5kZXhlZERCIG9yIGlzIGtub3duIHRvIGhhdmUgYW4gaW5jb21wbGV0ZSBpbXBsZW1lbnRhdGlvbi4gT2ZmbGluZSBwZXJzaXN0ZW5jZSBoYXMgYmVlbiBkaXNhYmxlZC5cIik7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSBuZXcgQmkodGhpcywgcyksIHRoaXMuV2UgPSBlICsgXCJtYWluXCIsIHRoaXMuTiA9IG5ldyBzaShhKSwgXG4gICAgICAgIHRoaXMuR2UgPSBuZXcganModGhpcy5XZSwgMTEsIG5ldyBIaSh0aGlzLk4pKSwgdGhpcy56ZSA9IG5ldyBDaSh0aGlzLnJlZmVyZW5jZURlbGVnYXRlLCB0aGlzLk4pLCBcbiAgICAgICAgdGhpcy5IdCA9IG5ldyBwaSwgdGhpcy5IZSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgamkodCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBzcGVjaWZpZWQgcmVhZFxuICogdGltZS5cbiAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uLlxuICAgICAgICAodGhpcy5OLCB0aGlzLkh0KSwgdGhpcy5KZSA9IG5ldyB3aSwgdGhpcy53aW5kb3cgJiYgdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlID8gdGhpcy5ZZSA9IHRoaXMud2luZG93LmxvY2FsU3RvcmFnZSA6ICh0aGlzLlllID0gbnVsbCwgXG4gICAgICAgICExID09PSB1ICYmIGsoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIkxvY2FsU3RvcmFnZSBpcyB1bmF2YWlsYWJsZS4gQXMgYSByZXN1bHQsIHBlcnNpc3RlbmNlIG1heSBub3Qgd29yayByZWxpYWJseS4gSW4gcGFydGljdWxhciBlbmFibGVQZXJzaXN0ZW5jZSgpIGNvdWxkIGZhaWwgaW1tZWRpYXRlbHkgYWZ0ZXIgcmVmcmVzaGluZyB0aGUgcGFnZS5cIikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IHRvIHN0YXJ0IEluZGV4ZWREYiBwZXJzaXN0ZW5jZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgcGVyc2lzdGVuY2Ugd2FzIGVuYWJsZWQuXG4gICAgICovICAgIHN0YXJ0KCkge1xuICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGV4cGVjdGVkIHRvIGZhaWwgc29tZXRpbWVzIChpbiB0aGUgY2FzZSBvZiBhbm90aGVyIHRhYlxuICAgICAgICAvLyBhbHJlYWR5IGhhdmluZyB0aGUgcGVyc2lzdGVuY2UgbG9jayksIHNvIGl0J3MgdGhlIGZpcnN0IHRoaW5nIHdlIHNob3VsZFxuICAgICAgICAvLyBkby5cbiAgICAgICAgcmV0dXJuIHRoaXMuWGUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNQcmltYXJ5ICYmICF0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uKSBcbiAgICAgICAgICAgIC8vIEZhaWwgYHN0YXJ0KClgIGlmIGBzeW5jaHJvbml6ZVRhYnNgIGlzIGRpc2FibGVkIGFuZCB3ZSBjYW5ub3RcbiAgICAgICAgICAgIC8vIG9idGFpbiB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgICAgICAgIHRocm93IG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgWWkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuWmUoKSwgdGhpcy50bigpLCB0aGlzLmVuKCksIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRIaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJcIiwgXCJyZWFkb25seVwiLCAodCA9PiB0aGlzLnplLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcih0KSkpO1xuICAgICAgICB9KSkudGhlbigodCA9PiB7XG4gICAgICAgICAgICB0aGlzLkxlID0gbmV3IEoodCwgdGhpcy5GZSk7XG4gICAgICAgIH0pKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLkJlID0gITA7XG4gICAgICAgIH0pKS5jYXRjaCgodCA9PiAodGhpcy5HZSAmJiB0aGlzLkdlLmNsb3NlKCksIFByb21pc2UucmVqZWN0KHQpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIHByaW1hcnkgc3RhdGUgb2YgdGhlXG4gICAgICogaW5zdGFuY2UgY2hhbmdlcy4gVXBvbiByZWdpc3RlcmluZywgdGhpcyBsaXN0ZW5lciBpcyBpbnZva2VkIGltbWVkaWF0ZWx5XG4gICAgICogd2l0aCB0aGUgY3VycmVudCBwcmltYXJ5IHN0YXRlLlxuICAgICAqXG4gICAgICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgV2ViIG11bHRpLXRhYi5cbiAgICAgKi8gICAgbm4odCkge1xuICAgICAgICByZXR1cm4gdGhpcy5RZSA9IGFzeW5jIGUgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkgcmV0dXJuIHQoZSk7XG4gICAgICAgIH0sIHQodGhpcy5pc1ByaW1hcnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGRhdGFiYXNlIHJlY2VpdmVzIGFcbiAgICAgKiB2ZXJzaW9uIGNoYW5nZSBldmVudCBpbmRpY2F0aW5nIHRoYXQgaXQgaGFzIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBzZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcih0KSB7XG4gICAgICAgIHRoaXMuR2UueHQoKGFzeW5jIGUgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYW4gYXR0ZW1wdCBpcyBtYWRlIHRvIGRlbGV0ZSBJbmRleGVkREIuXG4gICAgICAgICAgICBudWxsID09PSBlLm5ld1ZlcnNpb24gJiYgYXdhaXQgdCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgdGhlIGN1cnJlbnQgbmV0d29yayBzdGF0ZSBpbiB0aGUgY2xpZW50J3MgbWV0YWRhdGEsIHBvdGVudGlhbGx5XG4gICAgICogYWZmZWN0aW5nIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgICAqXG4gICAgICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgV2ViIG11bHRpLXRhYi5cbiAgICAgKi8gICAgc2V0TmV0d29ya0VuYWJsZWQodCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtFbmFibGVkICE9PSB0ICYmICh0aGlzLm5ldHdvcmtFbmFibGVkID0gdCwgXG4gICAgICAgIC8vIFNjaGVkdWxlIGEgcHJpbWFyeSBsZWFzZSByZWZyZXNoIGZvciBpbW1lZGlhdGUgZXhlY3V0aW9uLiBUaGUgZXZlbnR1YWxcbiAgICAgICAgLy8gbGVhc2UgdXBkYXRlIHdpbGwgYmUgcHJvcGFnYXRlZCB2aWEgYHByaW1hcnlTdGF0ZUxpc3RlbmVyYC5cbiAgICAgICAgdGhpcy5PZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgJiYgYXdhaXQgdGhpcy5YZSgpO1xuICAgICAgICB9KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjbGllbnQgbWV0YWRhdGEgaW4gSW5kZXhlZERiIGFuZCBhdHRlbXB0cyB0byBlaXRoZXIgb2J0YWluIG9yXG4gICAgICogZXh0ZW5kIHRoZSBwcmltYXJ5IGxlYXNlIGZvciB0aGUgbG9jYWwgY2xpZW50LiBBc3luY2hyb25vdXNseSBub3RpZmllcyB0aGVcbiAgICAgKiBwcmltYXJ5IHN0YXRlIGxpc3RlbmVyIGlmIHRoZSBjbGllbnQgZWl0aGVyIG5ld2x5IG9idGFpbmVkIG9yIHJlbGVhc2VkIGl0c1xuICAgICAqIHByaW1hcnkgbGVhc2UuXG4gICAgICovICAgIFhlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5UcmFuc2FjdGlvbihcInVwZGF0ZUNsaWVudE1ldGFkYXRhQW5kVHJ5QmVjb21lUHJpbWFyeVwiLCBcInJlYWR3cml0ZVwiLCAodCA9PiB0cih0KS5wdXQobmV3IE9zKHRoaXMuY2xpZW50SWQsIERhdGUubm93KCksIHRoaXMubmV0d29ya0VuYWJsZWQsIHRoaXMuaW5Gb3JlZ3JvdW5kKSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmltYXJ5KSByZXR1cm4gdGhpcy5zbih0KS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0IHx8ICh0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLk9lLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHRoaXMuUWUoITEpKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdGhpcy5ybih0KSkpLm5leHQoKGUgPT4gdGhpcy5pc1ByaW1hcnkgJiYgIWUgPyB0aGlzLm9uKHQpLm5leHQoKCgpID0+ICExKSkgOiAhIWUgJiYgdGhpcy5hbih0KS5uZXh0KCgoKSA9PiAhMCkpKSkpKS5jYXRjaCgodCA9PiB7XG4gICAgICAgICAgICBpZiAoR3ModCkpIFxuICAgICAgICAgICAgLy8gUHJvY2VlZCB3aXRoIHRoZSBleGlzdGluZyBzdGF0ZS4gQW55IHN1YnNlcXVlbnQgYWNjZXNzIHRvXG4gICAgICAgICAgICAvLyBJbmRleGVkREIgd2lsbCB2ZXJpZnkgdGhlIGxlYXNlLlxuICAgICAgICAgICAgcmV0dXJuIHgoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIkZhaWxlZCB0byBleHRlbmQgb3duZXIgbGVhc2U6IFwiLCB0KSwgdGhpcy5pc1ByaW1hcnk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIHRocm93IHQ7XG4gICAgICAgICAgICByZXR1cm4geChcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiUmVsZWFzaW5nIG93bmVyIGxlYXNlIGFmdGVyIGVycm9yIGR1cmluZyBsZWFzZSByZWZyZXNoXCIsIHQpLCBcbiAgICAgICAgICAgIC8qIGlzUHJpbWFyeT0gKi8gITE7XG4gICAgICAgIH0pKS50aGVuKCh0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ICE9PSB0ICYmIHRoaXMuT2UuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdGhpcy5RZSh0KSkpLCB0aGlzLmlzUHJpbWFyeSA9IHQ7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc24odCkge1xuICAgICAgICByZXR1cm4gWmkodCkuZ2V0KFJzLmtleSkubmV4dCgodCA9PiBxcy5yZXNvbHZlKHRoaXMuY24odCkpKSk7XG4gICAgfVxuICAgIHVuKHQpIHtcbiAgICAgICAgcmV0dXJuIHRyKHQpLmRlbGV0ZSh0aGlzLmNsaWVudElkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiB0aHJlc2hvbGQgaGFzIHBhc3NlZCwgcHJ1bmVzIHRoZVxuICAgICAqIFJlbW90ZURvY3VtZW50Q2hhbmdlcyBhbmQgdGhlIENsaWVudE1ldGFkYXRhIHN0b3JlIGJhc2VkIG9uIHRoZSBsYXN0IHVwZGF0ZVxuICAgICAqIHRpbWUgb2YgYWxsIGNsaWVudHMuXG4gICAgICovICAgIGFzeW5jIGhuKCkge1xuICAgICAgICBpZiAodGhpcy5pc1ByaW1hcnkgJiYgIXRoaXMubG4odGhpcy5qZSwgMThlNSkpIHtcbiAgICAgICAgICAgIHRoaXMuamUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgdCA9IGF3YWl0IHRoaXMucnVuVHJhbnNhY3Rpb24oXCJtYXliZUdhcmJhZ2VDb2xsZWN0TXVsdGlDbGllbnRTdGF0ZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gWnModCwgT3Muc3RvcmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLkx0KCkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLmZuKHQsIDE4ZTUpLCBzID0gdC5maWx0ZXIoKHQgPT4gLTEgPT09IG4uaW5kZXhPZih0KSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgbWV0YWRhdGEgZm9yIGNsaWVudHMgdGhhdCBhcmUgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgYWN0aXZlLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXMuZm9yRWFjaChzLCAodCA9PiBlLmRlbGV0ZSh0LmNsaWVudElkKSkpLm5leHQoKCgpID0+IHMpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSkuY2F0Y2goKCgpID0+IFtdKSk7XG4gICAgICAgICAgICAvLyBEZWxldGUgcG90ZW50aWFsIGxlZnRvdmVyIGVudHJpZXMgdGhhdCBtYXkgY29udGludWUgdG8gbWFyayB0aGVcbiAgICAgICAgICAgIC8vIGluYWN0aXZlIGNsaWVudHMgYXMgem9tYmllZCBpbiBMb2NhbFN0b3JhZ2UuXG4gICAgICAgICAgICAvLyBJZGVhbGx5IHdlJ2QgZGVsZXRlIHRoZSBJbmRleGVkRGIgYW5kIExvY2FsU3RvcmFnZSB6b21iaWUgZW50cmllcyBmb3JcbiAgICAgICAgICAgIC8vIHRoZSBjbGllbnQgYXRvbWljYWxseSwgYnV0IHdlIGNhbid0LiBTbyB3ZSBvcHQgdG8gZGVsZXRlIHRoZSBJbmRleGVkRGJcbiAgICAgICAgICAgIC8vIGVudHJpZXMgZmlyc3QgdG8gYXZvaWQgcG90ZW50aWFsbHkgcmV2aXZpbmcgYSB6b21iaWVkIGNsaWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLlllKSBmb3IgKGNvbnN0IGUgb2YgdCkgdGhpcy5ZZS5yZW1vdmVJdGVtKHRoaXMuZG4oZS5jbGllbnRJZCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlcyBhIHJlY3VycmluZyB0aW1lciB0byB1cGRhdGUgdGhlIGNsaWVudCBtZXRhZGF0YSBhbmQgdG8gZWl0aGVyXG4gICAgICogZXh0ZW5kIG9yIGFjcXVpcmUgdGhlIHByaW1hcnkgbGVhc2UgaWYgdGhlIGNsaWVudCBpcyBlbGlnaWJsZS5cbiAgICAgKi8gICAgZW4oKSB7XG4gICAgICAgIHRoaXMuS2UgPSB0aGlzLk9lLmVucXVldWVBZnRlckRlbGF5KFwiY2xpZW50X21ldGFkYXRhX3JlZnJlc2hcIiAvKiBDbGllbnRNZXRhZGF0YVJlZnJlc2ggKi8gLCA0ZTMsICgoKSA9PiB0aGlzLlhlKCkudGhlbigoKCkgPT4gdGhpcy5obigpKSkudGhlbigoKCkgPT4gdGhpcy5lbigpKSkpKTtcbiAgICB9XG4gICAgLyoqIENoZWNrcyB3aGV0aGVyIGBjbGllbnRgIGlzIHRoZSBsb2NhbCBjbGllbnQuICovICAgIGNuKHQpIHtcbiAgICAgICAgcmV0dXJuICEhdCAmJiB0Lm93bmVySWQgPT09IHRoaXMuY2xpZW50SWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBzdGF0ZSBvZiBhbGwgYWN0aXZlIGNsaWVudHMgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoZSBsb2NhbFxuICAgICAqIGNsaWVudCBpcyBvciBjYW4gYWN0IGFzIHRoZSBob2xkZXIgb2YgdGhlIHByaW1hcnkgbGVhc2UuIFJldHVybnMgd2hldGhlclxuICAgICAqIHRoZSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoZSBsZWFzZSwgYnV0IGRvZXMgbm90IGFjdHVhbGx5IGFjcXVpcmUgaXQuXG4gICAgICogTWF5IHJldHVybiAnZmFsc2UnIGV2ZW4gaWYgdGhlcmUgaXMgbm8gYWN0aXZlIGxlYXNlaG9sZGVyIGFuZCBhbm90aGVyXG4gICAgICogKGZvcmVncm91bmQpIGNsaWVudCBzaG91bGQgYmVjb21lIGxlYXNlaG9sZGVyIGluc3RlYWQuXG4gICAgICovICAgIHJuKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuTWUpIHJldHVybiBxcy5yZXNvbHZlKCEwKTtcbiAgICAgICAgcmV0dXJuIFppKHQpLmdldChScy5rZXkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgLy8gQSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoZSBwcmltYXJ5IGxlYXNlIGlmOlxuICAgICAgICAgICAgLy8gLSBpdHMgbmV0d29yayBpcyBlbmFibGVkIGFuZCB0aGUgY2xpZW50J3MgdGFiIGlzIGluIHRoZSBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSBpdHMgbmV0d29yayBpcyBlbmFibGVkIGFuZCBubyBvdGhlciBjbGllbnQncyB0YWIgaXMgaW4gdGhlXG4gICAgICAgICAgICAvLyAgIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIGV2ZXJ5IGNsaWVudHMgbmV0d29yayBpcyBkaXNhYmxlZCBhbmQgdGhlIGNsaWVudCdzIHRhYiBpcyBpbiB0aGVcbiAgICAgICAgICAgIC8vICAgZm9yZWdyb3VuZC5cbiAgICAgICAgICAgIC8vIC0gZXZlcnkgY2xpZW50cyBuZXR3b3JrIGlzIGRpc2FibGVkIGFuZCBubyBvdGhlciBjbGllbnQncyB0YWIgaXMgaW5cbiAgICAgICAgICAgIC8vICAgdGhlIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIHRoZSBgZm9yY2VPd25pbmdUYWJgIHNldHRpbmcgd2FzIHBhc3NlZCBpbi5cbiAgICAgICAgICAgIGlmIChudWxsICE9PSBlICYmIHRoaXMubG4oZS5sZWFzZVRpbWVzdGFtcE1zLCA1ZTMpICYmICF0aGlzLnduKGUub3duZXJJZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbihlKSAmJiB0aGlzLm5ldHdvcmtFbmFibGVkKSByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNuKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZS5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikgXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhaWwgdGhlIGBjYW5BY3RBc1ByaW1hcnlgIGNoZWNrIGlmIHRoZSBjdXJyZW50IGxlYXNlaG9sZGVyIGhhc1xuICAgICAgICAgICAgICAgICAgICAvLyBub3Qgb3B0ZWQgaW50byBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uLiBJZiB0aGlzIGhhcHBlbnMgYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xpZW50IHN0YXJ0dXAsIHdlIHJlamVjdCB0aGUgUHJvbWlzZSByZXR1cm5lZCBieVxuICAgICAgICAgICAgICAgICAgICAvLyBgZW5hYmxlUGVyc2lzdGVuY2UoKWAgYW5kIHRoZSB1c2VyIGNhbiBjb250aW51ZSB0byB1c2UgRmlyZXN0b3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggaW4tbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGZhaWxzIGR1cmluZyBhIGxlYXNlIHJlZnJlc2gsIHdlIHdpbGwgaW5zdGVhZCBibG9jayB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gQXN5bmNRdWV1ZSBmcm9tIGV4ZWN1dGluZyBmdXJ0aGVyIG9wZXJhdGlvbnMuIE5vdGUgdGhhdCB0aGlzIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VwdGFibGUgc2luY2UgbWl4aW5nICYgbWF0Y2hpbmcgZGlmZmVyZW50IGBzeW5jaHJvbml6ZVRhYnNgXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHRpbmdzIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8oYi8xMTQyMjYyMzQpOiBSZW1vdmUgdGhpcyBjaGVjayB3aGVuIGBzeW5jaHJvbml6ZVRhYnNgIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgYmUgdHVybmVkIG9mZi5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IHEoVS5GQUlMRURfUFJFQ09ORElUSU9OLCBZaSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gISghdGhpcy5uZXR3b3JrRW5hYmxlZCB8fCAhdGhpcy5pbkZvcmVncm91bmQpIHx8IHRyKHQpLkx0KCkubmV4dCgodCA9PiB2b2lkIDAgPT09IHRoaXMuZm4odCwgNWUzKS5maW5kKCh0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnRJZCAhPT0gdC5jbGllbnRJZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gIXRoaXMubmV0d29ya0VuYWJsZWQgJiYgdC5uZXR3b3JrRW5hYmxlZCwgbiA9ICF0aGlzLmluRm9yZWdyb3VuZCAmJiB0LmluRm9yZWdyb3VuZCwgcyA9IHRoaXMubmV0d29ya0VuYWJsZWQgPT09IHQubmV0d29ya0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlIHx8IG4gJiYgcykgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfSkpLm5leHQoKHQgPT4gKHRoaXMuaXNQcmltYXJ5ICE9PSB0ICYmIHgoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBgQ2xpZW50ICR7dCA/IFwiaXNcIiA6IFwiaXMgbm90XCJ9IGVsaWdpYmxlIGZvciBhIHByaW1hcnkgbGVhc2UuYCksIFxuICAgICAgICB0KSkpO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bigpIHtcbiAgICAgICAgLy8gVGhlIHNodXRkb3duKCkgb3BlcmF0aW9ucyBhcmUgaWRlbXBvdGVudCBhbmQgY2FuIGJlIGNhbGxlZCBldmVuIHdoZW5cbiAgICAgICAgLy8gc3RhcnQoKSBhYm9ydGVkIChlLmcuIGJlY2F1c2UgaXQgY291bGRuJ3QgYWNxdWlyZSB0aGUgcGVyc2lzdGVuY2UgbGVhc2UpLlxuICAgICAgICB0aGlzLkJlID0gITEsIHRoaXMuX24oKSwgdGhpcy5LZSAmJiAodGhpcy5LZS5jYW5jZWwoKSwgdGhpcy5LZSA9IG51bGwpLCB0aGlzLm1uKCksIFxuICAgICAgICB0aGlzLmduKCksIFxuICAgICAgICAvLyBVc2UgYFNpbXBsZURiLnJ1blRyYW5zYWN0aW9uYCBkaXJlY3RseSB0byBhdm9pZCBmYWlsaW5nIGlmIGFub3RoZXIgdGFiXG4gICAgICAgIC8vIGhhcyBvYnRhaW5lZCB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgICAgYXdhaXQgdGhpcy5HZS5ydW5UcmFuc2FjdGlvbihcInNodXRkb3duXCIsIFwicmVhZHdyaXRlXCIsIFsgUnMuc3RvcmUsIE9zLnN0b3JlIF0sICh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgWHModCwgSi5UKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGUpLm5leHQoKCgpID0+IHRoaXMudW4oZSkpKTtcbiAgICAgICAgfSkpLCB0aGlzLkdlLmNsb3NlKCksIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIGVudHJ5IG1hcmtpbmcgdGhlIGNsaWVudCBhcyB6b21iaWVkIGZyb20gTG9jYWxTdG9yYWdlIHNpbmNlXG4gICAgICAgIC8vIHdlIHN1Y2Nlc3NmdWxseSBkZWxldGVkIGl0cyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi5cbiAgICAgICAgdGhpcy55bigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNsaWVudHMgdGhhdCBhcmUgbm90IHpvbWJpZWQgYW5kIGhhdmUgYW4gdXBkYXRlVGltZSB3aXRoaW4gdGhlXG4gICAgICogcHJvdmlkZWQgdGhyZXNob2xkLlxuICAgICAqLyAgICBmbih0LCBlKSB7XG4gICAgICAgIHJldHVybiB0LmZpbHRlcigodCA9PiB0aGlzLmxuKHQudXBkYXRlVGltZU1zLCBlKSAmJiAhdGhpcy53bih0LmNsaWVudElkKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBJRHMgb2YgdGhlIGNsaWVudHMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZS4gSWYgbXVsdGktdGFiXG4gICAgICogaXMgbm90IHN1cHBvcnRlZCwgcmV0dXJucyBhbiBhcnJheSB0aGF0IG9ubHkgY29udGFpbnMgdGhlIGxvY2FsIGNsaWVudCdzXG4gICAgICogSUQuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBwbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRBY3RpdmVDbGllbnRzXCIsIFwicmVhZG9ubHlcIiwgKHQgPT4gdHIodCkuTHQoKS5uZXh0KCh0ID0+IHRoaXMuZm4odCwgMThlNSkubWFwKCh0ID0+IHQuY2xpZW50SWQpKSkpKSk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5CZTtcbiAgICB9XG4gICAgZ2V0TXV0YXRpb25RdWV1ZSh0KSB7XG4gICAgICAgIHJldHVybiBiaS5ZdCh0LCB0aGlzLk4sIHRoaXMuSHQsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUpO1xuICAgIH1cbiAgICBnZXRUYXJnZXRDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuemU7XG4gICAgfVxuICAgIGdldFJlbW90ZURvY3VtZW50Q2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkhlO1xuICAgIH1cbiAgICBnZXRJbmRleE1hbmFnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkh0O1xuICAgIH1cbiAgICBnZXRCdW5kbGVDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSmU7XG4gICAgfVxuICAgIHJ1blRyYW5zYWN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgeChcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiU3RhcnRpbmcgdHJhbnNhY3Rpb246XCIsIHQpO1xuICAgICAgICBjb25zdCBzID0gXCJyZWFkb25seVwiID09PSBlID8gXCJyZWFkb25seVwiIDogXCJyZWFkd3JpdGVcIjtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIC8vIERvIGFsbCB0cmFuc2FjdGlvbnMgYXMgcmVhZHdyaXRlIGFnYWluc3QgYWxsIG9iamVjdCBzdG9yZXMsIHNpbmNlIHdlXG4gICAgICAgIC8vIGFyZSB0aGUgb25seSByZWFkZXIvd3JpdGVyLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkdlLnJ1blRyYW5zYWN0aW9uKHQsIHMsIExzLCAocyA9PiAoaSA9IG5ldyBYcyhzLCB0aGlzLkxlID8gdGhpcy5MZS5uZXh0KCkgOiBKLlQpLCBcbiAgICAgICAgXCJyZWFkd3JpdGUtcHJpbWFyeVwiID09PSBlID8gdGhpcy5zbihpKS5uZXh0KCh0ID0+ICEhdCB8fCB0aGlzLnJuKGkpKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUpIHRocm93IGsoYEZhaWxlZCB0byBvYnRhaW4gcHJpbWFyeSBsZWFzZSBmb3IgYWN0aW9uICcke3R9Jy5gKSwgdGhpcy5pc1ByaW1hcnkgPSAhMSwgXG4gICAgICAgICAgICB0aGlzLk9lLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHRoaXMuUWUoITEpKSksIG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgQnMpO1xuICAgICAgICAgICAgcmV0dXJuIG4oaSk7XG4gICAgICAgIH0pKS5uZXh0KCh0ID0+IHRoaXMuYW4oaSkubmV4dCgoKCkgPT4gdCkpKSkgOiB0aGlzLkVuKGkpLm5leHQoKCgpID0+IG4oaSkpKSkpKS50aGVuKCh0ID0+IChpLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLCBcbiAgICAgICAgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCB0YWIgaXMgdGhlIHByaW1hcnkgbGVhc2Vob2xkZXIgb3IgYWx0ZXJuYXRpdmVseVxuICAgICAqIHRoYXQgdGhlIGxlYXNlaG9sZGVyIGhhcyBvcHRlZCBpbnRvIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24uXG4gICAgICovXG4gICAgLy8gVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSB0aGlzIGNoZWNrIHdoZW4gYHN5bmNocm9uaXplVGFic2AgY2FuIG5vIGxvbmdlclxuICAgIC8vIGJlIHR1cm5lZCBvZmYuXG4gICAgRW4odCkge1xuICAgICAgICByZXR1cm4gWmkodCkuZ2V0KFJzLmtleSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdCAmJiB0aGlzLmxuKHQubGVhc2VUaW1lc3RhbXBNcywgNWUzKSAmJiAhdGhpcy53bih0Lm93bmVySWQpICYmICF0aGlzLmNuKHQpICYmICEodGhpcy5NZSB8fCB0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uICYmIHQuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pKSB0aHJvdyBuZXcgcShVLkZBSUxFRF9QUkVDT05ESVRJT04sIFlpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPYnRhaW5zIG9yIGV4dGVuZHMgdGhlIG5ldyBwcmltYXJ5IGxlYXNlIGZvciB0aGUgbG9jYWwgY2xpZW50LiBUaGlzXG4gICAgICogbWV0aG9kIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoaXMgbGVhc2UuXG4gICAgICovICAgIGFuKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBScyh0aGlzLmNsaWVudElkLCB0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uLCBEYXRlLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIFppKHQpLnB1dChScy5rZXksIGUpO1xuICAgIH1cbiAgICBzdGF0aWMgYnQoKSB7XG4gICAgICAgIHJldHVybiBqcy5idCgpO1xuICAgIH1cbiAgICAvKiogQ2hlY2tzIHRoZSBwcmltYXJ5IGxlYXNlIGFuZCByZW1vdmVzIGl0IGlmIHdlIGFyZSB0aGUgY3VycmVudCBwcmltYXJ5LiAqLyAgICBvbih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBaaSh0KTtcbiAgICAgICAgcmV0dXJuIGUuZ2V0KFJzLmtleSkubmV4dCgodCA9PiB0aGlzLmNuKHQpID8gKHgoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIlJlbGVhc2luZyBwcmltYXJ5IGxlYXNlLlwiKSwgXG4gICAgICAgIGUuZGVsZXRlKFJzLmtleSkpIDogcXMucmVzb2x2ZSgpKSk7XG4gICAgfVxuICAgIC8qKiBWZXJpZmllcyB0aGF0IGB1cGRhdGVUaW1lTXNgIGlzIHdpdGhpbiBgbWF4QWdlTXNgLiAqLyAgICBsbih0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gISh0IDwgbiAtIGUpICYmICghKHQgPiBuKSB8fCAoayhgRGV0ZWN0ZWQgYW4gdXBkYXRlIHRpbWUgdGhhdCBpcyBpbiB0aGUgZnV0dXJlOiAke3R9ID4gJHtufWApLCBcbiAgICAgICAgITEpKTtcbiAgICB9XG4gICAgWmUoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMuZG9jdW1lbnQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJiYgKHRoaXMucWUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLk9lLmVucXVldWVBbmRGb3JnZXQoKCgpID0+ICh0aGlzLmluRm9yZWdyb3VuZCA9IFwidmlzaWJsZVwiID09PSB0aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSwgXG4gICAgICAgICAgICB0aGlzLlhlKCkpKSk7XG4gICAgICAgIH0sIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5xZSksIHRoaXMuaW5Gb3JlZ3JvdW5kID0gXCJ2aXNpYmxlXCIgPT09IHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKTtcbiAgICB9XG4gICAgbW4oKSB7XG4gICAgICAgIHRoaXMucWUgJiYgKHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5xZSksIHRoaXMucWUgPSBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB3aW5kb3cudW5sb2FkIGhhbmRsZXIgdGhhdCB3aWxsIHN5bmNocm9ub3VzbHkgd3JpdGUgb3VyXG4gICAgICogY2xpZW50SWQgdG8gYSBcInpvbWJpZSBjbGllbnQgaWRcIiBsb2NhdGlvbiBpbiBMb2NhbFN0b3JhZ2UuIFRoaXMgY2FuIGJlIHVzZWRcbiAgICAgKiBieSB0YWJzIHRyeWluZyB0byBhY3F1aXJlIHRoZSBwcmltYXJ5IGxlYXNlIHRvIGRldGVybWluZSB0aGF0IHRoZSBsZWFzZVxuICAgICAqIGlzIG5vIGxvbmdlciB2YWxpZCBldmVuIGlmIHRoZSB0aW1lc3RhbXAgaXMgcmVjZW50LiBUaGlzIGlzIHBhcnRpY3VsYXJseVxuICAgICAqIGltcG9ydGFudCBmb3IgdGhlIHJlZnJlc2ggY2FzZSAoc28gdGhlIHRhYiBjb3JyZWN0bHkgcmUtYWNxdWlyZXMgdGhlXG4gICAgICogcHJpbWFyeSBsZWFzZSkuIExvY2FsU3RvcmFnZSBpcyB1c2VkIGZvciB0aGlzIHJhdGhlciB0aGFuIEluZGV4ZWREYiBiZWNhdXNlXG4gICAgICogaXQgaXMgYSBzeW5jaHJvbm91cyBBUEkgYW5kIHNvIGNhbiBiZSB1c2VkIHJlbGlhYmx5IGZyb20gIGFuIHVubG9hZFxuICAgICAqIGhhbmRsZXIuXG4gICAgICovICAgIHRuKCkge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiAobnVsbCA9PT0gKHQgPSB0aGlzLndpbmRvdykgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5hZGRFdmVudExpc3RlbmVyKSAmJiAodGhpcy5VZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIE5vdGU6IEluIHRoZW9yeSwgdGhpcyBzaG91bGQgYmUgc2NoZWR1bGVkIG9uIHRoZSBBc3luY1F1ZXVlIHNpbmNlIGl0XG4gICAgICAgICAgICAvLyBhY2Nlc3NlcyBpbnRlcm5hbCBzdGF0ZS4gV2UgZXhlY3V0ZSB0aGlzIGNvZGUgZGlyZWN0bHkgZHVyaW5nIHNodXRkb3duXG4gICAgICAgICAgICAvLyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBhIGNoYW5jZSB0byBydW4uXG4gICAgICAgICAgICB0aGlzLl9uKCksIHUoKSAmJiBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChcIlZlcnNpb24vMTRcIikgJiYgXG4gICAgICAgICAgICAvLyBPbiBTYWZhcmkgMTQsIHdlIGRvIG5vdCBydW4gYW55IGNsZWFudXAgYWN0aW9ucyBhcyBpdCBtaWdodCB0cmlnZ2VyXG4gICAgICAgICAgICAvLyBhIGJ1ZyB0aGF0IHByZXZlbnRzIFNhZmFyaSBmcm9tIHJlLW9wZW5pbmcgSW5kZXhlZERCIGR1cmluZyB0aGVcbiAgICAgICAgICAgIC8vIG5leHQgcGFnZSBsb2FkLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMjY1NDdcbiAgICAgICAgICAgIHRoaXMuT2UuZW50ZXJSZXN0cmljdGVkTW9kZSgvKiBwdXJnZUV4aXN0aW5nVGFza3M9ICovICEwKSwgdGhpcy5PZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiB0aGlzLnNodXRkb3duKCkpKTtcbiAgICAgICAgfSwgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIHRoaXMuVWUpKTtcbiAgICB9XG4gICAgZ24oKSB7XG4gICAgICAgIHRoaXMuVWUgJiYgKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCB0aGlzLlVlKSwgdGhpcy5VZSA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBjbGllbnQgaXMgXCJ6b21iaWVkXCIgYmFzZWQgb24gaXRzIExvY2FsU3RvcmFnZSBlbnRyeS5cbiAgICAgKiBDbGllbnRzIGJlY29tZSB6b21iaWVkIHdoZW4gdGhlaXIgdGFiIGNsb3NlcyB3aXRob3V0IHJ1bm5pbmcgYWxsIG9mIHRoZVxuICAgICAqIGNsZWFudXAgbG9naWMgaW4gYHNodXRkb3duKClgLlxuICAgICAqLyAgICB3bih0KSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbiA9IG51bGwgIT09IChudWxsID09PSAoZSA9IHRoaXMuWWUpIHx8IHZvaWQgMCA9PT0gZSA/IHZvaWQgMCA6IGUuZ2V0SXRlbSh0aGlzLmRuKHQpKSk7XG4gICAgICAgICAgICByZXR1cm4geChcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIGBDbGllbnQgJyR7dH0nICR7biA/IFwiaXNcIiA6IFwiaXMgbm90XCJ9IHpvbWJpZWQgaW4gTG9jYWxTdG9yYWdlYCksIFxuICAgICAgICAgICAgbjtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgLy8gR3JhY2VmdWxseSBoYW5kbGUgaWYgTG9jYWxTdG9yYWdlIGlzbid0IHdvcmtpbmcuXG4gICAgICAgICAgICByZXR1cm4gayhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiRmFpbGVkIHRvIGdldCB6b21iaWVkIGNsaWVudCBpZC5cIiwgdCksICExO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZCBjbGllbnQgYXMgem9tYmllZCAoYSBjbGllbnQgdGhhdCBoYWQgaXRzIHRhYiBjbG9zZWQpLiBab21iaWVkXG4gICAgICogY2xpZW50cyBhcmUgaWdub3JlZCBkdXJpbmcgcHJpbWFyeSB0YWIgc2VsZWN0aW9uLlxuICAgICAqLyAgICBfbigpIHtcbiAgICAgICAgaWYgKHRoaXMuWWUpIHRyeSB7XG4gICAgICAgICAgICB0aGlzLlllLnNldEl0ZW0odGhpcy5kbih0aGlzLmNsaWVudElkKSwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgLy8gR3JhY2VmdWxseSBoYW5kbGUgaWYgTG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSAvIHdvcmtpbmcuXG4gICAgICAgICAgICBrKFwiRmFpbGVkIHRvIHNldCB6b21iaWUgY2xpZW50IGlkLlwiLCB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogUmVtb3ZlcyB0aGUgem9tYmllZCBjbGllbnQgZW50cnkgaWYgaXQgZXhpc3RzLiAqLyAgICB5bigpIHtcbiAgICAgICAgaWYgKHRoaXMuWWUpIHRyeSB7XG4gICAgICAgICAgICB0aGlzLlllLnJlbW92ZUl0ZW0odGhpcy5kbih0aGlzLmNsaWVudElkKSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZVxuICAgICAgICB9XG4gICAgfVxuICAgIGRuKHQpIHtcbiAgICAgICAgcmV0dXJuIGBmaXJlc3RvcmVfem9tYmllXyR7dGhpcy5wZXJzaXN0ZW5jZUtleX1fJHt0fWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcHJpbWFyeSBjbGllbnQgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIFppKHQpIHtcbiAgICByZXR1cm4gWnModCwgUnMuc3RvcmUpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgY2xpZW50IG1ldGFkYXRhIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiB0cih0KSB7XG4gICAgcmV0dXJuIFpzKHQsIE9zLnN0b3JlKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdXNlZCBhcyBhIHByZWZpeCB3aGVuIHN0b3JpbmcgZGF0YSBpbiBJbmRleGVkREIgYW5kXG4gKiBMb2NhbFN0b3JhZ2UuXG4gKi8gZnVuY3Rpb24gZXIodCwgZSkge1xuICAgIC8vIFVzZSB0d28gZGlmZmVyZW50IHByZWZpeCBmb3JtYXRzOlxuICAgIC8vICAgKiBmaXJlc3RvcmUgLyBwZXJzaXN0ZW5jZUtleSAvIHByb2plY3RJRCAuIGRhdGFiYXNlSUQgLyAuLi5cbiAgICAvLyAgICogZmlyZXN0b3JlIC8gcGVyc2lzdGVuY2VLZXkgLyBwcm9qZWN0SUQgLyAuLi5cbiAgICAvLyBwcm9qZWN0SURzIGFyZSBETlMtY29tcGF0aWJsZSBuYW1lcyBhbmQgY2Fubm90IGNvbnRhaW4gZG90c1xuICAgIC8vIHNvIHRoZXJlJ3Mgbm8gZGFuZ2VyIG9mIGNvbGxpc2lvbnMuXG4gICAgbGV0IG4gPSB0LnByb2plY3RJZDtcbiAgICByZXR1cm4gdC5pc0RlZmF1bHREYXRhYmFzZSB8fCAobiArPSBcIi5cIiArIHQuZGF0YWJhc2UpLCBcImZpcmVzdG9yZS9cIiArIGUgKyBcIi9cIiArIG4gKyBcIi9cIjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNsYXNzIG5yIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0LCB0aGlzLlRuID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgcmVhZG9ubHkgdmlldyBvZiB0aGUgbG9jYWwgc3RhdGUgb2YgYWxsIGRvY3VtZW50cyB3ZSdyZSB0cmFja2luZyAoaS5lLiB3ZVxuICogaGF2ZSBhIGNhY2hlZCB2ZXJzaW9uIGluIHJlbW90ZURvY3VtZW50Q2FjaGUgb3IgbG9jYWwgbXV0YXRpb25zIGZvciB0aGVcbiAqIGRvY3VtZW50KS4gVGhlIHZpZXcgaXMgY29tcHV0ZWQgYnkgYXBwbHlpbmcgdGhlIG11dGF0aW9ucyBpbiB0aGVcbiAqIE11dGF0aW9uUXVldWUgdG8gdGhlIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKi8gY2xhc3Mgc3Ige1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgdGhpcy5IZSA9IHQsIHRoaXMuSW4gPSBlLCB0aGlzLkh0ID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsb2NhbCB2aWV3IG9mIHRoZSBkb2N1bWVudCBpZGVudGlmaWVkIGJ5IGBrZXlgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgTG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnQgb3IgbnVsbCBpZiB3ZSBkb24ndCBoYXZlIGFueSBjYWNoZWRcbiAgICAgKiBzdGF0ZSBmb3IgaXQuXG4gICAgICovICAgIEFuKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSW4uZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkodCwgZSkubmV4dCgobiA9PiB0aGlzLlJuKHQsIGUsIG4pKSk7XG4gICAgfVxuICAgIC8qKiBJbnRlcm5hbCB2ZXJzaW9uIG9mIGBnZXREb2N1bWVudGAgdGhhdCBhbGxvd3MgcmV1c2luZyBiYXRjaGVzLiAqLyAgICBSbih0LCBlLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkhlLmdldEVudHJ5KHQsIGUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIG4pIGUuYXBwbHlUb0xvY2FsVmlldyh0KTtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIGBkb2NzYCBhcyB0aGV5IHdvdWxkIGFwcGVhciBhZnRlciBhcHBseWluZ1xuICAgIC8vIGFsbCBtdXRhdGlvbnMgaW4gdGhlIGdpdmVuIGBiYXRjaGVzYC5cbiAgICBibih0LCBlKSB7XG4gICAgICAgIHQuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBlKSB0LmFwcGx5VG9Mb2NhbFZpZXcobik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnRzIGlkZW50aWZpZWQgYnkgYGtleXNgLlxuICAgICAqXG4gICAgICogSWYgd2UgZG9uJ3QgaGF2ZSBjYWNoZWQgc3RhdGUgZm9yIGEgZG9jdW1lbnQgaW4gYGtleXNgLCBhIE5vRG9jdW1lbnQgd2lsbFxuICAgICAqIGJlIHN0b3JlZCBmb3IgdGhhdCBrZXkgaW4gdGhlIHJlc3VsdGluZyBzZXQuXG4gICAgICovICAgIFBuKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSGUuZ2V0RW50cmllcyh0LCBlKS5uZXh0KChlID0+IHRoaXMudm4odCwgZSkubmV4dCgoKCkgPT4gZSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGxvY2FsIHZpZXcgdGhlIGdpdmVuIGBiYXNlRG9jc2Agd2l0aG91dCByZXRyaWV2aW5nIGRvY3VtZW50c1xuICAgICAqIGZyb20gdGhlIGxvY2FsIHN0b3JlLlxuICAgICAqLyAgICB2bih0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkluLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyh0LCBlKS5uZXh0KCh0ID0+IHRoaXMuYm4oZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBxdWVyeSBhZ2FpbnN0IHRoZSBsb2NhbCB2aWV3IG9mIGFsbCBkb2N1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgcGVyc2lzdGVuY2UgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIHF1ZXJ5IHRvIG1hdGNoIGRvY3VtZW50cyBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSBzaW5jZVJlYWRUaW1lIC0gSWYgbm90IHNldCB0byBTbmFwc2hvdFZlcnNpb24ubWluKCksIHJldHVybiBvbmx5XG4gICAgICogICAgIGRvY3VtZW50cyB0aGF0IGhhdmUgYmVlbiByZWFkIHNpbmNlIHRoaXMgc25hcHNob3QgdmVyc2lvbiAoZXhjbHVzaXZlKS5cbiAgICAgKi8gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeSh0LCBlLCBuKSB7XG4gICAgICAgIC8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBxdWVyeSBtYXRjaGVzIGEgc2luZ2xlIGRvY3VtZW50IGJ5IHBhdGggKHJhdGhlciB0aGFuIGFcbiAqIGNvbGxlY3Rpb24pLlxuICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICByZXR1cm4gUnQuaXNEb2N1bWVudEtleSh0LnBhdGgpICYmIG51bGwgPT09IHQuY29sbGVjdGlvbkdyb3VwICYmIDAgPT09IHQuZmlsdGVycy5sZW5ndGg7XG4gICAgICAgIH0oZSkgPyB0aGlzLlZuKHQsIGUucGF0aCkgOiBnZShlKSA/IHRoaXMuU24odCwgZSwgbikgOiB0aGlzLkRuKHQsIGUsIG4pO1xuICAgIH1cbiAgICBWbih0LCBlKSB7XG4gICAgICAgIC8vIEp1c3QgZG8gYSBzaW1wbGUgZG9jdW1lbnQgbG9va3VwLlxuICAgICAgICByZXR1cm4gdGhpcy5Bbih0LCBuZXcgUnQoZSkpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgbGV0IGUgPSBFbigpO1xuICAgICAgICAgICAgcmV0dXJuIHQuaXNGb3VuZERvY3VtZW50KCkgJiYgKGUgPSBlLmluc2VydCh0LmtleSwgdCkpLCBlO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFNuKHQsIGUsIG4pIHtcbiAgICAgICAgY29uc3QgcyA9IGUuY29sbGVjdGlvbkdyb3VwO1xuICAgICAgICBsZXQgaSA9IEVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLkh0LmdldENvbGxlY3Rpb25QYXJlbnRzKHQsIHMpLm5leHQoKHIgPT4gcXMuZm9yRWFjaChyLCAociA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgaGUoZSwgXG4gICAgICAgICAgICAgICAgLypjb2xsZWN0aW9uR3JvdXA9Ki8gbnVsbCwgdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSwgdC5maWx0ZXJzLnNsaWNlKCksIHQubGltaXQsIHQubGltaXRUeXBlLCB0LnN0YXJ0QXQsIHQuZW5kQXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBxdWVyeSBkb2VzIG5vdCBzcGVjaWZ5IGFueSBxdWVyeSBjb25zdHJhaW50cyB0aGF0XG4gKiBjb3VsZCByZW1vdmUgcmVzdWx0cy5cbiAqLyAoZSwgci5jaGlsZChzKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Ebih0LCBvLCBuKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0LmZvckVhY2goKCh0LCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpLmluc2VydCh0LCBlKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSkpKTtcbiAgICB9XG4gICAgRG4odCwgZSwgbikge1xuICAgICAgICAvLyBRdWVyeSB0aGUgcmVtb3RlIGRvY3VtZW50cyBhbmQgb3ZlcmxheSBtdXRhdGlvbnMuXG4gICAgICAgIGxldCBzLCBpO1xuICAgICAgICByZXR1cm4gdGhpcy5IZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KHQsIGUsIG4pLm5leHQoKG4gPT4gKHMgPSBuLCB0aGlzLkluLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KHQsIGUpKSkpLm5leHQoKGUgPT4gKGkgPSBlLCBcbiAgICAgICAgdGhpcy5Dbih0LCBpLCBzKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIHMgPSB0O1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGkpIGZvciAoY29uc3QgZSBvZiB0Lm11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBlLmtleTtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHMuZ2V0KG4pO1xuICAgICAgICAgICAgICAgIG51bGwgPT0gaSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGludmFsaWQgZG9jdW1lbnQgdG8gYXBwbHkgbXV0YXRpb25zIG9uIHRvcCBvZlxuICAgICAgICAgICAgICAgIGkgPSBVdC5uZXdJbnZhbGlkRG9jdW1lbnQobiksIHMgPSBzLmluc2VydChuLCBpKSksIEhlKGUsIGksIHQubG9jYWxXcml0ZVRpbWUpLCBpLmlzRm91bmREb2N1bWVudCgpIHx8IChzID0gcy5yZW1vdmUobikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpKSkubmV4dCgoKCkgPT4gKFxuICAgICAgICAvLyBGaW5hbGx5LCBmaWx0ZXIgb3V0IGFueSBkb2N1bWVudHMgdGhhdCBkb24ndCBhY3R1YWxseSBtYXRjaFxuICAgICAgICAvLyB0aGUgcXVlcnkuXG4gICAgICAgIHMuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIFJlKGUsIG4pIHx8IChzID0gcy5yZW1vdmUodCkpO1xuICAgICAgICB9KSksIHMpKSk7XG4gICAgfVxuICAgIENuKHQsIGUsIG4pIHtcbiAgICAgICAgbGV0IHMgPSBSbigpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZSkgZm9yIChjb25zdCBlIG9mIHQubXV0YXRpb25zKSBlIGluc3RhbmNlb2YgdG4gJiYgbnVsbCA9PT0gbi5nZXQoZS5rZXkpICYmIChzID0gcy5hZGQoZS5rZXkpKTtcbiAgICAgICAgbGV0IGkgPSBuO1xuICAgICAgICByZXR1cm4gdGhpcy5IZS5nZXRFbnRyaWVzKHQsIHMpLm5leHQoKHQgPT4gKHQuZm9yRWFjaCgoKHQsIGUpID0+IHtcbiAgICAgICAgICAgIGUuaXNGb3VuZERvY3VtZW50KCkgJiYgKGkgPSBpLmluc2VydCh0LCBlKSk7XG4gICAgICAgIH0pKSwgaSkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgc2V0IG9mIGNoYW5nZXMgdG8gd2hhdCBkb2N1bWVudHMgYXJlIGN1cnJlbnRseSBpbiB2aWV3IGFuZCBvdXQgb2YgdmlldyBmb3JcbiAqIGEgZ2l2ZW4gcXVlcnkuIFRoZXNlIGNoYW5nZXMgYXJlIHNlbnQgdG8gdGhlIExvY2FsU3RvcmUgYnkgdGhlIFZpZXcgKHZpYVxuICogdGhlIFN5bmNFbmdpbmUpIGFuZCBhcmUgdXNlZCB0byBwaW4gLyB1bnBpbiBkb2N1bWVudHMgYXMgYXBwcm9wcmlhdGUuXG4gKi8gY2xhc3MgaXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMpIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHQsIHRoaXMuZnJvbUNhY2hlID0gZSwgdGhpcy5ObiA9IG4sIHRoaXMueG4gPSBzO1xuICAgIH1cbiAgICBzdGF0aWMga24odCwgZSkge1xuICAgICAgICBsZXQgbiA9IFJuKCksIHMgPSBSbigpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5kb2NDaGFuZ2VzKSBzd2l0Y2ggKHQudHlwZSkge1xuICAgICAgICAgIGNhc2UgMCAvKiBBZGRlZCAqLyA6XG4gICAgICAgICAgICBuID0gbi5hZGQodC5kb2Mua2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIFJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgcyA9IHMuYWRkKHQuZG9jLmtleSk7XG4gLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBpcih0LCBlLmZyb21DYWNoZSwgbiwgcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHF1ZXJ5IGVuZ2luZSB0aGF0IHRha2VzIGFkdmFudGFnZSBvZiB0aGUgdGFyZ2V0IGRvY3VtZW50IG1hcHBpbmcgaW4gdGhlXG4gKiBRdWVyeUNhY2hlLiBRdWVyeSBleGVjdXRpb24gaXMgb3B0aW1pemVkIGJ5IG9ubHkgcmVhZGluZyB0aGUgZG9jdW1lbnRzIHRoYXRcbiAqIHByZXZpb3VzbHkgbWF0Y2hlZCBhIHF1ZXJ5IHBsdXMgYW55IGRvY3VtZW50cyB0aGF0IHdlcmUgZWRpdGVkIGFmdGVyIHRoZVxuICogcXVlcnkgd2FzIGxhc3QgbGlzdGVuZWQgdG8uXG4gKlxuICogVGhlcmUgYXJlIHNvbWUgY2FzZXMgd2hlbiB0aGlzIG9wdGltaXphdGlvbiBpcyBub3QgZ3VhcmFudGVlZCB0byBwcm9kdWNlXG4gKiB0aGUgc2FtZSByZXN1bHRzIGFzIGZ1bGwgY29sbGVjdGlvbiBzY2Fucy4gSW4gdGhlc2UgY2FzZXMsIHF1ZXJ5XG4gKiBwcm9jZXNzaW5nIGZhbGxzIGJhY2sgdG8gZnVsbCBzY2Fucy4gVGhlc2UgY2FzZXMgYXJlOlxuICpcbiAqIC0gTGltaXQgcXVlcmllcyB3aGVyZSBhIGRvY3VtZW50IHRoYXQgbWF0Y2hlZCB0aGUgcXVlcnkgcHJldmlvdXNseSBubyBsb25nZXJcbiAqICAgbWF0Y2hlcyB0aGUgcXVlcnkuXG4gKlxuICogLSBMaW1pdCBxdWVyaWVzIHdoZXJlIGEgZG9jdW1lbnQgZWRpdCBtYXkgY2F1c2UgdGhlIGRvY3VtZW50IHRvIHNvcnQgYmVsb3dcbiAqICAgYW5vdGhlciBkb2N1bWVudCB0aGF0IGlzIGluIHRoZSBsb2NhbCBjYWNoZS5cbiAqXG4gKiAtIFF1ZXJpZXMgdGhhdCBoYXZlIG5ldmVyIGJlZW4gQ1VSUkVOVCBvciBmcmVlIG9mIGxpbWJvIGRvY3VtZW50cy5cbiAqLyBjbGFzcyByciB7XG4gICAgLyoqIFNldHMgdGhlIGRvY3VtZW50IHZpZXcgdG8gcXVlcnkgYWdhaW5zdC4gKi9cbiAgICAkbih0KSB7XG4gICAgICAgIHRoaXMuT24gPSB0O1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhbGwgbG9jYWwgZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgcXVlcnkuICovICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkodCwgZSwgbiwgcykge1xuICAgICAgICAvLyBRdWVyaWVzIHRoYXQgbWF0Y2ggYWxsIGRvY3VtZW50cyBkb24ndCBiZW5lZml0IGZyb20gdXNpbmdcbiAgICAgICAgLy8ga2V5LWJhc2VkIGxvb2t1cHMuIEl0IGlzIG1vcmUgZWZmaWNpZW50IHRvIHNjYW4gYWxsIGRvY3VtZW50cyBpbiBhXG4gICAgICAgIC8vIGNvbGxlY3Rpb24sIHJhdGhlciB0aGFuIHRvIHBlcmZvcm0gaW5kaXZpZHVhbCBsb29rdXBzLlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIDAgPT09IHQuZmlsdGVycy5sZW5ndGggJiYgbnVsbCA9PT0gdC5saW1pdCAmJiBudWxsID09IHQuc3RhcnRBdCAmJiBudWxsID09IHQuZW5kQXQgJiYgKDAgPT09IHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCB8fCAxID09PSB0LmV4cGxpY2l0T3JkZXJCeS5sZW5ndGggJiYgdC5leHBsaWNpdE9yZGVyQnlbMF0uZmllbGQuaXNLZXlGaWVsZCgpKTtcbiAgICAgICAgfShlKSB8fCBuLmlzRXF1YWwoc3QubWluKCkpID8gdGhpcy5Gbih0LCBlKSA6IHRoaXMuT24uUG4odCwgcykubmV4dCgoaSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5NbihlLCBpKTtcbiAgICAgICAgICAgIHJldHVybiAoZGUoZSkgfHwgd2UoZSkpICYmIHRoaXMuTG4oZS5saW1pdFR5cGUsIHIsIHMsIG4pID8gdGhpcy5Gbih0LCBlKSA6IChDKCkgPD0gYS5ERUJVRyAmJiB4KFwiUXVlcnlFbmdpbmVcIiwgXCJSZS11c2luZyBwcmV2aW91cyByZXN1bHQgZnJvbSAlcyB0byBleGVjdXRlIHF1ZXJ5OiAlc1wiLCBuLnRvU3RyaW5nKCksIEFlKGUpKSwgXG4gICAgICAgICAgICB0aGlzLk9uLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkodCwgZSwgbikubmV4dCgodCA9PiAoXG4gICAgICAgICAgICAvLyBXZSBtZXJnZSBgcHJldmlvdXNSZXN1bHRzYCBpbnRvIGB1cGRhdGVSZXN1bHRzYCwgc2luY2VcbiAgICAgICAgICAgIC8vIGB1cGRhdGVSZXN1bHRzYCBpcyBhbHJlYWR5IGEgRG9jdW1lbnRNYXAuIElmIGEgZG9jdW1lbnQgaXNcbiAgICAgICAgICAgIC8vIGNvbnRhaW5lZCBpbiBib3RoIGxpc3RzLCB0aGVuIGl0cyBjb250ZW50cyBhcmUgdGhlIHNhbWUuXG4gICAgICAgICAgICByLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIHQgPSB0Lmluc2VydChlLmtleSwgZSk7XG4gICAgICAgICAgICB9KSksIHQpKSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIFF1ZXJpZXMgdGhhdCBoYXZlIG5ldmVyIHNlZW4gYSBzbmFwc2hvdCB3aXRob3V0IGxpbWJvIGZyZWUgZG9jdW1lbnRzXG4gICAgICAgIC8vIHNob3VsZCBhbHNvIGJlIHJ1biBhcyBhIGZ1bGwgY29sbGVjdGlvbiBzY2FuLlxuICAgICAgICB9XG4gICAgLyoqIEFwcGxpZXMgdGhlIHF1ZXJ5IGZpbHRlciBhbmQgc29ydGluZyB0byB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiAgKi8gICAgTW4odCwgZSkge1xuICAgICAgICAvLyBTb3J0IHRoZSBkb2N1bWVudHMgYW5kIHJlLWFwcGx5IHRoZSBxdWVyeSBmaWx0ZXIgc2luY2UgcHJldmlvdXNseVxuICAgICAgICAvLyBtYXRjaGluZyBkb2N1bWVudHMgZG8gbm90IG5lY2Vzc2FyaWx5IHN0aWxsIG1hdGNoIHRoZSBxdWVyeS5cbiAgICAgICAgbGV0IG4gPSBuZXcgX24oYmUodCkpO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgcykgPT4ge1xuICAgICAgICAgICAgUmUodCwgcykgJiYgKG4gPSBuLmFkZChzKSk7XG4gICAgICAgIH0pKSwgbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIGxpbWl0IHF1ZXJ5IG5lZWRzIHRvIGJlIHJlZmlsbGVkIGZyb20gY2FjaGUsIG1ha2luZyBpdFxuICAgICAqIGluZWxpZ2libGUgZm9yIGluZGV4LWZyZWUgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNvcnRlZFByZXZpb3VzUmVzdWx0cyAtIFRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSB3aGVuIGl0XG4gICAgICogd2FzIGxhc3Qgc3luY2hyb25pemVkLCBzb3J0ZWQgYnkgdGhlIHF1ZXJ5J3MgY29tcGFyYXRvci5cbiAgICAgKiBAcGFyYW0gcmVtb3RlS2V5cyAtIFRoZSBkb2N1bWVudCBrZXlzIHRoYXQgbWF0Y2hlZCB0aGUgcXVlcnkgYXQgdGhlIGxhc3RcbiAgICAgKiBzbmFwc2hvdC5cbiAgICAgKiBAcGFyYW0gbGltYm9GcmVlU25hcHNob3RWZXJzaW9uIC0gVGhlIHZlcnNpb24gb2YgdGhlIHNuYXBzaG90IHdoZW4gdGhlXG4gICAgICogcXVlcnkgd2FzIGxhc3Qgc3luY2hyb25pemVkLlxuICAgICAqLyAgICBMbih0LCBlLCBuLCBzKSB7XG4gICAgICAgIC8vIFRoZSBxdWVyeSBuZWVkcyB0byBiZSByZWZpbGxlZCBpZiBhIHByZXZpb3VzbHkgbWF0Y2hpbmcgZG9jdW1lbnQgbm9cbiAgICAgICAgLy8gbG9uZ2VyIG1hdGNoZXMuXG4gICAgICAgIGlmIChuLnNpemUgIT09IGUuc2l6ZSkgcmV0dXJuICEwO1xuICAgICAgICAvLyBMaW1pdCBxdWVyaWVzIGFyZSBub3QgZWxpZ2libGUgZm9yIGluZGV4LWZyZWUgcXVlcnkgZXhlY3V0aW9uIGlmIHRoZXJlIGlzXG4gICAgICAgIC8vIGEgcG90ZW50aWFsIHRoYXQgYW4gb2xkZXIgZG9jdW1lbnQgZnJvbSBjYWNoZSBub3cgc29ydHMgYmVmb3JlIGEgZG9jdW1lbnRcbiAgICAgICAgLy8gdGhhdCB3YXMgcHJldmlvdXNseSBwYXJ0IG9mIHRoZSBsaW1pdC4gVGhpcywgaG93ZXZlciwgY2FuIG9ubHkgaGFwcGVuIGlmXG4gICAgICAgIC8vIHRoZSBkb2N1bWVudCBhdCB0aGUgZWRnZSBvZiB0aGUgbGltaXQgZ29lcyBvdXQgb2YgbGltaXQuXG4gICAgICAgIC8vIElmIGEgZG9jdW1lbnQgdGhhdCBpcyBub3QgdGhlIGxpbWl0IGJvdW5kYXJ5IHNvcnRzIGRpZmZlcmVudGx5LFxuICAgICAgICAvLyB0aGUgYm91bmRhcnkgb2YgdGhlIGxpbWl0IGl0c2VsZiBkaWQgbm90IGNoYW5nZSBhbmQgZG9jdW1lbnRzIGZyb20gY2FjaGVcbiAgICAgICAgLy8gd2lsbCBjb250aW51ZSB0byBiZSBcInJlamVjdGVkXCIgYnkgdGhpcyBib3VuZGFyeS4gVGhlcmVmb3JlLCB3ZSBjYW4gaWdub3JlXG4gICAgICAgIC8vIGFueSBtb2RpZmljYXRpb25zIHRoYXQgZG9uJ3QgYWZmZWN0IHRoZSBsYXN0IGRvY3VtZW50LlxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBcIkZcIiAvKiBGaXJzdCAqLyA9PT0gdCA/IGUubGFzdCgpIDogZS5maXJzdCgpO1xuICAgICAgICByZXR1cm4gISFpICYmIChpLmhhc1BlbmRpbmdXcml0ZXMgfHwgaS52ZXJzaW9uLmNvbXBhcmVUbyhzKSA+IDApO1xuICAgIH1cbiAgICBGbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBDKCkgPD0gYS5ERUJVRyAmJiB4KFwiUXVlcnlFbmdpbmVcIiwgXCJVc2luZyBmdWxsIGNvbGxlY3Rpb24gc2NhbiB0byBleGVjdXRlIHF1ZXJ5OlwiLCBBZShlKSksIFxuICAgICAgICB0aGlzLk9uLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkodCwgZSwgc3QubWluKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyBgTG9jYWxTdG9yZWAgaW50ZXJmYWNlLlxuICpcbiAqIE5vdGU6IHNvbWUgZmllbGQgZGVmaW5lZCBpbiB0aGlzIGNsYXNzIG1pZ2h0IGhhdmUgcHVibGljIGFjY2VzcyBsZXZlbCwgYnV0XG4gKiB0aGUgY2xhc3MgaXMgbm90IGV4cG9ydGVkIHNvIHRoZXkgYXJlIG9ubHkgYWNjZXNzaWJsZSBmcm9tIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IG9wdGlvbmFsIGZlYXR1cmVzIChsaWtlIGJ1bmRsZXMpIGluIGZyZWVcbiAqIGZ1bmN0aW9ucywgc3VjaCB0aGF0IHRoZXkgYXJlIHRyZWUtc2hha2VhYmxlLlxuICovXG5jbGFzcyBvciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIE1hbmFnZXMgb3VyIGluLW1lbW9yeSBvciBkdXJhYmxlIHBlcnNpc3RlbmNlLiAqL1xuICAgIHQsIGUsIG4sIHMpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IHQsIHRoaXMuQm4gPSBlLCB0aGlzLk4gPSBzLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSB0YXJnZXRJRCB0byBkYXRhIGFib3V0IGl0cyB0YXJnZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogV2UgYXJlIHVzaW5nIGFuIGltbXV0YWJsZSBkYXRhIHN0cnVjdHVyZSBvbiBXZWIgdG8gbWFrZSByZS1ydW5zXG4gICAgICAgICAqIG9mIGBhcHBseVJlbW90ZUV2ZW50KClgIGlkZW1wb3RlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlVuID0gbmV3IGZuKFopLCBcbiAgICAgICAgLyoqIE1hcHMgYSB0YXJnZXQgdG8gaXRzIHRhcmdldElELiAqL1xuICAgICAgICAvLyBUT0RPKHd1YW5keSk6IEV2YWx1YXRlIGlmIFRhcmdldElkIGNhbiBiZSBwYXJ0IG9mIFRhcmdldC5cbiAgICAgICAgdGhpcy5xbiA9IG5ldyBxaSgodCA9PiBqdCh0KSksIFd0KSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVhZCB0aW1lIG9mIHRoZSBsYXN0IGVudHJ5IHByb2Nlc3NlZCBieSBgZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5LbiA9IHN0Lm1pbigpLCB0aGlzLkluID0gdC5nZXRNdXRhdGlvblF1ZXVlKG4pLCB0aGlzLmpuID0gdC5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCksIFxuICAgICAgICB0aGlzLnplID0gdC5nZXRUYXJnZXRDYWNoZSgpLCB0aGlzLlFuID0gbmV3IHNyKHRoaXMuam4sIHRoaXMuSW4sIHRoaXMucGVyc2lzdGVuY2UuZ2V0SW5kZXhNYW5hZ2VyKCkpLCBcbiAgICAgICAgdGhpcy5KZSA9IHQuZ2V0QnVuZGxlQ2FjaGUoKSwgdGhpcy5Cbi4kbih0aGlzLlFuKTtcbiAgICB9XG4gICAgY29sbGVjdEdhcmJhZ2UodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkNvbGxlY3QgZ2FyYmFnZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHQuY29sbGVjdChlLCB0aGlzLlVuKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXIoXG4vKiogTWFuYWdlcyBvdXIgaW4tbWVtb3J5IG9yIGR1cmFibGUgcGVyc2lzdGVuY2UuICovXG50LCBlLCBuLCBzKSB7XG4gICAgcmV0dXJuIG5ldyBvcih0LCBlLCBuLCBzKTtcbn1cblxuLyoqXG4gKiBUZWxscyB0aGUgTG9jYWxTdG9yZSB0aGF0IHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyIGhhcyBjaGFuZ2VkLlxuICpcbiAqIEluIHJlc3BvbnNlIHRoZSBsb2NhbCBzdG9yZSBzd2l0Y2hlcyB0aGUgbXV0YXRpb24gcXVldWUgdG8gdGhlIG5ldyB1c2VyIGFuZFxuICogcmV0dXJucyBhbnkgcmVzdWx0aW5nIGRvY3VtZW50IGNoYW5nZXMuXG4gKi9cbi8vIFBPUlRJTkcgTk9URTogQW5kcm9pZCBhbmQgaU9TIG9ubHkgcmV0dXJuIHRoZSBkb2N1bWVudHMgYWZmZWN0ZWQgYnkgdGhlXG4vLyBjaGFuZ2UuXG5hc3luYyBmdW5jdGlvbiBjcih0LCBlKSB7XG4gICAgY29uc3QgbiA9IEIodCk7XG4gICAgbGV0IHMgPSBuLkluLCBpID0gbi5RbjtcbiAgICBjb25zdCByID0gYXdhaXQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkhhbmRsZSB1c2VyIGNoYW5nZVwiLCBcInJlYWRvbmx5XCIsICh0ID0+IHtcbiAgICAgICAgLy8gU3dhcCBvdXQgdGhlIG11dGF0aW9uIHF1ZXVlLCBncmFiYmluZyB0aGUgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzXG4gICAgICAgIC8vIGJlZm9yZSBhbmQgYWZ0ZXIuXG4gICAgICAgIGxldCByO1xuICAgICAgICByZXR1cm4gbi5Jbi5nZXRBbGxNdXRhdGlvbkJhdGNoZXModCkubmV4dCgobyA9PiAociA9IG8sIHMgPSBuLnBlcnNpc3RlbmNlLmdldE11dGF0aW9uUXVldWUoZSksIFxuICAgICAgICAvLyBSZWNyZWF0ZSBvdXIgTG9jYWxEb2N1bWVudHNWaWV3IHVzaW5nIHRoZSBuZXdcbiAgICAgICAgLy8gTXV0YXRpb25RdWV1ZS5cbiAgICAgICAgaSA9IG5ldyBzcihuLmpuLCBzLCBuLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcigpKSwgcy5nZXRBbGxNdXRhdGlvbkJhdGNoZXModCkpKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gW10sIHMgPSBbXTtcbiAgICAgICAgICAgIC8vIFVuaW9uIHRoZSBvbGQvbmV3IGNoYW5nZWQga2V5cy5cbiAgICAgICAgICAgIGxldCBvID0gUm4oKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiByKSB7XG4gICAgICAgICAgICAgICAgbi5wdXNoKHQuYmF0Y2hJZCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQubXV0YXRpb25zKSBvID0gby5hZGQoZS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgICAgICBzLnB1c2godC5iYXRjaElkKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdC5tdXRhdGlvbnMpIG8gPSBvLmFkZChlLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNldCBvZiBhbGwgKHBvdGVudGlhbGx5KSBjaGFuZ2VkIGRvY3VtZW50cyBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgIC8vIG9mIG11dGF0aW9uIGJhdGNoIElEcyB0aGF0IHdlcmUgYWZmZWN0ZWQgYnkgY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuUG4odCwgbykubmV4dCgodCA9PiAoe1xuICAgICAgICAgICAgICAgIFduOiB0LFxuICAgICAgICAgICAgICAgIHJlbW92ZWRCYXRjaElkczogbixcbiAgICAgICAgICAgICAgICBhZGRlZEJhdGNoSWRzOiBzXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KSk7XG4gICAgfSkpO1xuICAgIHJldHVybiBuLkluID0gcywgbi5RbiA9IGksIG4uQm4uJG4obi5RbiksIHI7XG59XG5cbi8qIEFjY2VwdHMgbG9jYWxseSBnZW5lcmF0ZWQgTXV0YXRpb25zIGFuZCBjb21taXQgdGhlbSB0byBzdG9yYWdlLiAqL1xuLyoqXG4gKiBBY2tub3dsZWRnZXMgdGhlIGdpdmVuIGJhdGNoLlxuICpcbiAqIE9uIHRoZSBoYXBweSBwYXRoIHdoZW4gYSBiYXRjaCBpcyBhY2tub3dsZWRnZWQsIHRoZSBsb2NhbCBzdG9yZSB3aWxsXG4gKlxuICogICsgcmVtb3ZlIHRoZSBiYXRjaCBmcm9tIHRoZSBtdXRhdGlvbiBxdWV1ZTtcbiAqICArIGFwcGx5IHRoZSBjaGFuZ2VzIHRvIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGU7XG4gKiAgKyByZWNhbGN1bGF0ZSB0aGUgbGF0ZW5jeSBjb21wZW5zYXRlZCB2aWV3IGltcGxpZWQgYnkgdGhvc2UgY2hhbmdlcyAodGhlcmVcbiAqICAgIG1heSBiZSBtdXRhdGlvbnMgaW4gdGhlIHF1ZXVlIHRoYXQgYWZmZWN0IHRoZSBkb2N1bWVudHMgYnV0IGhhdmVuJ3QgYmVlblxuICogICAgYWNrbm93bGVkZ2VkIHlldCk7IGFuZFxuICogICsgZ2l2ZSB0aGUgY2hhbmdlZCBkb2N1bWVudHMgYmFjayB0aGUgc3luYyBlbmdpbmVcbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIChtb2RpZmllZCkgZG9jdW1lbnRzLlxuICovXG5mdW5jdGlvbiB1cih0LCBlKSB7XG4gICAgY29uc3QgbiA9IEIodCk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBY2tub3dsZWRnZSBiYXRjaFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IHtcbiAgICAgICAgY29uc3QgcyA9IGUuYmF0Y2gua2V5cygpLCBpID0gbi5qbi5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlLCBuLCBzKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5iYXRjaCwgciA9IGkua2V5cygpO1xuICAgICAgICAgICAgbGV0IG8gPSBxcy5yZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gci5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICBvID0gby5uZXh0KCgoKSA9PiBzLmdldEVudHJ5KGUsIHQpKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuLmRvY1ZlcnNpb25zLmdldCh0KTtcbiAgICAgICAgICAgICAgICAgICAgTShudWxsICE9PSByKSwgZS52ZXJzaW9uLmNvbXBhcmVUbyhyKSA8IDAgJiYgKGkuYXBwbHlUb1JlbW90ZURvY3VtZW50KGUsIG4pLCBlLmlzVmFsaWREb2N1bWVudCgpICYmIFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGNvbW1pdFZlcnNpb24gYXMgdGhlIHJlYWRUaW1lIHJhdGhlciB0aGFuIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudCdzIHVwZGF0ZVRpbWUgc2luY2UgdGhlIHVwZGF0ZVRpbWUgaXMgbm90IGFkdmFuY2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciB1cGRhdGVzIHRoYXQgZG8gbm90IG1vZGlmeSB0aGUgdW5kZXJseWluZyBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgcy5hZGRFbnRyeShlLCBuLmNvbW1pdFZlcnNpb24pKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIG8ubmV4dCgoKCkgPT4gdC5Jbi5yZW1vdmVNdXRhdGlvbkJhdGNoKGUsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJldHVybnMgdGhlIGxvY2FsIHZpZXcgb2YgdGhlIGRvY3VtZW50cyBhZmZlY3RlZCBieSBhIG11dGF0aW9uIGJhdGNoLiAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgICAgICAobiwgdCwgZSwgaSkubmV4dCgoKCkgPT4gaS5hcHBseSh0KSkpLm5leHQoKCgpID0+IG4uSW4ucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2sodCkpKS5uZXh0KCgoKSA9PiBuLlFuLlBuKHQsIHMpKSk7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgbXV0YXRpb25zIGZyb20gdGhlIE11dGF0aW9uUXVldWUgZm9yIHRoZSBzcGVjaWZpZWQgYmF0Y2g7XG4gKiBMb2NhbERvY3VtZW50cyB3aWxsIGJlIHJlY2FsY3VsYXRlZC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIG1vZGlmaWVkIGRvY3VtZW50cy5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGNvbnNpc3RlbnQgc25hcHNob3QgcHJvY2Vzc2VkICh1c2VkIGJ5IHRoZSBSZW1vdGVTdG9yZSB0b1xuICogZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYnVmZmVyIGluY29taW5nIHNuYXBzaG90cyBmcm9tIHRoZSBiYWNrZW5kKS5cbiAqL1xuZnVuY3Rpb24gaHIodCkge1xuICAgIGNvbnN0IGUgPSBCKHQpO1xuICAgIHJldHVybiBlLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGxhc3QgcmVtb3RlIHNuYXBzaG90IHZlcnNpb25cIiwgXCJyZWFkb25seVwiLCAodCA9PiBlLnplLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24odCkpKTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBcImdyb3VuZC1zdGF0ZVwiIChyZW1vdGUpIGRvY3VtZW50cy4gV2UgYXNzdW1lIHRoYXQgdGhlIHJlbW90ZVxuICogZXZlbnQgcmVmbGVjdHMgYW55IHdyaXRlIGJhdGNoZXMgdGhhdCBoYXZlIGJlZW4gYWNrbm93bGVkZ2VkIG9yIHJlamVjdGVkXG4gKiAoaS5lLiB3ZSBkbyBub3QgcmUtYXBwbHkgbG9jYWwgbXV0YXRpb25zIHRvIHVwZGF0ZXMgZnJvbSB0aGlzIGV2ZW50KS5cbiAqXG4gKiBMb2NhbERvY3VtZW50cyBhcmUgcmUtY2FsY3VsYXRlZCBpZiB0aGVyZSBhcmUgcmVtYWluaW5nIG11dGF0aW9ucyBpbiB0aGVcbiAqIHF1ZXVlLlxuICovIGZ1bmN0aW9uIGxyKHQsIGUpIHtcbiAgICBjb25zdCBuID0gQih0KSwgcyA9IGUuc25hcHNob3RWZXJzaW9uO1xuICAgIGxldCBpID0gbi5VbjtcbiAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFwcGx5IHJlbW90ZSBldmVudFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IHtcbiAgICAgICAgY29uc3QgciA9IG4uam4ubmV3Q2hhbmdlQnVmZmVyKHtcbiAgICAgICAgICAgIHRyYWNrUmVtb3ZhbHM6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZXNldCBuZXdUYXJnZXREYXRhQnlUYXJnZXRNYXAgaW4gY2FzZSB0aGlzIHRyYW5zYWN0aW9uIGdldHMgcmUtcnVuLlxuICAgICAgICAgICAgICAgIGkgPSBuLlVuO1xuICAgICAgICBjb25zdCBvID0gW107XG4gICAgICAgIGUudGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYSA9IGkuZ2V0KHIpO1xuICAgICAgICAgICAgaWYgKCFhKSByZXR1cm47XG4gICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgcmVtb3RlIGtleXMgaWYgdGhlIHRhcmdldCBpcyBzdGlsbCBhY3RpdmUuIFRoaXNcbiAgICAgICAgICAgIC8vIGVuc3VyZXMgdGhhdCB3ZSBjYW4gcGVyc2lzdCB0aGUgdXBkYXRlZCB0YXJnZXQgZGF0YSBhbG9uZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgdXBkYXRlZCBhc3NpZ25tZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgby5wdXNoKG4uemUucmVtb3ZlTWF0Y2hpbmdLZXlzKHQsIGUucmVtb3ZlZERvY3VtZW50cywgcikubmV4dCgoKCkgPT4gbi56ZS5hZGRNYXRjaGluZ0tleXModCwgZS5hZGRlZERvY3VtZW50cywgcikpKSk7XG4gICAgICAgICAgICBjb25zdCBjID0gZS5yZXN1bWVUb2tlbjtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVzdW1lIHRva2VuIGlmIHRoZSBjaGFuZ2UgaW5jbHVkZXMgb25lLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMuYXBwcm94aW1hdGVCeXRlU2l6ZSgpID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHUgPSBhLndpdGhSZXN1bWVUb2tlbihjLCBzKS53aXRoU2VxdWVuY2VOdW1iZXIodC5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGkgPSBpLmluc2VydChyLCB1KSwgXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YXJnZXQgZGF0YSBpZiB0aGVyZSBhcmUgdGFyZ2V0IGNoYW5nZXMgKG9yIGlmXG4gICAgICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0aW1lIGhhcyBwYXNzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlKS5cbiAgICAgICAgICAgICAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbmV3VGFyZ2V0RGF0YSBzaG91bGQgYmUgcGVyc2lzdGVkIGR1cmluZyBhbiB1cGRhdGUgb2ZcbiAqIGFuIGFjdGl2ZSB0YXJnZXQuIFRhcmdldERhdGEgc2hvdWxkIGFsd2F5cyBiZSBwZXJzaXN0ZWQgd2hlbiBhIHRhcmdldCBpc1xuICogYmVpbmcgcmVsZWFzZWQgYW5kIHNob3VsZCBub3QgY2FsbCB0aGlzIGZ1bmN0aW9uLlxuICpcbiAqIFdoaWxlIHRoZSB0YXJnZXQgaXMgYWN0aXZlLCBUYXJnZXREYXRhIHVwZGF0ZXMgY2FuIGJlIG9taXR0ZWQgd2hlbiBub3RoaW5nXG4gKiBhYm91dCB0aGUgdGFyZ2V0IGhhcyBjaGFuZ2VkIGV4Y2VwdCBtZXRhZGF0YSBsaWtlIHRoZSByZXN1bWUgdG9rZW4gb3JcbiAqIHNuYXBzaG90IHZlcnNpb24uIE9jY2FzaW9uYWxseSBpdCdzIHdvcnRoIHRoZSBleHRyYSB3cml0ZSB0byBwcmV2ZW50IHRoZXNlXG4gKiB2YWx1ZXMgZnJvbSBnZXR0aW5nIHRvbyBzdGFsZSBhZnRlciBhIGNyYXNoLCBidXQgdGhpcyBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIHRvbyBmcmVxdWVudC5cbiAqL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHBlcnNpc3QgdGFyZ2V0IGRhdGEgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGEgcmVzdW1lIHRva2VuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoTShlLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDApLCAwID09PSB0LnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBhbGxvdyByZXN1bWUgdG9rZW4gY2hhbmdlcyB0byBiZSBidWZmZXJlZCBpbmRlZmluaXRlbHkuIFRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3dzIHVzIHRvIGJlIHJlYXNvbmFibHkgdXAtdG8tZGF0ZSBhZnRlciBhIGNyYXNoIGFuZCBhdm9pZHMgbmVlZGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBsb29wIG92ZXIgYWxsIGFjdGl2ZSBxdWVyaWVzIG9uIHNodXRkb3duLiBFc3BlY2lhbGx5IGluIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG1heSBub3QgZ2V0IHRpbWUgdG8gZG8gYW55dGhpbmcgaW50ZXJlc3Rpbmcgd2hpbGUgdGhlIGN1cnJlbnQgdGFiIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuc25hcHNob3RWZXJzaW9uLnRvTWljcm9zZWNvbmRzKCkgLSB0LnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpID49IDNlOCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgaWYgdGhlIG9ubHkgdGhpbmcgdGhhdCBoYXMgY2hhbmdlZCBhYm91dCBhIHRhcmdldCBpcyBpdHMgcmVzdW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIHRva2VuIGl0J3Mgbm90IHdvcnRoIHBlcnNpc3RpbmcuIE5vdGUgdGhhdCB0aGUgUmVtb3RlU3RvcmUga2VlcHMgYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gaW4tbWVtb3J5IHZpZXcgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgdGFyZ2V0cyB3aGljaCBpbmNsdWRlcyB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAvLyByZXN1bWUgdG9rZW4sIHNvIHN0cmVhbSBmYWlsdXJlIG9yIHVzZXIgY2hhbmdlcyB3aWxsIHN0aWxsIHVzZSBhblxuICAgICAgICAgICAgICAgICAgICAvLyB1cC10by1kYXRlIHJlc3VtZSB0b2tlbiByZWdhcmRsZXNzIG9mIHdoYXQgd2UgZG8gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5hZGRlZERvY3VtZW50cy5zaXplICsgbi5tb2RpZmllZERvY3VtZW50cy5zaXplICsgbi5yZW1vdmVkRG9jdW1lbnRzLnNpemUgPiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAqIE5vdGlmaWVzIGxvY2FsIHN0b3JlIG9mIHRoZSBjaGFuZ2VkIHZpZXdzIHRvIGxvY2FsbHkgcGluIGRvY3VtZW50cy5cbiAqLyAoYSwgdSwgZSkgJiYgby5wdXNoKG4uemUudXBkYXRlVGFyZ2V0RGF0YSh0LCB1KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IGEgPSB5bigpO1xuICAgICAgICAvLyBIQUNLOiBUaGUgb25seSByZWFzb24gd2UgYWxsb3cgYSBudWxsIHNuYXBzaG90IHZlcnNpb24gaXMgc28gdGhhdCB3ZVxuICAgICAgICAvLyBjYW4gc3ludGhlc2l6ZSByZW1vdGUgZXZlbnRzIHdoZW4gd2UgZ2V0IHBlcm1pc3Npb24gZGVuaWVkIGVycm9ycyB3aGlsZVxuICAgICAgICAvLyB0cnlpbmcgdG8gcmVzb2x2ZSB0aGUgc3RhdGUgb2YgYSBsb2NhbGx5IGNhY2hlZCBkb2N1bWVudCB0aGF0IGlzIGluXG4gICAgICAgIC8vIGxpbWJvLlxuICAgICAgICBpZiAoZS5kb2N1bWVudFVwZGF0ZXMuZm9yRWFjaCgoKHMsIGkpID0+IHtcbiAgICAgICAgICAgIGUucmVzb2x2ZWRMaW1ib0RvY3VtZW50cy5oYXMocykgJiYgby5wdXNoKG4ucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUudXBkYXRlTGltYm9Eb2N1bWVudCh0LCBzKSk7XG4gICAgICAgIH0pKSwgXG4gICAgICAgIC8vIEVhY2ggbG9vcCBpdGVyYXRpb24gb25seSBhZmZlY3RzIGl0cyBcIm93blwiIGRvYywgc28gaXQncyBzYWZlIHRvIGdldCBhbGwgdGhlIHJlbW90ZVxuICAgICAgICAvLyBkb2N1bWVudHMgaW4gYWR2YW5jZSBpbiBhIHNpbmdsZSBjYWxsLlxuICAgICAgICBvLnB1c2goZnIodCwgciwgZS5kb2N1bWVudFVwZGF0ZXMsIHMsIHZvaWQgMCkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBhID0gdDtcbiAgICAgICAgfSkpKSwgIXMuaXNFcXVhbChzdC5taW4oKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuLnplLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24odCkubmV4dCgoZSA9PiBuLnplLnNldFRhcmdldHNNZXRhZGF0YSh0LCB0LmN1cnJlbnRTZXF1ZW5jZU51bWJlciwgcykpKTtcbiAgICAgICAgICAgIG8ucHVzaChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXMud2FpdEZvcihvKS5uZXh0KCgoKSA9PiByLmFwcGx5KHQpKSkubmV4dCgoKCkgPT4gbi5Rbi52bih0LCBhKSkpLm5leHQoKCgpID0+IGEpKTtcbiAgICB9KSkudGhlbigodCA9PiAobi5VbiA9IGksIHQpKSk7XG59XG5cbi8qKlxuICogUG9wdWxhdGVzIGRvY3VtZW50IGNoYW5nZSBidWZmZXIgd2l0aCBkb2N1bWVudHMgZnJvbSBiYWNrZW5kIG9yIGEgYnVuZGxlLlxuICogUmV0dXJucyB0aGUgZG9jdW1lbnQgY2hhbmdlcyByZXN1bHRpbmcgZnJvbSBhcHBseWluZyB0aG9zZSBkb2N1bWVudHMuXG4gKlxuICogQHBhcmFtIHR4biAtIFRyYW5zYWN0aW9uIHRvIHVzZSB0byByZWFkIGV4aXN0aW5nIGRvY3VtZW50cyBmcm9tIHN0b3JhZ2UuXG4gKiBAcGFyYW0gZG9jdW1lbnRCdWZmZXIgLSBEb2N1bWVudCBidWZmZXIgdG8gY29sbGVjdCB0aGUgcmVzdWx0ZWQgY2hhbmdlcyB0byBiZVxuICogICAgICAgIGFwcGxpZWQgdG8gc3RvcmFnZS5cbiAqIEBwYXJhbSBkb2N1bWVudHMgLSBEb2N1bWVudHMgdG8gYmUgYXBwbGllZC5cbiAqIEBwYXJhbSBnbG9iYWxWZXJzaW9uIC0gQSBgU25hcHNob3RWZXJzaW9uYCByZXByZXNlbnRpbmcgdGhlIHJlYWQgdGltZSBpZiBhbGxcbiAqICAgICAgICBkb2N1bWVudHMgaGF2ZSB0aGUgc2FtZSByZWFkIHRpbWUuXG4gKiBAcGFyYW0gZG9jdW1lbnRWZXJzaW9ucyAtIEEgRG9jdW1lbnRLZXktdG8tU25hcHNob3RWZXJzaW9uIG1hcCBpZiBkb2N1bWVudHNcbiAqICAgICAgICBoYXZlIHRoZWlyIG93biByZWFkIHRpbWUuXG4gKlxuICogTm90ZTogdGhpcyBmdW5jdGlvbiB3aWxsIHVzZSBgZG9jdW1lbnRWZXJzaW9uc2AgaWYgaXQgaXMgZGVmaW5lZDtcbiAqIHdoZW4gaXQgaXMgbm90IGRlZmluZWQsIHJlc29ydHMgdG8gYGdsb2JhbFZlcnNpb25gLlxuICovIGZ1bmN0aW9uIGZyKHQsIGUsIG4sIHMsIFxuLy8gVE9ETyh3dWFuZHkpOiBXZSBjb3VsZCBhZGQgYHJlYWRUaW1lYCB0byBNYXliZURvY3VtZW50IGluc3RlYWQgdG8gcmVtb3ZlXG4vLyB0aGlzIHBhcmFtZXRlci5cbmkpIHtcbiAgICBsZXQgciA9IFJuKCk7XG4gICAgcmV0dXJuIG4uZm9yRWFjaCgodCA9PiByID0gci5hZGQodCkpKSwgZS5nZXRFbnRyaWVzKHQsIHIpLm5leHQoKHQgPT4ge1xuICAgICAgICBsZXQgciA9IHluKCk7XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKChuLCBvKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gdC5nZXQobiksIGMgPSAobnVsbCA9PSBpID8gdm9pZCAwIDogaS5nZXQobikpIHx8IHM7XG4gICAgICAgICAgICAvLyBOb3RlOiBUaGUgb3JkZXIgb2YgdGhlIHN0ZXBzIGJlbG93IGlzIGltcG9ydGFudCwgc2luY2Ugd2Ugd2FudFxuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgcmVqZWN0ZWQgbGltYm8gcmVzb2x1dGlvbnMgKHdoaWNoIGZhYnJpY2F0ZVxuICAgICAgICAgICAgLy8gTm9Eb2N1bWVudHMgd2l0aCBTbmFwc2hvdFZlcnNpb24ubWluKCkpIG5ldmVyIGFkZCBkb2N1bWVudHMgdG9cbiAgICAgICAgICAgIC8vIGNhY2hlLlxuICAgICAgICAgICAgby5pc05vRG9jdW1lbnQoKSAmJiBvLnZlcnNpb24uaXNFcXVhbChzdC5taW4oKSkgPyAoXG4gICAgICAgICAgICAvLyBOb0RvY3VtZW50cyB3aXRoIFNuYXBzaG90VmVyc2lvbi5taW4oKSBhcmUgdXNlZCBpbiBtYW51ZmFjdHVyZWRcbiAgICAgICAgICAgIC8vIGV2ZW50cy4gV2UgcmVtb3ZlIHRoZXNlIGRvY3VtZW50cyBmcm9tIGNhY2hlIHNpbmNlIHdlIGxvc3RcbiAgICAgICAgICAgIC8vIGFjY2Vzcy5cbiAgICAgICAgICAgIGUucmVtb3ZlRW50cnkobiwgYyksIHIgPSByLmluc2VydChuLCBvKSkgOiAhYS5pc1ZhbGlkRG9jdW1lbnQoKSB8fCBvLnZlcnNpb24uY29tcGFyZVRvKGEudmVyc2lvbikgPiAwIHx8IDAgPT09IG8udmVyc2lvbi5jb21wYXJlVG8oYS52ZXJzaW9uKSAmJiBhLmhhc1BlbmRpbmdXcml0ZXMgPyAoZS5hZGRFbnRyeShvLCBjKSwgXG4gICAgICAgICAgICByID0gci5pbnNlcnQobiwgbykpIDogeChcIkxvY2FsU3RvcmVcIiwgXCJJZ25vcmluZyBvdXRkYXRlZCB3YXRjaCB1cGRhdGUgZm9yIFwiLCBuLCBcIi4gQ3VycmVudCB2ZXJzaW9uOlwiLCBhLnZlcnNpb24sIFwiIFdhdGNoIHZlcnNpb246XCIsIG8udmVyc2lvbik7XG4gICAgICAgIH0pKSwgcjtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbXV0YXRpb24gYmF0Y2ggYWZ0ZXIgdGhlIHBhc3NlZCBpbiBiYXRjaElkIGluIHRoZSBtdXRhdGlvbiBxdWV1ZVxuICogb3IgbnVsbCBpZiBlbXB0eS5cbiAqIEBwYXJhbSBhZnRlckJhdGNoSWQgLSBJZiBwcm92aWRlZCwgdGhlIGJhdGNoIHRvIHNlYXJjaCBhZnRlci5cbiAqIEByZXR1cm5zIFRoZSBuZXh0IG11dGF0aW9uIG9yIG51bGwgaWYgdGhlcmUgd2Fzbid0IG9uZS5cbiAqL1xuZnVuY3Rpb24gZHIodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5leHQgbXV0YXRpb24gYmF0Y2hcIiwgXCJyZWFkb25seVwiLCAodCA9PiAodm9pZCAwID09PSBlICYmIChlID0gLTEpLCBcbiAgICBuLkluLmdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKHQsIGUpKSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgRG9jdW1lbnQgd2l0aCBhIGdpdmVuIGtleSBvciBudWxsIGlmIG5vdFxuICogZm91bmQgLSB1c2VkIGZvciB0ZXN0aW5nLlxuICovXG4vKipcbiAqIEFzc2lnbnMgdGhlIGdpdmVuIHRhcmdldCBhbiBpbnRlcm5hbCBJRCBzbyB0aGF0IGl0cyByZXN1bHRzIGNhbiBiZSBwaW5uZWQgc29cbiAqIHRoZXkgZG9uJ3QgZ2V0IEdDJ2QuIEEgdGFyZ2V0IG11c3QgYmUgYWxsb2NhdGVkIGluIHRoZSBsb2NhbCBzdG9yZSBiZWZvcmVcbiAqIHRoZSBzdG9yZSBjYW4gYmUgdXNlZCB0byBtYW5hZ2UgaXRzIHZpZXcuXG4gKlxuICogQWxsb2NhdGluZyBhbiBhbHJlYWR5IGFsbG9jYXRlZCBgVGFyZ2V0YCB3aWxsIHJldHVybiB0aGUgZXhpc3RpbmcgYFRhcmdldERhdGFgXG4gKiBmb3IgdGhhdCBgVGFyZ2V0YC5cbiAqL1xuZnVuY3Rpb24gd3IodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQWxsb2NhdGUgdGFyZ2V0XCIsIFwicmVhZHdyaXRlXCIsICh0ID0+IHtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIHJldHVybiBuLnplLmdldFRhcmdldERhdGEodCwgZSkubmV4dCgoaSA9PiBpID8gKFxuICAgICAgICAvLyBUaGlzIHRhcmdldCBoYXMgYmVlbiBsaXN0ZW5lZCB0byBwcmV2aW91c2x5LCBzbyByZXVzZSB0aGVcbiAgICAgICAgLy8gcHJldmlvdXMgdGFyZ2V0SUQuXG4gICAgICAgIC8vIFRPRE8obWNnKTogZnJlc2hlbiBsYXN0IGFjY2Vzc2VkIGRhdGU/XG4gICAgICAgIHMgPSBpLCBxcy5yZXNvbHZlKHMpKSA6IG4uemUuYWxsb2NhdGVUYXJnZXRJZCh0KS5uZXh0KChpID0+IChzID0gbmV3IG5pKGUsIGksIDAgLyogTGlzdGVuICovICwgdC5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBcbiAgICAgICAgbi56ZS5hZGRUYXJnZXREYXRhKHQsIHMpLm5leHQoKCgpID0+IHMpKSkpKSkpO1xuICAgIH0pKS50aGVuKCh0ID0+IHtcbiAgICAgICAgLy8gSWYgTXVsdGktVGFiIGlzIGVuYWJsZWQsIHRoZSBleGlzdGluZyB0YXJnZXQgZGF0YSBtYXkgYmUgbmV3ZXIgdGhhblxuICAgICAgICAvLyB0aGUgaW4tbWVtb3J5IGRhdGFcbiAgICAgICAgY29uc3QgcyA9IG4uVW4uZ2V0KHQudGFyZ2V0SWQpO1xuICAgICAgICByZXR1cm4gKG51bGwgPT09IHMgfHwgdC5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHMuc25hcHNob3RWZXJzaW9uKSA+IDApICYmIChuLlVuID0gbi5Vbi5pbnNlcnQodC50YXJnZXRJZCwgdCksIFxuICAgICAgICBuLnFuLnNldChlLCB0LnRhcmdldElkKSksIHQ7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgYXMgc2VlbiBieSB0aGUgTG9jYWxTdG9yZSwgaW5jbHVkaW5nIHVwZGF0ZXMgdGhhdCBtYXlcbiAqIGhhdmUgbm90IHlldCBiZWVuIHBlcnNpc3RlZCB0byB0aGUgVGFyZ2V0Q2FjaGUuXG4gKi9cbi8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4vKipcbiAqIFVucGlucyBhbGwgdGhlIGRvY3VtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHRhcmdldC4gSWZcbiAqIGBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YWAgaXMgc2V0IHRvIGZhbHNlIGFuZCBFYWdlciBHQyBlbmFibGVkLCB0aGUgbWV0aG9kXG4gKiBkaXJlY3RseSByZW1vdmVzIHRoZSBhc3NvY2lhdGVkIHRhcmdldCBkYXRhIGZyb20gdGhlIHRhcmdldCBjYWNoZS5cbiAqXG4gKiBSZWxlYXNpbmcgYSBub24tZXhpc3RpbmcgYFRhcmdldGAgaXMgYSBuby1vcC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBga2VlcFBlcnNpc3RlZFRhcmdldERhdGFgIGlzIG11bHRpLXRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX3IodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBCKHQpLCBpID0gcy5Vbi5nZXQoZSksIHIgPSBuID8gXCJyZWFkd3JpdGVcIiA6IFwicmVhZHdyaXRlLXByaW1hcnlcIjtcbiAgICB0cnkge1xuICAgICAgICBuIHx8IGF3YWl0IHMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJSZWxlYXNlIHRhcmdldFwiLCByLCAodCA9PiBzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVRhcmdldCh0LCBpKSkpO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgaWYgKCFHcyh0KSkgdGhyb3cgdDtcbiAgICAgICAgLy8gQWxsIGByZWxlYXNlVGFyZ2V0YCBkb2VzIGlzIHJlY29yZCB0aGUgZmluYWwgbWV0YWRhdGEgc3RhdGUgZm9yIHRoZVxuICAgICAgICAvLyB0YXJnZXQsIGJ1dCB3ZSd2ZSBiZWVuIHJlY29yZGluZyB0aGlzIHBlcmlvZGljYWxseSBkdXJpbmcgdGFyZ2V0XG4gICAgICAgIC8vIGFjdGl2aXR5LiBJZiB3ZSBsb3NlIHRoaXMgd3JpdGUgdGhpcyBjb3VsZCBjYXVzZSBhIHZlcnkgc2xpZ2h0XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIG9yZGVyIG9mIHRhcmdldCBkZWxldGlvbiBkdXJpbmcgR0MsIGJ1dCB3ZVxuICAgICAgICAvLyBkb24ndCBkZWZpbmUgZXhhY3QgTFJVIHNlbWFudGljcyBzbyB0aGlzIGlzIGFjY2VwdGFibGUuXG4gICAgICAgIHgoXCJMb2NhbFN0b3JlXCIsIGBGYWlsZWQgdG8gdXBkYXRlIHNlcXVlbmNlIG51bWJlcnMgZm9yIHRhcmdldCAke2V9OiAke3R9YCk7XG4gICAgfVxuICAgIHMuVW4gPSBzLlVuLnJlbW92ZShlKSwgcy5xbi5kZWxldGUoaS50YXJnZXQpO1xufVxuXG4vKipcbiAqIFJ1bnMgdGhlIHNwZWNpZmllZCBxdWVyeSBhZ2FpbnN0IHRoZSBsb2NhbCBzdG9yZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyxcbiAqIHBvdGVudGlhbGx5IHRha2luZyBhZHZhbnRhZ2Ugb2YgcXVlcnkgZGF0YSBmcm9tIHByZXZpb3VzIGV4ZWN1dGlvbnMgKHN1Y2hcbiAqIGFzIHRoZSBzZXQgb2YgcmVtb3RlIGtleXMpLlxuICpcbiAqIEBwYXJhbSB1c2VQcmV2aW91c1Jlc3VsdHMgLSBXaGV0aGVyIHJlc3VsdHMgZnJvbSBwcmV2aW91cyBleGVjdXRpb25zIGNhblxuICogYmUgdXNlZCB0byBvcHRpbWl6ZSB0aGlzIHF1ZXJ5IGV4ZWN1dGlvbi5cbiAqLyBmdW5jdGlvbiBtcih0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IEIodCk7XG4gICAgbGV0IGkgPSBzdC5taW4oKSwgciA9IFJuKCk7XG4gICAgcmV0dXJuIHMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJFeGVjdXRlIHF1ZXJ5XCIsIFwicmVhZG9ubHlcIiwgKHQgPT4gZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICBjb25zdCBzID0gQih0KSwgaSA9IHMucW4uZ2V0KG4pO1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBpID8gcXMucmVzb2x2ZShzLlVuLmdldChpKSkgOiBzLnplLmdldFRhcmdldERhdGEoZSwgbik7XG4gICAgfShzLCB0LCBwZShlKSkubmV4dCgoZSA9PiB7XG4gICAgICAgIGlmIChlKSByZXR1cm4gaSA9IGUubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiwgcy56ZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LCBlLnRhcmdldElkKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIHIgPSB0O1xuICAgICAgICB9KSk7XG4gICAgfSkpLm5leHQoKCgpID0+IHMuQm4uZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeSh0LCBlLCBuID8gaSA6IHN0Lm1pbigpLCBuID8gciA6IFJuKCkpKSkubmV4dCgodCA9PiAoe1xuICAgICAgICBkb2N1bWVudHM6IHQsXG4gICAgICAgIEduOiByXG4gICAgfSkpKSkpO1xufVxuXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gZ3IodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpLCBzID0gQihuLnplKSwgaSA9IG4uVW4uZ2V0KGUpO1xuICAgIHJldHVybiBpID8gUHJvbWlzZS5yZXNvbHZlKGkudGFyZ2V0KSA6IG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgdGFyZ2V0IGRhdGFcIiwgXCJyZWFkb25seVwiLCAodCA9PiBzLkV0KHQsIGUpLm5leHQoKHQgPT4gdCA/IHQudGFyZ2V0IDogbnVsbCkpKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc2V0IG9mIGRvY3VtZW50cyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwuXG4gKiBJZiB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCByZXR1cm5zIHRoZSBzZXQgb2YgY2hhbmdlcyBzaW5jZSBjbGllbnRcbiAqIGluaXRpYWxpemF0aW9uLiBGdXJ0aGVyIGludm9jYXRpb25zIHdpbGwgcmV0dXJuIGRvY3VtZW50IHRoYXQgaGF2ZSBjaGFuZ2VkXG4gKiBzaW5jZSB0aGUgcHJpb3IgY2FsbC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmZ1bmN0aW9uIHlyKHQpIHtcbiAgICBjb25zdCBlID0gQih0KTtcbiAgICByZXR1cm4gZS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuZXcgZG9jdW1lbnQgY2hhbmdlc1wiLCBcInJlYWRvbmx5XCIsICh0ID0+IGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgY29uc3QgcyA9IEIodCk7XG4gICAgICAgIGxldCBpID0geW4oKSwgciA9IG9pKG4pO1xuICAgICAgICBjb25zdCBvID0gR2koZSksIGEgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHIsICEwKTtcbiAgICAgICAgcmV0dXJuIG8uS3Qoe1xuICAgICAgICAgICAgaW5kZXg6IERzLnJlYWRUaW1lSW5kZXgsXG4gICAgICAgICAgICByYW5nZTogYVxuICAgICAgICB9LCAoKHQsIGUpID0+IHtcbiAgICAgICAgICAgIC8vIFVubGlrZSBgZ2V0RW50cnkoKWAgYW5kIG90aGVycywgYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYCBwYXJzZXNcbiAgICAgICAgICAgIC8vIHRoZSBkb2N1bWVudHMgZGlyZWN0bHkgc2luY2Ugd2Ugd2FudCB0byBrZWVwIHNlbnRpbmVsIGRlbGV0ZXMuXG4gICAgICAgICAgICBjb25zdCBuID0gaWkocy5OLCBlKTtcbiAgICAgICAgICAgIGkgPSBpLmluc2VydChuLmtleSwgbiksIHIgPSBlLnJlYWRUaW1lO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gKHtcbiAgICAgICAgICAgIFRuOiBpLFxuICAgICAgICAgICAgcmVhZFRpbWU6IGFpKHIpXG4gICAgICAgIH0pKSk7XG4gICAgfVxuICAgIC8qKlxuICogUmV0dXJucyB0aGUgcmVhZCB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudGx5IHJlYWQgZG9jdW1lbnQgaW4gdGhlIGNhY2hlLCBvclxuICogU25hcHNob3RWZXJzaW9uLm1pbigpIGlmIG5vdCBhdmFpbGFibGUuXG4gKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uLlxuICAgIChlLmpuLCB0LCBlLktuKSkpLnRoZW4oKCh7VG46IHQsIHJlYWRUaW1lOiBufSkgPT4gKGUuS24gPSBuLCB0KSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBuZXdlc3QgZG9jdW1lbnQgY2hhbmdlIGZyb20gcGVyc2lzdGVuY2UgYW5kIG1vdmVzIHRoZSBpbnRlcm5hbFxuICogc3luY2hyb25pemF0aW9uIG1hcmtlciBmb3J3YXJkIHNvIHRoYXQgY2FsbHMgdG8gYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYFxuICogb25seSByZXR1cm4gY2hhbmdlcyB0aGF0IGhhcHBlbmVkIGFmdGVyIGNsaWVudCBpbml0aWFsaXphdGlvbi5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIHByKHQpIHtcbiAgICBjb25zdCBlID0gQih0KTtcbiAgICByZXR1cm4gZS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlN5bmNocm9uaXplIGxhc3QgZG9jdW1lbnQgY2hhbmdlIHJlYWQgdGltZVwiLCBcInJlYWRvbmx5XCIsICh0ID0+IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IEdpKHQpO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gZXhpc3RpbmcgZW50cmllcywgd2UgcmV0dXJuIFNuYXBzaG90VmVyc2lvbi5taW4oKS5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IHN0Lm1pbigpO1xuICAgICAgICByZXR1cm4gZS5LdCh7XG4gICAgICAgICAgICBpbmRleDogRHMucmVhZFRpbWVJbmRleCxcbiAgICAgICAgICAgIHJldmVyc2U6ICEwXG4gICAgICAgIH0sICgodCwgZSwgcykgPT4ge1xuICAgICAgICAgICAgZS5yZWFkVGltZSAmJiAobiA9IGFpKGUucmVhZFRpbWUpKSwgcy5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfSh0KSkpLnRoZW4oKHQgPT4ge1xuICAgICAgICBlLktuID0gdDtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgdXNpbmcgdGhlIGdpdmVuIGJ1bmRsZSBuYW1lLCB3aGljaCB3aWxsIGJlIHVzZWQgdG9cbiAqIGhvbGQgdGhlIGtleXMgb2YgYWxsIGRvY3VtZW50cyBmcm9tIHRoZSBidW5kbGUgaW4gcXVlcnktZG9jdW1lbnQgbWFwcGluZ3MuXG4gKiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgbG9hZGVkIGRvY3VtZW50cyBkbyBub3QgZ2V0IGdhcmJhZ2UgY29sbGVjdGVkXG4gKiByaWdodCBhd2F5LlxuICovXG4vKipcbiAqIEFwcGxpZXMgdGhlIGRvY3VtZW50cyBmcm9tIGEgYnVuZGxlIHRvIHRoZSBcImdyb3VuZC1zdGF0ZVwiIChyZW1vdGUpXG4gKiBkb2N1bWVudHMuXG4gKlxuICogTG9jYWxEb2N1bWVudHMgYXJlIHJlLWNhbGN1bGF0ZWQgaWYgdGhlcmUgYXJlIHJlbWFpbmluZyBtdXRhdGlvbnMgaW4gdGhlXG4gKiBxdWV1ZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gRXIodCwgZSwgbiwgcykge1xuICAgIGNvbnN0IGkgPSBCKHQpO1xuICAgIGxldCByID0gUm4oKSwgbyA9IHluKCksIGEgPSBJbigpO1xuICAgIGZvciAoY29uc3QgdCBvZiBuKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLnpuKHQubWV0YWRhdGEubmFtZSk7XG4gICAgICAgIHQuZG9jdW1lbnQgJiYgKHIgPSByLmFkZChuKSksIG8gPSBvLmluc2VydChuLCBlLkhuKHQpKSwgYSA9IGEuaW5zZXJ0KG4sIGUuSm4odC5tZXRhZGF0YS5yZWFkVGltZSkpO1xuICAgIH1cbiAgICBjb25zdCBjID0gaS5qbi5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICB0cmFja1JlbW92YWxzOiAhMFxuICAgIH0pLCB1ID0gYXdhaXQgd3IoaSwgZnVuY3Rpb24odCkge1xuICAgICAgICAvLyBJdCBpcyBPSyB0aGF0IHRoZSBwYXRoIHVzZWQgZm9yIHRoZSBxdWVyeSBpcyBub3QgdmFsaWQsIGJlY2F1c2UgdGhpcyB3aWxsXG4gICAgICAgIC8vIG5vdCBiZSByZWFkIGFuZCBxdWVyaWVkLlxuICAgICAgICByZXR1cm4gcGUoZmUoY3QuZnJvbVN0cmluZyhgX19idW5kbGVfXy9kb2NzLyR7dH1gKSkpO1xuICAgIH0ocykpO1xuICAgIC8vIEFsbG9jYXRlcyBhIHRhcmdldCB0byBob2xkIGFsbCBkb2N1bWVudCBrZXlzIGZyb20gdGhlIGJ1bmRsZSwgc3VjaCB0aGF0XG4gICAgLy8gdGhleSB3aWxsIG5vdCBnZXQgZ2FyYmFnZSBjb2xsZWN0ZWQgcmlnaHQgYXdheS5cbiAgICAgICAgcmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBcHBseSBidW5kbGUgZG9jdW1lbnRzXCIsIFwicmVhZHdyaXRlXCIsICh0ID0+IGZyKHQsIGMsIG8sIHN0Lm1pbigpLCBhKS5uZXh0KChlID0+IChjLmFwcGx5KHQpLCBcbiAgICBlKSkpLm5leHQoKGUgPT4gaS56ZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LCB1LnRhcmdldElkKS5uZXh0KCgoKSA9PiBpLnplLmFkZE1hdGNoaW5nS2V5cyh0LCByLCB1LnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkuUW4udm4odCwgZSkpKS5uZXh0KCgoKSA9PiBlKSkpKSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUgZ2l2ZW4gYnVuZGxlIGhhcyBhbHJlYWR5XG4gKiBiZWVuIGxvYWRlZCBhbmQgdGhlIGNyZWF0ZSB0aW1lIGlzIG5ld2VyIHRoYW4gdGhlIGN1cnJlbnQgbG9hZGluZyBidW5kbGUuXG4gKi9cbi8qKlxuICogU2F2ZXMgdGhlIGdpdmVuIGBOYW1lZFF1ZXJ5YCB0byBsb2NhbCBwZXJzaXN0ZW5jZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gVHIodCwgZSwgbiA9IFJuKCkpIHtcbiAgICAvLyBBbGxvY2F0ZSBhIHRhcmdldCBmb3IgdGhlIG5hbWVkIHF1ZXJ5IHN1Y2ggdGhhdCBpdCBjYW4gYmUgcmVzdW1lZFxuICAgIC8vIGZyb20gYXNzb2NpYXRlZCByZWFkIHRpbWUgaWYgdXNlcnMgdXNlIGl0IHRvIGxpc3Rlbi5cbiAgICAvLyBOT1RFOiB0aGlzIGFsc28gbWVhbnMgaWYgbm8gY29ycmVzcG9uZGluZyB0YXJnZXQgZXhpc3RzLCB0aGUgbmV3IHRhcmdldFxuICAgIC8vIHdpbGwgcmVtYWluIGFjdGl2ZSBhbmQgd2lsbCBub3QgZ2V0IGNvbGxlY3RlZCwgdW5sZXNzIHVzZXJzIGhhcHBlbiB0b1xuICAgIC8vIHVubGlzdGVuIHRoZSBxdWVyeSBzb21laG93LlxuICAgIGNvbnN0IHMgPSBhd2FpdCB3cih0LCBwZShkaShlLmJ1bmRsZWRRdWVyeSkpKSwgaSA9IEIodCk7XG4gICAgcmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIG5hbWVkIHF1ZXJ5XCIsIFwicmVhZHdyaXRlXCIsICh0ID0+IHtcbiAgICAgICAgY29uc3QgciA9IHFuKGUucmVhZFRpbWUpO1xuICAgICAgICAvLyBTaW1wbHkgc2F2ZSB0aGUgcXVlcnkgaXRzZWxmIGlmIGl0IGlzIG9sZGVyIHRoYW4gd2hhdCB0aGUgU0RLIGFscmVhZHlcbiAgICAgICAgLy8gaGFzLlxuICAgICAgICAgICAgICAgIGlmIChzLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8ocikgPj0gMCkgcmV0dXJuIGkuSmUuc2F2ZU5hbWVkUXVlcnkodCwgZSk7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyB0YXJnZXQgZGF0YSBiZWNhdXNlIHRoZSBxdWVyeSBmcm9tIHRoZSBidW5kbGUgaXMgbmV3ZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgbyA9IHMud2l0aFJlc3VtZVRva2VuKGR0LkVNUFRZX0JZVEVfU1RSSU5HLCByKTtcbiAgICAgICAgcmV0dXJuIGkuVW4gPSBpLlVuLmluc2VydChvLnRhcmdldElkLCBvKSwgaS56ZS51cGRhdGVUYXJnZXREYXRhKHQsIG8pLm5leHQoKCgpID0+IGkuemUucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCwgcy50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiBpLnplLmFkZE1hdGNoaW5nS2V5cyh0LCBuLCBzLnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkuSmUuc2F2ZU5hbWVkUXVlcnkodCwgZSkpKTtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIElyIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuTiA9IHQsIHRoaXMuWW4gPSBuZXcgTWFwLCB0aGlzLlhuID0gbmV3IE1hcDtcbiAgICB9XG4gICAgZ2V0QnVuZGxlTWV0YWRhdGEodCwgZSkge1xuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSh0aGlzLlluLmdldChlKSk7XG4gICAgfVxuICAgIHNhdmVCdW5kbGVNZXRhZGF0YSh0LCBlKSB7XG4gICAgICAgIC8qKiBEZWNvZGVzIGEgQnVuZGxlTWV0YWRhdGEgcHJvdG8gaW50byBhIEJ1bmRsZU1ldGFkYXRhIG9iamVjdC4gKi9cbiAgICAgICAgdmFyIG47XG4gICAgICAgIHJldHVybiB0aGlzLlluLnNldChlLmlkLCB7XG4gICAgICAgICAgICBpZDogKG4gPSBlKS5pZCxcbiAgICAgICAgICAgIHZlcnNpb246IG4udmVyc2lvbixcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IHFuKG4uY3JlYXRlVGltZSlcbiAgICAgICAgfSksIHFzLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0TmFtZWRRdWVyeSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKHRoaXMuWG4uZ2V0KGUpKTtcbiAgICB9XG4gICAgc2F2ZU5hbWVkUXVlcnkodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Ybi5zZXQoZS5uYW1lLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHQubmFtZSxcbiAgICAgICAgICAgICAgICBxdWVyeTogZGkodC5idW5kbGVkUXVlcnkpLFxuICAgICAgICAgICAgICAgIHJlYWRUaW1lOiBxbih0LnJlYWRUaW1lKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfShlKSksIHFzLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiByZWZlcmVuY2VzIHRvIGEgZG9jdW1lbnQgZnJvbSBzb21lIGtpbmQgb2YgbnVtYmVyZWQgZW50aXR5XG4gKiAoZWl0aGVyIGEgdGFyZ2V0IElEIG9yIGJhdGNoIElEKS4gQXMgcmVmZXJlbmNlcyBhcmUgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tXG4gKiB0aGUgc2V0IGNvcnJlc3BvbmRpbmcgZXZlbnRzIGFyZSBlbWl0dGVkIHRvIGEgcmVnaXN0ZXJlZCBnYXJiYWdlIGNvbGxlY3Rvci5cbiAqXG4gKiBFYWNoIHJlZmVyZW5jZSBpcyByZXByZXNlbnRlZCBieSBhIERvY3VtZW50UmVmZXJlbmNlIG9iamVjdC4gRWFjaCBvZiB0aGVtXG4gKiBjb250YWlucyBlbm91Z2ggaW5mb3JtYXRpb24gdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhlIHJlZmVyZW5jZS4gVGhleSBhcmUgYWxsXG4gKiBzdG9yZWQgcHJpbWFyaWx5IGluIGEgc2V0IHNvcnRlZCBieSBrZXkuIEEgZG9jdW1lbnQgaXMgY29uc2lkZXJlZCBnYXJiYWdlIGlmXG4gKiB0aGVyZSdzIG5vIHJlZmVyZW5jZXMgaW4gdGhhdCBzZXQgKHRoaXMgY2FuIGJlIGVmZmljaWVudGx5IGNoZWNrZWQgdGhhbmtzIHRvXG4gKiBzb3J0aW5nIGJ5IGtleSkuXG4gKlxuICogUmVmZXJlbmNlU2V0IGFsc28ga2VlcHMgYSBzZWNvbmRhcnkgc2V0IHRoYXQgY29udGFpbnMgcmVmZXJlbmNlcyBzb3J0ZWQgYnlcbiAqIElEcy4gVGhpcyBvbmUgaXMgdXNlZCB0byBlZmZpY2llbnRseSBpbXBsZW1lbnQgcmVtb3ZhbCBvZiBhbGwgcmVmZXJlbmNlcyBieVxuICogc29tZSB0YXJnZXQgSUQuXG4gKi8gY2xhc3MgQXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBBIHNldCBvZiBvdXRzdGFuZGluZyByZWZlcmVuY2VzIHRvIGEgZG9jdW1lbnQgc29ydGVkIGJ5IGtleS5cbiAgICAgICAgdGhpcy5abiA9IG5ldyBfbihSci50cyksIFxuICAgICAgICAvLyBBIHNldCBvZiBvdXRzdGFuZGluZyByZWZlcmVuY2VzIHRvIGEgZG9jdW1lbnQgc29ydGVkIGJ5IHRhcmdldCBpZC5cbiAgICAgICAgdGhpcy5lcyA9IG5ldyBfbihSci5ucyk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlZmVyZW5jZSBzZXQgY29udGFpbnMgbm8gcmVmZXJlbmNlcy4gKi8gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWm4uaXNFbXB0eSgpO1xuICAgIH1cbiAgICAvKiogQWRkcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5IGZvciB0aGUgZ2l2ZW4gSUQuICovICAgIGFkZFJlZmVyZW5jZSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgUnIodCwgZSk7XG4gICAgICAgIHRoaXMuWm4gPSB0aGlzLlpuLmFkZChuKSwgdGhpcy5lcyA9IHRoaXMuZXMuYWRkKG4pO1xuICAgIH1cbiAgICAvKiogQWRkIHJlZmVyZW5jZXMgdG8gdGhlIGdpdmVuIGRvY3VtZW50IGtleXMgZm9yIHRoZSBnaXZlbiBJRC4gKi8gICAgc3ModCwgZSkge1xuICAgICAgICB0LmZvckVhY2goKHQgPT4gdGhpcy5hZGRSZWZlcmVuY2UodCwgZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5IGZvciB0aGUgZ2l2ZW5cbiAgICAgKiBJRC5cbiAgICAgKi8gICAgcmVtb3ZlUmVmZXJlbmNlKHQsIGUpIHtcbiAgICAgICAgdGhpcy5ycyhuZXcgUnIodCwgZSkpO1xuICAgIH1cbiAgICBvcyh0LCBlKSB7XG4gICAgICAgIHQuZm9yRWFjaCgodCA9PiB0aGlzLnJlbW92ZVJlZmVyZW5jZSh0LCBlKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHJlZmVyZW5jZXMgd2l0aCBhIGdpdmVuIElELiBDYWxscyByZW1vdmVSZWYoKSBmb3IgZWFjaCBrZXlcbiAgICAgKiByZW1vdmVkLlxuICAgICAqLyAgICBjcyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgUnQobmV3IGN0KFtdKSksIG4gPSBuZXcgUnIoZSwgdCksIHMgPSBuZXcgUnIoZSwgdCArIDEpLCBpID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmVzLmZvckVhY2hJblJhbmdlKFsgbiwgcyBdLCAodCA9PiB7XG4gICAgICAgICAgICB0aGlzLnJzKHQpLCBpLnB1c2godC5rZXkpO1xuICAgICAgICB9KSksIGk7XG4gICAgfVxuICAgIHVzKCkge1xuICAgICAgICB0aGlzLlpuLmZvckVhY2goKHQgPT4gdGhpcy5ycyh0KSkpO1xuICAgIH1cbiAgICBycyh0KSB7XG4gICAgICAgIHRoaXMuWm4gPSB0aGlzLlpuLmRlbGV0ZSh0KSwgdGhpcy5lcyA9IHRoaXMuZXMuZGVsZXRlKHQpO1xuICAgIH1cbiAgICBocyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgUnQobmV3IGN0KFtdKSksIG4gPSBuZXcgUnIoZSwgdCksIHMgPSBuZXcgUnIoZSwgdCArIDEpO1xuICAgICAgICBsZXQgaSA9IFJuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmVzLmZvckVhY2hJblJhbmdlKFsgbiwgcyBdLCAodCA9PiB7XG4gICAgICAgICAgICBpID0gaS5hZGQodC5rZXkpO1xuICAgICAgICB9KSksIGk7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBScih0LCAwKSwgbiA9IHRoaXMuWm4uZmlyc3RBZnRlck9yRXF1YWwoZSk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBuICYmIHQuaXNFcXVhbChuLmtleSk7XG4gICAgfVxufVxuXG5jbGFzcyBSciB7XG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmtleSA9IHQsIHRoaXMubHMgPSBlO1xuICAgIH1cbiAgICAvKiogQ29tcGFyZSBieSBrZXkgdGhlbiBieSBJRCAqLyAgICBzdGF0aWMgdHModCwgZSkge1xuICAgICAgICByZXR1cm4gUnQuY29tcGFyYXRvcih0LmtleSwgZS5rZXkpIHx8IFoodC5scywgZS5scyk7XG4gICAgfVxuICAgIC8qKiBDb21wYXJlIGJ5IElEIHRoZW4gYnkga2V5ICovICAgIHN0YXRpYyBucyh0LCBlKSB7XG4gICAgICAgIHJldHVybiBaKHQubHMsIGUubHMpIHx8IFJ0LmNvbXBhcmF0b3IodC5rZXksIGUua2V5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIGJyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuSHQgPSB0LCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2V0IG9mIGFsbCBtdXRhdGlvbnMgdGhhdCBoYXZlIGJlZW4gc2VudCBidXQgbm90IHlldCBiZWVuIGFwcGxpZWQgdG9cbiAgICAgICAgICogdGhlIGJhY2tlbmQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkluID0gW10sIFxuICAgICAgICAvKiogTmV4dCB2YWx1ZSB0byB1c2Ugd2hlbiBhc3NpZ25pbmcgc2VxdWVudGlhbCBJRHMgdG8gZWFjaCBtdXRhdGlvbiBiYXRjaC4gKi9cbiAgICAgICAgdGhpcy5mcyA9IDEsIFxuICAgICAgICAvKiogQW4gb3JkZXJlZCBtYXBwaW5nIGJldHdlZW4gZG9jdW1lbnRzIGFuZCB0aGUgbXV0YXRpb25zIGJhdGNoIElEcy4gKi9cbiAgICAgICAgdGhpcy5kcyA9IG5ldyBfbihSci50cyk7XG4gICAgfVxuICAgIGNoZWNrRW1wdHkodCkge1xuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSgwID09PSB0aGlzLkluLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZE11dGF0aW9uQmF0Y2godCwgZSwgbiwgcykge1xuICAgICAgICBjb25zdCBpID0gdGhpcy5mcztcbiAgICAgICAgdGhpcy5mcysrLCB0aGlzLkluLmxlbmd0aCA+IDAgJiYgdGhpcy5Jblt0aGlzLkluLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCByID0gbmV3IHRpKGksIGUsIG4sIHMpO1xuICAgICAgICB0aGlzLkluLnB1c2gocik7XG4gICAgICAgIC8vIFRyYWNrIHJlZmVyZW5jZXMgYnkgZG9jdW1lbnQga2V5IGFuZCBpbmRleCBjb2xsZWN0aW9uIHBhcmVudHMuXG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBzKSB0aGlzLmRzID0gdGhpcy5kcy5hZGQobmV3IFJyKGUua2V5LCBpKSksIHRoaXMuSHQuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgodCwgZS5rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZShyKTtcbiAgICB9XG4gICAgbG9va3VwTXV0YXRpb25CYXRjaCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKHRoaXMud3MoZSkpO1xuICAgIH1cbiAgICBnZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZCh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlICsgMSwgcyA9IHRoaXMuX3MobiksIGkgPSBzIDwgMCA/IDAgOiBzO1xuICAgICAgICAvLyBUaGUgcmVxdWVzdGVkIGJhdGNoSWQgbWF5IHN0aWxsIGJlIG91dCBvZiByYW5nZSBzbyBub3JtYWxpemUgaXQgdG8gdGhlXG4gICAgICAgIC8vIHN0YXJ0IG9mIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSh0aGlzLkluLmxlbmd0aCA+IGkgPyB0aGlzLkluW2ldIDogbnVsbCk7XG4gICAgfVxuICAgIGdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQoKSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKDAgPT09IHRoaXMuSW4ubGVuZ3RoID8gLTEgOiB0aGlzLmZzIC0gMSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlcyh0KSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKHRoaXMuSW4uc2xpY2UoKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBScihlLCAwKSwgcyA9IG5ldyBScihlLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLCBpID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmRzLmZvckVhY2hJblJhbmdlKFsgbiwgcyBdLCAodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy53cyh0LmxzKTtcbiAgICAgICAgICAgIGkucHVzaChlKTtcbiAgICAgICAgfSkpLCBxcy5yZXNvbHZlKGkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXModCwgZSkge1xuICAgICAgICBsZXQgbiA9IG5ldyBfbihaKTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IFJyKHQsIDApLCBzID0gbmV3IFJyKHQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICB0aGlzLmRzLmZvckVhY2hJblJhbmdlKFsgZSwgcyBdLCAodCA9PiB7XG4gICAgICAgICAgICAgICAgbiA9IG4uYWRkKHQubHMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIHFzLnJlc29sdmUodGhpcy5ncyhuKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KHQsIGUpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBxdWVyeSBwYXRoIGFzIGEgcHJlZml4IGZvciB0ZXN0aW5nIGlmIGEgZG9jdW1lbnQgbWF0Y2hlcyB0aGVcbiAgICAgICAgLy8gcXVlcnkuXG4gICAgICAgIGNvbnN0IG4gPSBlLnBhdGgsIHMgPSBuLmxlbmd0aCArIDE7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhIGRvY3VtZW50IHJlZmVyZW5jZSBmb3IgYWN0dWFsbHkgc2Nhbm5pbmcgdGhlIGluZGV4LiBVbmxpa2VcbiAgICAgICAgLy8gdGhlIHByZWZpeCB0aGUgZG9jdW1lbnQga2V5IGluIHRoaXMgcmVmZXJlbmNlIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZlxuICAgICAgICAvLyBzZWdtZW50cy4gVGhlIGVtcHR5IHNlZ21lbnQgY2FuIGJlIHVzZWQgYSBzdWZmaXggb2YgdGhlIHF1ZXJ5IHBhdGhcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBwcmVjZWRlcyBhbGwgb3RoZXIgc2VnbWVudHMgaW4gYW4gb3JkZXJlZCB0cmF2ZXJzYWwuXG4gICAgICAgIGxldCBpID0gbjtcbiAgICAgICAgUnQuaXNEb2N1bWVudEtleShpKSB8fCAoaSA9IGkuY2hpbGQoXCJcIikpO1xuICAgICAgICBjb25zdCByID0gbmV3IFJyKG5ldyBSdChpKSwgMCk7XG4gICAgICAgIC8vIEZpbmQgdW5pcXVlIGJhdGNoSURzIHJlZmVyZW5jZWQgYnkgYWxsIGRvY3VtZW50cyBwb3RlbnRpYWxseSBtYXRjaGluZyB0aGVcbiAgICAgICAgLy8gcXVlcnkuXG4gICAgICAgICAgICAgICAgbGV0IG8gPSBuZXcgX24oWik7XG4gICAgICAgIHJldHVybiB0aGlzLmRzLmZvckVhY2hXaGlsZSgodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5rZXkucGF0aDtcbiAgICAgICAgICAgIHJldHVybiAhIW4uaXNQcmVmaXhPZihlKSAmJiAoXG4gICAgICAgICAgICAvLyBSb3dzIHdpdGggZG9jdW1lbnQga2V5cyBtb3JlIHRoYW4gb25lIHNlZ21lbnQgbG9uZ2VyIHRoYW4gdGhlIHF1ZXJ5XG4gICAgICAgICAgICAvLyBwYXRoIGNhbid0IGJlIG1hdGNoZXMuIEZvciBleGFtcGxlLCBhIHF1ZXJ5IG9uICdyb29tcycgY2FuJ3QgbWF0Y2hcbiAgICAgICAgICAgIC8vIHRoZSBkb2N1bWVudCAvcm9vbXMvYWJjL21lc3NhZ2VzL3h5eC5cbiAgICAgICAgICAgIC8vIFRPRE8obWNnKTogd2UnbGwgbmVlZCBhIGRpZmZlcmVudCBzY2FubmVyIHdoZW4gd2UgaW1wbGVtZW50XG4gICAgICAgICAgICAvLyBhbmNlc3RvciBxdWVyaWVzLlxuICAgICAgICAgICAgZS5sZW5ndGggPT09IHMgJiYgKG8gPSBvLmFkZCh0LmxzKSksICEwKTtcbiAgICAgICAgfSksIHIpLCBxcy5yZXNvbHZlKHRoaXMuZ3MobykpO1xuICAgIH1cbiAgICBncyh0KSB7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhbiBhcnJheSBvZiBtYXRjaGluZyBiYXRjaGVzLCBzb3J0ZWQgYnkgYmF0Y2hJRCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyBtdWx0aXBsZSBtdXRhdGlvbnMgYWZmZWN0aW5nIHRoZSBzYW1lIGRvY3VtZW50IGtleSBhcmUgYXBwbGllZCBpbiBvcmRlci5cbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLndzKHQpO1xuICAgICAgICAgICAgbnVsbCAhPT0gbiAmJiBlLnB1c2gobik7XG4gICAgICAgIH0pKSwgZTtcbiAgICB9XG4gICAgcmVtb3ZlTXV0YXRpb25CYXRjaCh0LCBlKSB7XG4gICAgICAgIE0oMCA9PT0gdGhpcy55cyhlLmJhdGNoSWQsIFwicmVtb3ZlZFwiKSksIHRoaXMuSW4uc2hpZnQoKTtcbiAgICAgICAgbGV0IG4gPSB0aGlzLmRzO1xuICAgICAgICByZXR1cm4gcXMuZm9yRWFjaChlLm11dGF0aW9ucywgKHMgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBScihzLmtleSwgZS5iYXRjaElkKTtcbiAgICAgICAgICAgIHJldHVybiBuID0gbi5kZWxldGUoaSksIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQodCwgcy5rZXkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcyA9IG47XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdGUodCkge1xuICAgICAgICAvLyBOby1vcCBzaW5jZSB0aGUgbWVtb3J5IG11dGF0aW9uIHF1ZXVlIGRvZXMgbm90IG1haW50YWluIGEgc2VwYXJhdGUgY2FjaGUuXG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBScihlLCAwKSwgcyA9IHRoaXMuZHMuZmlyc3RBZnRlck9yRXF1YWwobik7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKGUuaXNFcXVhbChzICYmIHMua2V5KSk7XG4gICAgfVxuICAgIHBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSW4ubGVuZ3RoLCBxcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gYmF0Y2hJZCBpbiB0aGUgbXV0YXRpb24gcXVldWUgYW5kIGFzc2VydHMgdGhhdFxuICAgICAqIHRoZSByZXN1bHRpbmcgaW5kZXggaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhdGNoSWQgLSBUaGUgYmF0Y2hJZCB0byBzZWFyY2ggZm9yXG4gICAgICogQHBhcmFtIGFjdGlvbiAtIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgY2FsbGVyIGlzIGRvaW5nLCBwaHJhc2VkIGluIHBhc3NpdmVcbiAgICAgKiBmb3JtIChlLmcuIFwiYWNrbm93bGVkZ2VkXCIgaW4gYSByb3V0aW5lIHRoYXQgYWNrbm93bGVkZ2VzIGJhdGNoZXMpLlxuICAgICAqLyAgICB5cyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zKHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIGJhdGNoSWQgaW4gdGhlIG11dGF0aW9uIHF1ZXVlLiBUaGlzIG9wZXJhdGlvblxuICAgICAqIGlzIE8oMSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29tcHV0ZWQgaW5kZXggb2YgdGhlIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQsIGJhc2VkIG9uXG4gICAgICogdGhlIHN0YXRlIG9mIHRoZSBxdWV1ZS4gTm90ZSB0aGlzIGluZGV4IGNhbiBiZSBuZWdhdGl2ZSBpZiB0aGUgcmVxdWVzdGVkXG4gICAgICogYmF0Y2hJZCBoYXMgYWxyZWFkeSBiZWVuIHJlbXZvZWQgZnJvbSB0aGUgcXVldWUgb3IgcGFzdCB0aGUgZW5kIG9mIHRoZVxuICAgICAqIHF1ZXVlIGlmIHRoZSBiYXRjaElkIGlzIGxhcmdlciB0aGFuIHRoZSBsYXN0IGFkZGVkIGJhdGNoLlxuICAgICAqLyAgICBfcyh0KSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLkluLmxlbmd0aCkgXG4gICAgICAgIC8vIEFzIGFuIGluZGV4IHRoaXMgaXMgcGFzdCB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgLy8gRXhhbWluZSB0aGUgZnJvbnQgb2YgdGhlIHF1ZXVlIHRvIGZpZ3VyZSBvdXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVcbiAgICAgICAgLy8gYmF0Y2hJZCBhbmQgaW5kZXhlcyBpbiB0aGUgYXJyYXkuIE5vdGUgdGhhdCBzaW5jZSB0aGUgcXVldWUgaXMgb3JkZXJlZFxuICAgICAgICAvLyBieSBiYXRjaElkLCBpZiB0aGUgZmlyc3QgYmF0Y2ggaGFzIGEgbGFyZ2VyIGJhdGNoSWQgdGhlbiB0aGUgcmVxdWVzdGVkXG4gICAgICAgIC8vIGJhdGNoSWQgZG9lc24ndCBleGlzdCBpbiB0aGUgcXVldWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQgLSB0aGlzLkluWzBdLmJhdGNoSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBsb29rdXBNdXRhdGlvbkJhdGNoIHRoYXQgZG9lc24ndCByZXR1cm4gYSBwcm9taXNlLCB0aGlzIG1ha2VzXG4gICAgICogb3RoZXIgZnVuY3Rpb25zIHRoYXQgdXNlcyB0aGlzIGNvZGUgZWFzaWVyIHRvIHJlYWQgYW5kIG1vcmUgZWZmaWNlbnQuXG4gICAgICovICAgIHdzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX3ModCk7XG4gICAgICAgIGlmIChlIDwgMCB8fCBlID49IHRoaXMuSW4ubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuSW5bZV07XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgbWVtb3J5LW9ubHkgUmVtb3RlRG9jdW1lbnRDYWNoZSBmb3IgSW5kZXhlZERiLiBUbyBjb25zdHJ1Y3QsIGludm9rZVxuICogYG5ld01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGUoKWAuXG4gKi9cbmNsYXNzIFByIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAgICAgKiBleHBlY3RlZCB0byBqdXN0IHJldHVybiAwIHRvIGF2b2lkIHVubmVjZXNzYXJpbHkgZG9pbmcgdGhlIHdvcmsgb2ZcbiAgICAgKiBjYWxjdWxhdGluZyB0aGUgc2l6ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuSHQgPSB0LCB0aGlzLnBzID0gZSwgXG4gICAgICAgIC8qKiBVbmRlcmx5aW5nIGNhY2hlIG9mIGRvY3VtZW50cyBhbmQgdGhlaXIgcmVhZCB0aW1lcy4gKi9cbiAgICAgICAgdGhpcy5kb2NzID0gbmV3IGZuKFJ0LmNvbXBhcmF0b3IpLCBcbiAgICAgICAgLyoqIFNpemUgb2YgYWxsIGNhY2hlZCBkb2N1bWVudHMuICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHN1cHBsaWVkIGVudHJ5IHRvIHRoZSBjYWNoZSBhbmQgdXBkYXRlcyB0aGUgY2FjaGUgc2l6ZSBhcyBhcHByb3ByaWF0ZS5cbiAgICAgKlxuICAgICAqIEFsbCBjYWxscyBvZiBgYWRkRW50cnlgICBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgLlxuICAgICAqLyAgICBhZGRFbnRyeSh0LCBlLCBuKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlLmtleSwgaSA9IHRoaXMuZG9jcy5nZXQocyksIHIgPSBpID8gaS5zaXplIDogMCwgbyA9IHRoaXMucHMoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3MgPSB0aGlzLmRvY3MuaW5zZXJ0KHMsIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiBlLmNsb25lKCksXG4gICAgICAgICAgICBzaXplOiBvLFxuICAgICAgICAgICAgcmVhZFRpbWU6IG5cbiAgICAgICAgfSksIHRoaXMuc2l6ZSArPSBvIC0gciwgdGhpcy5IdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LCBzLnBhdGgucG9wTGFzdCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGVudHJ5IGZyb20gdGhlIGNhY2hlIGFuZCB1cGRhdGVzIHRoZSBjYWNoZSBzaXplIGFzIGFwcHJvcHJpYXRlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYC5cbiAgICAgKi8gICAgcmVtb3ZlRW50cnkodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5kb2NzLmdldCh0KTtcbiAgICAgICAgZSAmJiAodGhpcy5kb2NzID0gdGhpcy5kb2NzLnJlbW92ZSh0KSwgdGhpcy5zaXplIC09IGUuc2l6ZSk7XG4gICAgfVxuICAgIGdldEVudHJ5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZG9jcy5nZXQoZSk7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKG4gPyBuLmRvY3VtZW50LmNsb25lKCkgOiBVdC5uZXdJbnZhbGlkRG9jdW1lbnQoZSkpO1xuICAgIH1cbiAgICBnZXRFbnRyaWVzKHQsIGUpIHtcbiAgICAgICAgbGV0IG4gPSB5bigpO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmRvY3MuZ2V0KHQpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KHQsIGUgPyBlLmRvY3VtZW50LmNsb25lKCkgOiBVdC5uZXdJbnZhbGlkRG9jdW1lbnQodCkpO1xuICAgICAgICB9KSksIHFzLnJlc29sdmUobik7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkodCwgZSwgbikge1xuICAgICAgICBsZXQgcyA9IHluKCk7XG4gICAgICAgIC8vIERvY3VtZW50cyBhcmUgb3JkZXJlZCBieSBrZXksIHNvIHdlIGNhbiB1c2UgYSBwcmVmaXggc2NhbiB0byBuYXJyb3cgZG93blxuICAgICAgICAvLyB0aGUgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWF0Y2ggdGhlIHF1ZXJ5IGFnYWluc3QuXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBSdChlLnBhdGguY2hpbGQoXCJcIikpLCByID0gdGhpcy5kb2NzLmdldEl0ZXJhdG9yRnJvbShpKTtcbiAgICAgICAgZm9yICg7ci5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3Qge2tleTogdCwgdmFsdWU6IHtkb2N1bWVudDogaSwgcmVhZFRpbWU6IG99fSA9IHIuZ2V0TmV4dCgpO1xuICAgICAgICAgICAgaWYgKCFlLnBhdGguaXNQcmVmaXhPZih0LnBhdGgpKSBicmVhaztcbiAgICAgICAgICAgIG8uY29tcGFyZVRvKG4pIDw9IDAgfHwgUmUoZSwgaSkgJiYgKHMgPSBzLmluc2VydChpLmtleSwgaS5jbG9uZSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHFzLnJlc29sdmUocyk7XG4gICAgfVxuICAgIEVzKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHFzLmZvckVhY2godGhpcy5kb2NzLCAodCA9PiBlKHQpKSk7XG4gICAgfVxuICAgIG5ld0NoYW5nZUJ1ZmZlcih0KSB7XG4gICAgICAgIC8vIGB0cmFja1JlbW92YWxzYCBpcyBpZ25vcmVzIHNpbmNlIHRoZSBNZW1vcnlSZW1vdGVEb2N1bWVudENhY2hlIGtlZXBzXG4gICAgICAgIC8vIGEgc2VwYXJhdGUgY2hhbmdlbG9nIGFuZCBkb2VzIG5vdCBuZWVkIHNwZWNpYWwgaGFuZGxpbmcgZm9yIHJlbW92YWxzLlxuICAgICAgICByZXR1cm4gbmV3IHZyKHRoaXMpO1xuICAgIH1cbiAgICBnZXRTaXplKHQpIHtcbiAgICAgICAgcmV0dXJuIHFzLnJlc29sdmUodGhpcy5zaXplKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtZW1vcnktb25seSBSZW1vdGVEb2N1bWVudENhY2hlLlxuICpcbiAqIEBwYXJhbSBpbmRleE1hbmFnZXIgLSBBIGNsYXNzIHRoYXQgbWFuYWdlcyBjb2xsZWN0aW9uIGdyb3VwIGluZGljZXMuXG4gKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAqIGV4cGVjdGVkIHRvIGp1c3QgcmV0dXJuIDAgdG8gYXZvaWQgdW5uZWNlc3NhcmlseSBkb2luZyB0aGUgd29yayBvZlxuICogY2FsY3VsYXRpbmcgdGhlIHNpemUuXG4gKi9cbi8qKlxuICogSGFuZGxlcyB0aGUgZGV0YWlscyBvZiBhZGRpbmcgYW5kIHVwZGF0aW5nIGRvY3VtZW50cyBpbiB0aGUgTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqL1xuY2xhc3MgdnIgZXh0ZW5kcyBLaSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLlNlID0gdDtcbiAgICB9XG4gICAgYXBwbHlDaGFuZ2VzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goKChuLCBzKSA9PiB7XG4gICAgICAgICAgICBzLmRvY3VtZW50LmlzVmFsaWREb2N1bWVudCgpID8gZS5wdXNoKHRoaXMuU2UuYWRkRW50cnkodCwgcy5kb2N1bWVudCwgdGhpcy5nZXRSZWFkVGltZShuKSkpIDogdGhpcy5TZS5yZW1vdmVFbnRyeShuKTtcbiAgICAgICAgfSkpLCBxcy53YWl0Rm9yKGUpO1xuICAgIH1cbiAgICBnZXRGcm9tQ2FjaGUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5TZS5nZXRFbnRyeSh0LCBlKTtcbiAgICB9XG4gICAgZ2V0QWxsRnJvbUNhY2hlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuU2UuZ2V0RW50cmllcyh0LCBlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIFZyIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSB0YXJnZXQgdG8gdGhlIGRhdGEgYWJvdXQgdGhhdCB0YXJnZXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuVHMgPSBuZXcgcWkoKHQgPT4ganQodCkpLCBXdCksIFxuICAgICAgICAvKiogVGhlIGxhc3QgcmVjZWl2ZWQgc25hcHNob3QgdmVyc2lvbi4gKi9cbiAgICAgICAgdGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uID0gc3QubWluKCksIFxuICAgICAgICAvKiogVGhlIGhpZ2hlc3QgbnVtYmVyZWQgdGFyZ2V0IElEIGVuY291bnRlcmVkLiAqL1xuICAgICAgICB0aGlzLmhpZ2hlc3RUYXJnZXRJZCA9IDAsIFxuICAgICAgICAvKiogVGhlIGhpZ2hlc3Qgc2VxdWVuY2UgbnVtYmVyIGVuY291bnRlcmVkLiAqL1xuICAgICAgICB0aGlzLklzID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG9yZGVyZWQgYmlkaXJlY3Rpb25hbCBtYXBwaW5nIGJldHdlZW4gZG9jdW1lbnRzIGFuZCB0aGUgcmVtb3RlIHRhcmdldFxuICAgICAgICAgKiBJRHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkFzID0gbmV3IEFyLCB0aGlzLnRhcmdldENvdW50ID0gMCwgdGhpcy5ScyA9IERpLnNlKCk7XG4gICAgfVxuICAgIGZvckVhY2hUYXJnZXQodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Ucy5mb3JFYWNoKCgodCwgbikgPT4gZShuKSkpLCBxcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24odCkge1xuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSh0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24pO1xuICAgIH1cbiAgICBnZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXIodCkge1xuICAgICAgICByZXR1cm4gcXMucmVzb2x2ZSh0aGlzLklzKTtcbiAgICB9XG4gICAgYWxsb2NhdGVUYXJnZXRJZCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZ2hlc3RUYXJnZXRJZCA9IHRoaXMuUnMubmV4dCgpLCBxcy5yZXNvbHZlKHRoaXMuaGlnaGVzdFRhcmdldElkKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0c01ldGFkYXRhKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIG4gJiYgKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IG4pLCBlID4gdGhpcy5JcyAmJiAodGhpcy5JcyA9IGUpLCBcbiAgICAgICAgcXMucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBhZSh0KSB7XG4gICAgICAgIHRoaXMuVHMuc2V0KHQudGFyZ2V0LCB0KTtcbiAgICAgICAgY29uc3QgZSA9IHQudGFyZ2V0SWQ7XG4gICAgICAgIGUgPiB0aGlzLmhpZ2hlc3RUYXJnZXRJZCAmJiAodGhpcy5ScyA9IG5ldyBEaShlKSwgdGhpcy5oaWdoZXN0VGFyZ2V0SWQgPSBlKSwgdC5zZXF1ZW5jZU51bWJlciA+IHRoaXMuSXMgJiYgKHRoaXMuSXMgPSB0LnNlcXVlbmNlTnVtYmVyKTtcbiAgICB9XG4gICAgYWRkVGFyZ2V0RGF0YSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFlKGUpLCB0aGlzLnRhcmdldENvdW50ICs9IDEsIHFzLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0RGF0YSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFlKGUpLCBxcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldERhdGEodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Ucy5kZWxldGUoZS50YXJnZXQpLCB0aGlzLkFzLmNzKGUudGFyZ2V0SWQpLCB0aGlzLnRhcmdldENvdW50IC09IDEsIFxuICAgICAgICBxcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHModCwgZSwgbikge1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGNvbnN0IGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuVHMuZm9yRWFjaCgoKHIsIG8pID0+IHtcbiAgICAgICAgICAgIG8uc2VxdWVuY2VOdW1iZXIgPD0gZSAmJiBudWxsID09PSBuLmdldChvLnRhcmdldElkKSAmJiAodGhpcy5Ucy5kZWxldGUociksIGkucHVzaCh0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKHQsIG8udGFyZ2V0SWQpKSwgXG4gICAgICAgICAgICBzKyspO1xuICAgICAgICB9KSksIHFzLndhaXRGb3IoaSkubmV4dCgoKCkgPT4gcykpO1xuICAgIH1cbiAgICBnZXRUYXJnZXRDb3VudCh0KSB7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKHRoaXMudGFyZ2V0Q291bnQpO1xuICAgIH1cbiAgICBnZXRUYXJnZXREYXRhKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuVHMuZ2V0KGUpIHx8IG51bGw7XG4gICAgICAgIHJldHVybiBxcy5yZXNvbHZlKG4pO1xuICAgIH1cbiAgICBhZGRNYXRjaGluZ0tleXModCwgZSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5Bcy5zcyhlLCBuKSwgcXMucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXModCwgZSwgbikge1xuICAgICAgICB0aGlzLkFzLm9zKGUsIG4pO1xuICAgICAgICBjb25zdCBzID0gdGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gcyAmJiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgaS5wdXNoKHMubWFya1BvdGVudGlhbGx5T3JwaGFuZWQodCwgZSkpO1xuICAgICAgICB9KSksIHFzLndhaXRGb3IoaSk7XG4gICAgfVxuICAgIHJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQXMuY3MoZSksIHFzLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCwgZSkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Bcy5ocyhlKTtcbiAgICAgICAgcmV0dXJuIHFzLnJlc29sdmUobik7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHFzLnJlc29sdmUodGhpcy5Bcy5jb250YWluc0tleShlKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIG1lbW9yeS1iYWNrZWQgaW5zdGFuY2Ugb2YgUGVyc2lzdGVuY2UuIERhdGEgaXMgc3RvcmVkIG9ubHkgaW4gUkFNIGFuZFxuICogbm90IHBlcnNpc3RlZCBhY3Jvc3Mgc2Vzc2lvbnMuXG4gKi9cbmNsYXNzIFNyIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3IgYWNjZXB0cyBhIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgcmVmZXJlbmNlIGRlbGVnYXRlLiBUaGlzXG4gICAgICogYWxsb3dzIGJvdGggdGhlIGRlbGVnYXRlIGFuZCB0aGlzIGluc3RhbmNlIHRvIGhhdmUgc3Ryb25nIHJlZmVyZW5jZXMgdG9cbiAgICAgKiBlYWNoIG90aGVyIHdpdGhvdXQgaGF2aW5nIG51bGxhYmxlIGZpZWxkcyB0aGF0IHdvdWxkIHRoZW4gbmVlZCB0byBiZVxuICAgICAqIGNoZWNrZWQgb3IgYXNzZXJ0ZWQgb24gZXZlcnkgYWNjZXNzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5icyA9IHt9LCB0aGlzLkxlID0gbmV3IEooMCksIHRoaXMuQmUgPSAhMSwgdGhpcy5CZSA9ICEwLCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gdCh0aGlzKSwgXG4gICAgICAgIHRoaXMuemUgPSBuZXcgVnIodGhpcyk7XG4gICAgICAgIHRoaXMuSHQgPSBuZXcgZ2ksIHRoaXMuSGUgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByKHQsIGUpO1xuICAgICAgICB9KHRoaXMuSHQsICh0ID0+IHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuUHModCkpKSwgdGhpcy5OID0gbmV3IHNpKGUpLCB0aGlzLkplID0gbmV3IElyKHRoaXMuTik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICAvLyBObyBkdXJhYmxlIHN0YXRlIHRvIGVuc3VyZSBpcyBjbG9zZWQgb24gc2h1dGRvd24uXG4gICAgICAgIHJldHVybiB0aGlzLkJlID0gITEsIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmU7XG4gICAgfVxuICAgIHNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCkge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgc2V0TmV0d29ya0VuYWJsZWQoKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBnZXRJbmRleE1hbmFnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkh0O1xuICAgIH1cbiAgICBnZXRNdXRhdGlvblF1ZXVlKHQpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLmJzW3QudG9LZXkoKV07XG4gICAgICAgIHJldHVybiBlIHx8IChlID0gbmV3IGJyKHRoaXMuSHQsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUpLCB0aGlzLmJzW3QudG9LZXkoKV0gPSBlKSwgXG4gICAgICAgIGU7XG4gICAgfVxuICAgIGdldFRhcmdldENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy56ZTtcbiAgICB9XG4gICAgZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSGU7XG4gICAgfVxuICAgIGdldEJ1bmRsZUNhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5KZTtcbiAgICB9XG4gICAgcnVuVHJhbnNhY3Rpb24odCwgZSwgbikge1xuICAgICAgICB4KFwiTWVtb3J5UGVyc2lzdGVuY2VcIiwgXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIiwgdCk7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgRHIodGhpcy5MZS5uZXh0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS52cygpLCBuKHMpLm5leHQoKHQgPT4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5WcyhzKS5uZXh0KCgoKSA9PiB0KSkpKS50b1Byb21pc2UoKS50aGVuKCh0ID0+IChzLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLCBcbiAgICAgICAgdCkpKTtcbiAgICB9XG4gICAgU3ModCwgZSkge1xuICAgICAgICByZXR1cm4gcXMub3IoT2JqZWN0LnZhbHVlcyh0aGlzLmJzKS5tYXAoKG4gPT4gKCkgPT4gbi5jb250YWluc0tleSh0LCBlKSkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogTWVtb3J5IHBlcnNpc3RlbmNlIGlzIG5vdCBhY3R1YWxseSB0cmFuc2FjdGlvbmFsLCBidXQgZnV0dXJlIGltcGxlbWVudGF0aW9uc1xuICogbWF5IGhhdmUgdHJhbnNhY3Rpb24tc2NvcGVkIHN0YXRlLlxuICovIGNsYXNzIERyIGV4dGVuZHMgVXMge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5jdXJyZW50U2VxdWVuY2VOdW1iZXIgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgQ3Ige1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IHQsIFxuICAgICAgICAvKiogVHJhY2tzIGFsbCBkb2N1bWVudHMgdGhhdCBhcmUgYWN0aXZlIGluIFF1ZXJ5IHZpZXdzLiAqL1xuICAgICAgICB0aGlzLkRzID0gbmV3IEFyLCBcbiAgICAgICAgLyoqIFRoZSBsaXN0IG9mIGRvY3VtZW50cyB0aGF0IGFyZSBwb3RlbnRpYWxseSBHQ2VkIGFmdGVyIGVhY2ggdHJhbnNhY3Rpb24uICovXG4gICAgICAgIHRoaXMuQ3MgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgTnModCkge1xuICAgICAgICByZXR1cm4gbmV3IENyKHQpO1xuICAgIH1cbiAgICBnZXQgeHMoKSB7XG4gICAgICAgIGlmICh0aGlzLkNzKSByZXR1cm4gdGhpcy5DcztcbiAgICAgICAgdGhyb3cgRigpO1xuICAgIH1cbiAgICBhZGRSZWZlcmVuY2UodCwgZSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5Ecy5hZGRSZWZlcmVuY2UobiwgZSksIHRoaXMueHMuZGVsZXRlKG4udG9TdHJpbmcoKSksIHFzLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlUmVmZXJlbmNlKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRHMucmVtb3ZlUmVmZXJlbmNlKG4sIGUpLCB0aGlzLnhzLmFkZChuLnRvU3RyaW5nKCkpLCBxcy5yZXNvbHZlKCk7XG4gICAgfVxuICAgIG1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueHMuYWRkKGUudG9TdHJpbmcoKSksIHFzLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0KHQsIGUpIHtcbiAgICAgICAgdGhpcy5Ecy5jcyhlLnRhcmdldElkKS5mb3JFYWNoKCh0ID0+IHRoaXMueHMuYWRkKHQudG9TdHJpbmcoKSkpKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKTtcbiAgICAgICAgcmV0dXJuIG4uZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQodCwgZS50YXJnZXRJZCkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICB0LmZvckVhY2goKHQgPT4gdGhpcy54cy5hZGQodC50b1N0cmluZygpKSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbi5yZW1vdmVUYXJnZXREYXRhKHQsIGUpKSk7XG4gICAgfVxuICAgIHZzKCkge1xuICAgICAgICB0aGlzLkNzID0gbmV3IFNldDtcbiAgICB9XG4gICAgVnModCkge1xuICAgICAgICAvLyBSZW1vdmUgbmV3bHkgb3JwaGFuZWQgZG9jdW1lbnRzLlxuICAgICAgICBjb25zdCBlID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBxcy5mb3JFYWNoKHRoaXMueHMsIChuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBSdC5mcm9tUGF0aChuKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtzKHQsIHMpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgICAgIHQgfHwgZS5yZW1vdmVFbnRyeShzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+ICh0aGlzLkNzID0gbnVsbCwgZS5hcHBseSh0KSkpKTtcbiAgICB9XG4gICAgdXBkYXRlTGltYm9Eb2N1bWVudCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtzKHQsIGUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgdCA/IHRoaXMueHMuZGVsZXRlKGUudG9TdHJpbmcoKSkgOiB0aGlzLnhzLmFkZChlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFBzKHQpIHtcbiAgICAgICAgLy8gRm9yIGVhZ2VyIEdDLCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSBkb2N1bWVudCBzaXplLCB0aGVyZSBhcmUgbm8gc2l6ZSB0aHJlc2hvbGRzLlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAga3ModCwgZSkge1xuICAgICAgICByZXR1cm4gcXMub3IoWyAoKSA9PiBxcy5yZXNvbHZlKHRoaXMuRHMuY29udGFpbnNLZXkoZSkpLCAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuY29udGFpbnNLZXkodCwgZSksICgpID0+IHRoaXMucGVyc2lzdGVuY2UuU3ModCwgZSkgXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVGhlIGZvcm1hdCBvZiB0aGUgTG9jYWxTdG9yYWdlIGtleSB0aGF0IHN0b3JlcyB0aGUgY2xpZW50IHN0YXRlIGlzOlxuLy8gICAgIGZpcmVzdG9yZV9jbGllbnRzXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxpbnN0YW5jZV9rZXk+XG4vKiogQXNzZW1ibGVzIHRoZSBrZXkgZm9yIGEgY2xpZW50IHN0YXRlIGluIFdlYlN0b3JhZ2UgKi9cbmZ1bmN0aW9uIE5yKHQsIGUpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV9jbGllbnRzXyR7dH1fJHtlfWA7XG59XG5cbi8vIFRoZSBmb3JtYXQgb2YgdGhlIFdlYlN0b3JhZ2Uga2V5IHRoYXQgc3RvcmVzIHRoZSBtdXRhdGlvbiBzdGF0ZSBpczpcbi8vICAgICBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5cbi8vICAgICAoZm9yIHVuYXV0aGVudGljYXRlZCB1c2Vycylcbi8vIG9yOiBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5fPHVzZXJfdWlkPlxuXG4vLyAndXNlcl91aWQnIGlzIGxhc3QgdG8gYXZvaWQgbmVlZGluZyB0byBlc2NhcGUgJ18nIGNoYXJhY3RlcnMgdGhhdCBpdCBtaWdodFxuLy8gY29udGFpbi5cbi8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgYSBtdXRhdGlvbiBiYXRjaCBpbiBXZWJTdG9yYWdlICovXG5mdW5jdGlvbiB4cih0LCBlLCBuKSB7XG4gICAgbGV0IHMgPSBgZmlyZXN0b3JlX211dGF0aW9uc18ke3R9XyR7bn1gO1xuICAgIHJldHVybiBlLmlzQXV0aGVudGljYXRlZCgpICYmIChzICs9IGBfJHtlLnVpZH1gKSwgcztcbn1cblxuLy8gVGhlIGZvcm1hdCBvZiB0aGUgV2ViU3RvcmFnZSBrZXkgdGhhdCBzdG9yZXMgYSBxdWVyeSB0YXJnZXQncyBtZXRhZGF0YSBpczpcbi8vICAgICBmaXJlc3RvcmVfdGFyZ2V0c188cGVyc2lzdGVuY2VfcHJlZml4Pl88dGFyZ2V0X2lkPlxuLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciBhIHF1ZXJ5IHN0YXRlIGluIFdlYlN0b3JhZ2UgKi9cbmZ1bmN0aW9uIGtyKHQsIGUpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV90YXJnZXRzXyR7dH1fJHtlfWA7XG59XG5cbi8vIFRoZSBXZWJTdG9yYWdlIHByZWZpeCB0aGF0IHN0b3JlcyB0aGUgcHJpbWFyeSB0YWIncyBvbmxpbmUgc3RhdGUuIFRoZVxuLy8gZm9ybWF0IG9mIHRoZSBrZXkgaXM6XG4vLyAgICAgZmlyZXN0b3JlX29ubGluZV9zdGF0ZV88cGVyc2lzdGVuY2VfcHJlZml4PlxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgYSBtdXRhdGlvbiBiYXRjaCwgaW5jbHVkaW5nIGl0cyB1c2VyIElELCBiYXRjaCBJRCBhbmRcbiAqIHdoZXRoZXIgdGhlIGJhdGNoIGlzICdwZW5kaW5nJywgJ2Fja25vd2xlZGdlZCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgJHIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdCwgdGhpcy5iYXRjaElkID0gZSwgdGhpcy5zdGF0ZSA9IG4sIHRoaXMuZXJyb3IgPSBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBNdXRhdGlvbk1ldGFkYXRhIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgJHModCwgZSwgbikge1xuICAgICAgICBjb25zdCBzID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgbGV0IGksIHIgPSBcIm9iamVjdFwiID09IHR5cGVvZiBzICYmIC0xICE9PSBbIFwicGVuZGluZ1wiLCBcImFja25vd2xlZGdlZFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKHMuc3RhdGUpICYmICh2b2lkIDAgPT09IHMuZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygcy5lcnJvcik7XG4gICAgICAgIHJldHVybiByICYmIHMuZXJyb3IgJiYgKHIgPSBcInN0cmluZ1wiID09IHR5cGVvZiBzLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygcy5lcnJvci5jb2RlLCBcbiAgICAgICAgciAmJiAoaSA9IG5ldyBxKHMuZXJyb3IuY29kZSwgcy5lcnJvci5tZXNzYWdlKSkpLCByID8gbmV3ICRyKHQsIGUsIHMuc3RhdGUsIGkpIDogKGsoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIG11dGF0aW9uIHN0YXRlIGZvciBJRCAnJHtlfSc6ICR7bn1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBPcygpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yICYmICh0LmVycm9yID0ge1xuICAgICAgICAgICAgY29kZTogdGhpcy5lcnJvci5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5lcnJvci5tZXNzYWdlXG4gICAgICAgIH0pLCBKU09OLnN0cmluZ2lmeSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogSG9sZHMgdGhlIHN0YXRlIG9mIGEgcXVlcnkgdGFyZ2V0LCBpbmNsdWRpbmcgaXRzIHRhcmdldCBJRCBhbmQgd2hldGhlciB0aGVcbiAqIHRhcmdldCBpcyAnbm90LWN1cnJlbnQnLCAnY3VycmVudCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgT3Ige1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHQsIHRoaXMuc3RhdGUgPSBlLCB0aGlzLmVycm9yID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgUXVlcnlUYXJnZXRNZXRhZGF0YSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIGluIFdlYlN0b3JhZ2UuXG4gICAgICogTG9ncyBhIHdhcm5pbmcgYW5kIHJldHVybnMgbnVsbCBpZiB0aGUgZm9ybWF0IG9mIHRoZSBkYXRhIGlzIG5vdCB2YWxpZC5cbiAgICAgKi8gICAgc3RhdGljICRzKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UoZSk7XG4gICAgICAgIGxldCBzLCBpID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgbiAmJiAtMSAhPT0gWyBcIm5vdC1jdXJyZW50XCIsIFwiY3VycmVudFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKG4uc3RhdGUpICYmICh2b2lkIDAgPT09IG4uZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygbi5lcnJvcik7XG4gICAgICAgIHJldHVybiBpICYmIG4uZXJyb3IgJiYgKGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiBuLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygbi5lcnJvci5jb2RlLCBcbiAgICAgICAgaSAmJiAocyA9IG5ldyBxKG4uZXJyb3IuY29kZSwgbi5lcnJvci5tZXNzYWdlKSkpLCBpID8gbmV3IE9yKHQsIG4uc3RhdGUsIHMpIDogKGsoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIHRhcmdldCBzdGF0ZSBmb3IgSUQgJyR7dH0nOiAke2V9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG4gICAgT3MoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWVNczogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvciAmJiAodC5lcnJvciA9IHtcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZXJyb3IubWVzc2FnZVxuICAgICAgICB9KSwgSlNPTi5zdHJpbmdpZnkodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgaW1tdXRhYmxlIENsaWVudFN0YXRlIGZvciBhIGNsaWVudCByZWFkIGZyb21cbiAqIFdlYlN0b3JhZ2UsIGNvbnRhaW5pbmcgdGhlIGxpc3Qgb2YgYWN0aXZlIHF1ZXJ5IHRhcmdldHMuXG4gKi8gY2xhc3MgRnIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IHQsIHRoaXMuYWN0aXZlVGFyZ2V0SWRzID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgUmVtb3RlQ2xpZW50U3RhdGUgZnJvbSB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBpbiBXZWJTdG9yYWdlLlxuICAgICAqIExvZ3MgYSB3YXJuaW5nIGFuZCByZXR1cm5zIG51bGwgaWYgdGhlIGZvcm1hdCBvZiB0aGUgZGF0YSBpcyBub3QgdmFsaWQuXG4gICAgICovICAgIHN0YXRpYyAkcyh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBKU09OLnBhcnNlKGUpO1xuICAgICAgICBsZXQgcyA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIG4gJiYgbi5hY3RpdmVUYXJnZXRJZHMgaW5zdGFuY2VvZiBBcnJheSwgaSA9IFBuKCk7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyBzICYmIHQgPCBuLmFjdGl2ZVRhcmdldElkcy5sZW5ndGg7ICsrdCkgcyA9IEF0KG4uYWN0aXZlVGFyZ2V0SWRzW3RdKSwgXG4gICAgICAgIGkgPSBpLmFkZChuLmFjdGl2ZVRhcmdldElkc1t0XSk7XG4gICAgICAgIHJldHVybiBzID8gbmV3IEZyKHQsIGkpIDogKGsoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIGNsaWVudCBkYXRhIGZvciBpbnN0YW5jZSAnJHt0fSc6ICR7ZX1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgdGhlIG9ubGluZSBzdGF0ZSBmb3IgYWxsIGNsaWVudHMgcGFydGljaXBhdGluZyBpblxuICogbXVsdGktdGFiLiBUaGUgb25saW5lIHN0YXRlIGlzIG9ubHkgd3JpdHRlbiB0byBieSB0aGUgcHJpbWFyeSBjbGllbnQsIGFuZFxuICogdXNlZCBpbiBzZWNvbmRhcnkgY2xpZW50cyB0byB1cGRhdGUgdGhlaXIgcXVlcnkgdmlld3MuXG4gKi8gY2xhc3MgTXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IHQsIHRoaXMub25saW5lU3RhdGUgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBTaGFyZWRPbmxpbmVTdGF0ZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIGluIFdlYlN0b3JhZ2UuXG4gICAgICogTG9ncyBhIHdhcm5pbmcgYW5kIHJldHVybnMgbnVsbCBpZiB0aGUgZm9ybWF0IG9mIHRoZSBkYXRhIGlzIG5vdCB2YWxpZC5cbiAgICAgKi8gICAgc3RhdGljICRzKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IEpTT04ucGFyc2UodCk7XG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIC0xICE9PSBbIFwiVW5rbm93blwiLCBcIk9ubGluZVwiLCBcIk9mZmxpbmVcIiBdLmluZGV4T2YoZS5vbmxpbmVTdGF0ZSkgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS5jbGllbnRJZCA/IG5ldyBNcihlLmNsaWVudElkLCBlLm9ubGluZVN0YXRlKSA6IChrKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYEZhaWxlZCB0byBwYXJzZSBvbmxpbmUgc3RhdGU6ICR7dH1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZXRhZGF0YSBzdGF0ZSBvZiB0aGUgbG9jYWwgY2xpZW50LiBVbmxpa2UgYFJlbW90ZUNsaWVudFN0YXRlYCwgdGhpcyBjbGFzcyBpc1xuICogbXV0YWJsZSBhbmQga2VlcHMgdHJhY2sgb2YgYWxsIHBlbmRpbmcgbXV0YXRpb25zLCB3aGljaCBhbGxvd3MgdXMgdG9cbiAqIHVwZGF0ZSB0aGUgcmFuZ2Ugb2YgcGVuZGluZyBtdXRhdGlvbiBiYXRjaCBJRHMgYXMgbmV3IG11dGF0aW9ucyBhcmUgYWRkZWQgb3JcbiAqIHJlbW92ZWQuXG4gKlxuICogVGhlIGRhdGEgaW4gYExvY2FsQ2xpZW50U3RhdGVgIGlzIG5vdCByZWFkIGZyb20gV2ViU3RvcmFnZSBhbmQgaW5zdGVhZFxuICogdXBkYXRlZCB2aWEgaXRzIGluc3RhbmNlIG1ldGhvZHMuIFRoZSB1cGRhdGVkIHN0YXRlIGNhbiBiZSBzZXJpYWxpemVkIHZpYVxuICogYHRvV2ViU3RvcmFnZUpTT04oKWAuXG4gKi9cbi8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG5jbGFzcyBMciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0SWRzID0gUG4oKTtcbiAgICB9XG4gICAgRnModCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZCh0KTtcbiAgICB9XG4gICAgTXModCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmRlbGV0ZSh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBlbnRyeSBpbnRvIGEgSlNPTi1lbmNvZGVkIGZvcm1hdCB3ZSBjYW4gdXNlIGZvciBXZWJTdG9yYWdlLlxuICAgICAqIERvZXMgbm90IGVuY29kZSBgY2xpZW50SWRgIGFzIGl0IGlzIHBhcnQgb2YgdGhlIGtleSBpbiBXZWJTdG9yYWdlLlxuICAgICAqLyAgICBPcygpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIGFjdGl2ZVRhcmdldElkczogdGhpcy5hY3RpdmVUYXJnZXRJZHMudG9BcnJheSgpLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWAgdXNlcyBXZWJTdG9yYWdlICh3aW5kb3cubG9jYWxTdG9yYWdlKSBhcyB0aGVcbiAqIGJhY2tpbmcgc3RvcmUgZm9yIHRoZSBTaGFyZWRDbGllbnRTdGF0ZS4gSXQga2VlcHMgdHJhY2sgb2YgYWxsIGFjdGl2ZVxuICogY2xpZW50cyBhbmQgc3VwcG9ydHMgbW9kaWZpY2F0aW9ucyBvZiB0aGUgbG9jYWwgY2xpZW50J3MgZGF0YS5cbiAqLyBjbGFzcyBCciB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcywgaSkge1xuICAgICAgICB0aGlzLndpbmRvdyA9IHQsIHRoaXMuT2UgPSBlLCB0aGlzLnBlcnNpc3RlbmNlS2V5ID0gbiwgdGhpcy5McyA9IHMsIHRoaXMuc3luY0VuZ2luZSA9IG51bGwsIFxuICAgICAgICB0aGlzLm9ubGluZVN0YXRlSGFuZGxlciA9IG51bGwsIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gbnVsbCwgdGhpcy5CcyA9IHRoaXMuVXMuYmluZCh0aGlzKSwgXG4gICAgICAgIHRoaXMucXMgPSBuZXcgZm4oWiksIHRoaXMuc3RhcnRlZCA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhcHR1cmVzIFdlYlN0b3JhZ2UgZXZlbnRzIHRoYXQgb2NjdXIgYmVmb3JlIGBzdGFydCgpYCBpcyBjYWxsZWQuIFRoZXNlXG4gICAgICAgICAqIGV2ZW50cyBhcmUgcmVwbGF5ZWQgb25jZSBgV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlYCBpcyBzdGFydGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5LcyA9IFtdO1xuICAgICAgICAvLyBFc2NhcGUgdGhlIHNwZWNpYWwgY2hhcmFjdGVycyBtZW50aW9uZWQgaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9SZWd1bGFyX0V4cHJlc3Npb25zXG4gICAgICAgIGNvbnN0IHIgPSBuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlLCB0aGlzLmN1cnJlbnRVc2VyID0gaSwgdGhpcy5qcyA9IE5yKHRoaXMucGVyc2lzdGVuY2VLZXksIHRoaXMuTHMpLCBcbiAgICAgICAgdGhpcy5RcyA9IFxuICAgICAgICAvKiogQXNzZW1ibGVzIHRoZSBrZXkgZm9yIHRoZSBjdXJyZW50IHNlcXVlbmNlIG51bWJlci4gKi9cbiAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIGBmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyXyR7dH1gO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgdGhpcy5xcyA9IHRoaXMucXMuaW5zZXJ0KHRoaXMuTHMsIG5ldyBMciksIHRoaXMuV3MgPSBuZXcgUmVnRXhwKGBeZmlyZXN0b3JlX2NsaWVudHNfJHtyfV8oW15fXSopJGApLCBcbiAgICAgICAgdGhpcy5HcyA9IG5ldyBSZWdFeHAoYF5maXJlc3RvcmVfbXV0YXRpb25zXyR7cn1fKFxcXFxkKykoPzpfKC4qKSk/JGApLCB0aGlzLnpzID0gbmV3IFJlZ0V4cChgXmZpcmVzdG9yZV90YXJnZXRzXyR7cn1fKFxcXFxkKykkYCksIFxuICAgICAgICB0aGlzLkhzID0gXG4gICAgICAgIC8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgdGhlIG9ubGluZSBzdGF0ZSBvZiB0aGUgcHJpbWFyeSB0YWIuICovXG4gICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHJldHVybiBgZmlyZXN0b3JlX29ubGluZV9zdGF0ZV8ke3R9YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgV2ViU3RvcmFnZSBwcmVmaXggdGhhdCBwbGF5cyBhcyBhIGV2ZW50IHRvIGluZGljYXRlIHRoZSByZW1vdGUgZG9jdW1lbnRzXG4gICAgICAgIC8vIG1pZ2h0IGhhdmUgY2hhbmdlZCBkdWUgdG8gc29tZSBzZWNvbmRhcnkgdGFicyBsb2FkaW5nIGEgYnVuZGxlLlxuICAgICAgICAvLyBmb3JtYXQgb2YgdGhlIGtleSBpczpcbiAgICAgICAgLy8gICAgIGZpcmVzdG9yZV9idW5kbGVfbG9hZGVkXzxwZXJzaXN0ZW5jZUtleT5cbiAgICAgICAgKHRoaXMucGVyc2lzdGVuY2VLZXkpLCB0aGlzLkpzID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIGBmaXJlc3RvcmVfYnVuZGxlX2xvYWRlZF8ke3R9YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgV2ViU3RvcmFnZSBrZXkgcHJlZml4IGZvciB0aGUga2V5IHRoYXQgc3RvcmVzIHRoZSBsYXN0IHNlcXVlbmNlIG51bWJlciBhbGxvY2F0ZWQuIFRoZSBrZXlcbiAgICAgICAgLy8gbG9va3MgbGlrZSAnZmlyZXN0b3JlX3NlcXVlbmNlX251bWJlcl88cGVyc2lzdGVuY2VfcHJlZml4PicuXG4gICAgICAgICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgXG4gICAgICAgIC8vIFJhdGhlciB0aGFuIGFkZGluZyB0aGUgc3RvcmFnZSBvYnNlcnZlciBkdXJpbmcgc3RhcnQoKSwgd2UgYWRkIHRoZVxuICAgICAgICAvLyBzdG9yYWdlIG9ic2VydmVyIGR1cmluZyBpbml0aWFsaXphdGlvbi4gVGhpcyBlbnN1cmVzIHRoYXQgd2UgY29sbGVjdFxuICAgICAgICAvLyBldmVudHMgYmVmb3JlIG90aGVyIGNvbXBvbmVudHMgcG9wdWxhdGUgdGhlaXIgaW5pdGlhbCBzdGF0ZSAoZHVyaW5nIHRoZWlyXG4gICAgICAgIC8vIHJlc3BlY3RpdmUgc3RhcnQoKSBjYWxscykuIE90aGVyd2lzZSwgd2UgbWlnaHQgZm9yIGV4YW1wbGUgbWlzcyBhXG4gICAgICAgIC8vIG11dGF0aW9uIHRoYXQgaXMgYWRkZWQgYWZ0ZXIgTG9jYWxTdG9yZSdzIHN0YXJ0KCkgcHJvY2Vzc2VkIHRoZSBleGlzdGluZ1xuICAgICAgICAvLyBtdXRhdGlvbnMgYnV0IGJlZm9yZSB3ZSBvYnNlcnZlIFdlYlN0b3JhZ2UgZXZlbnRzLlxuICAgICAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCB0aGlzLkJzKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgJ3RydWUnIGlmIFdlYlN0b3JhZ2UgaXMgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LiAqLyAgICBzdGF0aWMgYnQodCkge1xuICAgICAgICByZXR1cm4gISghdCB8fCAhdC5sb2NhbFN0b3JhZ2UpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2xpZW50cyB0byBiYWNrZmlsbCB0aGUgZGF0YSBpblxuICAgICAgICAvLyBTaGFyZWRDbGllbnRTdGF0ZS5cbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IHRoaXMuc3luY0VuZ2luZS5wbigpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICAgICAgaWYgKGUgPT09IHRoaXMuTHMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuZ2V0SXRlbShOcih0aGlzLnBlcnNpc3RlbmNlS2V5LCBlKSk7XG4gICAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBGci4kcyhlLCB0KTtcbiAgICAgICAgICAgICAgICBuICYmICh0aGlzLnFzID0gdGhpcy5xcy5pbnNlcnQobi5jbGllbnRJZCwgbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuWXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYW4gZXhpc3Rpbmcgb25saW5lIHN0YXRlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBoYW5kbGVyXG4gICAgICAgIC8vIGlmIGFwcGxpY2FibGUuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLkhzKTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLlhzKGUpO1xuICAgICAgICAgICAgdCAmJiB0aGlzLlpzKHQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLktzKSB0aGlzLlVzKHQpO1xuICAgICAgICB0aGlzLktzID0gW10sIFxuICAgICAgICAvLyBSZWdpc3RlciBhIHdpbmRvdyB1bmxvYWQgaG9vayB0byByZW1vdmUgdGhlIGNsaWVudCBtZXRhZGF0YSBlbnRyeSBmcm9tXG4gICAgICAgIC8vIFdlYlN0b3JhZ2UgZXZlbiBpZiBgc2h1dGRvd24oKWAgd2FzIG5vdCBjYWxsZWQuXG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKCkgPT4gdGhpcy5zaHV0ZG93bigpKSksIHRoaXMuc3RhcnRlZCA9ICEwO1xuICAgIH1cbiAgICB3cml0ZVNlcXVlbmNlTnVtYmVyKHQpIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuUXMsIEpTT04uc3RyaW5naWZ5KHQpKTtcbiAgICB9XG4gICAgZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aSh0aGlzLnFzKTtcbiAgICB9XG4gICAgaXNBY3RpdmVRdWVyeVRhcmdldCh0KSB7XG4gICAgICAgIGxldCBlID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLnFzLmZvckVhY2goKChuLCBzKSA9PiB7XG4gICAgICAgICAgICBzLmFjdGl2ZVRhcmdldElkcy5oYXModCkgJiYgKGUgPSAhMCk7XG4gICAgICAgIH0pKSwgZTtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKHQpIHtcbiAgICAgICAgdGhpcy5laSh0LCBcInBlbmRpbmdcIik7XG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUodCwgZSwgbikge1xuICAgICAgICB0aGlzLmVpKHQsIGUsIG4pLCBcbiAgICAgICAgLy8gT25jZSBhIGZpbmFsIG11dGF0aW9uIHJlc3VsdCBpcyBvYnNlcnZlZCBieSBvdGhlciBjbGllbnRzLCB0aGV5IG5vIGxvbmdlclxuICAgICAgICAvLyBhY2Nlc3MgdGhlIG11dGF0aW9uJ3MgbWV0YWRhdGEgZW50cnkuIFNpbmNlIFdlYlN0b3JhZ2UgcmVwbGF5cyBldmVudHNcbiAgICAgICAgLy8gaW4gb3JkZXIsIGl0IGlzIHNhZmUgdG8gZGVsZXRlIHRoZSBlbnRyeSByaWdodCBhZnRlciB1cGRhdGluZyBpdC5cbiAgICAgICAgdGhpcy5uaSh0KTtcbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldCh0KSB7XG4gICAgICAgIGxldCBlID0gXCJub3QtY3VycmVudFwiO1xuICAgICAgICAvLyBMb29rdXAgYW4gZXhpc3RpbmcgcXVlcnkgc3RhdGUgaWYgdGhlIHRhcmdldCBJRCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgIC8vIGJ5IGFub3RoZXIgdGFiXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmVRdWVyeVRhcmdldCh0KSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtyKHRoaXMucGVyc2lzdGVuY2VLZXksIHQpKTtcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IE9yLiRzKHQsIG4pO1xuICAgICAgICAgICAgICAgIHMgJiYgKGUgPSBzLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zaS5Gcyh0KSwgdGhpcy5ZcygpLCBlO1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KHQpIHtcbiAgICAgICAgdGhpcy5zaS5Ncyh0KSwgdGhpcy5ZcygpO1xuICAgIH1cbiAgICBpc0xvY2FsUXVlcnlUYXJnZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaS5hY3RpdmVUYXJnZXRJZHMuaGFzKHQpO1xuICAgIH1cbiAgICBjbGVhclF1ZXJ5U3RhdGUodCkge1xuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oa3IodGhpcy5wZXJzaXN0ZW5jZUtleSwgdCkpO1xuICAgIH1cbiAgICB1cGRhdGVRdWVyeVN0YXRlKHQsIGUsIG4pIHtcbiAgICAgICAgdGhpcy5paSh0LCBlLCBuKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZSh0LCBlLCBuKSB7XG4gICAgICAgIGUuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICB0aGlzLm5pKHQpO1xuICAgICAgICB9KSksIHRoaXMuY3VycmVudFVzZXIgPSB0LCBuLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRQZW5kaW5nTXV0YXRpb24odCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0T25saW5lU3RhdGUodCkge1xuICAgICAgICB0aGlzLnJpKHQpO1xuICAgIH1cbiAgICBub3RpZnlCdW5kbGVMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMub2koKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCAmJiAodGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgdGhpcy5CcyksIHRoaXMucmVtb3ZlSXRlbSh0aGlzLmpzKSwgXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9ICExKTtcbiAgICB9XG4gICAgZ2V0SXRlbSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0KTtcbiAgICAgICAgcmV0dXJuIHgoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIlJFQURcIiwgdCwgZSksIGU7XG4gICAgfVxuICAgIHNldEl0ZW0odCwgZSkge1xuICAgICAgICB4KFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJTRVRcIiwgdCwgZSksIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHQsIGUpO1xuICAgIH1cbiAgICByZW1vdmVJdGVtKHQpIHtcbiAgICAgICAgeChcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiUkVNT1ZFXCIsIHQpLCB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0KTtcbiAgICB9XG4gICAgVXModCkge1xuICAgICAgICAvLyBOb3RlOiBUaGUgZnVuY3Rpb24gaXMgdHlwZWQgdG8gdGFrZSBFdmVudCB0byBiZSBpbnRlcmZhY2UtY29tcGF0aWJsZSB3aXRoXG4gICAgICAgIC8vIGBXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcmAuXG4gICAgICAgIGNvbnN0IGUgPSB0O1xuICAgICAgICBpZiAoZS5zdG9yYWdlQXJlYSA9PT0gdGhpcy5zdG9yYWdlKSB7XG4gICAgICAgICAgICBpZiAoeChcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiRVZFTlRcIiwgZS5rZXksIGUubmV3VmFsdWUpLCBlLmtleSA9PT0gdGhpcy5qcykgcmV0dXJuIHZvaWQgayhcIlJlY2VpdmVkIFdlYlN0b3JhZ2Ugbm90aWZpY2F0aW9uIGZvciBsb2NhbCBjaGFuZ2UuIEFub3RoZXIgY2xpZW50IG1pZ2h0IGhhdmUgZ2FyYmFnZS1jb2xsZWN0ZWQgb3VyIHN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5PZS5lbnF1ZXVlUmV0cnlhYmxlKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gZS5rZXkpIGlmICh0aGlzLldzLnRlc3QoZS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuYWkoZS5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNpKHQsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnVpKGUua2V5LCBlLm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCkgcmV0dXJuIHRoaXMuY2kodC5jbGllbnRJZCwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5Hcy50ZXN0KGUua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGUubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5oaShlLmtleSwgZS5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHJldHVybiB0aGlzLmxpKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuenMudGVzdChlLmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuZmkoZS5rZXksIGUubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSByZXR1cm4gdGhpcy5kaSh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gdGhpcy5Icykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGUubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5YcyhlLm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCkgcmV0dXJuIHRoaXMuWnModCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IHRoaXMuUXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBKLlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gdCkgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0oXCJudW1iZXJcIiA9PSB0eXBlb2YgbiksIGUgPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayhcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiRmFpbGVkIHRvIHJlYWQgc2VxdWVuY2UgbnVtYmVyIGZyb20gV2ViU3RvcmFnZVwiLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAqIGBNZW1vcnlTaGFyZWRDbGllbnRTdGF0ZWAgaXMgYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgU2hhcmVkQ2xpZW50U3RhdGUgZm9yXG4gKiBjbGllbnRzIHVzaW5nIG1lbW9yeSBwZXJzaXN0ZW5jZS4gVGhlIHN0YXRlIGluIHRoaXMgY2xhc3MgcmVtYWlucyBmdWxseVxuICogaXNvbGF0ZWQgYW5kIG5vIHN5bmNocm9uaXphdGlvbiBpcyBwZXJmb3JtZWQuXG4gKi8gKGUubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdCAhPT0gSi5UICYmIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyKHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSB0aGlzLkpzKSByZXR1cm4gdGhpcy5zeW5jRW5naW5lLndpKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuS3MucHVzaChlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFzLmdldCh0aGlzLkxzKTtcbiAgICB9XG4gICAgWXMoKSB7XG4gICAgICAgIHRoaXMuc2V0SXRlbSh0aGlzLmpzLCB0aGlzLnNpLk9zKCkpO1xuICAgIH1cbiAgICBlaSh0LCBlLCBuKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgJHIodGhpcy5jdXJyZW50VXNlciwgdCwgZSwgbiksIGkgPSB4cih0aGlzLnBlcnNpc3RlbmNlS2V5LCB0aGlzLmN1cnJlbnRVc2VyLCB0KTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKGksIHMuT3MoKSk7XG4gICAgfVxuICAgIG5pKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHhyKHRoaXMucGVyc2lzdGVuY2VLZXksIHRoaXMuY3VycmVudFVzZXIsIHQpO1xuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oZSk7XG4gICAgfVxuICAgIHJpKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLkxzLFxuICAgICAgICAgICAgb25saW5lU3RhdGU6IHRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0odGhpcy5IcywgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgIH1cbiAgICBpaSh0LCBlLCBuKSB7XG4gICAgICAgIGNvbnN0IHMgPSBrcih0aGlzLnBlcnNpc3RlbmNlS2V5LCB0KSwgaSA9IG5ldyBPcih0LCBlLCBuKTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHMsIGkuT3MoKSk7XG4gICAgfVxuICAgIG9pKCkge1xuICAgICAgICB0aGlzLnNldEl0ZW0odGhpcy5KcywgXCJ2YWx1ZS1ub3QtdXNlZFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgY2xpZW50IHN0YXRlIGtleSBpbiBXZWJTdG9yYWdlLiBSZXR1cm5zIG51bGwgaWYgdGhlIGtleSBkb2VzIG5vdFxuICAgICAqIG1hdGNoIHRoZSBleHBlY3RlZCBrZXkgZm9ybWF0LlxuICAgICAqLyAgICBhaSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLldzLmV4ZWModCk7XG4gICAgICAgIHJldHVybiBlID8gZVsxXSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIGNsaWVudCBzdGF0ZSBpbiBXZWJTdG9yYWdlLiBSZXR1cm5zICdudWxsJyBpZiB0aGUgdmFsdWUgY291bGQgbm90XG4gICAgICogYmUgcGFyc2VkLlxuICAgICAqLyAgICB1aSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFpKHQpO1xuICAgICAgICByZXR1cm4gRnIuJHMobiwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIG11dGF0aW9uIGJhdGNoIHN0YXRlIGluIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIGhpKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuR3MuZXhlYyh0KSwgcyA9IE51bWJlcihuWzFdKSwgaSA9IHZvaWQgMCAhPT0gblsyXSA/IG5bMl0gOiBudWxsO1xuICAgICAgICByZXR1cm4gJHIuJHMobmV3IFYoaSksIHMsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBxdWVyeSB0YXJnZXQgc3RhdGUgZnJvbSBXZWJTdG9yYWdlLiBSZXR1cm5zICdudWxsJyBpZiB0aGUgdmFsdWVcbiAgICAgKiBjb3VsZCBub3QgYmUgcGFyc2VkLlxuICAgICAqLyAgICBmaSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnpzLmV4ZWModCksIHMgPSBOdW1iZXIoblsxXSk7XG4gICAgICAgIHJldHVybiBPci4kcyhzLCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGFuIG9ubGluZSBzdGF0ZSBmcm9tIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIFhzKHQpIHtcbiAgICAgICAgcmV0dXJuIE1yLiRzKHQpO1xuICAgIH1cbiAgICBhc3luYyBsaSh0KSB7XG4gICAgICAgIGlmICh0LnVzZXIudWlkID09PSB0aGlzLmN1cnJlbnRVc2VyLnVpZCkgcmV0dXJuIHRoaXMuc3luY0VuZ2luZS5faSh0LmJhdGNoSWQsIHQuc3RhdGUsIHQuZXJyb3IpO1xuICAgICAgICB4KFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYElnbm9yaW5nIG11dGF0aW9uIGZvciBub24tYWN0aXZlIHVzZXIgJHt0LnVzZXIudWlkfWApO1xuICAgIH1cbiAgICBkaSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNFbmdpbmUubWkodC50YXJnZXRJZCwgdC5zdGF0ZSwgdC5lcnJvcik7XG4gICAgfVxuICAgIGNpKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IGUgPyB0aGlzLnFzLmluc2VydCh0LCBlKSA6IHRoaXMucXMucmVtb3ZlKHQpLCBzID0gdGhpcy50aSh0aGlzLnFzKSwgaSA9IHRoaXMudGkobiksIHIgPSBbXSwgbyA9IFtdO1xuICAgICAgICByZXR1cm4gaS5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIHMuaGFzKHQpIHx8IHIucHVzaCh0KTtcbiAgICAgICAgfSkpLCBzLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgaS5oYXModCkgfHwgby5wdXNoKHQpO1xuICAgICAgICB9KSksIHRoaXMuc3luY0VuZ2luZS5naShyLCBvKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnFzID0gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBacyh0KSB7XG4gICAgICAgIC8vIFdlIGNoZWNrIHdoZXRoZXIgdGhlIGNsaWVudCB0aGF0IHdyb3RlIHRoaXMgb25saW5lIHN0YXRlIGlzIHN0aWxsIGFjdGl2ZVxuICAgICAgICAvLyBieSBjb21wYXJpbmcgaXRzIGNsaWVudCBJRCB0byB0aGUgbGlzdCBvZiBjbGllbnRzIGtlcHQgYWN0aXZlIGluXG4gICAgICAgIC8vIEluZGV4ZWREYi4gSWYgYSBjbGllbnQgZG9lcyBub3QgdXBkYXRlIHRoZWlyIEluZGV4ZWREYiBjbGllbnQgc3RhdGVcbiAgICAgICAgLy8gd2l0aGluIDUgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgd2UgZG9uJ3QgZW1pdCBhbiBvbmxpbmVcbiAgICAgICAgLy8gc3RhdGUgZXZlbnQuXG4gICAgICAgIHRoaXMucXMuZ2V0KHQuY2xpZW50SWQpICYmIHRoaXMub25saW5lU3RhdGVIYW5kbGVyKHQub25saW5lU3RhdGUpO1xuICAgIH1cbiAgICB0aSh0KSB7XG4gICAgICAgIGxldCBlID0gUG4oKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGUgPSBlLnVuaW9uV2l0aChuLmFjdGl2ZVRhcmdldElkcyk7XG4gICAgICAgIH0pKSwgZTtcbiAgICB9XG59XG5cbmNsYXNzIFVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy55aSA9IG5ldyBMciwgdGhpcy5waSA9IHt9LCB0aGlzLm9ubGluZVN0YXRlSGFuZGxlciA9IG51bGwsIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKHQpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUodCwgZSwgbikge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnlpLkZzKHQpLCB0aGlzLnBpW3RdIHx8IFwibm90LWN1cnJlbnRcIjtcbiAgICB9XG4gICAgdXBkYXRlUXVlcnlTdGF0ZSh0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMucGlbdF0gPSBlO1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KHQpIHtcbiAgICAgICAgdGhpcy55aS5Ncyh0KTtcbiAgICB9XG4gICAgaXNMb2NhbFF1ZXJ5VGFyZ2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWkuYWN0aXZlVGFyZ2V0SWRzLmhhcyh0KTtcbiAgICB9XG4gICAgY2xlYXJRdWVyeVN0YXRlKHQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGlbdF07XG4gICAgfVxuICAgIGdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWkuYWN0aXZlVGFyZ2V0SWRzO1xuICAgIH1cbiAgICBpc0FjdGl2ZVF1ZXJ5VGFyZ2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWkuYWN0aXZlVGFyZ2V0SWRzLmhhcyh0KTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnlpID0gbmV3IExyLCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZSh0LCBlLCBuKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzZXRPbmxpbmVTdGF0ZSh0KSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgd3JpdGVTZXF1ZW5jZU51bWJlcih0KSB7fVxuICAgIG5vdGlmeUJ1bmRsZUxvYWRlZCgpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBxciB7XG4gICAgRWkodCkge1xuICAgICAgICAvLyBOby1vcC5cbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIC8vIE5vLW9wLlxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIFJlZmVyZW5jZXMgdG8gYHdpbmRvd2AgYXJlIGd1YXJkZWQgYnkgQnJvd3NlckNvbm5lY3Rpdml0eU1vbml0b3IuaXNBdmFpbGFibGUoKVxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKipcbiAqIEJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgQ29ubmVjdGl2aXR5TW9uaXRvci5cbiAqL1xuY2xhc3MgS3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRpID0gKCkgPT4gdGhpcy5JaSgpLCB0aGlzLkFpID0gKCkgPT4gdGhpcy5SaSgpLCB0aGlzLmJpID0gW10sIHRoaXMuUGkoKTtcbiAgICB9XG4gICAgRWkodCkge1xuICAgICAgICB0aGlzLmJpLnB1c2godCk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLlRpKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMuQWkpO1xuICAgIH1cbiAgICBQaSgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgdGhpcy5UaSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLkFpKTtcbiAgICB9XG4gICAgSWkoKSB7XG4gICAgICAgIHgoXCJDb25uZWN0aXZpdHlNb25pdG9yXCIsIFwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogQVZBSUxBQkxFXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5iaSkgdCgwIC8qIEFWQUlMQUJMRSAqLyk7XG4gICAgfVxuICAgIFJpKCkge1xuICAgICAgICB4KFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLCBcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IFVOQVZBSUxBQkxFXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5iaSkgdCgxIC8qIFVOQVZBSUxBQkxFICovKTtcbiAgICB9XG4gICAgLy8gVE9ETyhjaGVuYnJpYW4pOiBDb25zaWRlciBwYXNzaW5nIGluIHdpbmRvdyBlaXRoZXIgaW50byB0aGlzIGNvbXBvbmVudCBvclxuICAgIC8vIGhlcmUgZm9yIHRlc3RpbmcgdmlhIEZha2VXaW5kb3cuXG4gICAgLyoqIENoZWNrcyB0aGF0IGFsbCB1c2VkIGF0dHJpYnV0ZXMgb2Ygd2luZG93IGFyZSBhdmFpbGFibGUuICovXG4gICAgc3RhdGljIGJ0KCkge1xuICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ICYmIHZvaWQgMCAhPT0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJiYgdm9pZCAwICE9PSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IGpyID0ge1xuICAgIEJhdGNoR2V0RG9jdW1lbnRzOiBcImJhdGNoR2V0XCIsXG4gICAgQ29tbWl0OiBcImNvbW1pdFwiLFxuICAgIFJ1blF1ZXJ5OiBcInJ1blF1ZXJ5XCJcbn07XG5cbi8qKlxuICogTWFwcyBSUEMgbmFtZXMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgUkVTVCBlbmRwb2ludCBuYW1lLlxuICpcbiAqIFdlIHVzZSBhcnJheSBub3RhdGlvbiB0byBhdm9pZCBtYW5nbGluZy5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgYSBzaW1wbGUgaGVscGVyIGNsYXNzIHRoYXQgaW1wbGVtZW50cyB0aGUgU3RyZWFtIGludGVyZmFjZSB0b1xuICogYnJpZGdlIHRvIG90aGVyIGltcGxlbWVudGF0aW9ucyB0aGF0IGFyZSBzdHJlYW1zIGJ1dCBkbyBub3QgaW1wbGVtZW50IHRoZVxuICogaW50ZXJmYWNlLiBUaGUgc3RyZWFtIGNhbGxiYWNrcyBhcmUgaW52b2tlZCB3aXRoIHRoZSBjYWxsT24uLi4gbWV0aG9kcy5cbiAqL1xuY2xhc3MgUXIge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy52aSA9IHQudmksIHRoaXMuVmkgPSB0LlZpO1xuICAgIH1cbiAgICBTaSh0KSB7XG4gICAgICAgIHRoaXMuRGkgPSB0O1xuICAgIH1cbiAgICBDaSh0KSB7XG4gICAgICAgIHRoaXMuTmkgPSB0O1xuICAgIH1cbiAgICBvbk1lc3NhZ2UodCkge1xuICAgICAgICB0aGlzLnhpID0gdDtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuVmkoKTtcbiAgICB9XG4gICAgc2VuZCh0KSB7XG4gICAgICAgIHRoaXMudmkodCk7XG4gICAgfVxuICAgIGtpKCkge1xuICAgICAgICB0aGlzLkRpKCk7XG4gICAgfVxuICAgICRpKHQpIHtcbiAgICAgICAgdGhpcy5OaSh0KTtcbiAgICB9XG4gICAgT2kodCkge1xuICAgICAgICB0aGlzLnhpKHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgV3IgZXh0ZW5kcyBcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIFJlc3QtYmFzZWQgY29ubmVjdGlvbnMgdG8gdGhlIGJhY2tlbmQgKFdlYkNoYW5uZWwgYW5kXG4gKiBIVFRQKS5cbiAqL1xuY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm8gPSB0LCB0aGlzLmRhdGFiYXNlSWQgPSB0LmRhdGFiYXNlSWQ7XG4gICAgICAgIGNvbnN0IGUgPSB0LnNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiO1xuICAgICAgICB0aGlzLkZpID0gZSArIFwiOi8vXCIgKyB0Lmhvc3QsIHRoaXMuTWkgPSBcInByb2plY3RzL1wiICsgdGhpcy5kYXRhYmFzZUlkLnByb2plY3RJZCArIFwiL2RhdGFiYXNlcy9cIiArIHRoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZSArIFwiL2RvY3VtZW50c1wiO1xuICAgIH1cbiAgICBMaSh0LCBlLCBuLCBzKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLkJpKHQsIGUpO1xuICAgICAgICB4KFwiUmVzdENvbm5lY3Rpb25cIiwgXCJTZW5kaW5nOiBcIiwgaSwgbik7XG4gICAgICAgIGNvbnN0IHIgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuVWkociwgcyksIHRoaXMucWkodCwgaSwgciwgbikudGhlbigodCA9PiAoeChcIlJlc3RDb25uZWN0aW9uXCIsIFwiUmVjZWl2ZWQ6IFwiLCB0KSwgXG4gICAgICAgIHQpKSwgKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgJChcIlJlc3RDb25uZWN0aW9uXCIsIGAke3R9IGZhaWxlZCB3aXRoIGVycm9yOiBgLCBlLCBcInVybDogXCIsIGksIFwicmVxdWVzdDpcIiwgbiksIFxuICAgICAgICAgICAgZTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBLaSh0LCBlLCBuLCBzKSB7XG4gICAgICAgIC8vIFRoZSBSRVNUIEFQSSBhdXRvbWF0aWNhbGx5IGFnZ3JlZ2F0ZXMgYWxsIG9mIHRoZSBzdHJlYW1lZCByZXN1bHRzLCBzbyB3ZVxuICAgICAgICAvLyBjYW4ganVzdCB1c2UgdGhlIG5vcm1hbCBpbnZva2UoKSBtZXRob2QuXG4gICAgICAgIHJldHVybiB0aGlzLkxpKHQsIGUsIG4sIHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyB0aGUgaGVhZGVycyBmb3IgYSByZXF1ZXN0LCBhZGRpbmcgYW55IGF1dGhvcml6YXRpb24gdG9rZW4gaWZcbiAgICAgKiBwcmVzZW50IGFuZCBhbnkgYWRkaXRpb25hbCBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKi8gICAgVWkodCwgZSkge1xuICAgICAgICBpZiAodFtcIlgtR29vZy1BcGktQ2xpZW50XCJdID0gXCJnbC1qcy8gZmlyZS9cIiArIFMsIFxuICAgICAgICAvLyBDb250ZW50LVR5cGU6IHRleHQvcGxhaW4gd2lsbCBhdm9pZCBwcmVmbGlnaHQgcmVxdWVzdHMgd2hpY2ggbWlnaHRcbiAgICAgICAgLy8gbWVzcyB3aXRoIENPUlMgYW5kIHJlZGlyZWN0cyBieSBwcm94aWVzLiBJZiB3ZSBhZGQgY3VzdG9tIGhlYWRlcnNcbiAgICAgICAgLy8gd2Ugd2lsbCBuZWVkIHRvIGNoYW5nZSB0aGlzIGNvZGUgdG8gcG90ZW50aWFsbHkgdXNlIHRoZSAkaHR0cE92ZXJ3cml0ZVxuICAgICAgICAvLyBwYXJhbWV0ZXIgc3VwcG9ydGVkIGJ5IEVTRiB0byBhdm9pZCB0cmlnZ2VyaW5nIHByZWZsaWdodCByZXF1ZXN0cy5cbiAgICAgICAgdFtcIkNvbnRlbnQtVHlwZVwiXSA9IFwidGV4dC9wbGFpblwiLCB0aGlzLmRhdGFiYXNlSW5mby5hcHBJZCAmJiAodFtcIlgtRmlyZWJhc2UtR01QSURcIl0gPSB0aGlzLmRhdGFiYXNlSW5mby5hcHBJZCksIFxuICAgICAgICBlKSBmb3IgKGNvbnN0IG4gaW4gZS5hdXRoSGVhZGVycykgZS5hdXRoSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuKSAmJiAodFtuXSA9IGUuYXV0aEhlYWRlcnNbbl0pO1xuICAgIH1cbiAgICBCaSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBqclt0XTtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuRml9L3YxLyR7ZX06JHtufWA7XG4gICAgfVxufSB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICBzdXBlcih0KSwgdGhpcy5mb3JjZUxvbmdQb2xsaW5nID0gdC5mb3JjZUxvbmdQb2xsaW5nLCB0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZyA9IHQuYXV0b0RldGVjdExvbmdQb2xsaW5nLCBcbiAgICAgICAgdGhpcy51c2VGZXRjaFN0cmVhbXMgPSB0LnVzZUZldGNoU3RyZWFtcztcbiAgICB9XG4gICAgcWkodCwgZSwgbiwgcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKChpLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gbmV3IHA7XG4gICAgICAgICAgICBvLmxpc3Rlbk9uY2UoRS5DT01QTEVURSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG8uZ2V0TGFzdEVycm9yQ29kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBULk5PX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG8uZ2V0UmVzcG9uc2VKc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4KFwiQ29ubmVjdGlvblwiLCBcIlhIUiByZWNlaXZlZDpcIiwgSlNPTi5zdHJpbmdpZnkoZSkpLCBpKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFQuVElNRU9VVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHgoXCJDb25uZWN0aW9uXCIsICdSUEMgXCInICsgdCArICdcIiB0aW1lZCBvdXQnKSwgcihuZXcgcShVLkRFQURMSU5FX0VYQ0VFREVELCBcIlJlcXVlc3QgdGltZSBvdXRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFQuSFRUUF9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBvLmdldFN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgoXCJDb25uZWN0aW9uXCIsICdSUEMgXCInICsgdCArICdcIiBmYWlsZWQgd2l0aCBzdGF0dXM6JywgbiwgXCJyZXNwb25zZSB0ZXh0OlwiLCBvLmdldFJlc3BvbnNlVGV4dCgpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBvLmdldFJlc3BvbnNlSnNvbigpLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHQuc3RhdHVzICYmIHQubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKFUpLmluZGV4T2YoZSkgPj0gMCA/IGUgOiBVLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odC5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByKG5ldyBxKGUsIHQubWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByKG5ldyBxKFUuVU5LTk9XTiwgXCJTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzIFwiICsgby5nZXRTdGF0dXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVjZWl2ZWQgYW4gSFRUUF9FUlJPUiBidXQgdGhlcmUncyBubyBzdGF0dXMgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgbW9zdCBwcm9iYWJseSBhIGNvbm5lY3Rpb24gaXNzdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHIobmV3IHEoVS5VTkFWQUlMQUJMRSwgXCJDb25uZWN0aW9uIGZhaWxlZC5cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgRigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgeChcIkNvbm5lY3Rpb25cIiwgJ1JQQyBcIicgKyB0ICsgJ1wiIGNvbXBsZXRlZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBhID0gSlNPTi5zdHJpbmdpZnkocyk7XG4gICAgICAgICAgICBvLnNlbmQoZSwgXCJQT1NUXCIsIGEsIG4sIDE1KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBqaSh0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBbIHRoaXMuRmksIFwiL1wiLCBcImdvb2dsZS5maXJlc3RvcmUudjEuRmlyZXN0b3JlXCIsIFwiL1wiLCB0LCBcIi9jaGFubmVsXCIgXSwgcyA9IEkoKSwgaSA9IEEoKSwgciA9IHtcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkIGZvciBiYWNrZW5kIHN0aWNraW5lc3MsIHJvdXRpbmcgYmVoYXZpb3IgaXMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgLy8gcGFyYW1ldGVyLlxuICAgICAgICAgICAgaHR0cFNlc3Npb25JZFBhcmFtOiBcImdzZXNzaW9uaWRcIixcbiAgICAgICAgICAgIGluaXRNZXNzYWdlSGVhZGVyczoge30sXG4gICAgICAgICAgICBtZXNzYWdlVXJsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwYXJhbSBpcyB1c2VkIHRvIGltcHJvdmUgcm91dGluZyBhbmQgcHJvamVjdCBpc29sYXRpb24gYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gYmFja2VuZCBhbmQgbXVzdCBiZSBpbmNsdWRlZCBpbiBldmVyeSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBgcHJvamVjdHMvJHt0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkfS9kYXRhYmFzZXMvJHt0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRSYXdKc29uOiAhMCxcbiAgICAgICAgICAgIHN1cHBvcnRzQ3Jvc3NEb21haW5YaHI6ICEwLFxuICAgICAgICAgICAgaW50ZXJuYWxDaGFubmVsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGltZW91dCAocmFuZG9taXplZCBiZXR3ZWVuIDEwLTIwIHNlY29uZHMpIHNpbmNlXG4gICAgICAgICAgICAgICAgLy8gYSBsYXJnZSB3cml0ZSBiYXRjaCBvbiBhIHNsb3cgaW50ZXJuZXQgY29ubmVjdGlvbiBtYXkgdGFrZSBhIGxvbmdcbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIHNlbmQgdG8gdGhlIGJhY2tlbmQuIFJhdGhlciB0aGFuIGhhdmUgV2ViQ2hhbm5lbCBpbXBvc2UgYVxuICAgICAgICAgICAgICAgIC8vIHRpZ2h0IHRpbWVvdXQgd2hpY2ggY291bGQgbGVhZCB0byBpbmZpbml0ZSB0aW1lb3V0cyBhbmQgcmV0cmllcywgd2VcbiAgICAgICAgICAgICAgICAvLyBzZXQgaXQgdmVyeSBsYXJnZSAoNS0xMCBtaW51dGVzKSBhbmQgcmVseSBvbiB0aGUgYnJvd3NlcidzIGJ1aWx0aW5cbiAgICAgICAgICAgICAgICAvLyB0aW1lb3V0cyB0byBraWNrIGluIGlmIHRoZSByZXF1ZXN0IGlzbid0IHdvcmtpbmcuXG4gICAgICAgICAgICAgICAgZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zOiA2ZTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZUxvbmdQb2xsaW5nOiB0aGlzLmZvcmNlTG9uZ1BvbGxpbmcsXG4gICAgICAgICAgICBkZXRlY3RCdWZmZXJpbmdQcm94eTogdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51c2VGZXRjaFN0cmVhbXMgJiYgKHIueG1sSHR0cEZhY3RvcnkgPSBuZXcgUih7fSkpLCB0aGlzLlVpKHIuaW5pdE1lc3NhZ2VIZWFkZXJzLCBlKSwgXG4gICAgICAgIC8vIFNlbmRpbmcgdGhlIGN1c3RvbSBoZWFkZXJzIHdlIGp1c3QgYWRkZWQgdG8gcmVxdWVzdC5pbml0TWVzc2FnZUhlYWRlcnNcbiAgICAgICAgLy8gKEF1dGhvcml6YXRpb24sIGV0Yy4pIHdpbGwgdHJpZ2dlciB0aGUgYnJvd3NlciB0byBtYWtlIGEgQ09SUyBwcmVmbGlnaHRcbiAgICAgICAgLy8gcmVxdWVzdCBiZWNhdXNlIHRoZSBYSFIgd2lsbCBubyBsb25nZXIgbWVldCB0aGUgY3JpdGVyaWEgZm9yIGEgXCJzaW1wbGVcIlxuICAgICAgICAvLyBDT1JTIHJlcXVlc3Q6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQ09SUyNTaW1wbGVfcmVxdWVzdHNcbiAgICAgICAgLy8gVGhlcmVmb3JlIHRvIGF2b2lkIHRoZSBDT1JTIHByZWZsaWdodCByZXF1ZXN0IChhbiBleHRyYSBuZXR3b3JrXG4gICAgICAgIC8vIHJvdW5kdHJpcCksIHdlIHVzZSB0aGUgaHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbSBvcHRpb24gdG8gc3BlY2lmeSB0aGF0XG4gICAgICAgIC8vIHRoZSBoZWFkZXJzIHNob3VsZCBpbnN0ZWFkIGJlIGVuY29kZWQgaW50byBhIHNwZWNpYWwgXCIkaHR0cEhlYWRlcnNcIiBxdWVyeVxuICAgICAgICAvLyBwYXJhbWV0ZXIsIHdoaWNoIGlzIHJlY29nbml6ZWQgYnkgdGhlIHdlYmNoYW5uZWwgYmFja2VuZC4gVGhpcyBpc1xuICAgICAgICAvLyBmb3JtYWxseSBkZWZpbmVkIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvYjBlMTgxNWIxM2ZiOTJhNDZkN2M5YjNjMzBkZTVkNmEzOTZhMzI0NS9jbG9zdXJlL2dvb2cvbmV0L3JwYy9odHRwY29ycy5qcyNMMzJcbiAgICAgICAgLy8gVE9ETyhiLzE0NTYyNDc1Nik6IFRoZXJlIGlzIGEgYmFja2VuZCBidWcgd2hlcmUgJGh0dHBIZWFkZXJzIGlzbid0IHJlc3BlY3RlZCBpZiB0aGUgcmVxdWVzdFxuICAgICAgICAvLyBkb2Vzbid0IGhhdmUgYW4gT3JpZ2luIGhlYWRlci4gU28gd2UgaGF2ZSB0byBleGNsdWRlIGEgZmV3IGJyb3dzZXIgZW52aXJvbm1lbnRzIHRoYXQgYXJlXG4gICAgICAgIC8vIGtub3duIHRvIChzb21ldGltZXMpIG5vdCBpbmNsdWRlIGFuIE9yaWdpbi4gU2VlXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzE0OTEuXG4gICAgICAgIGgoKSB8fCBsKCkgfHwgZigpIHx8IGQoKSB8fCB3KCkgfHwgXygpIHx8IChyLmh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0gPSBcIiRodHRwSGVhZGVyc1wiKTtcbiAgICAgICAgY29uc3QgbyA9IG4uam9pbihcIlwiKTtcbiAgICAgICAgeChcIkNvbm5lY3Rpb25cIiwgXCJDcmVhdGluZyBXZWJDaGFubmVsOiBcIiArIG8sIHIpO1xuICAgICAgICBjb25zdCBhID0gcy5jcmVhdGVXZWJDaGFubmVsKG8sIHIpO1xuICAgICAgICAvLyBXZWJDaGFubmVsIHN1cHBvcnRzIHNlbmRpbmcgdGhlIGZpcnN0IG1lc3NhZ2Ugd2l0aCB0aGUgaGFuZHNoYWtlIC0gc2F2aW5nXG4gICAgICAgIC8vIGEgbmV0d29yayByb3VuZCB0cmlwLiBIb3dldmVyLCBpdCB3aWxsIGhhdmUgdG8gY2FsbCBzZW5kIGluIHRoZSBzYW1lXG4gICAgICAgIC8vIEpTIGV2ZW50IGxvb3AgYXMgb3Blbi4gSW4gb3JkZXIgdG8gZW5mb3JjZSB0aGlzLCB3ZSBkZWxheSBhY3R1YWxseVxuICAgICAgICAvLyBvcGVuaW5nIHRoZSBXZWJDaGFubmVsIHVudGlsIHNlbmQgaXMgY2FsbGVkLiBXaGV0aGVyIHdlIGhhdmUgY2FsbGVkXG4gICAgICAgIC8vIG9wZW4gaXMgdHJhY2tlZCB3aXRoIHRoaXMgdmFyaWFibGUuXG4gICAgICAgICAgICAgICAgbGV0IGMgPSAhMSwgdSA9ICExO1xuICAgICAgICAvLyBBIGZsYWcgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHN0cmVhbSB3YXMgY2xvc2VkIChieSB1cyBvciB0aHJvdWdoIGFuXG4gICAgICAgIC8vIGVycm9yL2Nsb3NlIGV2ZW50KSB0byBhdm9pZCBkZWxpdmVyaW5nIG11bHRpcGxlIGNsb3NlIGV2ZW50cyBvciBzZW5kaW5nXG4gICAgICAgIC8vIG9uIGEgY2xvc2VkIHN0cmVhbVxuICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBuZXcgUXIoe1xuICAgICAgICAgICAgdmk6IHQgPT4ge1xuICAgICAgICAgICAgICAgIHUgPyB4KFwiQ29ubmVjdGlvblwiLCBcIk5vdCBzZW5kaW5nIGJlY2F1c2UgV2ViQ2hhbm5lbCBpcyBjbG9zZWQ6XCIsIHQpIDogKGMgfHwgKHgoXCJDb25uZWN0aW9uXCIsIFwiT3BlbmluZyBXZWJDaGFubmVsIHRyYW5zcG9ydC5cIiksIFxuICAgICAgICAgICAgICAgIGEub3BlbigpLCBjID0gITApLCB4KFwiQ29ubmVjdGlvblwiLCBcIldlYkNoYW5uZWwgc2VuZGluZzpcIiwgdCksIGEuc2VuZCh0KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVmk6ICgpID0+IGEuY2xvc2UoKVxuICAgICAgICB9KSwgZyA9ICh0LCBlLCBuKSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IGNsb3N1cmUgdHlwaW5nIHNlZW1zIGJyb2tlbiBiZWNhdXNlIFdlYkNoYW5uZWwgZG9lc1xuICAgICAgICAgICAgLy8gbm90IGltcGxlbWVudCBnb29nLmV2ZW50cy5MaXN0ZW5hYmxlXG4gICAgICAgICAgICB0Lmxpc3RlbihlLCAodCA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbih0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIENsb3N1cmUgZXZlbnRzIGFyZSBndWFyZGVkIGFuZCBleGNlcHRpb25zIGFyZSBzd2FsbG93ZWQsIHNvIGNhdGNoIGFueVxuICAgICAgICAvLyBleGNlcHRpb24gYW5kIHJldGhyb3cgdXNpbmcgYSBzZXRUaW1lb3V0IHNvIHRoZXkgYmVjb21lIHZpc2libGUgYWdhaW4uXG4gICAgICAgIC8vIE5vdGUgdGhhdCBldmVudHVhbGx5IHRoaXMgZnVuY3Rpb24gY291bGQgZ28gYXdheSBpZiB3ZSBhcmUgY29uZmlkZW50XG4gICAgICAgIC8vIGVub3VnaCB0aGUgY29kZSBpcyBleGNlcHRpb24gZnJlZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gZyhhLCBiLkV2ZW50VHlwZS5PUEVOLCAoKCkgPT4ge1xuICAgICAgICAgICAgdSB8fCB4KFwiQ29ubmVjdGlvblwiLCBcIldlYkNoYW5uZWwgdHJhbnNwb3J0IG9wZW5lZC5cIik7XG4gICAgICAgIH0pKSwgZyhhLCBiLkV2ZW50VHlwZS5DTE9TRSwgKCgpID0+IHtcbiAgICAgICAgICAgIHUgfHwgKHUgPSAhMCwgeChcIkNvbm5lY3Rpb25cIiwgXCJXZWJDaGFubmVsIHRyYW5zcG9ydCBjbG9zZWRcIiksIG0uJGkoKSk7XG4gICAgICAgIH0pKSwgZyhhLCBiLkV2ZW50VHlwZS5FUlJPUiwgKHQgPT4ge1xuICAgICAgICAgICAgdSB8fCAodSA9ICEwLCAkKFwiQ29ubmVjdGlvblwiLCBcIldlYkNoYW5uZWwgdHJhbnNwb3J0IGVycm9yZWQ6XCIsIHQpLCBtLiRpKG5ldyBxKFUuVU5BVkFJTEFCTEUsIFwiVGhlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkXCIpKSk7XG4gICAgICAgIH0pKSwgZyhhLCBiLkV2ZW50VHlwZS5NRVNTQUdFLCAodCA9PiB7XG4gICAgICAgICAgICB2YXIgZTtcbiAgICAgICAgICAgIGlmICghdSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0LmRhdGFbMF07XG4gICAgICAgICAgICAgICAgTSghIW4pO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8oYi8zNTE0Mzg5MSk6IFRoZXJlIGlzIGEgYnVnIGluIE9uZSBQbGF0Zm9ybSB0aGF0IGNhdXNlZCBlcnJvcnNcbiAgICAgICAgICAgICAgICAvLyAoYW5kIG9ubHkgZXJyb3JzKSB0byBiZSB3cmFwcGVkIGluIGFuIGV4dHJhIGFycmF5LiBUbyBiZSBmb3J3YXJkXG4gICAgICAgICAgICAgICAgLy8gY29tcGF0aWJsZSB3aXRoIHRoZSBidWcgd2UgbmVlZCB0byBjaGVjayBlaXRoZXIgY29uZGl0aW9uLiBUaGUgbGF0dGVyXG4gICAgICAgICAgICAgICAgLy8gY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgZml4IGhhcyBiZWVuIHJvbGxlZCBvdXQuXG4gICAgICAgICAgICAgICAgLy8gVXNlIGFueSBiZWNhdXNlIG1zZ0RhdGEuZXJyb3IgaXMgbm90IHR5cGVkLlxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuLCBpID0gcy5lcnJvciB8fCAobnVsbCA9PT0gKGUgPSBzWzBdKSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLmVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICB4KFwiQ29ubmVjdGlvblwiLCBcIldlYkNoYW5uZWwgcmVjZWl2ZWQgZXJyb3I6XCIsIGkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlcnJvci5zdGF0dXMgd2lsbCBiZSBhIHN0cmluZyBsaWtlICdPSycgb3IgJ05PVF9GT1VORCcuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBpLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBNYXBzIGFuIGVycm9yIENvZGUgZnJvbSBhIEdSUEMgc3RhdHVzIGlkZW50aWZpZXIgbGlrZSAnTk9UX0ZPVU5EJy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29kZSBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBzdGF0dXMgc3RyaW5nIG9yIHVuZGVmaW5lZCBpZlxuICogICAgIHRoZXJlIGlzIG5vIG1hdGNoLlxuICovXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvb2t1cCBieSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gY25bdF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBlKSByZXR1cm4gbG4oZSk7XG4gICAgICAgICAgICAgICAgICAgIH0odCksIG4gPSBpLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IFUuSU5URVJOQUwsIG4gPSBcIlVua25vd24gZXJyb3Igc3RhdHVzOiBcIiArIHQgKyBcIiB3aXRoIG1lc3NhZ2UgXCIgKyBpLm1lc3NhZ2UpLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBjbG9zZWQgc28gbm8gZnVydGhlciBldmVudHMgYXJlIHByb3BhZ2F0ZWRcbiAgICAgICAgICAgICAgICAgICAgdSA9ICEwLCBtLiRpKG5ldyBxKGUsIG4pKSwgYS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB4KFwiQ29ubmVjdGlvblwiLCBcIldlYkNoYW5uZWwgcmVjZWl2ZWQ6XCIsIG4pLCBtLk9pKG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIGcoaSwgUC5TVEFUX0VWRU5ULCAodCA9PiB7XG4gICAgICAgICAgICB0LnN0YXQgPT09IHYuUFJPWFkgPyB4KFwiQ29ubmVjdGlvblwiLCBcIkRldGVjdGVkIGJ1ZmZlcmluZyBwcm94eVwiKSA6IHQuc3RhdCA9PT0gdi5OT1BST1hZICYmIHgoXCJDb25uZWN0aW9uXCIsIFwiRGV0ZWN0ZWQgbm8gYnVmZmVyaW5nIHByb3h5XCIpO1xuICAgICAgICB9KSksIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRlY2huaWNhbGx5IHdlIGNvdWxkL3Nob3VsZCB3YWl0IGZvciB0aGUgV2ViQ2hhbm5lbCBvcGVuZWQgZXZlbnQsXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSB3ZSB3YW50IHRvIHNlbmQgdGhlIGZpcnN0IG1lc3NhZ2Ugd2l0aCB0aGUgV2ViQ2hhbm5lbFxuICAgICAgICAgICAgLy8gaGFuZHNoYWtlIHdlIHByZXRlbmQgdGhlIGNoYW5uZWwgb3BlbmVkIGhlcmUgKGFzeW5jaHJvbm91c2x5KSwgYW5kXG4gICAgICAgICAgICAvLyB0aGVuIGRlbGF5IHRoZSBhY3R1YWwgb3BlbiB1bnRpbCB0aGUgZmlyc3QgbWVzc2FnZSBpcyBzZW50LlxuICAgICAgICAgICAgbS5raSgpO1xuICAgICAgICB9KSwgMCksIG07XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIEluaXRpYWxpemVzIHRoZSBXZWJDaGFubmVsQ29ubmVjdGlvbiBmb3IgdGhlIGJyb3dzZXIuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFRoZSBQbGF0Zm9ybSdzICd3aW5kb3cnIGltcGxlbWVudGF0aW9uIG9yIG51bGwgaWYgbm90IGF2YWlsYWJsZS4gKi9cbmZ1bmN0aW9uIEdyKCkge1xuICAgIC8vIGB3aW5kb3dgIGlzIG5vdCBhbHdheXMgYXZhaWxhYmxlLCBlLmcuIGluIFJlYWN0TmF0aXZlIGFuZCBXZWJXb3JrZXJzLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogbnVsbDtcbn1cblxuLyoqIFRoZSBQbGF0Zm9ybSdzICdkb2N1bWVudCcgaW1wbGVtZW50YXRpb24gb3IgbnVsbCBpZiBub3QgYXZhaWxhYmxlLiAqLyBmdW5jdGlvbiB6cigpIHtcbiAgICAvLyBgZG9jdW1lbnRgIGlzIG5vdCBhbHdheXMgYXZhaWxhYmxlLCBlLmcuIGluIFJlYWN0TmF0aXZlIGFuZCBXZWJXb3JrZXJzLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZG9jdW1lbnQgPyBkb2N1bWVudCA6IG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGZ1bmN0aW9uIEhyKHQpIHtcbiAgICByZXR1cm4gbmV3IE1uKHQsIC8qIHVzZVByb3RvM0pzb249ICovICEwKTtcbn1cblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgUGxhdGZvcm0ncyAnVGV4dEVuY29kZXInIGltcGxlbWVudGF0aW9uLlxuICovXG4vKipcbiAqIEEgaGVscGVyIGZvciBydW5uaW5nIGRlbGF5ZWQgdGFza3MgZm9sbG93aW5nIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYgY3VydmVcbiAqIGJldHdlZW4gYXR0ZW1wdHMuXG4gKlxuICogRWFjaCBkZWxheSBpcyBtYWRlIHVwIG9mIGEgXCJiYXNlXCIgZGVsYXkgd2hpY2ggZm9sbG93cyB0aGUgZXhwb25lbnRpYWxcbiAqIGJhY2tvZmYgY3VydmUsIGFuZCBhICsvLSA1MCUgXCJqaXR0ZXJcIiB0aGF0IGlzIGNhbGN1bGF0ZWQgYW5kIGFkZGVkIHRvIHRoZVxuICogYmFzZSBkZWxheS4gVGhpcyBwcmV2ZW50cyBjbGllbnRzIGZyb20gYWNjaWRlbnRhbGx5IHN5bmNocm9uaXppbmcgdGhlaXJcbiAqIGRlbGF5cyBjYXVzaW5nIHNwaWtlcyBvZiBsb2FkIHRvIHRoZSBiYWNrZW5kLlxuICovXG5jbGFzcyBKciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIEFzeW5jUXVldWUgdG8gcnVuIGJhY2tvZmYgb3BlcmF0aW9ucyBvbi5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgdG8gdXNlIHdoZW4gc2NoZWR1bGluZyBiYWNrb2ZmIG9wZXJhdGlvbnMgb24gdGhlIEFzeW5jUXVldWUuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIGluaXRpYWwgZGVsYXkgKHVzZWQgYXMgdGhlIGJhc2UgZGVsYXkgb24gdGhlIGZpcnN0IHJldHJ5IGF0dGVtcHQpLlxuICAgICAqIE5vdGUgdGhhdCBqaXR0ZXIgd2lsbCBzdGlsbCBiZSBhcHBsaWVkLCBzbyB0aGUgYWN0dWFsIGRlbGF5IGNvdWxkIGJlIGFzXG4gICAgICogbGl0dGxlIGFzIDAuNSppbml0aWFsRGVsYXlNcy5cbiAgICAgKi9cbiAgICBuID0gMWUzXG4gICAgLyoqXG4gICAgICogVGhlIG11bHRpcGxpZXIgdG8gdXNlIHRvIGRldGVybWluZSB0aGUgZXh0ZW5kZWQgYmFzZSBkZWxheSBhZnRlciBlYWNoXG4gICAgICogYXR0ZW1wdC5cbiAgICAgKi8gLCBzID0gMS41XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gYmFzZSBkZWxheSBhZnRlciB3aGljaCBubyBmdXJ0aGVyIGJhY2tvZmYgaXMgcGVyZm9ybWVkLlxuICAgICAqIE5vdGUgdGhhdCBqaXR0ZXIgd2lsbCBzdGlsbCBiZSBhcHBsaWVkLCBzbyB0aGUgYWN0dWFsIGRlbGF5IGNvdWxkIGJlIGFzXG4gICAgICogbXVjaCBhcyAxLjUqbWF4RGVsYXlNcy5cbiAgICAgKi8gLCBpID0gNmU0KSB7XG4gICAgICAgIHRoaXMuT2UgPSB0LCB0aGlzLnRpbWVySWQgPSBlLCB0aGlzLlFpID0gbiwgdGhpcy5XaSA9IHMsIHRoaXMuR2kgPSBpLCB0aGlzLnppID0gMCwgXG4gICAgICAgIHRoaXMuSGkgPSBudWxsLCBcbiAgICAgICAgLyoqIFRoZSBsYXN0IGJhY2tvZmYgYXR0ZW1wdCwgYXMgZXBvY2ggbWlsbGlzZWNvbmRzLiAqL1xuICAgICAgICB0aGlzLkppID0gRGF0ZS5ub3coKSwgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGJhY2tvZmYgZGVsYXkuXG4gICAgICpcbiAgICAgKiBUaGUgdmVyeSBuZXh0IGJhY2tvZmZBbmRXYWl0KCkgd2lsbCBoYXZlIG5vIGRlbGF5LiBJZiBpdCBpcyBjYWxsZWQgYWdhaW5cbiAgICAgKiAoaS5lLiBkdWUgdG8gYW4gZXJyb3IpLCBpbml0aWFsRGVsYXlNcyAocGx1cyBqaXR0ZXIpIHdpbGwgYmUgdXNlZCwgYW5kXG4gICAgICogc3Vic2VxdWVudCBvbmVzIHdpbGwgaW5jcmVhc2UgYWNjb3JkaW5nIHRvIHRoZSBiYWNrb2ZmRmFjdG9yLlxuICAgICAqLyAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy56aSA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYmFja29mZiBkZWxheSB0byB0aGUgbWF4aW11bSBkZWxheSAoZS5nLiBmb3IgdXNlIGFmdGVyIGFcbiAgICAgKiBSRVNPVVJDRV9FWEhBVVNURUQgZXJyb3IpLlxuICAgICAqLyAgICBZaSgpIHtcbiAgICAgICAgdGhpcy56aSA9IHRoaXMuR2k7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgY3VycmVudERlbGF5TXMsIGFuZCBpbmNyZWFzZXMgdGhlXG4gICAgICogZGVsYXkgZm9yIGFueSBzdWJzZXF1ZW50IGF0dGVtcHRzLiBJZiB0aGVyZSB3YXMgYSBwZW5kaW5nIGJhY2tvZmYgb3BlcmF0aW9uXG4gICAgICogYWxyZWFkeSwgaXQgd2lsbCBiZSBjYW5jZWxlZC5cbiAgICAgKi8gICAgWGkodCkge1xuICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgYmFja29mZiBvcGVyYXRpb24uXG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIC8vIEZpcnN0IHNjaGVkdWxlIHVzaW5nIHRoZSBjdXJyZW50IGJhc2UgKHdoaWNoIG1heSBiZSAwIGFuZCBzaG91bGQgYmVcbiAgICAgICAgLy8gaG9ub3JlZCBhcyBzdWNoKS5cbiAgICAgICAgY29uc3QgZSA9IE1hdGguZmxvb3IodGhpcy56aSArIHRoaXMuWmkoKSksIG4gPSBNYXRoLm1heCgwLCBEYXRlLm5vdygpIC0gdGhpcy5KaSksIHMgPSBNYXRoLm1heCgwLCBlIC0gbik7XG4gICAgICAgIC8vIEd1YXJkIGFnYWluc3QgbGFzdEF0dGVtcHRUaW1lIGJlaW5nIGluIHRoZSBmdXR1cmUgZHVlIHRvIGEgY2xvY2sgY2hhbmdlLlxuICAgICAgICAgICAgICAgIHMgPiAwICYmIHgoXCJFeHBvbmVudGlhbEJhY2tvZmZcIiwgYEJhY2tpbmcgb2ZmIGZvciAke3N9IG1zIChiYXNlIGRlbGF5OiAke3RoaXMueml9IG1zLCBkZWxheSB3aXRoIGppdHRlcjogJHtlfSBtcywgbGFzdCBhdHRlbXB0OiAke259IG1zIGFnbylgKSwgXG4gICAgICAgIHRoaXMuSGkgPSB0aGlzLk9lLmVucXVldWVBZnRlckRlbGF5KHRoaXMudGltZXJJZCwgcywgKCgpID0+ICh0aGlzLkppID0gRGF0ZS5ub3coKSwgXG4gICAgICAgIHQoKSkpKSwgXG4gICAgICAgIC8vIEFwcGx5IGJhY2tvZmYgZmFjdG9yIHRvIGRldGVybWluZSBuZXh0IGRlbGF5IGFuZCBlbnN1cmUgaXQgaXMgd2l0aGluXG4gICAgICAgIC8vIGJvdW5kcy5cbiAgICAgICAgdGhpcy56aSAqPSB0aGlzLldpLCB0aGlzLnppIDwgdGhpcy5RaSAmJiAodGhpcy56aSA9IHRoaXMuUWkpLCB0aGlzLnppID4gdGhpcy5HaSAmJiAodGhpcy56aSA9IHRoaXMuR2kpO1xuICAgIH1cbiAgICB0cigpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5IaSAmJiAodGhpcy5IaS5za2lwRGVsYXkoKSwgdGhpcy5IaSA9IG51bGwpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMuSGkgJiYgKHRoaXMuSGkuY2FuY2VsKCksIHRoaXMuSGkgPSBudWxsKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSByYW5kb20gdmFsdWUgaW4gdGhlIHJhbmdlIFstY3VycmVudEJhc2VNcy8yLCBjdXJyZW50QmFzZU1zLzJdICovICAgIFppKCkge1xuICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgLSAuNSkgKiB0aGlzLnppO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBQZXJzaXN0ZW50U3RyZWFtIGlzIGFuIGFic3RyYWN0IGJhc2UgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc3RyZWFtaW5nIFJQQ1xuICogdG8gdGhlIEZpcmVzdG9yZSBiYWNrZW5kLiBJdCdzIGJ1aWx0IG9uIHRvcCBvZiB0aGUgY29ubmVjdGlvbnMgb3duIHN1cHBvcnRcbiAqIGZvciBzdHJlYW1pbmcgUlBDcywgYW5kIGFkZHMgc2V2ZXJhbCBjcml0aWNhbCBmZWF0dXJlcyBmb3Igb3VyIGNsaWVudHM6XG4gKlxuICogICAtIEV4cG9uZW50aWFsIGJhY2tvZmYgb24gZmFpbHVyZVxuICogICAtIEF1dGhlbnRpY2F0aW9uIHZpYSBDcmVkZW50aWFsc1Byb3ZpZGVyXG4gKiAgIC0gRGlzcGF0Y2hpbmcgYWxsIGNhbGxiYWNrcyBpbnRvIHRoZSBzaGFyZWQgd29ya2VyIHF1ZXVlXG4gKiAgIC0gQ2xvc2luZyBpZGxlIHN0cmVhbXMgYWZ0ZXIgNjAgc2Vjb25kcyBvZiBpbmFjdGl2aXR5XG4gKlxuICogU3ViY2xhc3NlcyBvZiBQZXJzaXN0ZW50U3RyZWFtIGltcGxlbWVudCBzZXJpYWxpemF0aW9uIG9mIG1vZGVscyB0byBhbmRcbiAqIGZyb20gdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHByb3RvY29sIGJ1ZmZlcnMgZm9yIGEgc3BlY2lmaWNcbiAqIHN0cmVhbWluZyBSUEMuXG4gKlxuICogIyMgU3RhcnRpbmcgYW5kIFN0b3BwaW5nXG4gKlxuICogU3RyZWFtaW5nIFJQQ3MgYXJlIHN0YXRlZnVsIGFuZCBuZWVkIHRvIGJlIHN0YXJ0KCllZCBiZWZvcmUgbWVzc2FnZXMgY2FuXG4gKiBiZSBzZW50IGFuZCByZWNlaXZlZC4gVGhlIFBlcnNpc3RlbnRTdHJlYW0gd2lsbCBjYWxsIHRoZSBvbk9wZW4oKSBmdW5jdGlvblxuICogb2YgdGhlIGxpc3RlbmVyIG9uY2UgdGhlIHN0cmVhbSBpcyByZWFkeSB0byBhY2NlcHQgcmVxdWVzdHMuXG4gKlxuICogU2hvdWxkIGEgc3RhcnQoKSBmYWlsLCBQZXJzaXN0ZW50U3RyZWFtIHdpbGwgY2FsbCB0aGUgcmVnaXN0ZXJlZCBvbkNsb3NlKClcbiAqIGxpc3RlbmVyIHdpdGggYSBGaXJlc3RvcmVFcnJvciBpbmRpY2F0aW5nIHdoYXQgd2VudCB3cm9uZy5cbiAqXG4gKiBBIFBlcnNpc3RlbnRTdHJlYW0gY2FuIGJlIHN0YXJ0ZWQgYW5kIHN0b3BwZWQgcmVwZWF0ZWRseS5cbiAqXG4gKiBHZW5lcmljIHR5cGVzOlxuICogIFNlbmRUeXBlOiBUaGUgdHlwZSBvZiB0aGUgb3V0Z29pbmcgbWVzc2FnZSBvZiB0aGUgdW5kZXJseWluZ1xuICogICAgY29ubmVjdGlvbiBzdHJlYW1cbiAqICBSZWNlaXZlVHlwZTogVGhlIHR5cGUgb2YgdGhlIGluY29taW5nIG1lc3NhZ2Ugb2YgdGhlIHVuZGVybHlpbmdcbiAqICAgIGNvbm5lY3Rpb24gc3RyZWFtXG4gKiAgTGlzdGVuZXJUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIGNhbGxiYWNrc1xuICovXG5jbGFzcyBZciB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcywgaSwgcikge1xuICAgICAgICB0aGlzLk9lID0gdCwgdGhpcy5lciA9IG4sIHRoaXMubnIgPSBzLCB0aGlzLmNyZWRlbnRpYWxzUHJvdmlkZXIgPSBpLCB0aGlzLmxpc3RlbmVyID0gciwgXG4gICAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIEluaXRpYWwgKi8gLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2xvc2UgY291bnQgdGhhdCdzIGluY3JlbWVudGVkIGV2ZXJ5IHRpbWUgdGhlIHN0cmVhbSBpcyBjbG9zZWQ7IHVzZWQgYnlcbiAgICAgICAgICogZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlcigpIHRvIGludmFsaWRhdGUgY2FsbGJhY2tzIHRoYXQgaGFwcGVuIGFmdGVyXG4gICAgICAgICAqIGNsb3NlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zciA9IDAsIHRoaXMuaXIgPSBudWxsLCB0aGlzLnN0cmVhbSA9IG51bGwsIHRoaXMucnIgPSBuZXcgSnIodCwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBzdGFydCgpIGhhcyBiZWVuIGNhbGxlZCBhbmQgbm8gZXJyb3IgaGFzIG9jY3VycmVkLiBUcnVlXG4gICAgICogaW5kaWNhdGVzIHRoZSBzdHJlYW0gaXMgb3BlbiBvciBpbiB0aGUgcHJvY2VzcyBvZiBvcGVuaW5nICh3aGljaFxuICAgICAqIGVuY29tcGFzc2VzIHJlc3BlY3RpbmcgYmFja29mZiwgZ2V0dGluZyBhdXRoIHRva2VucywgYW5kIHN0YXJ0aW5nIHRoZVxuICAgICAqIGFjdHVhbCBSUEMpLiBVc2UgaXNPcGVuKCkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBzdHJlYW0gaXMgb3BlbiBhbmQgcmVhZHkgZm9yXG4gICAgICogb3V0Ym91bmQgcmVxdWVzdHMuXG4gICAgICovICAgIGFyKCkge1xuICAgICAgICByZXR1cm4gMSAvKiBTdGFydGluZyAqLyA9PT0gdGhpcy5zdGF0ZSB8fCAyIC8qIE9wZW4gKi8gPT09IHRoaXMuc3RhdGUgfHwgNCAvKiBCYWNrb2ZmICovID09PSB0aGlzLnN0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgUlBDIGlzIG9wZW4gKHRoZSBvbk9wZW4oKSBsaXN0ZW5lciBoYXMgYmVlblxuICAgICAqIGNhbGxlZCkgYW5kIHRoZSBzdHJlYW0gaXMgcmVhZHkgZm9yIG91dGJvdW5kIHJlcXVlc3RzLlxuICAgICAqLyAgICBjcigpIHtcbiAgICAgICAgcmV0dXJuIDIgLyogT3BlbiAqLyA9PT0gdGhpcy5zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBSUEMuIE9ubHkgYWxsb3dlZCBpZiBpc1N0YXJ0ZWQoKSByZXR1cm5zIGZhbHNlLiBUaGUgc3RyZWFtIGlzXG4gICAgICogbm90IGltbWVkaWF0ZWx5IHJlYWR5IGZvciB1c2U6IG9uT3BlbigpIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBSUEMgaXNcbiAgICAgKiByZWFkeSBmb3Igb3V0Ym91bmQgcmVxdWVzdHMsIGF0IHdoaWNoIHBvaW50IGlzT3BlbigpIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICpcbiAgICAgKiBXaGVuIHN0YXJ0IHJldHVybnMsIGlzU3RhcnRlZCgpIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovICAgIHN0YXJ0KCkge1xuICAgICAgICAzIC8qIEVycm9yICovICE9PSB0aGlzLnN0YXRlID8gdGhpcy5hdXRoKCkgOiB0aGlzLnVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBSUEMuIFRoaXMgY2FsbCBpcyBpZGVtcG90ZW50IGFuZCBhbGxvd2VkIHJlZ2FyZGxlc3Mgb2YgdGhlXG4gICAgICogY3VycmVudCBpc1N0YXJ0ZWQoKSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIFdoZW4gc3RvcCByZXR1cm5zLCBpc1N0YXJ0ZWQoKSBhbmQgaXNPcGVuKCkgd2lsbCBib3RoIHJldHVybiBmYWxzZS5cbiAgICAgKi8gICAgYXN5bmMgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5hcigpICYmIGF3YWl0IHRoaXMuY2xvc2UoMCAvKiBJbml0aWFsICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgYW4gZXJyb3IgdGhlIHN0cmVhbSB3aWxsIHVzdWFsbHkgYmFjayBvZmYgb24gdGhlIG5leHQgYXR0ZW1wdCB0b1xuICAgICAqIHN0YXJ0IGl0LiBJZiB0aGUgZXJyb3Igd2FycmFudHMgYW4gaW1tZWRpYXRlIHJlc3RhcnQgb2YgdGhlIHN0cmVhbSwgdGhlXG4gICAgICogc2VuZGVyIGNhbiB1c2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZWNlaXZlciBzaG91bGQgbm90IGJhY2sgb2ZmLlxuICAgICAqXG4gICAgICogRWFjaCBlcnJvciB3aWxsIGNhbGwgdGhlIG9uQ2xvc2UoKSBsaXN0ZW5lci4gVGhhdCBmdW5jdGlvbiBjYW4gZGVjaWRlIHRvXG4gICAgICogaW5oaWJpdCBiYWNrb2ZmIGlmIHJlcXVpcmVkLlxuICAgICAqLyAgICBocigpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogSW5pdGlhbCAqLyAsIHRoaXMucnIucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgdGhpcyBzdHJlYW0gYXMgaWRsZS4gSWYgbm8gZnVydGhlciBhY3Rpb25zIGFyZSBwZXJmb3JtZWQgb24gdGhlXG4gICAgICogc3RyZWFtIGZvciBvbmUgbWludXRlLCB0aGUgc3RyZWFtIHdpbGwgYXV0b21hdGljYWxseSBjbG9zZSBpdHNlbGYgYW5kXG4gICAgICogbm90aWZ5IHRoZSBzdHJlYW0ncyBvbkNsb3NlKCkgaGFuZGxlciB3aXRoIFN0YXR1cy5PSy4gVGhlIHN0cmVhbSB3aWxsIHRoZW5cbiAgICAgKiBiZSBpbiBhICFpc1N0YXJ0ZWQoKSBzdGF0ZSwgcmVxdWlyaW5nIHRoZSBjYWxsZXIgdG8gc3RhcnQgdGhlIHN0cmVhbSBhZ2FpblxuICAgICAqIGJlZm9yZSBmdXJ0aGVyIHVzZS5cbiAgICAgKlxuICAgICAqIE9ubHkgc3RyZWFtcyB0aGF0IGFyZSBpbiBzdGF0ZSAnT3BlbicgY2FuIGJlIG1hcmtlZCBpZGxlLCBhcyBhbGwgb3RoZXJcbiAgICAgKiBzdGF0ZXMgaW1wbHkgcGVuZGluZyBuZXR3b3JrIG9wZXJhdGlvbnMuXG4gICAgICovICAgIGxyKCkge1xuICAgICAgICAvLyBTdGFydHMgdGhlIGlkbGUgdGltZSBpZiB3ZSBhcmUgaW4gc3RhdGUgJ09wZW4nIGFuZCBhcmUgbm90IHlldCBhbHJlYWR5XG4gICAgICAgIC8vIHJ1bm5pbmcgYSB0aW1lciAoaW4gd2hpY2ggY2FzZSB0aGUgcHJldmlvdXMgaWRsZSB0aW1lb3V0IHN0aWxsIGFwcGxpZXMpLlxuICAgICAgICB0aGlzLmNyKCkgJiYgbnVsbCA9PT0gdGhpcy5pciAmJiAodGhpcy5pciA9IHRoaXMuT2UuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy5lciwgNmU0LCAoKCkgPT4gdGhpcy5kcigpKSkpO1xuICAgIH1cbiAgICAvKiogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSB1bmRlcmx5aW5nIHN0cmVhbS4gKi8gICAgd3IodCkge1xuICAgICAgICB0aGlzLl9yKCksIHRoaXMuc3RyZWFtLnNlbmQodCk7XG4gICAgfVxuICAgIC8qKiBDYWxsZWQgYnkgdGhlIGlkbGUgdGltZXIgd2hlbiB0aGUgc3RyZWFtIHNob3VsZCBjbG9zZSBkdWUgdG8gaW5hY3Rpdml0eS4gKi8gICAgYXN5bmMgZHIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNyKCkpIFxuICAgICAgICAvLyBXaGVuIHRpbWluZyBvdXQgYW4gaWRsZSBzdHJlYW0gdGhlcmUncyBubyByZWFzb24gdG8gZm9yY2UgdGhlIHN0cmVhbSBpbnRvIGJhY2tvZmYgd2hlblxuICAgICAgICAvLyBpdCByZXN0YXJ0cyBzbyBzZXQgdGhlIHN0cmVhbSBzdGF0ZSB0byBJbml0aWFsIGluc3RlYWQgb2YgRXJyb3IuXG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlKDAgLyogSW5pdGlhbCAqLyk7XG4gICAgfVxuICAgIC8qKiBNYXJrcyB0aGUgc3RyZWFtIGFzIGFjdGl2ZSBhZ2Fpbi4gKi8gICAgX3IoKSB7XG4gICAgICAgIHRoaXMuaXIgJiYgKHRoaXMuaXIuY2FuY2VsKCksIHRoaXMuaXIgPSBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBzdHJlYW0gYW5kIGNsZWFucyB1cCBhcyBuZWNlc3Nhcnk6XG4gICAgICpcbiAgICAgKiAqIGNsb3NlcyB0aGUgdW5kZXJseWluZyBHUlBDIHN0cmVhbTtcbiAgICAgKiAqIGNhbGxzIHRoZSBvbkNsb3NlIGhhbmRsZXIgd2l0aCB0aGUgZ2l2ZW4gJ2Vycm9yJztcbiAgICAgKiAqIHNldHMgaW50ZXJuYWwgc3RyZWFtIHN0YXRlIHRvICdmaW5hbFN0YXRlJztcbiAgICAgKiAqIGFkanVzdHMgdGhlIGJhY2tvZmYgdGltZXIgYmFzZWQgb24gdGhlIGVycm9yXG4gICAgICpcbiAgICAgKiBBIG5ldyBzdHJlYW0gY2FuIGJlIG9wZW5lZCBieSBjYWxsaW5nIHN0YXJ0KCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmluYWxTdGF0ZSAtIHRoZSBpbnRlbmRlZCBzdGF0ZSBvZiB0aGUgc3RyZWFtIGFmdGVyIGNsb3NpbmcuXG4gICAgICogQHBhcmFtIGVycm9yIC0gdGhlIGVycm9yIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgd2l0aC5cbiAgICAgKi8gICAgYXN5bmMgY2xvc2UodCwgZSkge1xuICAgICAgICAvLyBDYW5jZWwgYW55IG91dHN0YW5kaW5nIHRpbWVycyAodGhleSdyZSBndWFyYW50ZWVkIG5vdCB0byBleGVjdXRlKS5cbiAgICAgICAgdGhpcy5fcigpLCB0aGlzLnJyLmNhbmNlbCgpLCBcbiAgICAgICAgLy8gSW52YWxpZGF0ZXMgYW55IHN0cmVhbS1yZWxhdGVkIGNhbGxiYWNrcyAoZS5nLiBmcm9tIGF1dGggb3IgdGhlXG4gICAgICAgIC8vIHVuZGVybHlpbmcgc3RyZWFtKSwgZ3VhcmFudGVlaW5nIHRoZXkgd29uJ3QgZXhlY3V0ZS5cbiAgICAgICAgdGhpcy5zcisrLCAzIC8qIEVycm9yICovICE9PSB0ID8gXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYW4gaW50ZW50aW9uYWwgY2xvc2UgZW5zdXJlIHdlIGRvbid0IGRlbGF5IG91ciBuZXh0IGNvbm5lY3Rpb24gYXR0ZW1wdC5cbiAgICAgICAgdGhpcy5yci5yZXNldCgpIDogZSAmJiBlLmNvZGUgPT09IFUuUkVTT1VSQ0VfRVhIQVVTVEVEID8gKFxuICAgICAgICAvLyBMb2cgdGhlIGVycm9yLiAoUHJvYmFibHkgZWl0aGVyICdxdW90YSBleGNlZWRlZCcgb3IgJ21heCBxdWV1ZSBsZW5ndGggcmVhY2hlZCcuKVxuICAgICAgICBrKGUudG9TdHJpbmcoKSksIGsoXCJVc2luZyBtYXhpbXVtIGJhY2tvZmYgZGVsYXkgdG8gcHJldmVudCBvdmVybG9hZGluZyB0aGUgYmFja2VuZC5cIiksIFxuICAgICAgICB0aGlzLnJyLllpKCkpIDogZSAmJiBlLmNvZGUgPT09IFUuVU5BVVRIRU5USUNBVEVEICYmIFxuICAgICAgICAvLyBcInVuYXV0aGVudGljYXRlZFwiIGVycm9yIG1lYW5zIHRoZSB0b2tlbiB3YXMgcmVqZWN0ZWQuIFRyeSBmb3JjZSByZWZyZXNoaW5nIGl0IGluIGNhc2UgaXRcbiAgICAgICAgLy8ganVzdCBleHBpcmVkLlxuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzUHJvdmlkZXIuaW52YWxpZGF0ZVRva2VuKCksIFxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgdW5kZXJseWluZyBzdHJlYW0gYmVjYXVzZSB3ZSBhcmUgbm8gbG9uZ2VyIGludGVyZXN0ZWQgaW4gZXZlbnRzLlxuICAgICAgICBudWxsICE9PSB0aGlzLnN0cmVhbSAmJiAodGhpcy5tcigpLCB0aGlzLnN0cmVhbS5jbG9zZSgpLCB0aGlzLnN0cmVhbSA9IG51bGwpLCBcbiAgICAgICAgLy8gVGhpcyBzdGF0ZSBtdXN0IGJlIGFzc2lnbmVkIGJlZm9yZSBjYWxsaW5nIG9uQ2xvc2UoKSB0byBhbGxvdyB0aGUgY2FsbGJhY2sgdG9cbiAgICAgICAgLy8gaW5oaWJpdCBiYWNrb2ZmIG9yIG90aGVyd2lzZSBtYW5pcHVsYXRlIHRoZSBzdGF0ZSBpbiBpdHMgbm9uLXN0YXJ0ZWQgc3RhdGUuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0LCBcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBsaXN0ZW5lciB0aGF0IHRoZSBzdHJlYW0gY2xvc2VkLlxuICAgICAgICBhd2FpdCB0aGlzLmxpc3RlbmVyLkNpKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiB0byBwZXJmb3JtIGFkZGl0aW9uYWwgY2xlYW51cCBiZWZvcmUgdGhlIHN0cmVhbSBpcyBjbG9zZWQuXG4gICAgICogQ2FsbGluZyBzdXBlci50ZWFyRG93bigpIGlzIG5vdCByZXF1aXJlZC5cbiAgICAgKi8gICAgbXIoKSB7fVxuICAgIGF1dGgoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFN0YXJ0aW5nICovO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5ncih0aGlzLnNyKSwgZSA9IHRoaXMuc3I7XG4gICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogSnVzdCB1c2UgZGlzcGF0Y2hJZk5vdENsb3NlZCwgYnV0IHNlZSBUT0RPIGJlbG93LlxuICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbHNQcm92aWRlci5nZXRUb2tlbigpLnRoZW4oKHQgPT4ge1xuICAgICAgICAgICAgLy8gU3RyZWFtIGNhbiBiZSBzdG9wcGVkIHdoaWxlIHdhaXRpbmcgZm9yIGF1dGhlbnRpY2F0aW9uLlxuICAgICAgICAgICAgLy8gVE9ETyhtaWtlbGVoZW4pOiBXZSByZWFsbHkgc2hvdWxkIGp1c3QgdXNlIGRpc3BhdGNoSWZOb3RDbG9zZWRcbiAgICAgICAgICAgIC8vIGFuZCBsZXQgdGhpcyBkaXNwYXRjaCBvbnRvIHRoZSBxdWV1ZSwgYnV0IHRoYXQgb3BlbmVkIGEgc3BlYyB0ZXN0IGNhblxuICAgICAgICAgICAgLy8gb2Ygd29ybXMgdGhhdCBJIGRvbid0IHdhbnQgdG8gZGVhbCB3aXRoIGluIHRoaXMgUFIuXG4gICAgICAgICAgICB0aGlzLnNyID09PSBlICYmIFxuICAgICAgICAgICAgLy8gTm9ybWFsbHkgd2UnZCBoYXZlIHRvIHNjaGVkdWxlIHRoZSBjYWxsYmFjayBvbiB0aGUgQXN5bmNRdWV1ZS5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoZSBmb2xsb3dpbmcgY2FsbHMgYXJlIHNhZmUgdG8gYmUgY2FsbGVkIG91dHNpZGUgdGhlXG4gICAgICAgICAgICAvLyBBc3luY1F1ZXVlIHNpbmNlIHRoZXkgZG9uJ3QgY2hhaW4gYXN5bmNocm9ub3VzIGNhbGxzXG4gICAgICAgICAgICB0aGlzLnlyKHQpO1xuICAgICAgICB9KSwgKGUgPT4ge1xuICAgICAgICAgICAgdCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgcShVLlVOS05PV04sIFwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcih0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB5cih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmdyKHRoaXMuc3IpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHRoaXMuRXIodCksIHRoaXMuc3RyZWFtLlNpKCgoKSA9PiB7XG4gICAgICAgICAgICBlKCgoKSA9PiAodGhpcy5zdGF0ZSA9IDIgLyogT3BlbiAqLyAsIHRoaXMubGlzdGVuZXIuU2koKSkpKTtcbiAgICAgICAgfSkpLCB0aGlzLnN0cmVhbS5DaSgodCA9PiB7XG4gICAgICAgICAgICBlKCgoKSA9PiB0aGlzLnByKHQpKSk7XG4gICAgICAgIH0pKSwgdGhpcy5zdHJlYW0ub25NZXNzYWdlKCh0ID0+IHtcbiAgICAgICAgICAgIGUoKCgpID0+IHRoaXMub25NZXNzYWdlKHQpKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdXIoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSA0IC8qIEJhY2tvZmYgKi8gLCB0aGlzLnJyLlhpKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMCAvKiBJbml0aWFsICovICwgdGhpcy5zdGFydCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RzXG4gICAgcHIodCkge1xuICAgICAgICAvLyBJbiB0aGVvcnkgdGhlIHN0cmVhbSBjb3VsZCBjbG9zZSBjbGVhbmx5LCBob3dldmVyLCBpbiBvdXIgY3VycmVudCBtb2RlbFxuICAgICAgICAvLyB3ZSBuZXZlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVjYXVzZSBpZiB3ZSBzdG9wIGEgc3RyZWFtIG91cnNlbHZlcyxcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIG5ldmVyIGJlIGNhbGxlZC4gVG8gcHJldmVudCBjYXNlcyB3aGVyZSB3ZSByZXRyeVxuICAgICAgICAvLyB3aXRob3V0IGEgYmFja29mZiBhY2NpZGVudGFsbHksIHdlIHNldCB0aGUgc3RyZWFtIHRvIGVycm9yIGluIGFsbCBjYXNlcy5cbiAgICAgICAgcmV0dXJuIHgoXCJQZXJzaXN0ZW50U3RyZWFtXCIsIGBjbG9zZSB3aXRoIGVycm9yOiAke3R9YCksIHRoaXMuc3RyZWFtID0gbnVsbCwgdGhpcy5jbG9zZSgzIC8qIEVycm9yICovICwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBcImRpc3BhdGNoZXJcIiBmdW5jdGlvbiB0aGF0IGRpc3BhdGNoZXMgb3BlcmF0aW9ucyBvbnRvIHRoZVxuICAgICAqIEFzeW5jUXVldWUgYnV0IG9ubHkgcnVucyB0aGVtIGlmIGNsb3NlQ291bnQgcmVtYWlucyB1bmNoYW5nZWQuIFRoaXMgYWxsb3dzXG4gICAgICogdXMgdG8gdHVybiBhdXRoIC8gc3RyZWFtIGNhbGxiYWNrcyBpbnRvIG5vLW9wcyBpZiB0aGUgc3RyZWFtIGlzIGNsb3NlZCAvXG4gICAgICogcmUtb3BlbmVkLCBldGMuXG4gICAgICovICAgIGdyKHQpIHtcbiAgICAgICAgcmV0dXJuIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5PZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiB0aGlzLnNyID09PSB0ID8gZSgpIDogKHgoXCJQZXJzaXN0ZW50U3RyZWFtXCIsIFwic3RyZWFtIGNhbGxiYWNrIHNraXBwZWQgYnkgZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlci5cIiksIFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIEEgUGVyc2lzdGVudFN0cmVhbSB0aGF0IGltcGxlbWVudHMgdGhlIExpc3RlbiBSUEMuXG4gKlxuICogT25jZSB0aGUgTGlzdGVuIHN0cmVhbSBoYXMgY2FsbGVkIHRoZSBvbk9wZW4oKSBsaXN0ZW5lciwgYW55IG51bWJlciBvZlxuICogbGlzdGVuKCkgYW5kIHVubGlzdGVuKCkgY2FsbHMgY2FuIGJlIG1hZGUgdG8gY29udHJvbCB3aGF0IGNoYW5nZXMgd2lsbCBiZVxuICogc2VudCBmcm9tIHRoZSBzZXJ2ZXIgZm9yIExpc3RlblJlc3BvbnNlcy5cbiAqLyBjbGFzcyBYciBleHRlbmRzIFlyIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzLCBpKSB7XG4gICAgICAgIHN1cGVyKHQsIFwibGlzdGVuX3N0cmVhbV9jb25uZWN0aW9uX2JhY2tvZmZcIiAvKiBMaXN0ZW5TdHJlYW1Db25uZWN0aW9uQmFja29mZiAqLyAsIFwibGlzdGVuX3N0cmVhbV9pZGxlXCIgLyogTGlzdGVuU3RyZWFtSWRsZSAqLyAsIGUsIG4sIGkpLCBcbiAgICAgICAgdGhpcy5OID0gcztcbiAgICB9XG4gICAgRXIodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uci5qaShcIkxpc3RlblwiLCB0KTtcbiAgICB9XG4gICAgb25NZXNzYWdlKHQpIHtcbiAgICAgICAgLy8gQSBzdWNjZXNzZnVsIHJlc3BvbnNlIG1lYW5zIHRoZSBzdHJlYW0gaXMgaGVhbHRoeVxuICAgICAgICB0aGlzLnJyLnJlc2V0KCk7XG4gICAgICAgIGNvbnN0IGUgPSB0cyh0aGlzLk4sIHQpLCBuID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBvbmx5IHJlYWNoZWQgYSBjb25zaXN0ZW50IHNuYXBzaG90IGZvciB0aGUgZW50aXJlIHN0cmVhbSBpZiB0aGVyZVxuICAgICAgICAgICAgLy8gaXMgYSByZWFkX3RpbWUgc2V0IGFuZCBpdCBhcHBsaWVzIHRvIGFsbCB0YXJnZXRzIChpLmUuIHRoZSBsaXN0IG9mXG4gICAgICAgICAgICAvLyB0YXJnZXRzIGlzIGVtcHR5KS4gVGhlIGJhY2tlbmQgaXMgZ3VhcmFudGVlZCB0byBzZW5kIHN1Y2ggcmVzcG9uc2VzLlxuICAgICAgICAgICAgaWYgKCEoXCJ0YXJnZXRDaGFuZ2VcIiBpbiB0KSkgcmV0dXJuIHN0Lm1pbigpO1xuICAgICAgICAgICAgY29uc3QgZSA9IHQudGFyZ2V0Q2hhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIGUudGFyZ2V0SWRzICYmIGUudGFyZ2V0SWRzLmxlbmd0aCA/IHN0Lm1pbigpIDogZS5yZWFkVGltZSA/IHFuKGUucmVhZFRpbWUpIDogc3QubWluKCk7XG4gICAgICAgIH0odCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLlRyKGUsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIGdpdmVuIHRhcmdldC4gSWYgdGhlIHRhcmdldFxuICAgICAqIGluY2x1ZGVzIGEgcmVzdW1lVG9rZW4gaXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVxdWVzdC4gUmVzdWx0cyB0aGF0XG4gICAgICogYWZmZWN0IHRoZSB0YXJnZXQgd2lsbCBiZSBzdHJlYW1lZCBiYWNrIGFzIFdhdGNoQ2hhbmdlIG1lc3NhZ2VzIHRoYXRcbiAgICAgKiByZWZlcmVuY2UgdGhlIHRhcmdldElkLlxuICAgICAqLyAgICBJcih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB7fTtcbiAgICAgICAgZS5kYXRhYmFzZSA9IEhuKHRoaXMuTiksIGUuYWRkVGFyZ2V0ID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgbGV0IG47XG4gICAgICAgICAgICBjb25zdCBzID0gZS50YXJnZXQ7XG4gICAgICAgICAgICByZXR1cm4gbiA9IEd0KHMpID8ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50czogaXModCwgcylcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHJzKHQsIHMpXG4gICAgICAgICAgICB9LCBuLnRhcmdldElkID0gZS50YXJnZXRJZCwgZS5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwID8gbi5yZXN1bWVUb2tlbiA9IEJuKHQsIGUucmVzdW1lVG9rZW4pIDogZS5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHN0Lm1pbigpKSA+IDAgJiYgKFxuICAgICAgICAgICAgLy8gVE9ETyh3dWFuZHkpOiBDb25zaWRlciByZW1vdmluZyBhYm92ZSBjaGVjayBiZWNhdXNlIGl0IGlzIG1vc3QgbGlrZWx5IHRydWUuXG4gICAgICAgICAgICAvLyBSaWdodCBub3csIG1hbnkgdGVzdHMgZGVwZW5kIG9uIHRoaXMgYmVoYXZpb3VyIHRob3VnaCAobGVhdmluZyBtaW4oKSBvdXRcbiAgICAgICAgICAgIC8vIG9mIHNlcmlhbGl6YXRpb24pLlxuICAgICAgICAgICAgbi5yZWFkVGltZSA9IExuKHQsIGUuc25hcHNob3RWZXJzaW9uLnRvVGltZXN0YW1wKCkpKSwgbjtcbiAgICAgICAgfSh0aGlzLk4sIHQpO1xuICAgICAgICBjb25zdCBuID0gYXModGhpcy5OLCB0KTtcbiAgICAgICAgbiAmJiAoZS5sYWJlbHMgPSBuKSwgdGhpcy53cihlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIHRhcmdldCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogZ2l2ZW4gdGFyZ2V0SWQuXG4gICAgICovICAgIEFyKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHt9O1xuICAgICAgICBlLmRhdGFiYXNlID0gSG4odGhpcy5OKSwgZS5yZW1vdmVUYXJnZXQgPSB0LCB0aGlzLndyKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIFN0cmVhbSB0aGF0IGltcGxlbWVudHMgdGhlIFdyaXRlIFJQQy5cbiAqXG4gKiBUaGUgV3JpdGUgUlBDIHJlcXVpcmVzIHRoZSBjYWxsZXIgdG8gbWFpbnRhaW4gc3BlY2lhbCBzdHJlYW1Ub2tlblxuICogc3RhdGUgaW4gYmV0d2VlbiBjYWxscywgdG8gaGVscCB0aGUgc2VydmVyIHVuZGVyc3RhbmQgd2hpY2ggcmVzcG9uc2VzIHRoZVxuICogY2xpZW50IGhhcyBwcm9jZXNzZWQgYnkgdGhlIHRpbWUgdGhlIG5leHQgcmVxdWVzdCBpcyBtYWRlLiBFdmVyeSByZXNwb25zZVxuICogd2lsbCBjb250YWluIGEgc3RyZWFtVG9rZW47IHRoaXMgdmFsdWUgbXVzdCBiZSBwYXNzZWQgdG8gdGhlIG5leHRcbiAqIHJlcXVlc3QuXG4gKlxuICogQWZ0ZXIgY2FsbGluZyBzdGFydCgpIG9uIHRoaXMgc3RyZWFtLCB0aGUgbmV4dCByZXF1ZXN0IG11c3QgYmUgYSBoYW5kc2hha2UsXG4gKiBjb250YWluaW5nIHdoYXRldmVyIHN0cmVhbVRva2VuIGlzIG9uIGhhbmQuIE9uY2UgYSByZXNwb25zZSB0byB0aGlzXG4gKiByZXF1ZXN0IGlzIHJlY2VpdmVkLCBhbGwgcGVuZGluZyBtdXRhdGlvbnMgbWF5IGJlIHN1Ym1pdHRlZC4gV2hlblxuICogc3VibWl0dGluZyBtdWx0aXBsZSBiYXRjaGVzIG9mIG11dGF0aW9ucyBhdCB0aGUgc2FtZSB0aW1lLCBpdCdzXG4gKiBva2F5IHRvIHVzZSB0aGUgc2FtZSBzdHJlYW1Ub2tlbiBmb3IgdGhlIGNhbGxzIHRvIHdyaXRlTXV0YXRpb25zLlxuICpcbiAqIFRPRE8oYi8zMzI3MTIzNSk6IFVzZSBwcm90byB0eXBlc1xuICovIGNsYXNzIFpyIGV4dGVuZHMgWXIge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgc3VwZXIodCwgXCJ3cml0ZV9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmXCIgLyogV3JpdGVTdHJlYW1Db25uZWN0aW9uQmFja29mZiAqLyAsIFwid3JpdGVfc3RyZWFtX2lkbGVcIiAvKiBXcml0ZVN0cmVhbUlkbGUgKi8gLCBlLCBuLCBpKSwgXG4gICAgICAgIHRoaXMuTiA9IHMsIHRoaXMuUnIgPSAhMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhY2tzIHdoZXRoZXIgb3Igbm90IGEgaGFuZHNoYWtlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBleGNoYW5nZWQgYW5kXG4gICAgICogdGhlIHN0cmVhbSBpcyByZWFkeSB0byBhY2NlcHQgbXV0YXRpb25zLlxuICAgICAqLyAgICBnZXQgYnIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlJyO1xuICAgIH1cbiAgICAvLyBPdmVycmlkZSBvZiBQZXJzaXN0ZW50U3RyZWFtLnN0YXJ0XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuUnIgPSAhMSwgdGhpcy5sYXN0U3RyZWFtVG9rZW4gPSB2b2lkIDAsIHN1cGVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIG1yKCkge1xuICAgICAgICB0aGlzLlJyICYmIHRoaXMuUHIoW10pO1xuICAgIH1cbiAgICBFcih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5yLmppKFwiV3JpdGVcIiwgdCk7XG4gICAgfVxuICAgIG9uTWVzc2FnZSh0KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gQWx3YXlzIGNhcHR1cmUgdGhlIGxhc3Qgc3RyZWFtIHRva2VuLlxuICAgICAgICBNKCEhdC5zdHJlYW1Ub2tlbiksIHRoaXMubGFzdFN0cmVhbVRva2VuID0gdC5zdHJlYW1Ub2tlbiwgdGhpcy5Scikge1xuICAgICAgICAgICAgLy8gQSBzdWNjZXNzZnVsIGZpcnN0IHdyaXRlIHJlc3BvbnNlIG1lYW5zIHRoZSBzdHJlYW0gaXMgaGVhbHRoeSxcbiAgICAgICAgICAgIC8vIE5vdGUsIHRoYXQgd2UgY291bGQgY29uc2lkZXIgYSBzdWNjZXNzZnVsIGhhbmRzaGFrZSBoZWFsdGh5LCBob3dldmVyLFxuICAgICAgICAgICAgLy8gdGhlIHdyaXRlIGl0c2VsZiBtaWdodCBiZSBjYXVzaW5nIGFuIGVycm9yIHdlIHdhbnQgdG8gYmFjayBvZmYgZnJvbS5cbiAgICAgICAgICAgIHRoaXMucnIucmVzZXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBzcyh0LndyaXRlUmVzdWx0cywgdC5jb21taXRUaW1lKSwgbiA9IHFuKHQuY29tbWl0VGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci52cihuLCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZmlyc3QgcmVzcG9uc2UgaXMgYWx3YXlzIHRoZSBoYW5kc2hha2UgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIE0oIXQud3JpdGVSZXN1bHRzIHx8IDAgPT09IHQud3JpdGVSZXN1bHRzLmxlbmd0aCksIHRoaXMuUnIgPSAhMCwgdGhpcy5saXN0ZW5lci5WcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBpbml0aWFsIHN0cmVhbVRva2VuIHRvIHRoZSBzZXJ2ZXIsIHBlcmZvcm1pbmcgdGhlIGhhbmRzaGFrZVxuICAgICAqIHJlcXVpcmVkIHRvIG1ha2UgdGhlIFN0cmVhbWluZ1dyaXRlIFJQQyB3b3JrLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgc2hvdWxkIHdhaXQgdW50aWwgb25IYW5kc2hha2VDb21wbGV0ZSB3YXMgY2FsbGVkLlxuICAgICAqLyAgICBTcigpIHtcbiAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBTdXBwb3J0IHN0cmVhbSByZXN1bXB0aW9uLiBXZSBpbnRlbnRpb25hbGx5IGRvIG5vdCBzZXQgdGhlXG4gICAgICAgIC8vIHN0cmVhbSB0b2tlbiBvbiB0aGUgaGFuZHNoYWtlLCBpZ25vcmluZyBhbnkgc3RyZWFtIHRva2VuIHdlIG1pZ2h0IGhhdmUuXG4gICAgICAgIGNvbnN0IHQgPSB7fTtcbiAgICAgICAgdC5kYXRhYmFzZSA9IEhuKHRoaXMuTiksIHRoaXMud3IodCk7XG4gICAgfVxuICAgIC8qKiBTZW5kcyBhIGdyb3VwIG9mIG11dGF0aW9ucyB0byB0aGUgRmlyZXN0b3JlIGJhY2tlbmQgdG8gYXBwbHkuICovICAgIFByKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIHN0cmVhbVRva2VuOiB0aGlzLmxhc3RTdHJlYW1Ub2tlbixcbiAgICAgICAgICAgIHdyaXRlczogdC5tYXAoKHQgPT4gZXModGhpcy5OLCB0KSkpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3IoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEYXRhc3RvcmUgYW5kIGl0cyByZWxhdGVkIG1ldGhvZHMgYXJlIGEgd3JhcHBlciBhcm91bmQgdGhlIGV4dGVybmFsIEdvb2dsZVxuICogQ2xvdWQgRGF0YXN0b3JlIGdycGMgQVBJLCB3aGljaCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdGhhdCBpcyBtb3JlIGNvbnZlbmllbnRcbiAqIGZvciB0aGUgcmVzdCBvZiB0aGUgY2xpZW50IFNESyBhcmNoaXRlY3R1cmUgdG8gY29uc3VtZS5cbiAqL1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBEYXRhc3RvcmUgdGhhdCBleHBvc2VzIGFkZGl0aW9uYWwgc3RhdGUgZm9yIGludGVybmFsXG4gKiBjb25zdW1wdGlvbi5cbiAqL1xuY2xhc3MgdG8gZXh0ZW5kcyBjbGFzcyB7fSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmNyZWRlbnRpYWxzID0gdCwgdGhpcy5uciA9IGUsIHRoaXMuTiA9IG4sIHRoaXMuRHIgPSAhMTtcbiAgICB9XG4gICAgQ3IoKSB7XG4gICAgICAgIGlmICh0aGlzLkRyKSB0aHJvdyBuZXcgcShVLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuXCIpO1xuICAgIH1cbiAgICAvKiogR2V0cyBhbiBhdXRoIHRva2VuIGFuZCBpbnZva2VzIHRoZSBwcm92aWRlZCBSUEMuICovICAgIExpKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ3IoKSwgdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oKHMgPT4gdGhpcy5uci5MaSh0LCBlLCBuLCBzKSkpLmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgIHRocm93IFwiRmlyZWJhc2VFcnJvclwiID09PSB0Lm5hbWUgPyAodC5jb2RlID09PSBVLlVOQVVUSEVOVElDQVRFRCAmJiB0aGlzLmNyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLCBcbiAgICAgICAgICAgIHQpIDogbmV3IHEoVS5VTktOT1dOLCB0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKiBHZXRzIGFuIGF1dGggdG9rZW4gYW5kIGludm9rZXMgdGhlIHByb3ZpZGVkIFJQQyB3aXRoIHN0cmVhbWVkIHJlc3VsdHMuICovICAgIEtpKHQsIGUsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ3IoKSwgdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oKHMgPT4gdGhpcy5uci5LaSh0LCBlLCBuLCBzKSkpLmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgIHRocm93IFwiRmlyZWJhc2VFcnJvclwiID09PSB0Lm5hbWUgPyAodC5jb2RlID09PSBVLlVOQVVUSEVOVElDQVRFRCAmJiB0aGlzLmNyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLCBcbiAgICAgICAgICAgIHQpIDogbmV3IHEoVS5VTktOT1dOLCB0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdGhpcy5EciA9ICEwO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmV4cCk6IE1ha2Ugc3VyZSB0aGVyZSBpcyBvbmx5IG9uZSBEYXRhc3RvcmUgaW5zdGFuY2UgcGVyXG4vLyBmaXJlc3RvcmUtZXhwIGNsaWVudC5cbi8qKlxuICogQSBjb21wb25lbnQgdXNlZCBieSB0aGUgUmVtb3RlU3RvcmUgdG8gdHJhY2sgdGhlIE9ubGluZVN0YXRlICh0aGF0IGlzLFxuICogd2hldGhlciBvciBub3QgdGhlIGNsaWVudCBhcyBhIHdob2xlIHNob3VsZCBiZSBjb25zaWRlcmVkIHRvIGJlIG9ubGluZSBvclxuICogb2ZmbGluZSksIGltcGxlbWVudGluZyB0aGUgYXBwcm9wcmlhdGUgaGV1cmlzdGljcy5cbiAqXG4gKiBJbiBwYXJ0aWN1bGFyLCB3aGVuIHRoZSBjbGllbnQgaXMgdHJ5aW5nIHRvIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQsIHdlXG4gKiBhbGxvdyB1cCB0byBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTIHdpdGhpbiBPTkxJTkVfU1RBVEVfVElNRU9VVF9NUyBmb3JcbiAqIGEgY29ubmVjdGlvbiB0byBzdWNjZWVkLiBJZiB3ZSBoYXZlIHRvbyBtYW55IGZhaWx1cmVzIG9yIHRoZSB0aW1lb3V0IGVsYXBzZXMsXG4gKiB0aGVuIHdlIHNldCB0aGUgT25saW5lU3RhdGUgdG8gT2ZmbGluZSwgYW5kIHRoZSBjbGllbnQgd2lsbCBiZWhhdmUgYXMgaWZcbiAqIGl0IGlzIG9mZmxpbmUgKGdldCgpcyB3aWxsIHJldHVybiBjYWNoZWQgZGF0YSwgZXRjLikuXG4gKi9cbmNsYXNzIGVvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZSA9IHQsIHRoaXMub25saW5lU3RhdGVIYW5kbGVyID0gZSwgXG4gICAgICAgIC8qKiBUaGUgY3VycmVudCBPbmxpbmVTdGF0ZS4gKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiVW5rbm93blwiIC8qIFVua25vd24gKi8gLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY291bnQgb2YgY29uc2VjdXRpdmUgZmFpbHVyZXMgdG8gb3BlbiB0aGUgc3RyZWFtLiBJZiBpdCByZWFjaGVzIHRoZVxuICAgICAgICAgKiBtYXhpbXVtIGRlZmluZWQgYnkgTUFYX1dBVENIX1NUUkVBTV9GQUlMVVJFUywgd2UnbGwgc2V0IHRoZSBPbmxpbmVTdGF0ZSB0b1xuICAgICAgICAgKiBPZmZsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5OciA9IDAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0aW1lciB0aGF0IGVsYXBzZXMgYWZ0ZXIgT05MSU5FX1NUQVRFX1RJTUVPVVRfTVMsIGF0IHdoaWNoIHBvaW50IHdlXG4gICAgICAgICAqIHRyYW5zaXRpb24gZnJvbSBPbmxpbmVTdGF0ZS5Vbmtub3duIHRvIE9ubGluZVN0YXRlLk9mZmxpbmUgd2l0aG91dCB3YWl0aW5nXG4gICAgICAgICAqIGZvciB0aGUgc3RyZWFtIHRvIGFjdHVhbGx5IGZhaWwgKE1BWF9XQVRDSF9TVFJFQU1fRkFJTFVSRVMgdGltZXMpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rciA9IG51bGwsIFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgY2xpZW50IHNob3VsZCBsb2cgYSB3YXJuaW5nIG1lc3NhZ2UgaWYgaXQgZmFpbHMgdG8gY29ubmVjdCB0b1xuICAgICAgICAgKiB0aGUgYmFja2VuZCAoaW5pdGlhbGx5IHRydWUsIGNsZWFyZWQgYWZ0ZXIgYSBzdWNjZXNzZnVsIHN0cmVhbSwgb3IgaWYgd2UndmVcbiAgICAgICAgICogbG9nZ2VkIHRoZSBtZXNzYWdlIGFscmVhZHkpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kciA9ICEwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgUmVtb3RlU3RvcmUgd2hlbiBhIHdhdGNoIHN0cmVhbSBpcyBzdGFydGVkIChpbmNsdWRpbmcgb24gZWFjaFxuICAgICAqIGJhY2tvZmYgYXR0ZW1wdCkuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGlzIHRoZSBmaXJzdCBhdHRlbXB0LCBpdCBzZXRzIHRoZSBPbmxpbmVTdGF0ZSB0byBVbmtub3duIGFuZCBzdGFydHNcbiAgICAgKiB0aGUgb25saW5lU3RhdGVUaW1lci5cbiAgICAgKi8gICAgT3IoKSB7XG4gICAgICAgIDAgPT09IHRoaXMuTnIgJiYgKHRoaXMuRnIoXCJVbmtub3duXCIgLyogVW5rbm93biAqLyksIHRoaXMua3IgPSB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkoXCJvbmxpbmVfc3RhdGVfdGltZW91dFwiIC8qIE9ubGluZVN0YXRlVGltZW91dCAqLyAsIDFlNCwgKCgpID0+ICh0aGlzLmtyID0gbnVsbCwgXG4gICAgICAgIHRoaXMuTXIoXCJCYWNrZW5kIGRpZG4ndCByZXNwb25kIHdpdGhpbiAxMCBzZWNvbmRzLlwiKSwgdGhpcy5GcihcIk9mZmxpbmVcIiAvKiBPZmZsaW5lICovKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvdXIgT25saW5lU3RhdGUgYXMgYXBwcm9wcmlhdGUgYWZ0ZXIgdGhlIHdhdGNoIHN0cmVhbSByZXBvcnRzIGFcbiAgICAgKiBmYWlsdXJlLiBUaGUgZmlyc3QgZmFpbHVyZSBtb3ZlcyB1cyB0byB0aGUgJ1Vua25vd24nIHN0YXRlLiBXZSB0aGVuIG1heVxuICAgICAqIGFsbG93IG11bHRpcGxlIGZhaWx1cmVzIChiYXNlZCBvbiBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTKSBiZWZvcmUgd2VcbiAgICAgKiBhY3R1YWxseSB0cmFuc2l0aW9uIHRvIHRoZSAnT2ZmbGluZScgc3RhdGUuXG4gICAgICovICAgIExyKHQpIHtcbiAgICAgICAgXCJPbmxpbmVcIiAvKiBPbmxpbmUgKi8gPT09IHRoaXMuc3RhdGUgPyB0aGlzLkZyKFwiVW5rbm93blwiIC8qIFVua25vd24gKi8pIDogKHRoaXMuTnIrKywgXG4gICAgICAgIHRoaXMuTnIgPj0gMSAmJiAodGhpcy5CcigpLCB0aGlzLk1yKGBDb25uZWN0aW9uIGZhaWxlZCAxIHRpbWVzLiBNb3N0IHJlY2VudCBlcnJvcjogJHt0LnRvU3RyaW5nKCl9YCksIFxuICAgICAgICB0aGlzLkZyKFwiT2ZmbGluZVwiIC8qIE9mZmxpbmUgKi8pKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cGxpY2l0bHkgc2V0cyB0aGUgT25saW5lU3RhdGUgdG8gdGhlIHNwZWNpZmllZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHJlc2V0cyBvdXIgdGltZXJzIC8gZmFpbHVyZSBjb3VudGVycywgZXRjLiB1c2VkIGJ5IG91clxuICAgICAqIE9mZmxpbmUgaGV1cmlzdGljcywgc28gbXVzdCBub3QgYmUgdXNlZCBpbiBwbGFjZSBvZlxuICAgICAqIGhhbmRsZVdhdGNoU3RyZWFtU3RhcnQoKSBhbmQgaGFuZGxlV2F0Y2hTdHJlYW1GYWlsdXJlKCkuXG4gICAgICovICAgIHNldCh0KSB7XG4gICAgICAgIHRoaXMuQnIoKSwgdGhpcy5OciA9IDAsIFwiT25saW5lXCIgLyogT25saW5lICovID09PSB0ICYmIChcbiAgICAgICAgLy8gV2UndmUgY29ubmVjdGVkIHRvIHdhdGNoIGF0IGxlYXN0IG9uY2UuIERvbid0IHdhcm4gdGhlIGRldmVsb3BlclxuICAgICAgICAvLyBhYm91dCBiZWluZyBvZmZsaW5lIGdvaW5nIGZvcndhcmQuXG4gICAgICAgIHRoaXMuJHIgPSAhMSksIHRoaXMuRnIodCk7XG4gICAgfVxuICAgIEZyKHQpIHtcbiAgICAgICAgdCAhPT0gdGhpcy5zdGF0ZSAmJiAodGhpcy5zdGF0ZSA9IHQsIHRoaXMub25saW5lU3RhdGVIYW5kbGVyKHQpKTtcbiAgICB9XG4gICAgTXIodCkge1xuICAgICAgICBjb25zdCBlID0gYENvdWxkIG5vdCByZWFjaCBDbG91ZCBGaXJlc3RvcmUgYmFja2VuZC4gJHt0fVxcblRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHlvdXIgZGV2aWNlIGRvZXMgbm90IGhhdmUgYSBoZWFsdGh5IEludGVybmV0IGNvbm5lY3Rpb24gYXQgdGhlIG1vbWVudC4gVGhlIGNsaWVudCB3aWxsIG9wZXJhdGUgaW4gb2ZmbGluZSBtb2RlIHVudGlsIGl0IGlzIGFibGUgdG8gc3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQuYDtcbiAgICAgICAgdGhpcy4kciA/IChrKGUpLCB0aGlzLiRyID0gITEpIDogeChcIk9ubGluZVN0YXRlVHJhY2tlclwiLCBlKTtcbiAgICB9XG4gICAgQnIoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMua3IgJiYgKHRoaXMua3IuY2FuY2VsKCksIHRoaXMua3IgPSBudWxsKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIG5vIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgc3RvcmUsIHVzZWQgdG8gZmlsbCB0aGUgd3JpdGUgcGlwZWxpbmUgd2l0aCBvdXRib3VuZCBtdXRhdGlvbnMuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBjbGllbnQtc2lkZSBwcm94eSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgYmFja2VuZC4gKi9cbiAgICBlLCBuLCBzLCBpKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSA9IHQsIHRoaXMuZGF0YXN0b3JlID0gZSwgdGhpcy5hc3luY1F1ZXVlID0gbiwgdGhpcy5yZW1vdGVTeW5jZXIgPSB7fSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdXAgdG8gTUFYX1BFTkRJTkdfV1JJVEVTIHdyaXRlcyB0aGF0IHdlIGhhdmUgZmV0Y2hlZCBmcm9tIHRoZVxuICAgICAgICAgKiBMb2NhbFN0b3JlIHZpYSBmaWxsV3JpdGVQaXBlbGluZSgpIGFuZCBoYXZlIG9yIHdpbGwgc2VuZCB0byB0aGUgd3JpdGVcbiAgICAgICAgICogc3RyZWFtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuZXZlciB3cml0ZVBpcGVsaW5lLmxlbmd0aCA+IDAgdGhlIFJlbW90ZVN0b3JlIHdpbGwgYXR0ZW1wdCB0byBzdGFydCBvclxuICAgICAgICAgKiByZXN0YXJ0IHRoZSB3cml0ZSBzdHJlYW0uIFdoZW4gdGhlIHN0cmVhbSBpcyBlc3RhYmxpc2hlZCB0aGUgd3JpdGVzIGluIHRoZVxuICAgICAgICAgKiBwaXBlbGluZSB3aWxsIGJlIHNlbnQgaW4gb3JkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdyaXRlcyByZW1haW4gaW4gd3JpdGVQaXBlbGluZSB1bnRpbCB0aGV5IGFyZSBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmRcbiAgICAgICAgICogYW5kIHRodXMgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIHJlLXNlbnQgaWYgdGhlIHN0cmVhbSBpcyBpbnRlcnJ1cHRlZCAvXG4gICAgICAgICAqIHJlc3RhcnRlZCBiZWZvcmUgdGhleSdyZSBhY2tub3dsZWRnZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdyaXRlIHJlc3BvbnNlcyBmcm9tIHRoZSBiYWNrZW5kIGFyZSBsaW5rZWQgdG8gdGhlaXIgb3JpZ2luYXRpbmcgcmVxdWVzdFxuICAgICAgICAgKiBwdXJlbHkgYmFzZWQgb24gb3JkZXIsIGFuZCBzbyB3ZSBjYW4ganVzdCBzaGlmdCgpIHdyaXRlcyBmcm9tIHRoZSBmcm9udCBvZlxuICAgICAgICAgKiB0aGUgd3JpdGVQaXBlbGluZSBhcyB3ZSByZWNlaXZlIHJlc3BvbnNlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuVXIgPSBbXSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcHBpbmcgb2Ygd2F0Y2hlZCB0YXJnZXRzIHRoYXQgdGhlIGNsaWVudCBjYXJlcyBhYm91dCB0cmFja2luZyBhbmQgdGhlXG4gICAgICAgICAqIHVzZXIgaGFzIGV4cGxpY2l0bHkgY2FsbGVkIGEgJ2xpc3RlbicgZm9yIHRoaXMgdGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSB0YXJnZXRzIG1heSBvciBtYXkgbm90IGhhdmUgYmVlbiBzZW50IHRvIG9yIGFja25vd2xlZGdlZCBieSB0aGVcbiAgICAgICAgICogc2VydmVyLiBPbiByZS1lc3RhYmxpc2hpbmcgdGhlIGxpc3RlbiBzdHJlYW0sIHRoZXNlIHRhcmdldHMgc2hvdWxkIGJlIHNlbnRcbiAgICAgICAgICogdG8gdGhlIHNlcnZlci4gVGhlIHRhcmdldHMgcmVtb3ZlZCB3aXRoIHVubGlzdGVucyBhcmUgcmVtb3ZlZCBlYWdlcmx5XG4gICAgICAgICAqIHdpdGhvdXQgd2FpdGluZyBmb3IgY29uZmlybWF0aW9uIGZyb20gdGhlIGxpc3RlbiBzdHJlYW0uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnFyID0gbmV3IE1hcCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNldCBvZiByZWFzb25zIGZvciB3aHkgdGhlIFJlbW90ZVN0b3JlIG1heSBiZSBvZmZsaW5lLiBJZiBlbXB0eSwgdGhlXG4gICAgICAgICAqIFJlbW90ZVN0b3JlIG1heSBzdGFydCBpdHMgbmV0d29yayBjb25uZWN0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuS3IgPSBuZXcgU2V0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXJzIHRoYXQgZ2V0IGNhbGxlZCB3aGVuIHRoZSBuZXR3b3JrIGlzIGRpc2FibGVkIG9yIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogVGhlc2UgZnVuY3Rpb25zIGFyZSB1c2VkIG9uIHRoZSBXZWIgY2xpZW50IHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogdW5kZXJseWluZyBzdHJlYW1zICh0byBzdXBwb3J0IHRyZWUtc2hha2VhYmxlIHN0cmVhbXMpLiBPbiBBbmRyb2lkIGFuZCBpT1MsXG4gICAgICAgICAqIHRoZSBzdHJlYW1zIGFyZSBjcmVhdGVkIGR1cmluZyBjb25zdHJ1Y3Rpb24gb2YgUmVtb3RlU3RvcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmpyID0gW10sIHRoaXMuUXIgPSBpLCB0aGlzLlFyLkVpKCh0ID0+IHtcbiAgICAgICAgICAgIG4uZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFBvcnRpbmcgTm90ZTogVW5saWtlIGlPUywgYHJlc3RhcnROZXR3b3JrKClgIGlzIGNhbGxlZCBldmVuIHdoZW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gbmV0d29yayBiZWNvbWVzIHVucmVhY2hhYmxlIGFzIHdlIGRvbid0IGhhdmUgYW55IG90aGVyIHdheSB0byB0ZWFyXG4gICAgICAgICAgICAgICAgLy8gZG93biBvdXIgc3RyZWFtcy5cbiAgICAgICAgICAgICAgICBsbyh0aGlzKSAmJiAoeChcIlJlbW90ZVN0b3JlXCIsIFwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuXCIpLCBcbiAgICAgICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBCKHQpO1xuICAgICAgICAgICAgICAgICAgICBlLktyLmFkZCg0IC8qIENvbm5lY3Rpdml0eUNoYW5nZSAqLyksIGF3YWl0IGlvKGUpLCBlLldyLnNldChcIlVua25vd25cIiAvKiBVbmtub3duICovKSwgXG4gICAgICAgICAgICAgICAgICAgIGUuS3IuZGVsZXRlKDQgLyogQ29ubmVjdGl2aXR5Q2hhbmdlICovKSwgYXdhaXQgc28oZSk7XG4gICAgICAgICAgICAgICAgfSh0aGlzKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgdGhpcy5XciA9IG5ldyBlbyhuLCBzKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNvKHQpIHtcbiAgICBpZiAobG8odCkpIGZvciAoY29uc3QgZSBvZiB0LmpyKSBhd2FpdCBlKC8qIGVuYWJsZWQ9ICovICEwKTtcbn1cblxuLyoqXG4gKiBUZW1wb3JhcmlseSBkaXNhYmxlcyB0aGUgbmV0d29yay4gVGhlIG5ldHdvcmsgY2FuIGJlIHJlLWVuYWJsZWQgdXNpbmdcbiAqIGVuYWJsZU5ldHdvcmsoKS5cbiAqLyBhc3luYyBmdW5jdGlvbiBpbyh0KSB7XG4gICAgZm9yIChjb25zdCBlIG9mIHQuanIpIGF3YWl0IGUoLyogZW5hYmxlZD0gKi8gITEpO1xufVxuXG4vKipcbiAqIFN0YXJ0cyBuZXcgbGlzdGVuIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0LiBVc2VzIHJlc3VtZSB0b2tlbiBpZiBwcm92aWRlZC4gSXRcbiAqIGlzIGEgbm8tb3AgaWYgdGhlIHRhcmdldCBvZiBnaXZlbiBgVGFyZ2V0RGF0YWAgaXMgYWxyZWFkeSBiZWluZyBsaXN0ZW5lZCB0by5cbiAqL1xuZnVuY3Rpb24gcm8odCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIG4ucXIuaGFzKGUudGFyZ2V0SWQpIHx8IChcbiAgICAvLyBNYXJrIHRoaXMgYXMgc29tZXRoaW5nIHRoZSBjbGllbnQgaXMgY3VycmVudGx5IGxpc3RlbmluZyBmb3IuXG4gICAgbi5xci5zZXQoZS50YXJnZXRJZCwgZSksIGhvKG4pID8gXG4gICAgLy8gVGhlIGxpc3RlbiB3aWxsIGJlIHNlbnQgaW4gb25XYXRjaFN0cmVhbU9wZW5cbiAgICB1byhuKSA6IFNvKG4pLmNyKCkgJiYgYW8obiwgZSkpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3RlbiBmcm9tIHNlcnZlci4gSXQgaXMgYSBuby1vcCBpZiB0aGUgZ2l2ZW4gdGFyZ2V0IGlkIGlzXG4gKiBub3QgYmVpbmcgbGlzdGVuZWQgdG8uXG4gKi8gZnVuY3Rpb24gb28odCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpLCBzID0gU28obik7XG4gICAgbi5xci5kZWxldGUoZSksIHMuY3IoKSAmJiBjbyhuLCBlKSwgMCA9PT0gbi5xci5zaXplICYmIChzLmNyKCkgPyBzLmxyKCkgOiBsbyhuKSAmJiBcbiAgICAvLyBSZXZlcnQgdG8gT25saW5lU3RhdGUuVW5rbm93biBpZiB0aGUgd2F0Y2ggc3RyZWFtIGlzIG5vdCBvcGVuIGFuZCB3ZVxuICAgIC8vIGhhdmUgbm8gbGlzdGVuZXJzLCBzaW5jZSB3aXRob3V0IGFueSBsaXN0ZW5zIHRvIHNlbmQgd2UgY2Fubm90XG4gICAgLy8gY29uZmlybSBpZiB0aGUgc3RyZWFtIGlzIGhlYWx0aHkgYW5kIHVwZ3JhZGUgdG8gT25saW5lU3RhdGUuT25saW5lLlxuICAgIG4uV3Iuc2V0KFwiVW5rbm93blwiIC8qIFVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRvIGluY3JlbWVudCB0aGUgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwZW5kaW5nIHJlc3BvbnNlcyB3ZSdyZSBkdWVcbiAqIGZyb20gd2F0Y2ggc28gd2Ugd2FpdCBmb3IgdGhlIGFjayB0byBwcm9jZXNzIGFueSBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIGFvKHQsIGUpIHtcbiAgICB0LkdyLlkoZS50YXJnZXRJZCksIFNvKHQpLklyKGUpO1xufVxuXG4vKipcbiAqIFdlIG5lZWQgdG8gaW5jcmVtZW50IHRoZSBleHBlY3RlZCBudW1iZXIgb2YgcGVuZGluZyByZXNwb25zZXMgd2UncmUgZHVlXG4gKiBmcm9tIHdhdGNoIHNvIHdlIHdhaXQgZm9yIHRoZSByZW1vdmFsIG9uIHRoZSBzZXJ2ZXIgYmVmb3JlIHdlIHByb2Nlc3MgYW55XG4gKiBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIGNvKHQsIGUpIHtcbiAgICB0LkdyLlkoZSksIFNvKHQpLkFyKGUpO1xufVxuXG5mdW5jdGlvbiB1byh0KSB7XG4gICAgdC5HciA9IG5ldyB4bih7XG4gICAgICAgIGdldFJlbW90ZUtleXNGb3JUYXJnZXQ6IGUgPT4gdC5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKSxcbiAgICAgICAgRXQ6IGUgPT4gdC5xci5nZXQoZSkgfHwgbnVsbFxuICAgIH0pLCBTbyh0KS5zdGFydCgpLCB0LldyLk9yKCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSB3YXRjaCBzdHJlYW0gc2hvdWxkIGJlIHN0YXJ0ZWQgYmVjYXVzZSBpdCdzIG5lY2Vzc2FyeVxuICogYW5kIGhhcyBub3QgeWV0IGJlZW4gc3RhcnRlZC5cbiAqLyBmdW5jdGlvbiBobyh0KSB7XG4gICAgcmV0dXJuIGxvKHQpICYmICFTbyh0KS5hcigpICYmIHQucXIuc2l6ZSA+IDA7XG59XG5cbmZ1bmN0aW9uIGxvKHQpIHtcbiAgICByZXR1cm4gMCA9PT0gQih0KS5Lci5zaXplO1xufVxuXG5mdW5jdGlvbiBmbyh0KSB7XG4gICAgdC5HciA9IHZvaWQgMDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gd28odCkge1xuICAgIHQucXIuZm9yRWFjaCgoKGUsIG4pID0+IHtcbiAgICAgICAgYW8odCwgZSk7XG4gICAgfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfbyh0LCBlKSB7XG4gICAgZm8odCksIFxuICAgIC8vIElmIHdlIHN0aWxsIG5lZWQgdGhlIHdhdGNoIHN0cmVhbSwgcmV0cnkgdGhlIGNvbm5lY3Rpb24uXG4gICAgaG8odCkgPyAodC5Xci5McihlKSwgdW8odCkpIDogXG4gICAgLy8gTm8gbmVlZCB0byByZXN0YXJ0IHdhdGNoIHN0cmVhbSBiZWNhdXNlIHRoZXJlIGFyZSBubyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAvLyBUaGUgb25saW5lIHN0YXRlIGlzIHNldCB0byB1bmtub3duIGJlY2F1c2UgdGhlcmUgaXMgbm8gYWN0aXZlIGF0dGVtcHRcbiAgICAvLyBhdCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uXG4gICAgdC5Xci5zZXQoXCJVbmtub3duXCIgLyogVW5rbm93biAqLyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1vKHQsIGUsIG4pIHtcbiAgICBpZiAoXG4gICAgLy8gTWFyayB0aGUgY2xpZW50IGFzIG9ubGluZSBzaW5jZSB3ZSBnb3QgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlclxuICAgIHQuV3Iuc2V0KFwiT25saW5lXCIgLyogT25saW5lICovKSwgZSBpbnN0YW5jZW9mIENuICYmIDIgLyogUmVtb3ZlZCAqLyA9PT0gZS5zdGF0ZSAmJiBlLmNhdXNlKSBcbiAgICAvLyBUaGVyZSB3YXMgYW4gZXJyb3Igb24gYSB0YXJnZXQsIGRvbid0IHdhaXQgZm9yIGEgY29uc2lzdGVudCBzbmFwc2hvdFxuICAgIC8vIHRvIHJhaXNlIGV2ZW50c1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFxuICAgICAgICAvKiogSGFuZGxlcyBhbiBlcnJvciBvbiBhIHRhcmdldCAqL1xuICAgICAgICBhc3luYyBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5jYXVzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiBlLnRhcmdldElkcykgXG4gICAgICAgICAgICAvLyBBIHdhdGNoZWQgdGFyZ2V0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGFscmVhZHkuXG4gICAgICAgICAgICB0LnFyLmhhcyhzKSAmJiAoYXdhaXQgdC5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuKHMsIG4pLCB0LnFyLmRlbGV0ZShzKSwgdC5Hci5yZW1vdmVUYXJnZXQocykpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQXR0ZW1wdHMgdG8gZmlsbCBvdXIgd3JpdGUgcGlwZWxpbmUgd2l0aCB3cml0ZXMgZnJvbSB0aGUgTG9jYWxTdG9yZS5cbiAqXG4gKiBDYWxsZWQgaW50ZXJuYWxseSB0byBib290c3RyYXAgb3IgcmVmaWxsIHRoZSB3cml0ZSBwaXBlbGluZSBhbmQgYnlcbiAqIFN5bmNFbmdpbmUgd2hlbmV2ZXIgdGhlcmUgYXJlIG5ldyBtdXRhdGlvbnMgdG8gcHJvY2Vzcy5cbiAqXG4gKiBTdGFydHMgdGhlIHdyaXRlIHN0cmVhbSBpZiBuZWNlc3NhcnkuXG4gKi8gKHQsIGUpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgeChcIlJlbW90ZVN0b3JlXCIsIFwiRmFpbGVkIHRvIHJlbW92ZSB0YXJnZXRzICVzOiAlcyBcIiwgZS50YXJnZXRJZHMuam9pbihcIixcIiksIG4pLCBcbiAgICAgICAgYXdhaXQgZ28odCwgbik7XG4gICAgfSBlbHNlIGlmIChlIGluc3RhbmNlb2YgU24gPyB0LkdyLnJ0KGUpIDogZSBpbnN0YW5jZW9mIERuID8gdC5Hci5mdChlKSA6IHQuR3IuY3QoZSksIFxuICAgICFuLmlzRXF1YWwoc3QubWluKCkpKSB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgaHIodC5sb2NhbFN0b3JlKTtcbiAgICAgICAgbi5jb21wYXJlVG8oZSkgPj0gMCAmJiBcbiAgICAgICAgLy8gV2UgaGF2ZSByZWNlaXZlZCBhIHRhcmdldCBjaGFuZ2Ugd2l0aCBhIGdsb2JhbCBzbmFwc2hvdCBpZiB0aGUgc25hcHNob3RcbiAgICAgICAgLy8gdmVyc2lvbiBpcyBub3QgZXF1YWwgdG8gU25hcHNob3RWZXJzaW9uLm1pbigpLlxuICAgICAgICBhd2FpdCBcbiAgICAgICAgLyoqXG4gKiBUYWtlcyBhIGJhdGNoIG9mIGNoYW5nZXMgZnJvbSB0aGUgRGF0YXN0b3JlLCByZXBhY2thZ2VzIHRoZW0gYXMgYVxuICogUmVtb3RlRXZlbnQsIGFuZCBwYXNzZXMgdGhhdCBvbiB0byB0aGUgbGlzdGVuZXIsIHdoaWNoIGlzIHR5cGljYWxseSB0aGVcbiAqIFN5bmNFbmdpbmUuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuR3IuX3QoZSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4tbWVtb3J5IHJlc3VtZSB0b2tlbnMuIExvY2FsU3RvcmUgd2lsbCB1cGRhdGUgdGhlXG4gICAgICAgICAgICAvLyBwZXJzaXN0ZW50IHZpZXcgb2YgdGhlc2Ugd2hlbiBhcHBseWluZyB0aGUgY29tcGxldGVkIFJlbW90ZUV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4udGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKCgobiwgcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHQucXIuZ2V0KHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHdhdGNoZWQgdGFyZ2V0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiB0LnFyLnNldChzLCBpLndpdGhSZXN1bWVUb2tlbihuLnJlc3VtZVRva2VuLCBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpLCBcbiAgICAgICAgICAgIC8vIFJlLWVzdGFibGlzaCBsaXN0ZW5zIGZvciB0aGUgdGFyZ2V0cyB0aGF0IGhhdmUgYmVlbiBpbnZhbGlkYXRlZCBieVxuICAgICAgICAgICAgLy8gZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaGVzLlxuICAgICAgICAgICAgbi50YXJnZXRNaXNtYXRjaGVzLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0LnFyLmdldChlKTtcbiAgICAgICAgICAgICAgICBpZiAoIW4pIFxuICAgICAgICAgICAgICAgIC8vIEEgd2F0Y2hlZCB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHJlc3VtZSB0b2tlbiBmb3IgdGhlIHRhcmdldCwgc2luY2Ugd2UncmUgaW4gYSBrbm93biBtaXNtYXRjaFxuICAgICAgICAgICAgICAgIC8vIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnFyLnNldChlLCBuLndpdGhSZXN1bWVUb2tlbihkdC5FTVBUWV9CWVRFX1NUUklORywgbi5zbmFwc2hvdFZlcnNpb24pKSwgXG4gICAgICAgICAgICAgICAgLy8gQ2F1c2UgYSBoYXJkIHJlc2V0IGJ5IHVud2F0Y2hpbmcgYW5kIHJld2F0Y2hpbmcgaW1tZWRpYXRlbHksIGJ1dFxuICAgICAgICAgICAgICAgIC8vIGRlbGliZXJhdGVseSBkb24ndCBzZW5kIGEgcmVzdW1lIHRva2VuIHNvIHRoYXQgd2UgZ2V0IGEgZnVsbCB1cGRhdGUuXG4gICAgICAgICAgICAgICAgY28odCwgZSk7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgdGFyZ2V0IHdlIHNlbmQgYXMgYmVpbmcgb24gYmVoYWxmIG9mIGFuIGV4aXN0ZW5jZSBmaWx0ZXJcbiAgICAgICAgICAgICAgICAvLyBtaXNtYXRjaCwgYnV0IGRvbid0IGFjdHVhbGx5IHJldGFpbiB0aGF0IGluIGxpc3RlblRhcmdldHMuIFRoaXMgZW5zdXJlc1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgd2UgZmxhZyB0aGUgZmlyc3QgcmUtbGlzdGVuIHRoaXMgd2F5IHdpdGhvdXQgaW1wYWN0aW5nIGZ1dHVyZVxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbnMgb2YgdGhpcyB0YXJnZXQgKHRoYXQgbWlnaHQgaGFwcGVuIGUuZy4gb24gcmVjb25uZWN0KS5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IG5pKG4udGFyZ2V0LCBlLCAxIC8qIEV4aXN0ZW5jZUZpbHRlck1pc21hdGNoICovICwgbi5zZXF1ZW5jZU51bWJlcik7XG4gICAgICAgICAgICAgICAgYW8odCwgcyk7XG4gICAgICAgICAgICB9KSksIHQucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQobik7XG4gICAgICAgIH0odCwgbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB4KFwiUmVtb3RlU3RvcmVcIiwgXCJGYWlsZWQgdG8gcmFpc2Ugc25hcHNob3Q6XCIsIGUpLCBhd2FpdCBnbyh0LCBlKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVjb3ZlcnkgbG9naWMgZm9yIEluZGV4ZWREQiBlcnJvcnMgdGhhdCB0YWtlcyB0aGUgbmV0d29yayBvZmZsaW5lIHVudGlsXG4gKiBgb3BgIHN1Y2NlZWRzLiBSZXRyaWVzIGFyZSBzY2hlZHVsZWQgd2l0aCBiYWNrb2ZmIHVzaW5nXG4gKiBgZW5xdWV1ZVJldHJ5YWJsZSgpYC4gSWYgYG9wKClgIGlzIG5vdCBwcm92aWRlZCwgSW5kZXhlZERCIGFjY2VzcyBpc1xuICogdmFsaWRhdGVkIHZpYSBhIGdlbmVyaWMgb3BlcmF0aW9uLlxuICpcbiAqIFRoZSByZXR1cm5lZCBQcm9taXNlIGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQgYW5kIGJlZm9yZVxuICogYW55IHJldHJ5IGF0dGVtcHQuXG4gKi8gYXN5bmMgZnVuY3Rpb24gZ28odCwgZSwgbikge1xuICAgIGlmICghR3MoZSkpIHRocm93IGU7XG4gICAgdC5Lci5hZGQoMSAvKiBJbmRleGVkRGJGYWlsZWQgKi8pLCBcbiAgICAvLyBEaXNhYmxlIG5ldHdvcmsgYW5kIHJhaXNlIG9mZmxpbmUgc25hcHNob3RzXG4gICAgYXdhaXQgaW8odCksIHQuV3Iuc2V0KFwiT2ZmbGluZVwiIC8qIE9mZmxpbmUgKi8pLCBuIHx8IChcbiAgICAvLyBVc2UgYSBzaW1wbGUgcmVhZCBvcGVyYXRpb24gdG8gZGV0ZXJtaW5lIGlmIEluZGV4ZWREQiByZWNvdmVyZWQuXG4gICAgLy8gSWRlYWxseSwgd2Ugd291bGQgZXhwb3NlIGEgaGVhbHRoIGNoZWNrIGRpcmVjdGx5IG9uIFNpbXBsZURiLCBidXRcbiAgICAvLyBSZW1vdGVTdG9yZSBvbmx5IGhhcyBhY2Nlc3MgdG8gcGVyc2lzdGVuY2UgdGhyb3VnaCBMb2NhbFN0b3JlLlxuICAgIG4gPSAoKSA9PiBocih0LmxvY2FsU3RvcmUpKSwgXG4gICAgLy8gUHJvYmUgSW5kZXhlZERCIHBlcmlvZGljYWxseSBhbmQgcmUtZW5hYmxlIG5ldHdvcmtcbiAgICB0LmFzeW5jUXVldWUuZW5xdWV1ZVJldHJ5YWJsZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICB4KFwiUmVtb3RlU3RvcmVcIiwgXCJSZXRyeWluZyBJbmRleGVkREIgYWNjZXNzXCIpLCBhd2FpdCBuKCksIHQuS3IuZGVsZXRlKDEgLyogSW5kZXhlZERiRmFpbGVkICovKSwgXG4gICAgICAgIGF3YWl0IHNvKHQpO1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBgb3BgLiBJZiBgb3BgIGZhaWxzLCB0YWtlcyB0aGUgbmV0d29yayBvZmZsaW5lIHVudGlsIGBvcGBcbiAqIHN1Y2NlZWRzLiBSZXR1cm5zIGFmdGVyIHRoZSBmaXJzdCBhdHRlbXB0LlxuICovIGZ1bmN0aW9uIHlvKHQsIGUpIHtcbiAgICByZXR1cm4gZSgpLmNhdGNoKChuID0+IGdvKHQsIG4sIGUpKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBvKHQpIHtcbiAgICBjb25zdCBlID0gQih0KSwgbiA9IERvKGUpO1xuICAgIGxldCBzID0gZS5Vci5sZW5ndGggPiAwID8gZS5VcltlLlVyLmxlbmd0aCAtIDFdLmJhdGNoSWQgOiAtMTtcbiAgICBmb3IgKDtFbyhlKTsgKSB0cnkge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgZHIoZS5sb2NhbFN0b3JlLCBzKTtcbiAgICAgICAgaWYgKG51bGwgPT09IHQpIHtcbiAgICAgICAgICAgIDAgPT09IGUuVXIubGVuZ3RoICYmIG4ubHIoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHMgPSB0LmJhdGNoSWQsIFRvKGUsIHQpO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgYXdhaXQgZ28oZSwgdCk7XG4gICAgfVxuICAgIElvKGUpICYmIEFvKGUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB3ZSBjYW4gYWRkIHRvIHRoZSB3cml0ZSBwaXBlbGluZSAoaS5lLiB0aGUgbmV0d29yayBpc1xuICogZW5hYmxlZCBhbmQgdGhlIHdyaXRlIHBpcGVsaW5lIGlzIG5vdCBmdWxsKS5cbiAqLyBmdW5jdGlvbiBFbyh0KSB7XG4gICAgcmV0dXJuIGxvKHQpICYmIHQuVXIubGVuZ3RoIDwgMTA7XG59XG5cbi8qKlxuICogUXVldWVzIGFkZGl0aW9uYWwgd3JpdGVzIHRvIGJlIHNlbnQgdG8gdGhlIHdyaXRlIHN0cmVhbSwgc2VuZGluZyB0aGVtXG4gKiBpbW1lZGlhdGVseSBpZiB0aGUgd3JpdGUgc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuICovIGZ1bmN0aW9uIFRvKHQsIGUpIHtcbiAgICB0LlVyLnB1c2goZSk7XG4gICAgY29uc3QgbiA9IERvKHQpO1xuICAgIG4uY3IoKSAmJiBuLmJyICYmIG4uUHIoZS5tdXRhdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBJbyh0KSB7XG4gICAgcmV0dXJuIGxvKHQpICYmICFEbyh0KS5hcigpICYmIHQuVXIubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gQW8odCkge1xuICAgIERvKHQpLnN0YXJ0KCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIFJvKHQpIHtcbiAgICBEbyh0KS5TcigpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBibyh0KSB7XG4gICAgY29uc3QgZSA9IERvKHQpO1xuICAgIC8vIFNlbmQgdGhlIHdyaXRlIHBpcGVsaW5lIG5vdyB0aGF0IHRoZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiB0LlVyKSBlLlByKG4ubXV0YXRpb25zKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gUG8odCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSB0LlVyLnNoaWZ0KCksIGkgPSBlaS5mcm9tKHMsIGUsIG4pO1xuICAgIGF3YWl0IHlvKHQsICgoKSA9PiB0LnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZShpKSkpLCBcbiAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2l0aCB0aGUgY29tcGxldGlvbiBvZiB0aGlzIG11dGF0aW9uIGFub3RoZXJcbiAgICAvLyBzbG90IGhhcyBmcmVlZCB1cC5cbiAgICBhd2FpdCBwbyh0KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdm8odCwgZSkge1xuICAgIC8vIElmIHRoZSB3cml0ZSBzdHJlYW0gY2xvc2VkIGFmdGVyIHRoZSB3cml0ZSBoYW5kc2hha2UgY29tcGxldGVzLCBhIHdyaXRlXG4gICAgLy8gb3BlcmF0aW9uIGZhaWxlZCBhbmQgd2UgZmFpbCB0aGUgcGVuZGluZyBvcGVyYXRpb24uXG4gICAgZSAmJiBEbyh0KS5iciAmJiBcbiAgICAvLyBUaGlzIGVycm9yIGFmZmVjdHMgdGhlIGFjdHVhbCB3cml0ZS5cbiAgICBhd2FpdCBhc3luYyBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIC8vIE9ubHkgaGFuZGxlIHBlcm1hbmVudCBlcnJvcnMgaGVyZS4gSWYgaXQncyB0cmFuc2llbnQsIGp1c3QgbGV0IHRoZSByZXRyeVxuICAgICAgICAvLyBsb2dpYyBraWNrIGluLlxuICAgICAgICBpZiAobiA9IGUuY29kZSwgaG4obikgJiYgbiAhPT0gVS5BQk9SVEVEKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHdhcyBhIHBlcm1hbmVudCBlcnJvciwgdGhlIHJlcXVlc3QgaXRzZWxmIHdhcyB0aGUgcHJvYmxlbVxuICAgICAgICAgICAgLy8gc28gaXQncyBub3QgZ29pbmcgdG8gc3VjY2VlZCBpZiB3ZSByZXNlbmQgaXQuXG4gICAgICAgICAgICBjb25zdCBuID0gdC5Vci5zaGlmdCgpO1xuICAgICAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGl0J3MgYWxzbyB1bmxpa2VseSB0aGF0IHRoZSBzZXJ2ZXIgaXRzZWxmIGlzIG1lbHRpbmdcbiAgICAgICAgICAgIC8vIGRvd24gLS0gdGhpcyB3YXMganVzdCBhIGJhZCByZXF1ZXN0IHNvIGluaGliaXQgYmFja29mZiBvbiB0aGUgbmV4dFxuICAgICAgICAgICAgLy8gcmVzdGFydC5cbiAgICAgICAgICAgICAgICAgICAgICAgIERvKHQpLmhyKCksIGF3YWl0IHlvKHQsICgoKSA9PiB0LnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZShuLmJhdGNoSWQsIGUpKSksIFxuICAgICAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdpdGggdGhlIGNvbXBsZXRpb24gb2YgdGhpcyBtdXRhdGlvblxuICAgICAgICAgICAgLy8gYW5vdGhlciBzbG90IGhhcyBmcmVlZCB1cC5cbiAgICAgICAgICAgIGF3YWl0IHBvKHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuO1xuICAgIH0odCwgZSksIFxuICAgIC8vIFRoZSB3cml0ZSBzdHJlYW0gbWlnaHQgaGF2ZSBiZWVuIHN0YXJ0ZWQgYnkgcmVmaWxsaW5nIHRoZSB3cml0ZVxuICAgIC8vIHBpcGVsaW5lIGZvciBmYWlsZWQgd3JpdGVzXG4gICAgSW8odCkgJiYgQW8odCk7XG59XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgbmV0d29yayBzdGF0ZSB3aGVuIHRoZSBjbGllbnQgZ2FpbnMgb3IgbG9zZXMgaXRzIHByaW1hcnkgbGVhc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIFZvKHQsIGUpIHtcbiAgICBjb25zdCBuID0gQih0KTtcbiAgICBlID8gKG4uS3IuZGVsZXRlKDIgLyogSXNTZWNvbmRhcnkgKi8pLCBhd2FpdCBzbyhuKSkgOiBlIHx8IChuLktyLmFkZCgyIC8qIElzU2Vjb25kYXJ5ICovKSwgXG4gICAgYXdhaXQgaW8obiksIG4uV3Iuc2V0KFwiVW5rbm93blwiIC8qIFVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBJZiBub3QgeWV0IGluaXRpYWxpemVkLCByZWdpc3RlcnMgdGhlIFdhdGNoU3RyZWFtIGFuZCBpdHMgbmV0d29yayBzdGF0ZVxuICogY2FsbGJhY2sgd2l0aCBgcmVtb3RlU3RvcmVJbXBsYC4gUmV0dXJucyB0aGUgZXhpc3Rpbmcgc3RyZWFtIGlmIG9uZSBpc1xuICogYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogUE9SVElORyBOT1RFOiBPbiBpT1MgYW5kIEFuZHJvaWQsIHRoZSBXYXRjaFN0cmVhbSBnZXRzIHJlZ2lzdGVyZWQgb24gc3RhcnR1cC5cbiAqIFRoaXMgaXMgbm90IGRvbmUgb24gV2ViIHRvIGFsbG93IGl0IHRvIGJlIHRyZWUtc2hha2VuLlxuICovIGZ1bmN0aW9uIFNvKHQpIHtcbiAgICByZXR1cm4gdC56ciB8fCAoXG4gICAgLy8gQ3JlYXRlIHN0cmVhbSAoYnV0IG5vdGUgdGhhdCBpdCBpcyBub3Qgc3RhcnRlZCB5ZXQpLlxuICAgIHQuenIgPSBmdW5jdGlvbih0LCBlLCBuKSB7XG4gICAgICAgIGNvbnN0IHMgPSBCKHQpO1xuICAgICAgICByZXR1cm4gcy5DcigpLCBuZXcgWHIoZSwgcy5uciwgcy5jcmVkZW50aWFscywgcy5OLCBuKTtcbiAgICB9XG4gICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKHQuZGF0YXN0b3JlLCB0LmFzeW5jUXVldWUsIHtcbiAgICAgICAgU2k6IHdvLmJpbmQobnVsbCwgdCksXG4gICAgICAgIENpOiBfby5iaW5kKG51bGwsIHQpLFxuICAgICAgICBUcjogbW8uYmluZChudWxsLCB0KVxuICAgIH0pLCB0LmpyLnB1c2goKGFzeW5jIGUgPT4ge1xuICAgICAgICBlID8gKHQuenIuaHIoKSwgaG8odCkgPyB1byh0KSA6IHQuV3Iuc2V0KFwiVW5rbm93blwiIC8qIFVua25vd24gKi8pKSA6IChhd2FpdCB0LnpyLnN0b3AoKSwgXG4gICAgICAgIGZvKHQpKTtcbiAgICB9KSkpLCB0LnpyO1xufVxuXG4vKipcbiAqIElmIG5vdCB5ZXQgaW5pdGlhbGl6ZWQsIHJlZ2lzdGVycyB0aGUgV3JpdGVTdHJlYW0gYW5kIGl0cyBuZXR3b3JrIHN0YXRlXG4gKiBjYWxsYmFjayB3aXRoIGByZW1vdGVTdG9yZUltcGxgLiBSZXR1cm5zIHRoZSBleGlzdGluZyBzdHJlYW0gaWYgb25lIGlzXG4gKiBhbHJlYWR5IGF2YWlsYWJsZS5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IE9uIGlPUyBhbmQgQW5kcm9pZCwgdGhlIFdyaXRlU3RyZWFtIGdldHMgcmVnaXN0ZXJlZCBvbiBzdGFydHVwLlxuICogVGhpcyBpcyBub3QgZG9uZSBvbiBXZWIgdG8gYWxsb3cgaXQgdG8gYmUgdHJlZS1zaGFrZW4uXG4gKi8gZnVuY3Rpb24gRG8odCkge1xuICAgIHJldHVybiB0LkhyIHx8IChcbiAgICAvLyBDcmVhdGUgc3RyZWFtIChidXQgbm90ZSB0aGF0IGl0IGlzIG5vdCBzdGFydGVkIHlldCkuXG4gICAgdC5IciA9IGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgY29uc3QgcyA9IEIodCk7XG4gICAgICAgIHJldHVybiBzLkNyKCksIG5ldyBacihlLCBzLm5yLCBzLmNyZWRlbnRpYWxzLCBzLk4sIG4pO1xuICAgIH0odC5kYXRhc3RvcmUsIHQuYXN5bmNRdWV1ZSwge1xuICAgICAgICBTaTogUm8uYmluZChudWxsLCB0KSxcbiAgICAgICAgQ2k6IHZvLmJpbmQobnVsbCwgdCksXG4gICAgICAgIFZyOiBiby5iaW5kKG51bGwsIHQpLFxuICAgICAgICB2cjogUG8uYmluZChudWxsLCB0KVxuICAgIH0pLCB0LmpyLnB1c2goKGFzeW5jIGUgPT4ge1xuICAgICAgICBlID8gKHQuSHIuaHIoKSwgXG4gICAgICAgIC8vIFRoaXMgd2lsbCBzdGFydCB0aGUgd3JpdGUgc3RyZWFtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgYXdhaXQgcG8odCkpIDogKGF3YWl0IHQuSHIuc3RvcCgpLCB0LlVyLmxlbmd0aCA+IDAgJiYgKHgoXCJSZW1vdGVTdG9yZVwiLCBgU3RvcHBpbmcgd3JpdGUgc3RyZWFtIHdpdGggJHt0LlVyLmxlbmd0aH0gcGVuZGluZyB3cml0ZXNgKSwgXG4gICAgICAgIHQuVXIgPSBbXSkpO1xuICAgIH0pKSksIHQuSHI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb3BlcmF0aW9uIHNjaGVkdWxlZCB0byBiZSBydW4gaW4gdGhlIGZ1dHVyZSBvbiBhbiBBc3luY1F1ZXVlLlxuICpcbiAqIEl0IGlzIGNyZWF0ZWQgdmlhIERlbGF5ZWRPcGVyYXRpb24uY3JlYXRlQW5kU2NoZWR1bGUoKS5cbiAqXG4gKiBTdXBwb3J0cyBjYW5jZWxsYXRpb24gKHZpYSBjYW5jZWwoKSkgYW5kIGVhcmx5IGV4ZWN1dGlvbiAodmlhIHNraXBEZWxheSgpKS5cbiAqXG4gKiBOb3RlOiBXZSBpbXBsZW1lbnQgYFByb21pc2VMaWtlYCBpbnN0ZWFkIG9mIGBQcm9taXNlYCwgYXMgdGhlIGBQcm9taXNlYCB0eXBlXG4gKiBpbiBuZXdlciB2ZXJzaW9ucyBvZiBUeXBlU2NyaXB0IGRlZmluZXMgYGZpbmFsbHlgLCB3aGljaCBpcyBub3QgYXZhaWxhYmxlIGluXG4gKiBJRS5cbiAqL1xuY2xhc3MgQ28ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gdCwgdGhpcy50aW1lcklkID0gZSwgdGhpcy50YXJnZXRUaW1lTXMgPSBuLCB0aGlzLm9wID0gcywgdGhpcy5yZW1vdmFsQ2FsbGJhY2sgPSBpLCBcbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG5ldyBLLCB0aGlzLnRoZW4gPSB0aGlzLmRlZmVycmVkLnByb21pc2UudGhlbi5iaW5kKHRoaXMuZGVmZXJyZWQucHJvbWlzZSksIFxuICAgICAgICAvLyBJdCdzIG5vcm1hbCBmb3IgdGhlIGRlZmVycmVkIHByb21pc2UgdG8gYmUgY2FuY2VsZWQgKGR1ZSB0byBjYW5jZWxsYXRpb24pXG4gICAgICAgIC8vIGFuZCBzbyB3ZSBhdHRhY2ggYSBkdW1teSBjYXRjaCBjYWxsYmFjayB0byBhdm9pZFxuICAgICAgICAvLyAnVW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbldhcm5pbmcnIGxvZyBzcGFtLlxuICAgICAgICB0aGlzLmRlZmVycmVkLnByb21pc2UuY2F0Y2goKHQgPT4ge30pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIERlbGF5ZWRPcGVyYXRpb24gdGhhdCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gYmVcbiAgICAgKiBleGVjdXRlZCBvbiB0aGUgcHJvdmlkZWQgYXN5bmNRdWV1ZSBhZnRlciB0aGUgcHJvdmlkZWQgZGVsYXlNcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3luY1F1ZXVlIC0gVGhlIHF1ZXVlIHRvIHNjaGVkdWxlIHRoZSBvcGVyYXRpb24gb24uXG4gICAgICogQHBhcmFtIGlkIC0gQSBUaW1lciBJRCBpZGVudGlmeWluZyB0aGUgdHlwZSBvZiBvcGVyYXRpb24gdGhpcyBpcy5cbiAgICAgKiBAcGFyYW0gZGVsYXlNcyAtIFRoZSBkZWxheSAobXMpIGJlZm9yZSB0aGUgb3BlcmF0aW9uIHNob3VsZCBiZSBzY2hlZHVsZWQuXG4gICAgICogQHBhcmFtIG9wIC0gVGhlIG9wZXJhdGlvbiB0byBydW4uXG4gICAgICogQHBhcmFtIHJlbW92YWxDYWxsYmFjayAtIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgb25jZSB0aGVcbiAgICAgKiAgIG9wZXJhdGlvbiBpcyBleGVjdXRlZCBvciBjYW5jZWxlZCwgbm90aWZ5aW5nIHRoZSBBc3luY1F1ZXVlIHRvIHJlbW92ZSBpdFxuICAgICAqICAgZnJvbSBpdHMgZGVsYXllZE9wZXJhdGlvbnMgbGlzdC5cbiAgICAgKiAgIFBPUlRJTkcgTk9URTogVGhpcyBleGlzdHMgdG8gcHJldmVudCBtYWtpbmcgcmVtb3ZlRGVsYXllZE9wZXJhdGlvbigpIGFuZFxuICAgICAqICAgdGhlIERlbGF5ZWRPcGVyYXRpb24gY2xhc3MgcHVibGljLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlQW5kU2NoZWR1bGUodCwgZSwgbiwgcywgaSkge1xuICAgICAgICBjb25zdCByID0gRGF0ZS5ub3coKSArIG4sIG8gPSBuZXcgQ28odCwgZSwgciwgcywgaSk7XG4gICAgICAgIHJldHVybiBvLnN0YXJ0KG4pLCBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpbWVyLiBUaGlzIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBhZnRlciBjb25zdHJ1Y3Rpb24gYnlcbiAgICAgKiBjcmVhdGVBbmRTY2hlZHVsZSgpLlxuICAgICAqLyAgICBzdGFydCh0KSB7XG4gICAgICAgIHRoaXMudGltZXJIYW5kbGUgPSBzZXRUaW1lb3V0KCgoKSA9PiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpKSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXVlcyB0aGUgb3BlcmF0aW9uIHRvIHJ1biBpbW1lZGlhdGVseSAoaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBydW4gb3JcbiAgICAgKiBjYW5jZWxlZCkuXG4gICAgICovICAgIHNraXBEZWxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRGVsYXlFbGFwc2VkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIG9wZXJhdGlvbiBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGV4ZWN1dGVkIG9yIGNhbmNlbGVkLiBUaGVcbiAgICAgKiBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4gICAgICpcbiAgICAgKiBBcyBsb25nIGFzIHRoZSBvcGVyYXRpb24gaGFzIG5vdCB5ZXQgYmVlbiBydW4sIGNhbGxpbmcgY2FuY2VsKCkgcHJvdmlkZXMgYVxuICAgICAqIGd1YXJhbnRlZSB0aGF0IHRoZSBvcGVyYXRpb24gd2lsbCBub3QgYmUgcnVuLlxuICAgICAqLyAgICBjYW5jZWwodCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnRpbWVySGFuZGxlICYmICh0aGlzLmNsZWFyVGltZW91dCgpLCB0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgcShVLkNBTkNFTExFRCwgXCJPcGVyYXRpb24gY2FuY2VsbGVkXCIgKyAodCA/IFwiOiBcIiArIHQgOiBcIlwiKSkpKTtcbiAgICB9XG4gICAgaGFuZGxlRGVsYXlFbGFwc2VkKCkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gbnVsbCAhPT0gdGhpcy50aW1lckhhbmRsZSA/ICh0aGlzLmNsZWFyVGltZW91dCgpLCBcbiAgICAgICAgdGhpcy5vcCgpLnRoZW4oKHQgPT4gdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHQpKSkpIDogUHJvbWlzZS5yZXNvbHZlKCkpKTtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnRpbWVySGFuZGxlICYmICh0aGlzLnJlbW92YWxDYWxsYmFjayh0aGlzKSwgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJIYW5kbGUpLCBcbiAgICAgICAgdGhpcy50aW1lckhhbmRsZSA9IG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgRmlyZXN0b3JlRXJyb3IgdGhhdCBjYW4gYmUgc3VyZmFjZWQgdG8gdGhlIHVzZXIgaWYgdGhlIHByb3ZpZGVkXG4gKiBlcnJvciBpcyBhbiBJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yLiBSZS10aHJvd3MgdGhlIGVycm9yIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBObyh0LCBlKSB7XG4gICAgaWYgKGsoXCJBc3luY1F1ZXVlXCIsIGAke2V9OiAke3R9YCksIEdzKHQpKSByZXR1cm4gbmV3IHEoVS5VTkFWQUlMQUJMRSwgYCR7ZX06ICR7dH1gKTtcbiAgICB0aHJvdyB0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEb2N1bWVudFNldCBpcyBhbiBpbW11dGFibGUgKGNvcHktb24td3JpdGUpIGNvbGxlY3Rpb24gdGhhdCBob2xkcyBkb2N1bWVudHNcbiAqIGluIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgcHJvdmlkZWQgY29tcGFyYXRvci4gV2UgYWx3YXlzIGFkZCBhIGRvY3VtZW50IGtleVxuICogY29tcGFyYXRvciBvbiB0b3Agb2Ygd2hhdCBpcyBwcm92aWRlZCB0byBndWFyYW50ZWUgZG9jdW1lbnQgZXF1YWxpdHkgYmFzZWQgb25cbiAqIHRoZSBrZXkuXG4gKi8gY2xhc3MgeG8ge1xuICAgIC8qKiBUaGUgZGVmYXVsdCBvcmRlcmluZyBpcyBieSBrZXkgaWYgdGhlIGNvbXBhcmF0b3IgaXMgb21pdHRlZCAqL1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgLy8gV2UgYXJlIGFkZGluZyBkb2N1bWVudCBrZXkgY29tcGFyYXRvciB0byB0aGUgZW5kIGFzIGl0J3MgdGhlIG9ubHlcbiAgICAgICAgLy8gZ3VhcmFudGVlZCB1bmlxdWUgcHJvcGVydHkgb2YgYSBkb2N1bWVudC5cbiAgICAgICAgdGhpcy5jb21wYXJhdG9yID0gdCA/IChlLCBuKSA9PiB0KGUsIG4pIHx8IFJ0LmNvbXBhcmF0b3IoZS5rZXksIG4ua2V5KSA6ICh0LCBlKSA9PiBSdC5jb21wYXJhdG9yKHQua2V5LCBlLmtleSksIFxuICAgICAgICB0aGlzLmtleWVkTWFwID0gRW4oKSwgdGhpcy5zb3J0ZWRTZXQgPSBuZXcgZm4odGhpcy5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlbXB0eSBjb3B5IG9mIHRoZSBleGlzdGluZyBEb2N1bWVudFNldCwgdXNpbmcgdGhlIHNhbWVcbiAgICAgKiBjb21wYXJhdG9yLlxuICAgICAqLyAgICBzdGF0aWMgZW1wdHlTZXQodCkge1xuICAgICAgICByZXR1cm4gbmV3IHhvKHQuY29tcGFyYXRvcik7XG4gICAgfVxuICAgIGhhcyh0KSB7XG4gICAgICAgIHJldHVybiBudWxsICE9IHRoaXMua2V5ZWRNYXAuZ2V0KHQpO1xuICAgIH1cbiAgICBnZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXllZE1hcC5nZXQodCk7XG4gICAgfVxuICAgIGZpcnN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRTZXQubWluS2V5KCk7XG4gICAgfVxuICAgIGxhc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5tYXhLZXkoKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkU2V0LmlzRW1wdHkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHByb3ZpZGVkIGtleSBpbiB0aGUgZG9jdW1lbnQgc2V0LCBvciAtMSBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCBrZXkgaXMgbm90IHByZXNlbnQgaW4gdGhlIHNldDtcbiAgICAgKi8gICAgaW5kZXhPZih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmtleWVkTWFwLmdldCh0KTtcbiAgICAgICAgcmV0dXJuIGUgPyB0aGlzLnNvcnRlZFNldC5pbmRleE9mKGUpIDogLTE7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRTZXQuc2l6ZTtcbiAgICB9XG4gICAgLyoqIEl0ZXJhdGVzIGRvY3VtZW50cyBpbiBvcmRlciBkZWZpbmVkIGJ5IFwiY29tcGFyYXRvclwiICovICAgIGZvckVhY2godCkge1xuICAgICAgICB0aGlzLnNvcnRlZFNldC5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgbikgPT4gKHQoZSksICExKSkpO1xuICAgIH1cbiAgICAvKiogSW5zZXJ0cyBvciB1cGRhdGVzIGEgZG9jdW1lbnQgd2l0aCB0aGUgc2FtZSBrZXkgKi8gICAgYWRkKHQpIHtcbiAgICAgICAgLy8gRmlyc3QgcmVtb3ZlIHRoZSBlbGVtZW50IGlmIHdlIGhhdmUgaXQuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmRlbGV0ZSh0LmtleSk7XG4gICAgICAgIHJldHVybiBlLmNvcHkoZS5rZXllZE1hcC5pbnNlcnQodC5rZXksIHQpLCBlLnNvcnRlZFNldC5pbnNlcnQodCwgbnVsbCkpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyBhIGRvY3VtZW50IHdpdGggYSBnaXZlbiBrZXkgKi8gICAgZGVsZXRlKHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuZ2V0KHQpO1xuICAgICAgICByZXR1cm4gZSA/IHRoaXMuY29weSh0aGlzLmtleWVkTWFwLnJlbW92ZSh0KSwgdGhpcy5zb3J0ZWRTZXQucmVtb3ZlKGUpKSA6IHRoaXM7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgeG8pKSByZXR1cm4gITE7XG4gICAgICAgIGlmICh0aGlzLnNpemUgIT09IHQuc2l6ZSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKSwgbiA9IHQuc29ydGVkU2V0LmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO2UuaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLmdldE5leHQoKS5rZXksIHMgPSBuLmdldE5leHQoKS5rZXk7XG4gICAgICAgICAgICBpZiAoIXQuaXNFcXVhbChzKSkgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0LnB1c2goZS50b1N0cmluZygpKTtcbiAgICAgICAgfSkpLCAwID09PSB0Lmxlbmd0aCA/IFwiRG9jdW1lbnRTZXQgKClcIiA6IFwiRG9jdW1lbnRTZXQgKFxcbiAgXCIgKyB0LmpvaW4oXCIgIFxcblwiKSArIFwiXFxuKVwiO1xuICAgIH1cbiAgICBjb3B5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyB4bztcbiAgICAgICAgcmV0dXJuIG4uY29tcGFyYXRvciA9IHRoaXMuY29tcGFyYXRvciwgbi5rZXllZE1hcCA9IHQsIG4uc29ydGVkU2V0ID0gZSwgbjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERvY3VtZW50Q2hhbmdlU2V0IGtlZXBzIHRyYWNrIG9mIGEgc2V0IG9mIGNoYW5nZXMgdG8gZG9jcyBpbiBhIHF1ZXJ5LCBtZXJnaW5nXG4gKiBkdXBsaWNhdGUgZXZlbnRzIGZvciB0aGUgc2FtZSBkb2MuXG4gKi8gY2xhc3Mga28ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkpyID0gbmV3IGZuKFJ0LmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICB0cmFjayh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LmRvYy5rZXksIG4gPSB0aGlzLkpyLmdldChlKTtcbiAgICAgICAgbiA/IFxuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IGNoYW5nZSB3aXRoIHRoZSBleGlzdGluZyBjaGFuZ2UuXG4gICAgICAgIDAgLyogQWRkZWQgKi8gIT09IHQudHlwZSAmJiAzIC8qIE1ldGFkYXRhICovID09PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5pbnNlcnQoZSwgdCkgOiAzIC8qIE1ldGFkYXRhICovID09PSB0LnR5cGUgJiYgMSAvKiBSZW1vdmVkICovICE9PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5pbnNlcnQoZSwge1xuICAgICAgICAgICAgdHlwZTogbi50eXBlLFxuICAgICAgICAgICAgZG9jOiB0LmRvY1xuICAgICAgICB9KSA6IDIgLyogTW9kaWZpZWQgKi8gPT09IHQudHlwZSAmJiAyIC8qIE1vZGlmaWVkICovID09PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5pbnNlcnQoZSwge1xuICAgICAgICAgICAgdHlwZTogMiAvKiBNb2RpZmllZCAqLyAsXG4gICAgICAgICAgICBkb2M6IHQuZG9jXG4gICAgICAgIH0pIDogMiAvKiBNb2RpZmllZCAqLyA9PT0gdC50eXBlICYmIDAgLyogQWRkZWQgKi8gPT09IG4udHlwZSA/IHRoaXMuSnIgPSB0aGlzLkpyLmluc2VydChlLCB7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIEFkZGVkICovICxcbiAgICAgICAgICAgIGRvYzogdC5kb2NcbiAgICAgICAgfSkgOiAxIC8qIFJlbW92ZWQgKi8gPT09IHQudHlwZSAmJiAwIC8qIEFkZGVkICovID09PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5yZW1vdmUoZSkgOiAxIC8qIFJlbW92ZWQgKi8gPT09IHQudHlwZSAmJiAyIC8qIE1vZGlmaWVkICovID09PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5pbnNlcnQoZSwge1xuICAgICAgICAgICAgdHlwZTogMSAvKiBSZW1vdmVkICovICxcbiAgICAgICAgICAgIGRvYzogbi5kb2NcbiAgICAgICAgfSkgOiAwIC8qIEFkZGVkICovID09PSB0LnR5cGUgJiYgMSAvKiBSZW1vdmVkICovID09PSBuLnR5cGUgPyB0aGlzLkpyID0gdGhpcy5Kci5pbnNlcnQoZSwge1xuICAgICAgICAgICAgdHlwZTogMiAvKiBNb2RpZmllZCAqLyAsXG4gICAgICAgICAgICBkb2M6IHQuZG9jXG4gICAgICAgIH0pIDogXG4gICAgICAgIC8vIFRoaXMgaW5jbHVkZXMgdGhlc2UgY2FzZXMsIHdoaWNoIGRvbid0IG1ha2Ugc2Vuc2U6XG4gICAgICAgIC8vIEFkZGVkLT5BZGRlZFxuICAgICAgICAvLyBSZW1vdmVkLT5SZW1vdmVkXG4gICAgICAgIC8vIE1vZGlmaWVkLT5BZGRlZFxuICAgICAgICAvLyBSZW1vdmVkLT5Nb2RpZmllZFxuICAgICAgICAvLyBNZXRhZGF0YS0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+TWV0YWRhdGFcbiAgICAgICAgRigpIDogdGhpcy5KciA9IHRoaXMuSnIuaW5zZXJ0KGUsIHQpO1xuICAgIH1cbiAgICBZcigpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5Kci5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgdC5wdXNoKG4pO1xuICAgICAgICB9KSksIHQ7XG4gICAgfVxufVxuXG5jbGFzcyAkbyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcywgaSwgciwgbywgYSkge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gdCwgdGhpcy5kb2NzID0gZSwgdGhpcy5vbGREb2NzID0gbiwgdGhpcy5kb2NDaGFuZ2VzID0gcywgdGhpcy5tdXRhdGVkS2V5cyA9IGksIFxuICAgICAgICB0aGlzLmZyb21DYWNoZSA9IHIsIHRoaXMuc3luY1N0YXRlQ2hhbmdlZCA9IG8sIHRoaXMuZXhjbHVkZXNNZXRhZGF0YUNoYW5nZXMgPSBhO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIHZpZXcgc25hcHNob3QgYXMgaWYgYWxsIGRvY3VtZW50cyBpbiB0aGUgc25hcHNob3Qgd2VyZSBhZGRlZC4gKi8gICAgc3RhdGljIGZyb21Jbml0aWFsRG9jdW1lbnRzKHQsIGUsIG4sIHMpIHtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGkucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMCAvKiBBZGRlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiB0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCBuZXcgJG8odCwgZSwgeG8uZW1wdHlTZXQoZSksIGksIG4sIHMsIFxuICAgICAgICAvKiBzeW5jU3RhdGVDaGFuZ2VkPSAqLyAhMCwgXG4gICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMSk7XG4gICAgfVxuICAgIGdldCBoYXNQZW5kaW5nV3JpdGVzKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubXV0YXRlZEtleXMuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgaWYgKCEodGhpcy5mcm9tQ2FjaGUgPT09IHQuZnJvbUNhY2hlICYmIHRoaXMuc3luY1N0YXRlQ2hhbmdlZCA9PT0gdC5zeW5jU3RhdGVDaGFuZ2VkICYmIHRoaXMubXV0YXRlZEtleXMuaXNFcXVhbCh0Lm11dGF0ZWRLZXlzKSAmJiBUZSh0aGlzLnF1ZXJ5LCB0LnF1ZXJ5KSAmJiB0aGlzLmRvY3MuaXNFcXVhbCh0LmRvY3MpICYmIHRoaXMub2xkRG9jcy5pc0VxdWFsKHQub2xkRG9jcykpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmRvY0NoYW5nZXMsIG4gPSB0LmRvY0NoYW5nZXM7XG4gICAgICAgIGlmIChlLmxlbmd0aCAhPT0gbi5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBpZiAoZVt0XS50eXBlICE9PSBuW3RdLnR5cGUgfHwgIWVbdF0uZG9jLmlzRXF1YWwoblt0XS5kb2MpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhvbGRzIHRoZSBsaXN0ZW5lcnMgYW5kIHRoZSBsYXN0IHJlY2VpdmVkIFZpZXdTbmFwc2hvdCBmb3IgYSBxdWVyeSBiZWluZ1xuICogdHJhY2tlZCBieSBFdmVudE1hbmFnZXIuXG4gKi8gY2xhc3MgT28ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlhyID0gdm9pZCAwLCB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIH1cbn1cblxuY2xhc3MgRm8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBuZXcgcWkoKHQgPT4gSWUodCkpLCBUZSksIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBVbmtub3duICovICwgXG4gICAgICAgIHRoaXMuWnIgPSBuZXcgU2V0O1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gTW8odCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpLCBzID0gZS5xdWVyeTtcbiAgICBsZXQgaSA9ICExLCByID0gbi5xdWVyaWVzLmdldChzKTtcbiAgICBpZiAociB8fCAoaSA9ICEwLCByID0gbmV3IE9vKSwgaSkgdHJ5IHtcbiAgICAgICAgci5YciA9IGF3YWl0IG4ub25MaXN0ZW4ocyk7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgICBjb25zdCBuID0gTm8odCwgYEluaXRpYWxpemF0aW9uIG9mIHF1ZXJ5ICcke0FlKGUucXVlcnkpfScgZmFpbGVkYCk7XG4gICAgICAgIHJldHVybiB2b2lkIGUub25FcnJvcihuKTtcbiAgICB9XG4gICAgaWYgKG4ucXVlcmllcy5zZXQocywgciksIHIubGlzdGVuZXJzLnB1c2goZSksIFxuICAgIC8vIFJ1biBnbG9iYWwgc25hcHNob3QgbGlzdGVuZXJzIGlmIGEgY29uc2lzdGVudCBzbmFwc2hvdCBoYXMgYmVlbiBlbWl0dGVkLlxuICAgIGUuZW8obi5vbmxpbmVTdGF0ZSksIHIuWHIpIHtcbiAgICAgICAgZS5ubyhyLlhyKSAmJiBxbyhuKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIExvKHQsIGUpIHtcbiAgICBjb25zdCBuID0gQih0KSwgcyA9IGUucXVlcnk7XG4gICAgbGV0IGkgPSAhMTtcbiAgICBjb25zdCByID0gbi5xdWVyaWVzLmdldChzKTtcbiAgICBpZiAocikge1xuICAgICAgICBjb25zdCB0ID0gci5saXN0ZW5lcnMuaW5kZXhPZihlKTtcbiAgICAgICAgdCA+PSAwICYmIChyLmxpc3RlbmVycy5zcGxpY2UodCwgMSksIGkgPSAwID09PSByLmxpc3RlbmVycy5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoaSkgcmV0dXJuIG4ucXVlcmllcy5kZWxldGUocyksIG4ub25Vbmxpc3RlbihzKTtcbn1cblxuZnVuY3Rpb24gQm8odCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIGxldCBzID0gITE7XG4gICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgY29uc3QgZSA9IHQucXVlcnksIGkgPSBuLnF1ZXJpZXMuZ2V0KGUpO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGkubGlzdGVuZXJzKSBlLm5vKHQpICYmIChzID0gITApO1xuICAgICAgICAgICAgaS5YciA9IHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcyAmJiBxbyhuKTtcbn1cblxuZnVuY3Rpb24gVW8odCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBCKHQpLCBpID0gcy5xdWVyaWVzLmdldChlKTtcbiAgICBpZiAoaSkgZm9yIChjb25zdCB0IG9mIGkubGlzdGVuZXJzKSB0Lm9uRXJyb3Iobik7XG4gICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMuIE5PVEU6IFdlIGRvbid0IG5lZWQgdG8gY2FsbCBzeW5jRW5naW5lLnVubGlzdGVuKClcbiAgICAvLyBhZnRlciBhbiBlcnJvci5cbiAgICAgICAgcy5xdWVyaWVzLmRlbGV0ZShlKTtcbn1cblxuLy8gQ2FsbCBhbGwgZ2xvYmFsIHNuYXBzaG90IGxpc3RlbmVycyB0aGF0IGhhdmUgYmVlbiBzZXQuXG5mdW5jdGlvbiBxbyh0KSB7XG4gICAgdC5aci5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgdC5uZXh0KCk7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFF1ZXJ5TGlzdGVuZXIgdGFrZXMgYSBzZXJpZXMgb2YgaW50ZXJuYWwgdmlldyBzbmFwc2hvdHMgYW5kIGRldGVybWluZXNcbiAqIHdoZW4gdG8gcmFpc2UgdGhlIGV2ZW50LlxuICpcbiAqIEl0IHVzZXMgYW4gT2JzZXJ2ZXIgdG8gZGlzcGF0Y2ggZXZlbnRzLlxuICovIGNsYXNzIEtvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSB0LCB0aGlzLnNvID0gZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsIHNuYXBzaG90cyAoZS5nLiBmcm9tIGNhY2hlKSBtYXkgbm90IGJlIHByb3BhZ2F0ZWQgdG8gdGhlIHdyYXBwZWRcbiAgICAgICAgICogb2JzZXJ2ZXIuIFRoaXMgZmxhZyBpcyBzZXQgdG8gdHJ1ZSBvbmNlIHdlJ3ZlIGFjdHVhbGx5IHJhaXNlZCBhbiBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW8gPSAhMSwgdGhpcy5ybyA9IG51bGwsIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBVbmtub3duICovICwgdGhpcy5vcHRpb25zID0gbiB8fCB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgbmV3IFZpZXdTbmFwc2hvdCB0byB0aGlzIGxpc3RlbmVyLCByYWlzaW5nIGEgdXNlci1mYWNpbmcgZXZlbnRcbiAgICAgKiBpZiBhcHBsaWNhYmxlIChkZXBlbmRpbmcgb24gd2hhdCBjaGFuZ2VkLCB3aGV0aGVyIHRoZSB1c2VyIGhhcyBvcHRlZCBpbnRvXG4gICAgICogbWV0YWRhdGEtb25seSBjaGFuZ2VzLCBldGMuKS4gUmV0dXJucyB0cnVlIGlmIGEgdXNlci1mYWNpbmcgZXZlbnQgd2FzXG4gICAgICogaW5kZWVkIHJhaXNlZC5cbiAgICAgKi8gICAgbm8odCkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG1ldGFkYXRhIG9ubHkgY2hhbmdlcy5cbiAgICAgICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiB0LmRvY0NoYW5nZXMpIDMgLyogTWV0YWRhdGEgKi8gIT09IG4udHlwZSAmJiBlLnB1c2gobik7XG4gICAgICAgICAgICB0ID0gbmV3ICRvKHQucXVlcnksIHQuZG9jcywgdC5vbGREb2NzLCBlLCB0Lm11dGF0ZWRLZXlzLCB0LmZyb21DYWNoZSwgdC5zeW5jU3RhdGVDaGFuZ2VkLCBcbiAgICAgICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGUgPSAhMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW8gPyB0aGlzLm9vKHQpICYmICh0aGlzLnNvLm5leHQodCksIGUgPSAhMCkgOiB0aGlzLmFvKHQsIHRoaXMub25saW5lU3RhdGUpICYmICh0aGlzLmNvKHQpLCBcbiAgICAgICAgZSA9ICEwKSwgdGhpcy5ybyA9IHQsIGU7XG4gICAgfVxuICAgIG9uRXJyb3IodCkge1xuICAgICAgICB0aGlzLnNvLmVycm9yKHQpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB3aGV0aGVyIGEgc25hcHNob3Qgd2FzIHJhaXNlZC4gKi8gICAgZW8odCkge1xuICAgICAgICB0aGlzLm9ubGluZVN0YXRlID0gdDtcbiAgICAgICAgbGV0IGUgPSAhMTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm8gJiYgIXRoaXMuaW8gJiYgdGhpcy5hbyh0aGlzLnJvLCB0KSAmJiAodGhpcy5jbyh0aGlzLnJvKSwgZSA9ICEwKSwgXG4gICAgICAgIGU7XG4gICAgfVxuICAgIGFvKHQsIGUpIHtcbiAgICAgICAgLy8gQWx3YXlzIHJhaXNlIHRoZSBmaXJzdCBldmVudCB3aGVuIHdlJ3JlIHN5bmNlZFxuICAgICAgICBpZiAoIXQuZnJvbUNhY2hlKSByZXR1cm4gITA7XG4gICAgICAgIC8vIE5PVEU6IFdlIGNvbnNpZGVyIE9ubGluZVN0YXRlLlVua25vd24gYXMgb25saW5lIChpdCBzaG91bGQgYmVjb21lIE9mZmxpbmVcbiAgICAgICAgLy8gb3IgT25saW5lIGlmIHdlIHdhaXQgbG9uZyBlbm91Z2gpLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBcIk9mZmxpbmVcIiAvKiBPZmZsaW5lICovICE9PSBlO1xuICAgICAgICAvLyBEb24ndCByYWlzZSB0aGUgZXZlbnQgaWYgd2UncmUgb25saW5lLCBhcmVuJ3Qgc3luY2VkIHlldCAoY2hlY2tlZFxuICAgICAgICAvLyBhYm92ZSkgYW5kIGFyZSB3YWl0aW5nIGZvciBhIHN5bmMuXG4gICAgICAgICAgICAgICAgcmV0dXJuICghdGhpcy5vcHRpb25zLnVvIHx8ICFuKSAmJiAoIXQuZG9jcy5pc0VtcHR5KCkgfHwgXCJPZmZsaW5lXCIgLyogT2ZmbGluZSAqLyA9PT0gZSk7XG4gICAgICAgIC8vIFJhaXNlIGRhdGEgZnJvbSBjYWNoZSBpZiB3ZSBoYXZlIGFueSBkb2N1bWVudHMgb3Igd2UgYXJlIG9mZmxpbmVcbiAgICAgICAgfVxuICAgIG9vKHQpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBoYW5kbGUgaW5jbHVkZURvY3VtZW50TWV0YWRhdGFDaGFuZ2VzIGhlcmUgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgTWV0YWRhdGEgb25seSBjaGFuZ2VzIGhhdmUgYWxyZWFkeSBiZWVuIHN0cmlwcGVkIG91dCBpZiBuZWVkZWQuXG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIG9ubHkgY2hhbmdlcyB3ZSB3aWxsIHNlZSBhcmUgdGhlIG9uZXMgd2Ugc2hvdWxkXG4gICAgICAgIC8vIHByb3BhZ2F0ZS5cbiAgICAgICAgaWYgKHQuZG9jQ2hhbmdlcy5sZW5ndGggPiAwKSByZXR1cm4gITA7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnJvICYmIHRoaXMucm8uaGFzUGVuZGluZ1dyaXRlcyAhPT0gdC5oYXNQZW5kaW5nV3JpdGVzO1xuICAgICAgICByZXR1cm4gISghdC5zeW5jU3RhdGVDaGFuZ2VkICYmICFlKSAmJiAhMCA9PT0gdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXM7XG4gICAgICAgIC8vIEdlbmVyYWxseSB3ZSBzaG91bGQgaGF2ZSBoaXQgb25lIG9mIHRoZSBjYXNlcyBhYm92ZSwgYnV0IGl0J3MgcG9zc2libGVcbiAgICAgICAgLy8gdG8gZ2V0IGhlcmUgaWYgdGhlcmUgd2VyZSBvbmx5IG1ldGFkYXRhIGRvY0NoYW5nZXMgYW5kIHRoZXkgZ290XG4gICAgICAgIC8vIHN0cmlwcGVkIG91dC5cbiAgICAgICAgfVxuICAgIGNvKHQpIHtcbiAgICAgICAgdCA9ICRvLmZyb21Jbml0aWFsRG9jdW1lbnRzKHQucXVlcnksIHQuZG9jcywgdC5tdXRhdGVkS2V5cywgdC5mcm9tQ2FjaGUpLCB0aGlzLmlvID0gITAsIFxuICAgICAgICB0aGlzLnNvLm5leHQodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGNvbXBsZXRlIGVsZW1lbnQgaW4gdGhlIGJ1bmRsZSBzdHJlYW0sIHRvZ2V0aGVyIHdpdGggdGhlIGJ5dGUgbGVuZ3RoIGl0XG4gKiBvY2N1cGllcyBpbiB0aGUgc3RyZWFtLlxuICovIGNsYXNzIGpvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBcbiAgICAvLyBIb3cgbWFueSBieXRlcyB0aGlzIGVsZW1lbnQgdGFrZXMgdG8gc3RvcmUgaW4gdGhlIGJ1bmRsZS5cbiAgICBlKSB7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHQsIHRoaXMuYnl0ZUxlbmd0aCA9IGU7XG4gICAgfVxuICAgIGhvKCkge1xuICAgICAgICByZXR1cm4gXCJtZXRhZGF0YVwiIGluIHRoaXMucGF5bG9hZDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhlbHBlciB0byBjb252ZXJ0IG9iamVjdHMgZnJvbSBidW5kbGVzIHRvIG1vZGVsIG9iamVjdHMgaW4gdGhlIFNESy5cbiAqLyBjbGFzcyBRbyB7XG4gICAgY29uc3RydWN0b3IodCkge1xuICAgICAgICB0aGlzLk4gPSB0O1xuICAgIH1cbiAgICB6bih0KSB7XG4gICAgICAgIHJldHVybiBXbih0aGlzLk4sIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIEJ1bmRsZURvY3VtZW50IHRvIGEgTXV0YWJsZURvY3VtZW50LlxuICAgICAqLyAgICBIbih0KSB7XG4gICAgICAgIHJldHVybiB0Lm1ldGFkYXRhLmV4aXN0cyA/IFhuKHRoaXMuTiwgdC5kb2N1bWVudCwgITEpIDogVXQubmV3Tm9Eb2N1bWVudCh0aGlzLnpuKHQubWV0YWRhdGEubmFtZSksIHRoaXMuSm4odC5tZXRhZGF0YS5yZWFkVGltZSkpO1xuICAgIH1cbiAgICBKbih0KSB7XG4gICAgICAgIHJldHVybiBxbih0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBjbGFzcyB0byBwcm9jZXNzIHRoZSBlbGVtZW50cyBmcm9tIGEgYnVuZGxlLCBsb2FkIHRoZW0gaW50byBsb2NhbFxuICogc3RvcmFnZSBhbmQgcHJvdmlkZSBwcm9ncmVzcyB1cGRhdGUgd2hpbGUgbG9hZGluZy5cbiAqLyBjbGFzcyBXbyB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLmxvID0gdCwgdGhpcy5sb2NhbFN0b3JlID0gZSwgdGhpcy5OID0gbiwgXG4gICAgICAgIC8qKiBCYXRjaGVkIHF1ZXJpZXMgdG8gYmUgc2F2ZWQgaW50byBzdG9yYWdlICovXG4gICAgICAgIHRoaXMucXVlcmllcyA9IFtdLCBcbiAgICAgICAgLyoqIEJhdGNoZWQgZG9jdW1lbnRzIHRvIGJlIHNhdmVkIGludG8gc3RvcmFnZSAqL1xuICAgICAgICB0aGlzLmRvY3VtZW50cyA9IFtdLCB0aGlzLnByb2dyZXNzID0gR28odCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gZWxlbWVudCBmcm9tIHRoZSBidW5kbGUgdG8gdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYSBuZXcgcHJvZ3Jlc3MgaWYgYWRkaW5nIHRoZSBlbGVtZW50IGxlYWRzIHRvIGEgbmV3IHByb2dyZXNzLFxuICAgICAqIG90aGVyd2lzZSByZXR1cm5zIG51bGwuXG4gICAgICovICAgIGZvKHQpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5ieXRlc0xvYWRlZCArPSB0LmJ5dGVMZW5ndGg7XG4gICAgICAgIGxldCBlID0gdGhpcy5wcm9ncmVzcy5kb2N1bWVudHNMb2FkZWQ7XG4gICAgICAgIHJldHVybiB0LnBheWxvYWQubmFtZWRRdWVyeSA/IHRoaXMucXVlcmllcy5wdXNoKHQucGF5bG9hZC5uYW1lZFF1ZXJ5KSA6IHQucGF5bG9hZC5kb2N1bWVudE1ldGFkYXRhID8gKHRoaXMuZG9jdW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgbWV0YWRhdGE6IHQucGF5bG9hZC5kb2N1bWVudE1ldGFkYXRhXG4gICAgICAgIH0pLCB0LnBheWxvYWQuZG9jdW1lbnRNZXRhZGF0YS5leGlzdHMgfHwgKytlKSA6IHQucGF5bG9hZC5kb2N1bWVudCAmJiAodGhpcy5kb2N1bWVudHNbdGhpcy5kb2N1bWVudHMubGVuZ3RoIC0gMV0uZG9jdW1lbnQgPSB0LnBheWxvYWQuZG9jdW1lbnQsIFxuICAgICAgICArK2UpLCBlICE9PSB0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA/ICh0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA9IGUsIFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb2dyZXNzKSkgOiBudWxsO1xuICAgIH1cbiAgICB3byh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgTWFwLCBuID0gbmV3IFFvKHRoaXMuTik7XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiB0KSBpZiAocy5tZXRhZGF0YS5xdWVyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbi56bihzLm1ldGFkYXRhLm5hbWUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHMubWV0YWRhdGEucXVlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSAoZS5nZXQobikgfHwgUm4oKSkuYWRkKHQpO1xuICAgICAgICAgICAgICAgIGUuc2V0KG4sIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHByb2dyZXNzIHRvICdTdWNjZXNzJyBhbmQgcmV0dXJuIHRoZSB1cGRhdGVkIHByb2dyZXNzLlxuICAgICAqLyAgICBhc3luYyBjb21wbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IEVyKHRoaXMubG9jYWxTdG9yZSwgbmV3IFFvKHRoaXMuTiksIHRoaXMuZG9jdW1lbnRzLCB0aGlzLmxvLmlkKSwgZSA9IHRoaXMud28odGhpcy5kb2N1bWVudHMpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5xdWVyaWVzKSBhd2FpdCBUcih0aGlzLmxvY2FsU3RvcmUsIHQsIGUuZ2V0KHQubmFtZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy50YXNrU3RhdGUgPSBcIlN1Y2Nlc3NcIiwgbmV3IG5yKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvZ3Jlc3MpLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCByZXByZXNlbnRpbmcgdGhlIGluaXRpYWwgcHJvZ3Jlc3Mgb2ZcbiAqIGxvYWRpbmcgYSBidW5kbGUuXG4gKi8gZnVuY3Rpb24gR28odCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRhc2tTdGF0ZTogXCJSdW5uaW5nXCIsXG4gICAgICAgIGRvY3VtZW50c0xvYWRlZDogMCxcbiAgICAgICAgYnl0ZXNMb2FkZWQ6IDAsXG4gICAgICAgIHRvdGFsRG9jdW1lbnRzOiB0LnRvdGFsRG9jdW1lbnRzLFxuICAgICAgICB0b3RhbEJ5dGVzOiB0LnRvdGFsQnl0ZXNcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBgTG9hZEJ1bmRsZVRhc2tQcm9ncmVzc2AgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyB0aGF0IHRoZSBsb2FkaW5nXG4gKiBoYXMgc3VjY2VlZGVkLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY2xhc3Mgem8ge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgSG8ge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBWaWV3IGlzIHJlc3BvbnNpYmxlIGZvciBjb21wdXRpbmcgdGhlIGZpbmFsIG1lcmdlZCB0cnV0aCBvZiB3aGF0IGRvY3MgYXJlIGluXG4gKiBhIHF1ZXJ5LiBJdCBnZXRzIG5vdGlmaWVkIG9mIGxvY2FsIGFuZCByZW1vdGUgY2hhbmdlcyB0byBkb2NzLCBhbmQgYXBwbGllc1xuICogdGhlIHF1ZXJ5IGZpbHRlcnMgYW5kIGxpbWl0cyB0byBkZXRlcm1pbmUgdGhlIG1vc3QgY29ycmVjdCBwb3NzaWJsZSByZXN1bHRzLlxuICovIGNsYXNzIEpvIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBcbiAgICAvKiogRG9jdW1lbnRzIGluY2x1ZGVkIGluIHRoZSByZW1vdGUgdGFyZ2V0ICovXG4gICAgZSkge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gdCwgdGhpcy5fbyA9IGUsIHRoaXMubW8gPSBudWxsLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB3aGV0aGVyIHRoZSB2aWV3IGlzIGN1cnJlbnQgd2l0aCB0aGUgYmFja2VuZC4gQSB2aWV3IGlzIGNvbnNpZGVyZWRcbiAgICAgICAgICogY3VycmVudCBhZnRlciBpdCBoYXMgc2VlbiB0aGUgY3VycmVudCBmbGFnIGZyb20gdGhlIGJhY2tlbmQgYW5kIGRpZCBub3RcbiAgICAgICAgICogbG9zZSBjb25zaXN0ZW5jeSB3aXRoaW4gdGhlIHdhdGNoIHN0cmVhbSAoZS5nLiBiZWNhdXNlIG9mIGFuIGV4aXN0ZW5jZVxuICAgICAgICAgKiBmaWx0ZXIgbWlzbWF0Y2gpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gITEsIFxuICAgICAgICAvKiogRG9jdW1lbnRzIGluIHRoZSB2aWV3IGJ1dCBub3QgaW4gdGhlIHJlbW90ZSB0YXJnZXQgKi9cbiAgICAgICAgdGhpcy55byA9IFJuKCksIFxuICAgICAgICAvKiogRG9jdW1lbnQgS2V5cyB0aGF0IGhhdmUgbG9jYWwgY2hhbmdlcyAqL1xuICAgICAgICB0aGlzLm11dGF0ZWRLZXlzID0gUm4oKSwgdGhpcy5wbyA9IGJlKHQpLCB0aGlzLkVvID0gbmV3IHhvKHRoaXMucG8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIHJlbW90ZSBkb2N1bWVudHMgdGhhdCB0aGUgc2VydmVyIGhhcyB0b2xkIHVzIGJlbG9uZ3MgdG8gdGhlIHRhcmdldCBhc3NvY2lhdGVkIHdpdGhcbiAgICAgKiB0aGlzIHZpZXcuXG4gICAgICovICAgIGdldCBUbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX287XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYSBzZXQgb2YgZG9jIGNoYW5nZXMsIGFwcGxpZXMgdGhlIHF1ZXJ5IGxpbWl0LCBhbmQgY29tcHV0ZXNcbiAgICAgKiB3aGF0IHRoZSBuZXcgcmVzdWx0cyBzaG91bGQgYmUsIHdoYXQgdGhlIGNoYW5nZXMgd2VyZSwgYW5kIHdoZXRoZXIgd2UgbWF5XG4gICAgICogbmVlZCB0byBnbyBiYWNrIHRvIHRoZSBsb2NhbCBjYWNoZSBmb3IgbW9yZSByZXN1bHRzLiBEb2VzIG5vdCBtYWtlIGFueVxuICAgICAqIGNoYW5nZXMgdG8gdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIGRvY0NoYW5nZXMgLSBUaGUgZG9jIGNoYW5nZXMgdG8gYXBwbHkgdG8gdGhpcyB2aWV3LlxuICAgICAqIEBwYXJhbSBwcmV2aW91c0NoYW5nZXMgLSBJZiB0aGlzIGlzIGJlaW5nIGNhbGxlZCB3aXRoIGEgcmVmaWxsLCB0aGVuIHN0YXJ0XG4gICAgICogICAgICAgIHdpdGggdGhpcyBzZXQgb2YgZG9jcyBhbmQgY2hhbmdlcyBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gICAgICogQHJldHVybnMgYSBuZXcgc2V0IG9mIGRvY3MsIGNoYW5nZXMsIGFuZCByZWZpbGwgZmxhZy5cbiAgICAgKi8gICAgSW8odCwgZSkge1xuICAgICAgICBjb25zdCBuID0gZSA/IGUuQW8gOiBuZXcga28sIHMgPSBlID8gZS5FbyA6IHRoaXMuRW87XG4gICAgICAgIGxldCBpID0gZSA/IGUubXV0YXRlZEtleXMgOiB0aGlzLm11dGF0ZWRLZXlzLCByID0gcywgbyA9ICExO1xuICAgICAgICAvLyBUcmFjayB0aGUgbGFzdCBkb2MgaW4gYSAoZnVsbCkgbGltaXQuIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHNvbWVcbiAgICAgICAgLy8gdXBkYXRlIChhIGRlbGV0ZSwgb3IgYW4gdXBkYXRlIG1vdmluZyBhIGRvYyBwYXN0IHRoZSBvbGQgbGltaXQpIG1pZ2h0XG4gICAgICAgIC8vIG1lYW4gdGhlcmUgaXMgc29tZSBvdGhlciBkb2N1bWVudCBpbiB0aGUgbG9jYWwgY2FjaGUgdGhhdCBlaXRoZXIgc2hvdWxkXG4gICAgICAgIC8vIGNvbWUgKDEpIGJldHdlZW4gdGhlIG9sZCBsYXN0IGxpbWl0IGRvYyBhbmQgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGVcbiAgICAgICAgLy8gY2FzZSBvZiB1cGRhdGVzLCBvciAoMikgYWZ0ZXIgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGUgY2FzZSBvZlxuICAgICAgICAvLyBkZWxldGVzLiBTbyB3ZSBrZWVwIHRoaXMgZG9jIGF0IHRoZSBvbGQgbGltaXQgdG8gY29tcGFyZSB0aGUgdXBkYXRlcyB0by5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG5ldmVyIGdldCB1c2VkIGluIGEgcmVmaWxsICh3aGVuIHByZXZpb3VzQ2hhbmdlcyBpc1xuICAgICAgICAvLyBzZXQpLCBiZWNhdXNlIHRoZXJlIHdpbGwgb25seSBiZSBhZGRzIC0tIG5vIGRlbGV0ZXMgb3IgdXBkYXRlcy5cbiAgICAgICAgY29uc3QgYSA9IGRlKHRoaXMucXVlcnkpICYmIHMuc2l6ZSA9PT0gdGhpcy5xdWVyeS5saW1pdCA/IHMubGFzdCgpIDogbnVsbCwgYyA9IHdlKHRoaXMucXVlcnkpICYmIHMuc2l6ZSA9PT0gdGhpcy5xdWVyeS5saW1pdCA/IHMuZmlyc3QoKSA6IG51bGw7XG4gICAgICAgIC8vIERyb3AgZG9jdW1lbnRzIG91dCB0byBtZWV0IGxpbWl0L2xpbWl0VG9MYXN0IHJlcXVpcmVtZW50LlxuICAgICAgICBpZiAodC5pbm9yZGVyVHJhdmVyc2FsKCgodCwgZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdSA9IHMuZ2V0KHQpLCBoID0gUmUodGhpcy5xdWVyeSwgZSkgPyBlIDogbnVsbCwgbCA9ICEhdSAmJiB0aGlzLm11dGF0ZWRLZXlzLmhhcyh1LmtleSksIGYgPSAhIWggJiYgKGguaGFzTG9jYWxNdXRhdGlvbnMgfHwgXG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNvbnNpZGVyIGNvbW1pdHRlZCBtdXRhdGlvbnMgZm9yIGRvY3VtZW50cyB0aGF0IHdlcmVcbiAgICAgICAgICAgIC8vIG11dGF0ZWQgZHVyaW5nIHRoZSBsaWZldGltZSBvZiB0aGUgdmlldy5cbiAgICAgICAgICAgIHRoaXMubXV0YXRlZEtleXMuaGFzKGgua2V5KSAmJiBoLmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7XG4gICAgICAgICAgICBsZXQgZCA9ICExO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUgJiYgaCkge1xuICAgICAgICAgICAgICAgIHUuZGF0YS5pc0VxdWFsKGguZGF0YSkgPyBsICE9PSBmICYmIChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogMyAvKiBNZXRhZGF0YSAqLyAsXG4gICAgICAgICAgICAgICAgICAgIGRvYzogaFxuICAgICAgICAgICAgICAgIH0pLCBkID0gITApIDogdGhpcy5Sbyh1LCBoKSB8fCAobi50cmFjayh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDIgLyogTW9kaWZpZWQgKi8gLFxuICAgICAgICAgICAgICAgICAgICBkb2M6IGhcbiAgICAgICAgICAgICAgICB9KSwgZCA9ICEwLCAoYSAmJiB0aGlzLnBvKGgsIGEpID4gMCB8fCBjICYmIHRoaXMucG8oaCwgYykgPCAwKSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBkb2MgbW92ZWQgZnJvbSBpbnNpZGUgdGhlIGxpbWl0IHRvIG91dHNpZGUgdGhlIGxpbWl0LlxuICAgICAgICAgICAgICAgIC8vIFRoYXQgbWVhbnMgdGhlcmUgbWF5IGJlIHNvbWUgb3RoZXIgZG9jIGluIHRoZSBsb2NhbCBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluc3RlYWQuXG4gICAgICAgICAgICAgICAgbyA9ICEwKSk7XG4gICAgICAgICAgICB9IGVsc2UgIXUgJiYgaCA/IChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAwIC8qIEFkZGVkICovICxcbiAgICAgICAgICAgICAgICBkb2M6IGhcbiAgICAgICAgICAgIH0pLCBkID0gITApIDogdSAmJiAhaCAmJiAobi50cmFjayh7XG4gICAgICAgICAgICAgICAgdHlwZTogMSAvKiBSZW1vdmVkICovICxcbiAgICAgICAgICAgICAgICBkb2M6IHVcbiAgICAgICAgICAgIH0pLCBkID0gITAsIChhIHx8IGMpICYmIChcbiAgICAgICAgICAgIC8vIEEgZG9jIHdhcyByZW1vdmVkIGZyb20gYSBmdWxsIGxpbWl0IHF1ZXJ5LiBXZSdsbCBuZWVkIHRvXG4gICAgICAgICAgICAvLyByZXF1ZXJ5IGZyb20gdGhlIGxvY2FsIGNhY2hlIHRvIHNlZSBpZiB3ZSBrbm93IGFib3V0IHNvbWUgb3RoZXJcbiAgICAgICAgICAgIC8vIGRvYyB0aGF0IHNob3VsZCBiZSBpbiB0aGUgcmVzdWx0cy5cbiAgICAgICAgICAgIG8gPSAhMCkpO1xuICAgICAgICAgICAgZCAmJiAoaCA/IChyID0gci5hZGQoaCksIGkgPSBmID8gaS5hZGQodCkgOiBpLmRlbGV0ZSh0KSkgOiAociA9IHIuZGVsZXRlKHQpLCBpID0gaS5kZWxldGUodCkpKTtcbiAgICAgICAgfSkpLCBkZSh0aGlzLnF1ZXJ5KSB8fCB3ZSh0aGlzLnF1ZXJ5KSkgZm9yICg7ci5zaXplID4gdGhpcy5xdWVyeS5saW1pdDsgKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZGUodGhpcy5xdWVyeSkgPyByLmxhc3QoKSA6IHIuZmlyc3QoKTtcbiAgICAgICAgICAgIHIgPSByLmRlbGV0ZSh0LmtleSksIGkgPSBpLmRlbGV0ZSh0LmtleSksIG4udHJhY2soe1xuICAgICAgICAgICAgICAgIHR5cGU6IDEgLyogUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiB0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgRW86IHIsXG4gICAgICAgICAgICBBbzogbixcbiAgICAgICAgICAgIExuOiBvLFxuICAgICAgICAgICAgbXV0YXRlZEtleXM6IGlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUm8odCwgZSkge1xuICAgICAgICAvLyBXZSBzdXBwcmVzcyB0aGUgaW5pdGlhbCBjaGFuZ2UgZXZlbnQgZm9yIGRvY3VtZW50cyB0aGF0IHdlcmUgbW9kaWZpZWQgYXNcbiAgICAgICAgLy8gcGFydCBvZiBhIHdyaXRlIGFja25vd2xlZGdtZW50IChlLmcuIHdoZW4gdGhlIHZhbHVlIG9mIGEgc2VydmVyIHRyYW5zZm9ybVxuICAgICAgICAvLyBpcyBhcHBsaWVkKSBhcyBXYXRjaCB3aWxsIHNlbmQgdXMgdGhlIHNhbWUgZG9jdW1lbnQgYWdhaW4uXG4gICAgICAgIC8vIEJ5IHN1cHByZXNzaW5nIHRoZSBldmVudCwgd2Ugb25seSByYWlzZSB0d28gdXNlciB2aXNpYmxlIGV2ZW50cyAob25lIHdpdGhcbiAgICAgICAgLy8gYGhhc1BlbmRpbmdXcml0ZXNgIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIGRvY3VtZW50KSBpbnN0ZWFkIG9mIHRocmVlXG4gICAgICAgIC8vIChvbmUgd2l0aCBgaGFzUGVuZGluZ1dyaXRlc2AsIHRoZSBtb2RpZmllZCBkb2N1bWVudCB3aXRoXG4gICAgICAgIC8vIGBoYXNQZW5kaW5nV3JpdGVzYCBhbmQgdGhlIGZpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudCkuXG4gICAgICAgIHJldHVybiB0Lmhhc0xvY2FsTXV0YXRpb25zICYmIGUuaGFzQ29tbWl0dGVkTXV0YXRpb25zICYmICFlLmhhc0xvY2FsTXV0YXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIFZpZXdEb2N1bWVudENoYW5nZXMgYW5kIG9wdGlvbmFsbHkgdXBkYXRlc1xuICAgICAqIGxpbWJvIGRvY3MgYW5kIHN5bmMgc3RhdGUgZnJvbSB0aGUgcHJvdmlkZWQgdGFyZ2V0IGNoYW5nZS5cbiAgICAgKiBAcGFyYW0gZG9jQ2hhbmdlcyAtIFRoZSBzZXQgb2YgY2hhbmdlcyB0byBtYWtlIHRvIHRoZSB2aWV3J3MgZG9jcy5cbiAgICAgKiBAcGFyYW0gdXBkYXRlTGltYm9Eb2N1bWVudHMgLSBXaGV0aGVyIHRvIHVwZGF0ZSBsaW1ibyBkb2N1bWVudHMgYmFzZWQgb25cbiAgICAgKiAgICAgICAgdGhpcyBjaGFuZ2UuXG4gICAgICogQHBhcmFtIHRhcmdldENoYW5nZSAtIEEgdGFyZ2V0IGNoYW5nZSB0byBhcHBseSBmb3IgY29tcHV0aW5nIGxpbWJvIGRvY3MgYW5kXG4gICAgICogICAgICAgIHN5bmMgc3RhdGUuXG4gICAgICogQHJldHVybnMgQSBuZXcgVmlld0NoYW5nZSB3aXRoIHRoZSBnaXZlbiBkb2NzLCBjaGFuZ2VzLCBhbmQgc3luYyBzdGF0ZS5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSBpT1MvQW5kcm9pZCBjbGllbnRzIGFsd2F5cyBjb21wdXRlIGxpbWJvIGRvY3VtZW50IGNoYW5nZXMuXG4gICAgYXBwbHlDaGFuZ2VzKHQsIGUsIG4pIHtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuRW87XG4gICAgICAgIHRoaXMuRW8gPSB0LkVvLCB0aGlzLm11dGF0ZWRLZXlzID0gdC5tdXRhdGVkS2V5cztcbiAgICAgICAgLy8gU29ydCBjaGFuZ2VzIGJhc2VkIG9uIHR5cGUgYW5kIHF1ZXJ5IGNvbXBhcmF0b3JcbiAgICAgICAgY29uc3QgaSA9IHQuQW8uWXIoKTtcbiAgICAgICAgaS5zb3J0KCgodCwgZSkgPT4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIEFkZGVkICovIDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBNb2RpZmllZCAqLyA6XG4gICAgICAgICAgICAgICAgICBjYXNlIDMgLyogTWV0YWRhdGEgKi8gOlxuICAgICAgICAgICAgICAgICAgICAvLyBBIG1ldGFkYXRhIGNoYW5nZSBpcyBjb252ZXJ0ZWQgdG8gYSBtb2RpZmllZCBjaGFuZ2UgYXQgdGhlIHB1YmxpY1xuICAgICAgICAgICAgICAgICAgICAvLyBhcGkgbGF5ZXIuICBTaW5jZSB3ZSBzb3J0IGJ5IGRvY3VtZW50IGtleSBhbmQgdGhlbiBjaGFuZ2UgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gbWV0YWRhdGEgYW5kIG1vZGlmaWVkIGNoYW5nZXMgbXVzdCBiZSBzb3J0ZWQgZXF1aXZhbGVudGx5LlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIFJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG4odCkgLSBuKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0LnR5cGUsIGUudHlwZSkgfHwgdGhpcy5wbyh0LmRvYywgZS5kb2MpKSksIHRoaXMuYm8obik7XG4gICAgICAgIGNvbnN0IHIgPSBlID8gdGhpcy5QbygpIDogW10sIG8gPSAwID09PSB0aGlzLnlvLnNpemUgJiYgdGhpcy5jdXJyZW50ID8gMSAvKiBTeW5jZWQgKi8gOiAwIC8qIExvY2FsICovICwgYSA9IG8gIT09IHRoaXMubW87XG4gICAgICAgIGlmICh0aGlzLm1vID0gbywgMCAhPT0gaS5sZW5ndGggfHwgYSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzbmFwc2hvdDogbmV3ICRvKHRoaXMucXVlcnksIHQuRW8sIHMsIGksIHQubXV0YXRlZEtleXMsIDAgLyogTG9jYWwgKi8gPT09IG8sIGEsIFxuICAgICAgICAgICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMSksXG4gICAgICAgICAgICAgICAgdm86IHJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gY2hhbmdlc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdm86IHJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhbiBPbmxpbmVTdGF0ZSBjaGFuZ2UgdG8gdGhlIHZpZXcsIHBvdGVudGlhbGx5IGdlbmVyYXRpbmcgYVxuICAgICAqIFZpZXdDaGFuZ2UgaWYgdGhlIHZpZXcncyBzeW5jU3RhdGUgY2hhbmdlcyBhcyBhIHJlc3VsdC5cbiAgICAgKi8gICAgZW8odCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50ICYmIFwiT2ZmbGluZVwiIC8qIE9mZmxpbmUgKi8gPT09IHQgPyAoXG4gICAgICAgIC8vIElmIHdlJ3JlIG9mZmxpbmUsIHNldCBgY3VycmVudGAgdG8gZmFsc2UgYW5kIHRoZW4gY2FsbCBhcHBseUNoYW5nZXMoKVxuICAgICAgICAvLyB0byByZWZyZXNoIG91ciBzeW5jU3RhdGUgYW5kIGdlbmVyYXRlIGEgVmlld0NoYW5nZSBhcyBhcHByb3ByaWF0ZS4gV2VcbiAgICAgICAgLy8gYXJlIGd1YXJhbnRlZWQgdG8gZ2V0IGEgbmV3IFRhcmdldENoYW5nZSB0aGF0IHNldHMgYGN1cnJlbnRgIGJhY2sgdG9cbiAgICAgICAgLy8gdHJ1ZSBvbmNlIHRoZSBjbGllbnQgaXMgYmFjayBvbmxpbmUuXG4gICAgICAgIHRoaXMuY3VycmVudCA9ICExLCB0aGlzLmFwcGx5Q2hhbmdlcyh7XG4gICAgICAgICAgICBFbzogdGhpcy5FbyxcbiAgICAgICAgICAgIEFvOiBuZXcga28sXG4gICAgICAgICAgICBtdXRhdGVkS2V5czogdGhpcy5tdXRhdGVkS2V5cyxcbiAgICAgICAgICAgIExuOiAhMVxuICAgICAgICB9LCBcbiAgICAgICAgLyogdXBkYXRlTGltYm9Eb2N1bWVudHM9ICovICExKSkgOiB7XG4gICAgICAgICAgICB2bzogW11cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBkb2MgZm9yIHRoZSBnaXZlbiBrZXkgc2hvdWxkIGJlIGluIGxpbWJvLlxuICAgICAqLyAgICBWbyh0KSB7XG4gICAgICAgIC8vIElmIHRoZSByZW1vdGUgZW5kIHNheXMgaXQncyBwYXJ0IG9mIHRoaXMgcXVlcnksIGl0J3Mgbm90IGluIGxpbWJvLlxuICAgICAgICByZXR1cm4gIXRoaXMuX28uaGFzKHQpICYmIChcbiAgICAgICAgLy8gVGhlIGxvY2FsIHN0b3JlIGRvZXNuJ3QgdGhpbmsgaXQncyBhIHJlc3VsdCwgc28gaXQgc2hvdWxkbid0IGJlIGluIGxpbWJvLlxuICAgICAgICAhIXRoaXMuRW8uaGFzKHQpICYmICF0aGlzLkVvLmdldCh0KS5oYXNMb2NhbE11dGF0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgc3luY2VkRG9jdW1lbnRzLCBjdXJyZW50LCBhbmQgbGltYm8gZG9jcyBiYXNlZCBvbiB0aGUgZ2l2ZW4gY2hhbmdlLlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgY2hhbmdlcyB0byB3aGljaCBkb2NzIGFyZSBpbiBsaW1iby5cbiAgICAgKi8gICAgYm8odCkge1xuICAgICAgICB0ICYmICh0LmFkZGVkRG9jdW1lbnRzLmZvckVhY2goKHQgPT4gdGhpcy5fbyA9IHRoaXMuX28uYWRkKHQpKSksIHQubW9kaWZpZWREb2N1bWVudHMuZm9yRWFjaCgodCA9PiB7fSkpLCBcbiAgICAgICAgdC5yZW1vdmVkRG9jdW1lbnRzLmZvckVhY2goKHQgPT4gdGhpcy5fbyA9IHRoaXMuX28uZGVsZXRlKHQpKSksIHRoaXMuY3VycmVudCA9IHQuY3VycmVudCk7XG4gICAgfVxuICAgIFBvKCkge1xuICAgICAgICAvLyBXZSBjYW4gb25seSBkZXRlcm1pbmUgbGltYm8gZG9jdW1lbnRzIHdoZW4gd2UncmUgaW4tc3luYyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50KSByZXR1cm4gW107XG4gICAgICAgIC8vIFRPRE8oa2xpbXQpOiBEbyB0aGlzIGluY3JlbWVudGFsbHkgc28gdGhhdCBpdCdzIG5vdCBxdWFkcmF0aWMgd2hlblxuICAgICAgICAvLyB1cGRhdGluZyBtYW55IGRvY3VtZW50cy5cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy55bztcbiAgICAgICAgdGhpcy55byA9IFJuKCksIHRoaXMuRW8uZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICB0aGlzLlZvKHQua2V5KSAmJiAodGhpcy55byA9IHRoaXMueW8uYWRkKHQua2V5KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gRGlmZiB0aGUgbmV3IGxpbWJvIGRvY3Mgd2l0aCB0aGUgb2xkIGxpbWJvIGRvY3MuXG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICB0aGlzLnlvLmhhcyh0KSB8fCBlLnB1c2gobmV3IEhvKHQpKTtcbiAgICAgICAgfSkpLCB0aGlzLnlvLmZvckVhY2goKG4gPT4ge1xuICAgICAgICAgICAgdC5oYXMobikgfHwgZS5wdXNoKG5ldyB6byhuKSk7XG4gICAgICAgIH0pKSwgZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBpbi1tZW1vcnkgc3RhdGUgb2YgdGhlIGN1cnJlbnQgdmlldyB3aXRoIHRoZSBzdGF0ZSByZWFkIGZyb21cbiAgICAgKiBwZXJzaXN0ZW5jZS5cbiAgICAgKlxuICAgICAqIFdlIHVwZGF0ZSB0aGUgcXVlcnkgdmlldyB3aGVuZXZlciBhIGNsaWVudCdzIHByaW1hcnkgc3RhdHVzIGNoYW5nZXM6XG4gICAgICogLSBXaGVuIGEgY2xpZW50IHRyYW5zaXRpb25zIGZyb20gcHJpbWFyeSB0byBzZWNvbmRhcnksIGl0IGNhbiBtaXNzXG4gICAgICogICBMb2NhbFN0b3JhZ2UgdXBkYXRlcyBhbmQgaXRzIHF1ZXJ5IHZpZXdzIG1heSB0ZW1wb3JhcmlseSBub3QgYmVcbiAgICAgKiAgIHN5bmNocm9uaXplZCB3aXRoIHRoZSBzdGF0ZSBvbiBkaXNrLlxuICAgICAqIC0gRm9yIHNlY29uZGFyeSB0byBwcmltYXJ5IHRyYW5zaXRpb25zLCB0aGUgY2xpZW50IG5lZWRzIHRvIHVwZGF0ZSB0aGUgbGlzdFxuICAgICAqICAgb2YgYHN5bmNlZERvY3VtZW50c2Agc2luY2Ugc2Vjb25kYXJ5IGNsaWVudHMgdXBkYXRlIHRoZWlyIHF1ZXJ5IHZpZXdzXG4gICAgICogICBiYXNlZCBwdXJlbHkgb24gc3ludGhlc2l6ZWQgUmVtb3RlRXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5UmVzdWx0LmRvY3VtZW50cyAtIFRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgcXVlcnkgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIExvY2FsU3RvcmUuXG4gICAgICogQHBhcmFtIHF1ZXJ5UmVzdWx0LnJlbW90ZUtleXMgLSBUaGUga2V5cyBvZiB0aGUgZG9jdW1lbnRzIHRoYXQgbWF0Y2ggdGhlXG4gICAgICogcXVlcnkgYWNjb3JkaW5nIHRvIHRoZSBiYWNrZW5kLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFZpZXdDaGFuZ2UgdGhhdCByZXN1bHRlZCBmcm9tIHRoaXMgc3luY2hyb25pemF0aW9uLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHkuXG4gICAgU28odCkge1xuICAgICAgICB0aGlzLl9vID0gdC5HbiwgdGhpcy55byA9IFJuKCk7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLklvKHQuZG9jdW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlDaGFuZ2VzKGUsIC8qdXBkYXRlTGltYm9Eb2N1bWVudHM9Ki8gITApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdmlldyBzbmFwc2hvdCBhcyBpZiB0aGlzIHF1ZXJ5IHdhcyBqdXN0IGxpc3RlbmVkIHRvLiBDb250YWluc1xuICAgICAqIGEgZG9jdW1lbnQgYWRkIGZvciBldmVyeSBleGlzdGluZyBkb2N1bWVudCBhbmQgdGhlIGBmcm9tQ2FjaGVgIGFuZFxuICAgICAqIGBoYXNQZW5kaW5nV3JpdGVzYCBzdGF0dXMgb2YgdGhlIGFscmVhZHkgZXN0YWJsaXNoZWQgdmlldy5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIERvKCkge1xuICAgICAgICByZXR1cm4gJG8uZnJvbUluaXRpYWxEb2N1bWVudHModGhpcy5xdWVyeSwgdGhpcy5FbywgdGhpcy5tdXRhdGVkS2V5cywgMCAvKiBMb2NhbCAqLyA9PT0gdGhpcy5tbyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFF1ZXJ5VmlldyBjb250YWlucyBhbGwgb2YgdGhlIGRhdGEgdGhhdCBTeW5jRW5naW5lIG5lZWRzIHRvIGtlZXAgdHJhY2sgb2YgZm9yXG4gKiBhIHBhcnRpY3VsYXIgcXVlcnkuXG4gKi9cbmNsYXNzIFlvIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgcXVlcnkgaXRzZWxmLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgbnVtYmVyIGNyZWF0ZWQgYnkgdGhlIGNsaWVudCB0aGF0IGlzIHVzZWQgaW4gdGhlIHdhdGNoXG4gICAgICogc3RyZWFtIHRvIGlkZW50aWZ5IHRoaXMgcXVlcnkuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXcgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGluZyB0aGUgZmluYWwgbWVyZ2VkIHRydXRoIG9mIHdoYXRcbiAgICAgKiBkb2NzIGFyZSBpbiB0aGUgcXVlcnkuIEl0IGdldHMgbm90aWZpZWQgb2YgbG9jYWwgYW5kIHJlbW90ZSBjaGFuZ2VzLFxuICAgICAqIGFuZCBhcHBsaWVzIHRoZSBxdWVyeSBmaWx0ZXJzIGFuZCBsaW1pdHMgdG8gZGV0ZXJtaW5lIHRoZSBtb3N0IGNvcnJlY3RcbiAgICAgKiBwb3NzaWJsZSByZXN1bHRzLlxuICAgICAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHQsIHRoaXMudGFyZ2V0SWQgPSBlLCB0aGlzLnZpZXcgPSBuO1xuICAgIH1cbn1cblxuLyoqIFRyYWNrcyBhIGxpbWJvIHJlc29sdXRpb24uICovIGNsYXNzIFhvIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMua2V5ID0gdCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBvbmNlIHdlJ3ZlIHJlY2VpdmVkIGEgZG9jdW1lbnQuIFRoaXMgaXMgdXNlZCBpblxuICAgICAgICAgKiBnZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KCkgYW5kIHVsdGltYXRlbHkgdXNlZCBieSBXYXRjaENoYW5nZUFnZ3JlZ2F0b3IgdG9cbiAgICAgICAgICogZGVjaWRlIHdoZXRoZXIgaXQgbmVlZHMgdG8gbWFudWZhY3R1cmUgYSBkZWxldGUgZXZlbnQgZm9yIHRoZSB0YXJnZXQgb25jZVxuICAgICAgICAgKiB0aGUgdGFyZ2V0IGlzIENVUlJFTlQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkNvID0gITE7XG4gICAgfVxufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGBTeW5jRW5naW5lYCBjb29yZGluYXRpbmcgd2l0aCBvdGhlciBwYXJ0cyBvZiBTREsuXG4gKlxuICogVGhlIHBhcnRzIG9mIFN5bmNFbmdpbmUgdGhhdCBhY3QgYXMgYSBjYWxsYmFjayB0byBSZW1vdGVTdG9yZSBuZWVkIHRvIGJlXG4gKiByZWdpc3RlcmVkIGluZGl2aWR1YWxseS4gVGhpcyBpcyBkb25lIGluIGBzeW5jRW5naW5lV3JpdGUoKWAgYW5kXG4gKiBgc3luY0VuZ2luZUxpc3RlbigpYCAoYXMgd2VsbCBhcyBgYXBwbHlQcmltYXJ5U3RhdGUoKWApIGFzIHRoZXNlIG1ldGhvZHNcbiAqIHNlcnZlIGFzIGVudHJ5IHBvaW50cyB0byBSZW1vdGVTdG9yZSdzIGZ1bmN0aW9uYWxpdHkuXG4gKlxuICogTm90ZTogc29tZSBmaWVsZCBkZWZpbmVkIGluIHRoaXMgY2xhc3MgbWlnaHQgaGF2ZSBwdWJsaWMgYWNjZXNzIGxldmVsLCBidXRcbiAqIHRoZSBjbGFzcyBpcyBub3QgZXhwb3J0ZWQgc28gdGhleSBhcmUgb25seSBhY2Nlc3NpYmxlIGZyb20gdGhpcyBtb2R1bGUuXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgb3B0aW9uYWwgZmVhdHVyZXMgKGxpa2UgYnVuZGxlcykgaW4gZnJlZVxuICogZnVuY3Rpb25zLCBzdWNoIHRoYXQgdGhleSBhcmUgdHJlZS1zaGFrZWFibGUuXG4gKi8gY2xhc3MgWm8ge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4sIFxuICAgIC8vIFBPUlRJTkcgTk9URTogTWFuYWdlcyBzdGF0ZSBzeW5jaHJvbml6YXRpb24gaW4gbXVsdGktdGFiIGVudmlyb25tZW50cy5cbiAgICBzLCBpLCByKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSA9IHQsIHRoaXMucmVtb3RlU3RvcmUgPSBlLCB0aGlzLmV2ZW50TWFuYWdlciA9IG4sIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSBzLCBcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IGksIHRoaXMubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMgPSByLCB0aGlzLk5vID0ge30sIHRoaXMueG8gPSBuZXcgcWkoKHQgPT4gSWUodCkpLCBUZSksIFxuICAgICAgICB0aGlzLmtvID0gbmV3IE1hcCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUga2V5cyBvZiBkb2N1bWVudHMgdGhhdCBhcmUgaW4gbGltYm8gZm9yIHdoaWNoIHdlIGhhdmVuJ3QgeWV0IHN0YXJ0ZWQgYVxuICAgICAgICAgKiBsaW1ibyByZXNvbHV0aW9uIHF1ZXJ5LiBUaGUgc3RyaW5ncyBpbiB0aGlzIHNldCBhcmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nXG4gICAgICAgICAqIGBrZXkucGF0aC5jYW5vbmljYWxTdHJpbmcoKWAgd2hlcmUgYGtleWAgaXMgYSBgRG9jdW1lbnRLZXlgIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGBTZXRgIHR5cGUgd2FzIGNob3NlbiBiZWNhdXNlIGl0IHByb3ZpZGVzIGVmZmljaWVudCBsb29rdXAgYW5kIHJlbW92YWxcbiAgICAgICAgICogb2YgYXJiaXRyYXJ5IGVsZW1lbnRzIGFuZCBpdCBhbHNvIG1haW50YWlucyBpbnNlcnRpb24gb3JkZXIsIHByb3ZpZGluZyB0aGVcbiAgICAgICAgICogZGVzaXJlZCBxdWV1ZS1saWtlIEZJRk8gc2VtYW50aWNzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kbyA9IG5ldyBTZXQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcHMgdHJhY2sgb2YgdGhlIHRhcmdldCBJRCBmb3IgZWFjaCBkb2N1bWVudCB0aGF0IGlzIGluIGxpbWJvIHdpdGggYW5cbiAgICAgICAgICogYWN0aXZlIHRhcmdldC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuT28gPSBuZXcgZm4oUnQuY29tcGFyYXRvciksIFxuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcHMgdHJhY2sgb2YgdGhlIGluZm9ybWF0aW9uIGFib3V0IGFuIGFjdGl2ZSBsaW1ibyByZXNvbHV0aW9uIGZvciBlYWNoXG4gICAgICAgICAqIGFjdGl2ZSB0YXJnZXQgSUQgdGhhdCB3YXMgc3RhcnRlZCBmb3IgdGhlIHB1cnBvc2Ugb2YgbGltYm8gcmVzb2x1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuRm8gPSBuZXcgTWFwLCB0aGlzLk1vID0gbmV3IEFyLCBcbiAgICAgICAgLyoqIFN0b3JlcyB1c2VyIGNvbXBsZXRpb24gaGFuZGxlcnMsIGluZGV4ZWQgYnkgVXNlciBhbmQgQmF0Y2hJZC4gKi9cbiAgICAgICAgdGhpcy5MbyA9IHt9LCBcbiAgICAgICAgLyoqIFN0b3JlcyB1c2VyIGNhbGxiYWNrcyB3YWl0aW5nIGZvciBhbGwgcGVuZGluZyB3cml0ZXMgdG8gYmUgYWNrbm93bGVkZ2VkLiAqL1xuICAgICAgICB0aGlzLkJvID0gbmV3IE1hcCwgdGhpcy5VbyA9IERpLmllKCksIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBVbmtub3duICovICwgXG4gICAgICAgIC8vIFRoZSBwcmltYXJ5IHN0YXRlIGlzIHNldCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCBpbW1lZGlhdGVseSBhZnRlciBGaXJlc3RvcmVcbiAgICAgICAgLy8gc3RhcnR1cC4gSW4gdGhlIGludGVyaW0sIGEgY2xpZW50IHNob3VsZCBvbmx5IGJlIGNvbnNpZGVyZWQgcHJpbWFyeSBpZlxuICAgICAgICAvLyBgaXNQcmltYXJ5YCBpcyB0cnVlLlxuICAgICAgICB0aGlzLnFvID0gdm9pZCAwO1xuICAgIH1cbiAgICBnZXQgaXNQcmltYXJ5Q2xpZW50KCkge1xuICAgICAgICByZXR1cm4gITAgPT09IHRoaXMucW87XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgbmV3IGxpc3RlbiwgcmVzb2x2ZXMgcHJvbWlzZSB3aGVuIGxpc3RlbiBlbnF1ZXVlZCB0byB0aGVcbiAqIHNlcnZlci4gQWxsIHRoZSBzdWJzZXF1ZW50IHZpZXcgc25hcHNob3RzIG9yIGVycm9ycyBhcmUgc2VudCB0byB0aGVcbiAqIHN1YnNjcmliZWQgaGFuZGxlcnMuIFJldHVybnMgdGhlIGluaXRpYWwgc25hcHNob3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRhKHQsIGUpIHtcbiAgICBjb25zdCBuID0gU2EodCk7XG4gICAgbGV0IHMsIGk7XG4gICAgY29uc3QgciA9IG4ueG8uZ2V0KGUpO1xuICAgIGlmIChyKSBcbiAgICAvLyBQT1JUSU5HIE5PVEU6IFdpdGggTXVsdGktVGFiIFdlYiwgaXQgaXMgcG9zc2libGUgdGhhdCBhIHF1ZXJ5IHZpZXdcbiAgICAvLyBhbHJlYWR5IGV4aXN0cyB3aGVuIEV2ZW50TWFuYWdlciBjYWxscyB1cyBmb3IgdGhlIGZpcnN0IHRpbWUuIFRoaXNcbiAgICAvLyBoYXBwZW5zIHdoZW4gdGhlIHByaW1hcnkgdGFiIGlzIGFscmVhZHkgbGlzdGVuaW5nIHRvIHRoaXMgcXVlcnkgb25cbiAgICAvLyBiZWhhbGYgb2YgYW5vdGhlciB0YWIgYW5kIHRoZSB1c2VyIG9mIHRoZSBwcmltYXJ5IGFsc28gc3RhcnRzIGxpc3RlbmluZ1xuICAgIC8vIHRvIHRoZSBxdWVyeS4gRXZlbnRNYW5hZ2VyIHdpbGwgbm90IGhhdmUgYW4gYXNzaWduZWQgdGFyZ2V0IElEIGluIHRoaXNcbiAgICAvLyBjYXNlIGFuZCBjYWxscyBgbGlzdGVuYCB0byBvYnRhaW4gdGhpcyBJRC5cbiAgICBzID0gci50YXJnZXRJZCwgbi5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KHMpLCBpID0gci52aWV3LkRvKCk7IGVsc2Uge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgd3Iobi5sb2NhbFN0b3JlLCBwZShlKSksIHIgPSBuLnNoYXJlZENsaWVudFN0YXRlLmFkZExvY2FsUXVlcnlUYXJnZXQodC50YXJnZXRJZCk7XG4gICAgICAgIHMgPSB0LnRhcmdldElkLCBpID0gYXdhaXQgZWEobiwgZSwgcywgXCJjdXJyZW50XCIgPT09IHIpLCBuLmlzUHJpbWFyeUNsaWVudCAmJiBybyhuLnJlbW90ZVN0b3JlLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgdmlldyBmb3IgYSBwcmV2aW91c2x5IHVua25vd24gcXVlcnkgYW5kIGNvbXB1dGVzIGl0cyBpbml0aWFsXG4gKiBzbmFwc2hvdC5cbiAqLyBhc3luYyBmdW5jdGlvbiBlYSh0LCBlLCBuLCBzKSB7XG4gICAgLy8gUE9SVElORyBOT1RFOiBPbiBXZWIgb25seSwgd2UgaW5qZWN0IHRoZSBjb2RlIHRoYXQgcmVnaXN0ZXJzIG5ldyBMaW1ib1xuICAgIC8vIHRhcmdldHMgYmFzZWQgb24gdmlldyBjaGFuZ2VzLiBUaGlzIGFsbG93cyB1cyB0byBvbmx5IGRlcGVuZCBvbiBMaW1ib1xuICAgIC8vIGNoYW5nZXMgd2hlbiB1c2VyIGNvZGUgaW5jbHVkZXMgcXVlcmllcy5cbiAgICB0LktvID0gKGUsIG4sIHMpID0+IGFzeW5jIGZ1bmN0aW9uKHQsIGUsIG4sIHMpIHtcbiAgICAgICAgbGV0IGkgPSBlLnZpZXcuSW8obik7XG4gICAgICAgIGkuTG4gJiYgKFxuICAgICAgICAvLyBUaGUgcXVlcnkgaGFzIGEgbGltaXQgYW5kIHNvbWUgZG9jcyB3ZXJlIHJlbW92ZWQsIHNvIHdlIG5lZWRcbiAgICAgICAgLy8gdG8gcmUtcnVuIHRoZSBxdWVyeSBhZ2FpbnN0IHRoZSBsb2NhbCBzdG9yZSB0byBtYWtlIHN1cmUgd2VcbiAgICAgICAgLy8gZGlkbid0IGxvc2UgYW55IGdvb2QgZG9jcyB0aGF0IGhhZCBiZWVuIHBhc3QgdGhlIGxpbWl0LlxuICAgICAgICBpID0gYXdhaXQgbXIodC5sb2NhbFN0b3JlLCBlLnF1ZXJ5LCBcbiAgICAgICAgLyogdXNlUHJldmlvdXNSZXN1bHRzPSAqLyAhMSkudGhlbigoKHtkb2N1bWVudHM6IHR9KSA9PiBlLnZpZXcuSW8odCwgaSkpKSk7XG4gICAgICAgIGNvbnN0IHIgPSBzICYmIHMudGFyZ2V0Q2hhbmdlcy5nZXQoZS50YXJnZXRJZCksIG8gPSBlLnZpZXcuYXBwbHlDaGFuZ2VzKGksIFxuICAgICAgICAvKiB1cGRhdGVMaW1ib0RvY3VtZW50cz0gKi8gdC5pc1ByaW1hcnlDbGllbnQsIHIpO1xuICAgICAgICByZXR1cm4gd2EodCwgZS50YXJnZXRJZCwgby52byksIG8uc25hcHNob3Q7XG4gICAgfSh0LCBlLCBuLCBzKTtcbiAgICBjb25zdCBpID0gYXdhaXQgbXIodC5sb2NhbFN0b3JlLCBlLCBcbiAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICEwKSwgciA9IG5ldyBKbyhlLCBpLkduKSwgbyA9IHIuSW8oaS5kb2N1bWVudHMpLCBhID0gVm4uY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKG4sIHMgJiYgXCJPZmZsaW5lXCIgLyogT2ZmbGluZSAqLyAhPT0gdC5vbmxpbmVTdGF0ZSksIGMgPSByLmFwcGx5Q2hhbmdlcyhvLCBcbiAgICAvKiB1cGRhdGVMaW1ib0RvY3VtZW50cz0gKi8gdC5pc1ByaW1hcnlDbGllbnQsIGEpO1xuICAgIHdhKHQsIG4sIGMudm8pO1xuICAgIGNvbnN0IHUgPSBuZXcgWW8oZSwgbiwgcik7XG4gICAgcmV0dXJuIHQueG8uc2V0KGUsIHUpLCB0LmtvLmhhcyhuKSA/IHQua28uZ2V0KG4pLnB1c2goZSkgOiB0LmtvLnNldChuLCBbIGUgXSksIGMuc25hcHNob3Q7XG59XG5cbi8qKiBTdG9wcyBsaXN0ZW5pbmcgdG8gdGhlIHF1ZXJ5LiAqLyBhc3luYyBmdW5jdGlvbiBuYSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IEIodCksIHMgPSBuLnhvLmdldChlKSwgaSA9IG4ua28uZ2V0KHMudGFyZ2V0SWQpO1xuICAgIGlmIChpLmxlbmd0aCA+IDEpIHJldHVybiBuLmtvLnNldChzLnRhcmdldElkLCBpLmZpbHRlcigodCA9PiAhVGUodCwgZSkpKSksIHZvaWQgbi54by5kZWxldGUoZSk7XG4gICAgLy8gTm8gb3RoZXIgcXVlcmllcyBhcmUgbWFwcGVkIHRvIHRoZSB0YXJnZXQsIGNsZWFuIHVwIHRoZSBxdWVyeSBhbmQgdGhlIHRhcmdldC5cbiAgICAgICAgaWYgKG4uaXNQcmltYXJ5Q2xpZW50KSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBsb2NhbCBxdWVyeSB0YXJnZXQgZmlyc3QgdG8gYWxsb3cgdXMgdG8gdmVyaWZ5XG4gICAgICAgIC8vIHdoZXRoZXIgYW55IG90aGVyIGNsaWVudCBpcyBzdGlsbCBpbnRlcmVzdGVkIGluIHRoaXMgdGFyZ2V0LlxuICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQocy50YXJnZXRJZCk7XG4gICAgICAgIG4uc2hhcmVkQ2xpZW50U3RhdGUuaXNBY3RpdmVRdWVyeVRhcmdldChzLnRhcmdldElkKSB8fCBhd2FpdCBfcihuLmxvY2FsU3RvcmUsIHMudGFyZ2V0SWQsIFxuICAgICAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICExKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmNsZWFyUXVlcnlTdGF0ZShzLnRhcmdldElkKSwgb28obi5yZW1vdGVTdG9yZSwgcy50YXJnZXRJZCksIFxuICAgICAgICAgICAgZmEobiwgcy50YXJnZXRJZCk7XG4gICAgICAgIH0pKS5jYXRjaCgkaSk7XG4gICAgfSBlbHNlIGZhKG4sIHMudGFyZ2V0SWQpLCBhd2FpdCBfcihuLmxvY2FsU3RvcmUsIHMudGFyZ2V0SWQsIFxuICAgIC8qa2VlcFBlcnNpc3RlZFRhcmdldERhdGE9Ki8gITApO1xufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgd3JpdGUgb2YgbG9jYWwgbXV0YXRpb24gYmF0Y2ggd2hpY2ggaW52b2x2ZXMgYWRkaW5nIHRoZVxuICogd3JpdGVzIHRvIHRoZSBtdXRhdGlvbiBxdWV1ZSwgbm90aWZ5aW5nIHRoZSByZW1vdGUgc3RvcmUgYWJvdXQgbmV3XG4gKiBtdXRhdGlvbnMgYW5kIHJhaXNpbmcgZXZlbnRzIGZvciBhbnkgY2hhbmdlcyB0aGlzIHdyaXRlIGNhdXNlZC5cbiAqXG4gKiBUaGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIGNhbGwgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgYWJvdmUgc3RlcHNcbiAqIGhhdmUgY29tcGxldGVkLCAqbm90KiB3aGVuIHRoZSB3cml0ZSB3YXMgYWNrZWQgYnkgdGhlIGJhY2tlbmQuIFRoZVxuICogdXNlckNhbGxiYWNrIGlzIHJlc29sdmVkIG9uY2UgdGhlIHdyaXRlIHdhcyBhY2tlZC9yZWplY3RlZCBieSB0aGVcbiAqIGJhY2tlbmQgKG9yIGZhaWxlZCBsb2NhbGx5IGZvciBhbnkgb3RoZXIgcmVhc29uKS5cbiAqLyBhc3luYyBmdW5jdGlvbiBzYSh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IERhKHQpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gQih0KSwgcyA9IG50Lm5vdygpLCBpID0gZS5yZWR1Y2UoKCh0LCBlKSA9PiB0LmFkZChlLmtleSkpLCBSbigpKTtcbiAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJMb2NhbGx5IHdyaXRlIG11dGF0aW9uc1wiLCBcInJlYWR3cml0ZVwiLCAodCA9PiBuLlFuLlBuKHQsIGkpLm5leHQoKGkgPT4ge1xuICAgICAgICAgICAgICAgIHIgPSBpO1xuICAgICAgICAgICAgICAgIC8vIEZvciBub24taWRlbXBvdGVudCBtdXRhdGlvbnMgKHN1Y2ggYXMgYEZpZWxkVmFsdWUuaW5jcmVtZW50KClgKSxcbiAgICAgICAgICAgICAgICAvLyB3ZSByZWNvcmQgdGhlIGJhc2Ugc3RhdGUgaW4gYSBzZXBhcmF0ZSBwYXRjaCBtdXRhdGlvbi4gVGhpcyBpc1xuICAgICAgICAgICAgICAgIC8vIGxhdGVyIHVzZWQgdG8gZ3VhcmFudGVlIGNvbnNpc3RlbnQgdmFsdWVzIGFuZCBwcmV2ZW50cyBmbGlja2VyXG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpZiB0aGUgYmFja2VuZCBzZW5kcyB1cyBhbiB1cGRhdGUgdGhhdCBhbHJlYWR5IGluY2x1ZGVzIG91clxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybS5cbiAgICAgICAgICAgICAgICBjb25zdCBvID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IEplKHQsIHIuZ2V0KHQua2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT0gZSAmJiBcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogVGhlIGJhc2Ugc3RhdGUgc2hvdWxkIG9ubHkgYmUgYXBwbGllZCBpZiB0aGVyZSdzIHNvbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgZG9jdW1lbnQgdG8gb3ZlcnJpZGUsIHNvIHVzZSBhIFByZWNvbmRpdGlvbiBvZlxuICAgICAgICAgICAgICAgICAgICAvLyBleGlzdHM9dHJ1ZVxuICAgICAgICAgICAgICAgICAgICBvLnB1c2gobmV3IHRuKHQua2V5LCBlLCBCdChlLnZhbHVlLm1hcFZhbHVlKSwgUWUuZXhpc3RzKCEwKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbi5Jbi5hZGRNdXRhdGlvbkJhdGNoKHQsIHMsIG8sIGUpO1xuICAgICAgICAgICAgfSkpKSkudGhlbigodCA9PiAodC5hcHBseVRvTG9jYWxEb2N1bWVudFNldChyKSwge1xuICAgICAgICAgICAgICAgIGJhdGNoSWQ6IHQuYmF0Y2hJZCxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiByXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KHMubG9jYWxTdG9yZSwgZSk7XG4gICAgICAgIHMuc2hhcmVkQ2xpZW50U3RhdGUuYWRkUGVuZGluZ011dGF0aW9uKHQuYmF0Y2hJZCksIGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgICAgIGxldCBzID0gdC5Mb1t0LmN1cnJlbnRVc2VyLnRvS2V5KCldO1xuICAgICAgICAgICAgcyB8fCAocyA9IG5ldyBmbihaKSk7XG4gICAgICAgICAgICBzID0gcy5pbnNlcnQoZSwgbiksIHQuTG9bdC5jdXJyZW50VXNlci50b0tleSgpXSA9IHM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIHRoZSB1c2VyIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gYmF0Y2ggYW5kIHRoZW4gZGlzY2FyZHNcbiAqIGl0LlxuICovIChzLCB0LmJhdGNoSWQsIG4pLCBhd2FpdCBnYShzLCB0LmNoYW5nZXMpLCBhd2FpdCBwbyhzLnJlbW90ZVN0b3JlKTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIC8vIElmIHdlIGNhbid0IHBlcnNpc3QgdGhlIG11dGF0aW9uLCB3ZSByZWplY3QgdGhlIHVzZXIgY2FsbGJhY2sgYW5kXG4gICAgICAgIC8vIGRvbid0IHNlbmQgdGhlIG11dGF0aW9uLiBUaGUgdXNlciBjYW4gdGhlbiByZXRyeSB0aGUgd3JpdGUuXG4gICAgICAgIGNvbnN0IGUgPSBObyh0LCBcIkZhaWxlZCB0byBwZXJzaXN0IHdyaXRlXCIpO1xuICAgICAgICBuLnJlamVjdChlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQXBwbGllcyBvbmUgcmVtb3RlIGV2ZW50IHRvIHRoZSBzeW5jIGVuZ2luZSwgbm90aWZ5aW5nIGFueSB2aWV3cyBvZiB0aGVcbiAqIGNoYW5nZXMsIGFuZCByZWxlYXNpbmcgYW55IHBlbmRpbmcgbXV0YXRpb24gYmF0Y2hlcyB0aGF0IHdvdWxkIGJlY29tZVxuICogdmlzaWJsZSBiZWNhdXNlIG9mIHRoZSBzbmFwc2hvdCB2ZXJzaW9uIHRoZSByZW1vdGUgZXZlbnQgY29udGFpbnMuXG4gKi8gYXN5bmMgZnVuY3Rpb24gaWEodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBscihuLmxvY2FsU3RvcmUsIGUpO1xuICAgICAgICAvLyBVcGRhdGUgYHJlY2VpdmVkRG9jdW1lbnRgIGFzIGFwcHJvcHJpYXRlIGZvciBhbnkgbGltYm8gdGFyZ2V0cy5cbiAgICAgICAgICAgICAgICBlLnRhcmdldENoYW5nZXMuZm9yRWFjaCgoKHQsIGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBuLkZvLmdldChlKTtcbiAgICAgICAgICAgIHMgJiYgKFxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBhIGxpbWJvIHJlc29sdXRpb24gbG9va3VwLCBpdCdzIGZvciBhIHNpbmdsZSBkb2N1bWVudFxuICAgICAgICAgICAgLy8gYW5kIGl0IGNvdWxkIGJlIGFkZGVkLCBtb2RpZmllZCwgb3IgcmVtb3ZlZCwgYnV0IG5vdCBhIGNvbWJpbmF0aW9uLlxuICAgICAgICAgICAgTSh0LmFkZGVkRG9jdW1lbnRzLnNpemUgKyB0Lm1vZGlmaWVkRG9jdW1lbnRzLnNpemUgKyB0LnJlbW92ZWREb2N1bWVudHMuc2l6ZSA8PSAxKSwgXG4gICAgICAgICAgICB0LmFkZGVkRG9jdW1lbnRzLnNpemUgPiAwID8gcy5DbyA9ICEwIDogdC5tb2RpZmllZERvY3VtZW50cy5zaXplID4gMCA/IE0ocy5DbykgOiB0LnJlbW92ZWREb2N1bWVudHMuc2l6ZSA+IDAgJiYgKE0ocy5DbyksIFxuICAgICAgICAgICAgcy5DbyA9ICExKSk7XG4gICAgICAgIH0pKSwgYXdhaXQgZ2EobiwgdCwgZSk7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgICBhd2FpdCAkaSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQXBwbGllcyBhbiBPbmxpbmVTdGF0ZSBjaGFuZ2UgdG8gdGhlIHN5bmMgZW5naW5lIGFuZCBub3RpZmllcyBhbnkgdmlld3Mgb2ZcbiAqIHRoZSBjaGFuZ2UuXG4gKi8gZnVuY3Rpb24gcmEodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBCKHQpO1xuICAgIC8vIElmIHdlIGFyZSB0aGUgc2Vjb25kYXJ5IGNsaWVudCwgd2UgZXhwbGljaXRseSBpZ25vcmUgdGhlIHJlbW90ZSBzdG9yZSdzXG4gICAgLy8gb25saW5lIHN0YXRlICh0aGUgbG9jYWwgY2xpZW50IG1heSBnbyBvZmZsaW5lLCBldmVuIHRob3VnaCB0aGUgcHJpbWFyeVxuICAgIC8vIHRhYiByZW1haW5zIG9ubGluZSkgYW5kIG9ubHkgYXBwbHkgdGhlIHByaW1hcnkgdGFiJ3Mgb25saW5lIHN0YXRlIGZyb21cbiAgICAvLyBTaGFyZWRDbGllbnRTdGF0ZS5cbiAgICAgICAgaWYgKHMuaXNQcmltYXJ5Q2xpZW50ICYmIDAgLyogUmVtb3RlU3RvcmUgKi8gPT09IG4gfHwgIXMuaXNQcmltYXJ5Q2xpZW50ICYmIDEgLyogU2hhcmVkQ2xpZW50U3RhdGUgKi8gPT09IG4pIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBzLnhvLmZvckVhY2goKChuLCBzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gcy52aWV3LmVvKGUpO1xuICAgICAgICAgICAgaS5zbmFwc2hvdCAmJiB0LnB1c2goaS5zbmFwc2hvdCk7XG4gICAgICAgIH0pKSwgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IEIodCk7XG4gICAgICAgICAgICBuLm9ubGluZVN0YXRlID0gZTtcbiAgICAgICAgICAgIGxldCBzID0gITE7XG4gICAgICAgICAgICBuLnF1ZXJpZXMuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygbi5saXN0ZW5lcnMpIFxuICAgICAgICAgICAgICAgIC8vIFJ1biBnbG9iYWwgc25hcHNob3QgbGlzdGVuZXJzIGlmIGEgY29uc2lzdGVudCBzbmFwc2hvdCBoYXMgYmVlbiBlbWl0dGVkLlxuICAgICAgICAgICAgICAgIHQuZW8oZSkgJiYgKHMgPSAhMCk7XG4gICAgICAgICAgICB9KSksIHMgJiYgcW8obik7XG4gICAgICAgIH0ocy5ldmVudE1hbmFnZXIsIGUpLCB0Lmxlbmd0aCAmJiBzLk5vLlRyKHQpLCBzLm9ubGluZVN0YXRlID0gZSwgcy5pc1ByaW1hcnlDbGllbnQgJiYgcy5zaGFyZWRDbGllbnRTdGF0ZS5zZXRPbmxpbmVTdGF0ZShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVqZWN0cyB0aGUgbGlzdGVuIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0SUQuIFRoaXMgY2FuIGJlIHRyaWdnZXJlZCBieSB0aGVcbiAqIGJhY2tlbmQgZm9yIGFueSBhY3RpdmUgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSBzeW5jRW5naW5lIC0gVGhlIHN5bmMgZW5naW5lIGltcGxlbWVudGF0aW9uLlxuICogQHBhcmFtIHRhcmdldElkIC0gVGhlIHRhcmdldElEIGNvcnJlc3BvbmRzIHRvIG9uZSBwcmV2aW91c2x5IGluaXRpYXRlZCBieSB0aGVcbiAqIHVzZXIgYXMgcGFydCBvZiBUYXJnZXREYXRhIHBhc3NlZCB0byBsaXN0ZW4oKSBvbiBSZW1vdGVTdG9yZS5cbiAqIEBwYXJhbSBlcnIgLSBBIGRlc2NyaXB0aW9uIG9mIHRoZSBjb25kaXRpb24gdGhhdCBoYXMgZm9yY2VkIHRoZSByZWplY3Rpb24uXG4gKiBOZWFybHkgYWx3YXlzIHRoaXMgd2lsbCBiZSBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIHVzZXIgaXMgbm8gbG9uZ2VyXG4gKiBhdXRob3JpemVkIHRvIHNlZSB0aGUgZGF0YSBtYXRjaGluZyB0aGUgdGFyZ2V0LlxuICovIGFzeW5jIGZ1bmN0aW9uIG9hKHQsIGUsIG4pIHtcbiAgICBjb25zdCBzID0gQih0KTtcbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgICAgICBzLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoZSwgXCJyZWplY3RlZFwiLCBuKTtcbiAgICBjb25zdCBpID0gcy5Gby5nZXQoZSksIHIgPSBpICYmIGkua2V5O1xuICAgIGlmIChyKSB7XG4gICAgICAgIC8vIFRPRE8oa2xpbXQpOiBXZSByZWFsbHkgb25seSBzaG91bGQgZG8gdGhlIGZvbGxvd2luZyBvbiBwZXJtaXNzaW9uXG4gICAgICAgIC8vIGRlbmllZCBlcnJvcnMsIGJ1dCB3ZSBkb24ndCBoYXZlIHRoZSBjYXVzZSBjb2RlIGhlcmUuXG4gICAgICAgIC8vIEl0J3MgYSBsaW1ibyBkb2MuIENyZWF0ZSBhIHN5bnRoZXRpYyBldmVudCBzYXlpbmcgaXQgd2FzIGRlbGV0ZWQuXG4gICAgICAgIC8vIFRoaXMgaXMga2luZCBvZiBhIGhhY2suIElkZWFsbHksIHdlIHdvdWxkIGhhdmUgYSBtZXRob2QgaW4gdGhlIGxvY2FsXG4gICAgICAgIC8vIHN0b3JlIHRvIHB1cmdlIGEgZG9jdW1lbnQuIEhvd2V2ZXIsIGl0IHdvdWxkIGJlIHRyaWNreSB0byBrZWVwIGFsbCBvZlxuICAgICAgICAvLyB0aGUgbG9jYWwgc3RvcmUncyBpbnZhcmlhbnRzIHdpdGggYW5vdGhlciBtZXRob2QuXG4gICAgICAgIGxldCB0ID0gbmV3IGZuKFJ0LmNvbXBhcmF0b3IpO1xuICAgICAgICB0ID0gdC5pbnNlcnQociwgVXQubmV3Tm9Eb2N1bWVudChyLCBzdC5taW4oKSkpO1xuICAgICAgICBjb25zdCBuID0gUm4oKS5hZGQociksIGkgPSBuZXcgdm4oc3QubWluKCksIFxuICAgICAgICAvKiB0YXJnZXRDaGFuZ2VzPSAqLyBuZXcgTWFwLCBcbiAgICAgICAgLyogdGFyZ2V0TWlzbWF0Y2hlcz0gKi8gbmV3IF9uKFopLCB0LCBuKTtcbiAgICAgICAgYXdhaXQgaWEocywgaSksIFxuICAgICAgICAvLyBTaW5jZSB0aGlzIHF1ZXJ5IGZhaWxlZCwgd2Ugd29uJ3Qgd2FudCB0byBtYW51YWxseSB1bmxpc3RlbiB0byBpdC5cbiAgICAgICAgLy8gV2Ugb25seSByZW1vdmUgaXQgZnJvbSBib29ra2VlcGluZyBhZnRlciB3ZSBzdWNjZXNzZnVsbHkgYXBwbGllZCB0aGVcbiAgICAgICAgLy8gUmVtb3RlRXZlbnQuIElmIGBhcHBseVJlbW90ZUV2ZW50KClgIHRocm93cywgd2Ugd2FudCB0byByZS1saXN0ZW4gdG9cbiAgICAgICAgLy8gdGhpcyBxdWVyeSB3aGVuIHRoZSBSZW1vdGVTdG9yZSByZXN0YXJ0cyB0aGUgV2F0Y2ggc3RyZWFtLCB3aGljaCBzaG91bGRcbiAgICAgICAgLy8gcmUtdHJpZ2dlciB0aGUgdGFyZ2V0IGZhaWx1cmUuXG4gICAgICAgIHMuT28gPSBzLk9vLnJlbW92ZShyKSwgcy5Gby5kZWxldGUoZSksIG1hKHMpO1xuICAgIH0gZWxzZSBhd2FpdCBfcihzLmxvY2FsU3RvcmUsIGUsIFxuICAgIC8qIGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhICovICExKS50aGVuKCgoKSA9PiBmYShzLCBlLCBuKSkpLmNhdGNoKCRpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWEodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpLCBzID0gZS5iYXRjaC5iYXRjaElkO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCB1cihuLmxvY2FsU3RvcmUsIGUpO1xuICAgICAgICAvLyBUaGUgbG9jYWwgc3RvcmUgbWF5IG9yIG1heSBub3QgYmUgYWJsZSB0byBhcHBseSB0aGUgd3JpdGUgcmVzdWx0IGFuZFxuICAgICAgICAvLyByYWlzZSBldmVudHMgaW1tZWRpYXRlbHkgKGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSB3YXRjaGVyIGlzIGNhdWdodFxuICAgICAgICAvLyB1cCksIHNvIHdlIHJhaXNlIHVzZXIgY2FsbGJhY2tzIGZpcnN0IHNvIHRoYXQgdGhleSBjb25zaXN0ZW50bHkgaGFwcGVuXG4gICAgICAgIC8vIGJlZm9yZSBsaXN0ZW4gZXZlbnRzLlxuICAgICAgICAgICAgICAgIGxhKG4sIHMsIC8qZXJyb3I9Ki8gbnVsbCksIGhhKG4sIHMpLCBuLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUocywgXCJhY2tub3dsZWRnZWRcIiksIFxuICAgICAgICBhd2FpdCBnYShuLCB0KTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIGF3YWl0ICRpKHQpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2EodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBCKHQpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gQih0KTtcbiAgICAgICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVqZWN0IGJhdGNoXCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKHQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLkluLmxvb2t1cE11dGF0aW9uQmF0Y2godCwgZSkubmV4dCgoZSA9PiAoTShudWxsICE9PSBlKSwgcyA9IGUua2V5cygpLCBuLkluLnJlbW92ZU11dGF0aW9uQmF0Y2godCwgZSkpKSkubmV4dCgoKCkgPT4gbi5Jbi5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayh0KSkpLm5leHQoKCgpID0+IG4uUW4uUG4odCwgcykpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJldHVybnMgdGhlIGxhcmdlc3QgKGxhdGVzdCkgYmF0Y2ggaWQgaW4gbXV0YXRpb24gcXVldWUgdGhhdCBpcyBwZW5kaW5nXG4gKiBzZXJ2ZXIgcmVzcG9uc2UuXG4gKlxuICogUmV0dXJucyBgQkFUQ0hJRF9VTktOT1dOYCBpZiB0aGUgcXVldWUgaXMgZW1wdHkuXG4gKi8gKHMubG9jYWxTdG9yZSwgZSk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBtYXkgb3IgbWF5IG5vdCBiZSBhYmxlIHRvIGFwcGx5IHRoZSB3cml0ZSByZXN1bHQgYW5kXG4gICAgICAgIC8vIHJhaXNlIGV2ZW50cyBpbW1lZGlhdGVseSAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHdhdGNoZXIgaXMgY2F1Z2h0IHVwKSxcbiAgICAgICAgLy8gc28gd2UgcmFpc2UgdXNlciBjYWxsYmFja3MgZmlyc3Qgc28gdGhhdCB0aGV5IGNvbnNpc3RlbnRseSBoYXBwZW4gYmVmb3JlXG4gICAgICAgIC8vIGxpc3RlbiBldmVudHMuXG4gICAgICAgICAgICAgICAgbGEocywgZSwgbiksIGhhKHMsIGUpLCBzLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUoZSwgXCJyZWplY3RlZFwiLCBuKSwgXG4gICAgICAgIGF3YWl0IGdhKHMsIHQpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgYXdhaXQgJGkobik7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIHVzZXIgY2FsbGJhY2sgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwZW5kaW5nIG11dGF0aW9ucyBhdCB0aGUgbW9tZW50IG9mIGNhbGxpbmdcbiAqIGFyZSBhY2tub3dsZWRnZWQgLlxuICovIGFzeW5jIGZ1bmN0aW9uIHVhKHQsIGUpIHtcbiAgICBjb25zdCBuID0gQih0KTtcbiAgICBsbyhuLnJlbW90ZVN0b3JlKSB8fCB4KFwiU3luY0VuZ2luZVwiLCBcIlRoZSBuZXR3b3JrIGlzIGRpc2FibGVkLiBUaGUgdGFzayByZXR1cm5lZCBieSAnYXdhaXRQZW5kaW5nV3JpdGVzKCknIHdpbGwgbm90IGNvbXBsZXRlIHVudGlsIHRoZSBuZXR3b3JrIGlzIGVuYWJsZWQuXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gQih0KTtcbiAgICAgICAgICAgIHJldHVybiBlLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGhpZ2hlc3QgdW5hY2tub3dsZWRnZWQgYmF0Y2ggaWRcIiwgXCJyZWFkb25seVwiLCAodCA9PiBlLkluLmdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQodCkpKTtcbiAgICAgICAgfShuLmxvY2FsU3RvcmUpO1xuICAgICAgICBpZiAoLTEgPT09IHQpIFxuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBjYWxsYmFjayByaWdodCBhd2F5IGlmIHRoZXJlIGlzIG5vIHBlbmRpbmcgd3JpdGVzIGF0IHRoZSBtb21lbnQuXG4gICAgICAgIHJldHVybiB2b2lkIGUucmVzb2x2ZSgpO1xuICAgICAgICBjb25zdCBzID0gbi5Cby5nZXQodCkgfHwgW107XG4gICAgICAgIHMucHVzaChlKSwgbi5Cby5zZXQodCwgcyk7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgICBjb25zdCBuID0gTm8odCwgXCJJbml0aWFsaXphdGlvbiBvZiB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpIG9wZXJhdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIGUucmVqZWN0KG4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VycyB0aGUgY2FsbGJhY2tzIHRoYXQgYXJlIHdhaXRpbmcgZm9yIHRoaXMgYmF0Y2ggaWQgdG8gZ2V0IGFja25vd2xlZGdlZCBieSBzZXJ2ZXIsXG4gKiBpZiB0aGVyZSBhcmUgYW55LlxuICovIGZ1bmN0aW9uIGhhKHQsIGUpIHtcbiAgICAodC5Cby5nZXQoZSkgfHwgW10pLmZvckVhY2goKHQgPT4ge1xuICAgICAgICB0LnJlc29sdmUoKTtcbiAgICB9KSksIHQuQm8uZGVsZXRlKGUpO1xufVxuXG4vKiogUmVqZWN0IGFsbCBvdXRzdGFuZGluZyBjYWxsYmFja3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgdG8gY29tcGxldGUuICovIGZ1bmN0aW9uIGxhKHQsIGUsIG4pIHtcbiAgICBjb25zdCBzID0gQih0KTtcbiAgICBsZXQgaSA9IHMuTG9bcy5jdXJyZW50VXNlci50b0tleSgpXTtcbiAgICAvLyBOT1RFOiBNdXRhdGlvbnMgcmVzdG9yZWQgZnJvbSBwZXJzaXN0ZW5jZSB3b24ndCBoYXZlIGNhbGxiYWNrcywgc28gaXQnc1xuICAgIC8vIG9rYXkgZm9yIHRoZXJlIHRvIGJlIG5vIGNhbGxiYWNrIGZvciB0aGlzIElELlxuICAgICAgICBpZiAoaSkge1xuICAgICAgICBjb25zdCB0ID0gaS5nZXQoZSk7XG4gICAgICAgIHQgJiYgKG4gPyB0LnJlamVjdChuKSA6IHQucmVzb2x2ZSgpLCBpID0gaS5yZW1vdmUoZSkpLCBzLkxvW3MuY3VycmVudFVzZXIudG9LZXkoKV0gPSBpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZmEodCwgZSwgbiA9IG51bGwpIHtcbiAgICB0LnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQoZSk7XG4gICAgZm9yIChjb25zdCBzIG9mIHQua28uZ2V0KGUpKSB0LnhvLmRlbGV0ZShzKSwgbiAmJiB0Lk5vLmpvKHMsIG4pO1xuICAgIGlmICh0LmtvLmRlbGV0ZShlKSwgdC5pc1ByaW1hcnlDbGllbnQpIHtcbiAgICAgICAgdC5Nby5jcyhlKS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHQuTW8uY29udGFpbnNLZXkoZSkgfHwgXG4gICAgICAgICAgICAvLyBXZSByZW1vdmVkIHRoZSBsYXN0IHJlZmVyZW5jZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgICAgIGRhKHQsIGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkYSh0LCBlKSB7XG4gICAgdC4kby5kZWxldGUoZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpKTtcbiAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHRhcmdldCBhbHJlYWR5IGdvdCByZW1vdmVkIGJlY2F1c2UgdGhlIHF1ZXJ5IGZhaWxlZC4gSW4gdGhhdCBjYXNlLFxuICAgIC8vIHRoZSBrZXkgd29uJ3QgZXhpc3QgaW4gYGxpbWJvVGFyZ2V0c0J5S2V5YC4gT25seSBkbyB0aGUgY2xlYW51cCBpZiB3ZSBzdGlsbCBoYXZlIHRoZSB0YXJnZXQuXG4gICAgY29uc3QgbiA9IHQuT28uZ2V0KGUpO1xuICAgIG51bGwgIT09IG4gJiYgKG9vKHQucmVtb3RlU3RvcmUsIG4pLCB0Lk9vID0gdC5Pby5yZW1vdmUoZSksIHQuRm8uZGVsZXRlKG4pLCBtYSh0KSk7XG59XG5cbmZ1bmN0aW9uIHdhKHQsIGUsIG4pIHtcbiAgICBmb3IgKGNvbnN0IHMgb2YgbikgaWYgKHMgaW5zdGFuY2VvZiB6bykgdC5Nby5hZGRSZWZlcmVuY2Uocy5rZXksIGUpLCBfYSh0LCBzKTsgZWxzZSBpZiAocyBpbnN0YW5jZW9mIEhvKSB7XG4gICAgICAgIHgoXCJTeW5jRW5naW5lXCIsIFwiRG9jdW1lbnQgbm8gbG9uZ2VyIGluIGxpbWJvOiBcIiArIHMua2V5KSwgdC5Nby5yZW1vdmVSZWZlcmVuY2Uocy5rZXksIGUpO1xuICAgICAgICB0Lk1vLmNvbnRhaW5zS2V5KHMua2V5KSB8fCBcbiAgICAgICAgLy8gV2UgcmVtb3ZlZCB0aGUgbGFzdCByZWZlcmVuY2UgZm9yIHRoaXMga2V5XG4gICAgICAgIGRhKHQsIHMua2V5KTtcbiAgICB9IGVsc2UgRigpO1xufVxuXG5mdW5jdGlvbiBfYSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IGUua2V5LCBzID0gbi5wYXRoLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIHQuT28uZ2V0KG4pIHx8IHQuJG8uaGFzKHMpIHx8ICh4KFwiU3luY0VuZ2luZVwiLCBcIk5ldyBkb2N1bWVudCBpbiBsaW1ibzogXCIgKyBuKSwgdC4kby5hZGQocyksIFxuICAgIG1hKHQpKTtcbn1cblxuLyoqXG4gKiBTdGFydHMgbGlzdGVucyBmb3IgZG9jdW1lbnRzIGluIGxpbWJvIHRoYXQgYXJlIGVucXVldWVkIGZvciByZXNvbHV0aW9uLFxuICogc3ViamVjdCB0byBhIG1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVzb2x1dGlvbnMuXG4gKlxuICogV2l0aG91dCBib3VuZGluZyB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVzb2x1dGlvbnMsIHRoZSBzZXJ2ZXIgY2FuIGZhaWxcbiAqIHdpdGggXCJyZXNvdXJjZSBleGhhdXN0ZWRcIiBlcnJvcnMgd2hpY2ggY2FuIGxlYWQgdG8gcGF0aG9sb2dpY2FsIGNsaWVudFxuICogYmVoYXZpb3IgYXMgc2VlbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy8yNjgzLlxuICovIGZ1bmN0aW9uIG1hKHQpIHtcbiAgICBmb3IgKDt0LiRvLnNpemUgPiAwICYmIHQuT28uc2l6ZSA8IHQubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM7ICkge1xuICAgICAgICBjb25zdCBlID0gdC4kby52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgIHQuJG8uZGVsZXRlKGUpO1xuICAgICAgICBjb25zdCBuID0gbmV3IFJ0KGN0LmZyb21TdHJpbmcoZSkpLCBzID0gdC5Vby5uZXh0KCk7XG4gICAgICAgIHQuRm8uc2V0KHMsIG5ldyBYbyhuKSksIHQuT28gPSB0Lk9vLmluc2VydChuLCBzKSwgcm8odC5yZW1vdGVTdG9yZSwgbmV3IG5pKHBlKGZlKG4ucGF0aCkpLCBzLCAyIC8qIExpbWJvUmVzb2x1dGlvbiAqLyAsIEouVCkpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2EodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBCKHQpLCBpID0gW10sIHIgPSBbXSwgbyA9IFtdO1xuICAgIHMueG8uaXNFbXB0eSgpIHx8IChzLnhvLmZvckVhY2goKCh0LCBhKSA9PiB7XG4gICAgICAgIG8ucHVzaChzLktvKGEsIGUsIG4pLnRoZW4oKHQgPT4ge1xuICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICBzLmlzUHJpbWFyeUNsaWVudCAmJiBzLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoYS50YXJnZXRJZCwgdC5mcm9tQ2FjaGUgPyBcIm5vdC1jdXJyZW50XCIgOiBcImN1cnJlbnRcIiksIFxuICAgICAgICAgICAgICAgIGkucHVzaCh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gaXIua24oYS50YXJnZXRJZCwgdCk7XG4gICAgICAgICAgICAgICAgci5wdXNoKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgIH0pKSwgYXdhaXQgUHJvbWlzZS5hbGwobyksIHMuTm8uVHIoaSksIGF3YWl0IGFzeW5jIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IEIodCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwibm90aWZ5TG9jYWxWaWV3Q2hhbmdlc1wiLCBcInJlYWR3cml0ZVwiLCAodCA9PiBxcy5mb3JFYWNoKGUsIChlID0+IHFzLmZvckVhY2goZS5ObiwgKHMgPT4gbi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UodCwgZS50YXJnZXRJZCwgcykpKS5uZXh0KCgoKSA9PiBxcy5mb3JFYWNoKGUueG4sIChzID0+IG4ucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlUmVmZXJlbmNlKHQsIGUudGFyZ2V0SWQsIHMpKSkpKSkpKSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIGlmICghR3ModCkpIHRocm93IHQ7XG4gICAgICAgICAgICAvLyBJZiBgbm90aWZ5TG9jYWxWaWV3Q2hhbmdlc2AgZmFpbHMsIHdlIGRpZCBub3QgYWR2YW5jZSB0aGUgc2VxdWVuY2VcbiAgICAgICAgICAgIC8vIG51bWJlciBmb3IgdGhlIGRvY3VtZW50cyB0aGF0IHdlcmUgaW5jbHVkZWQgaW4gdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgdHJpZ2dlciB0aGVtIHRvIGJlIGRlbGV0ZWQgZWFybGllciB0aGFuIHRoZXkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlLCBidXQgaXQgc2hvdWxkIG5vdCBpbnZhbGlkYXRlIHRoZSBpbnRlZ3JpdHkgb2YgdGhlIGRhdGEuXG4gICAgICAgICAgICB4KFwiTG9jYWxTdG9yZVwiLCBcIkZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVyczogXCIgKyB0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQudGFyZ2V0SWQ7XG4gICAgICAgICAgICBpZiAoIXQuZnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG4uVW4uZ2V0KGUpLCBzID0gdC5zbmFwc2hvdFZlcnNpb24sIGkgPSB0LndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKHMpO1xuICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgdGhlIGxhc3QgbGltYm8gZnJlZSBzbmFwc2hvdCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uVW4gPSBuLlVuLmluc2VydChlLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0ocy5sb2NhbFN0b3JlLCByKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHlhKHQsIGUpIHtcbiAgICBjb25zdCBuID0gQih0KTtcbiAgICBpZiAoIW4uY3VycmVudFVzZXIuaXNFcXVhbChlKSkge1xuICAgICAgICB4KFwiU3luY0VuZ2luZVwiLCBcIlVzZXIgY2hhbmdlLiBOZXcgdXNlcjpcIiwgZS50b0tleSgpKTtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IGNyKG4ubG9jYWxTdG9yZSwgZSk7XG4gICAgICAgIG4uY3VycmVudFVzZXIgPSBlLCBcbiAgICAgICAgLy8gRmFpbHMgdGFza3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgcmVxdWVzdGVkIGJ5IHByZXZpb3VzIHVzZXIuXG4gICAgICAgIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIHQuQm8uZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICAgICAgdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdC5yZWplY3QobmV3IHEoVS5DQU5DRUxMRUQsIGUpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIHQuQm8uY2xlYXIoKTtcbiAgICAgICAgfShuLCBcIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS5cIiksIFxuICAgICAgICAvLyBUT0RPKGIvMTE0MjI2NDE3KTogQ29uc2lkZXIgY2FsbGluZyB0aGlzIG9ubHkgaW4gdGhlIHByaW1hcnkgdGFiLlxuICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UoZSwgdC5yZW1vdmVkQmF0Y2hJZHMsIHQuYWRkZWRCYXRjaElkcyksIGF3YWl0IGdhKG4sIHQuV24pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGEodCwgZSkge1xuICAgIGNvbnN0IG4gPSBCKHQpLCBzID0gbi5Gby5nZXQoZSk7XG4gICAgaWYgKHMgJiYgcy5DbykgcmV0dXJuIFJuKCkuYWRkKHMua2V5KTtcbiAgICB7XG4gICAgICAgIGxldCB0ID0gUm4oKTtcbiAgICAgICAgY29uc3QgcyA9IG4ua28uZ2V0KGUpO1xuICAgICAgICBpZiAoIXMpIHJldHVybiB0O1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygcykge1xuICAgICAgICAgICAgY29uc3QgcyA9IG4ueG8uZ2V0KGUpO1xuICAgICAgICAgICAgdCA9IHQudW5pb25XaXRoKHMudmlldy5Ubyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlY29uY2lsZSB0aGUgbGlzdCBvZiBzeW5jZWQgZG9jdW1lbnRzIGluIGFuIGV4aXN0aW5nIHZpZXcgd2l0aCB0aG9zZVxuICogZnJvbSBwZXJzaXN0ZW5jZS5cbiAqLyBhc3luYyBmdW5jdGlvbiBFYSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IEIodCksIHMgPSBhd2FpdCBtcihuLmxvY2FsU3RvcmUsIGUucXVlcnksIFxuICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITApLCBpID0gZS52aWV3LlNvKHMpO1xuICAgIHJldHVybiBuLmlzUHJpbWFyeUNsaWVudCAmJiB3YShuLCBlLnRhcmdldElkLCBpLnZvKSwgaTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgbmV3bHkgY2hhbmdlZCBkb2N1bWVudHMgZnJvbSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgYW5kIHJhaXNlc1xuICogc25hcHNob3RzIGlmIG5lZWRlZC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIFRhKHQpIHtcbiAgICBjb25zdCBlID0gQih0KTtcbiAgICByZXR1cm4geXIoZS5sb2NhbFN0b3JlKS50aGVuKCh0ID0+IGdhKGUsIHQpKSk7XG59XG5cbi8qKiBBcHBsaWVzIGEgbXV0YXRpb24gc3RhdGUgdG8gYW4gZXhpc3RpbmcgYmF0Y2guICAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIElhKHQsIGUsIG4sIHMpIHtcbiAgICBjb25zdCBpID0gQih0KSwgciA9IGF3YWl0IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IEIodCksIHMgPSBCKG4uSW4pO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvb2t1cCBtdXRhdGlvbiBkb2N1bWVudHNcIiwgXCJyZWFkb25seVwiLCAodCA9PiBzLlh0KHQsIGUpLm5leHQoKGUgPT4gZSA/IG4uUW4uUG4odCwgZSkgOiBxcy5yZXNvbHZlKG51bGwpKSkpKTtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAoaS5sb2NhbFN0b3JlLCBlKTtcbiAgICBudWxsICE9PSByID8gKFwicGVuZGluZ1wiID09PSBuID8gXG4gICAgLy8gSWYgd2UgYXJlIHRoZSBwcmltYXJ5IGNsaWVudCwgd2UgbmVlZCB0byBzZW5kIHRoaXMgd3JpdGUgdG8gdGhlXG4gICAgLy8gYmFja2VuZC4gU2Vjb25kYXJ5IGNsaWVudHMgd2lsbCBpZ25vcmUgdGhlc2Ugd3JpdGVzIHNpbmNlIHRoZWlyIHJlbW90ZVxuICAgIC8vIGNvbm5lY3Rpb24gaXMgZGlzYWJsZWQuXG4gICAgYXdhaXQgcG8oaS5yZW1vdGVTdG9yZSkgOiBcImFja25vd2xlZGdlZFwiID09PSBuIHx8IFwicmVqZWN0ZWRcIiA9PT0gbiA/IChcbiAgICAvLyBOT1RFOiBCb3RoIHRoZXNlIG1ldGhvZHMgYXJlIG5vLW9wcyBmb3IgYmF0Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgZnJvbVxuICAgIC8vIG90aGVyIGNsaWVudHMuXG4gICAgbGEoaSwgZSwgcyB8fCBudWxsKSwgaGEoaSwgZSksIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgQihCKHQpLkluKS50ZShlKTtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAoaS5sb2NhbFN0b3JlLCBlKSkgOiBGKCksIGF3YWl0IGdhKGksIHIpKSA6IFxuICAgIC8vIEEgdGhyb3R0bGVkIHRhYiBtYXkgbm90IGhhdmUgc2VlbiB0aGUgbXV0YXRpb24gYmVmb3JlIGl0IHdhcyBjb21wbGV0ZWRcbiAgICAvLyBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBtdXRhdGlvbiBxdWV1ZSwgaW4gd2hpY2ggY2FzZSB3ZSB3b24ndCBoYXZlIGNhY2hlZFxuICAgIC8vIHRoZSBhZmZlY3RlZCBkb2N1bWVudHMuIEluIHRoaXMgY2FzZSB3ZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgdXBkYXRlXG4gICAgLy8gc2luY2UgdGhhdCBtZWFucyB3ZSBkaWRuJ3QgYXBwbHkgdGhlIG11dGF0aW9uIGxvY2FsbHkgYXQgYWxsIChpZiB3ZVxuICAgIC8vIGhhZCwgd2Ugd291bGQgaGF2ZSBjYWNoZWQgdGhlIGFmZmVjdGVkIGRvY3VtZW50cyksIGFuZCBzbyB3ZSB3aWxsIGp1c3RcbiAgICAvLyBzZWUgYW55IHJlc3VsdGluZyBkb2N1bWVudCBjaGFuZ2VzIHZpYSBub3JtYWwgcmVtb3RlIGRvY3VtZW50IHVwZGF0ZXNcbiAgICAvLyBhcyBhcHBsaWNhYmxlLlxuICAgIHgoXCJTeW5jRW5naW5lXCIsIFwiQ2Fubm90IGFwcGx5IG11dGF0aW9uIGJhdGNoIHdpdGggaWQ6IFwiICsgZSk7XG59XG5cbi8qKiBBcHBsaWVzIGEgcXVlcnkgdGFyZ2V0IGNoYW5nZSBmcm9tIGEgZGlmZmVyZW50IHRhYi4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBBYSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IEIodCk7XG4gICAgaWYgKFNhKG4pLCBEYShuKSwgITAgPT09IGUgJiYgITAgIT09IG4ucW8pIHtcbiAgICAgICAgLy8gU2Vjb25kYXJ5IHRhYnMgb25seSBtYWludGFpbiBWaWV3cyBmb3IgdGhlaXIgbG9jYWwgbGlzdGVuZXJzIGFuZCB0aGVcbiAgICAgICAgLy8gVmlld3MgaW50ZXJuYWwgc3RhdGUgbWF5IG5vdCBiZSAxMDAlIHBvcHVsYXRlZCAoaW4gcGFydGljdWxhclxuICAgICAgICAvLyBzZWNvbmRhcnkgdGFicyBkb24ndCB0cmFjayBzeW5jZWREb2N1bWVudHMsIHRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoZVxuICAgICAgICAvLyBzZXJ2ZXIgY29uc2lkZXJzIHRvIGJlIGluIHRoZSB0YXJnZXQpLiBTbyB3aGVuIGEgc2Vjb25kYXJ5IGJlY29tZXNcbiAgICAgICAgLy8gcHJpbWFyeSwgd2UgbmVlZCB0byBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCB2aWV3cyBmb3IgYWxsIHRhcmdldHNcbiAgICAgICAgLy8gbWF0Y2ggdGhlIHN0YXRlIG9uIGRpc2suXG4gICAgICAgIGNvbnN0IHQgPSBuLnNoYXJlZENsaWVudFN0YXRlLmdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpLCBlID0gYXdhaXQgUmEobiwgdC50b0FycmF5KCkpO1xuICAgICAgICBuLnFvID0gITAsIGF3YWl0IFZvKG4ucmVtb3RlU3RvcmUsICEwKTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHJvKG4ucmVtb3RlU3RvcmUsIHQpO1xuICAgIH0gZWxzZSBpZiAoITEgPT09IGUgJiYgITEgIT09IG4ucW8pIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBsZXQgZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBuLmtvLmZvckVhY2goKChzLCBpKSA9PiB7XG4gICAgICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmlzTG9jYWxRdWVyeVRhcmdldChpKSA/IHQucHVzaChpKSA6IGUgPSBlLnRoZW4oKCgpID0+IChmYShuLCBpKSwgXG4gICAgICAgICAgICBfcihuLmxvY2FsU3RvcmUsIGksIFxuICAgICAgICAgICAgLyprZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YT0qLyAhMCkpKSksIG9vKG4ucmVtb3RlU3RvcmUsIGkpO1xuICAgICAgICB9KSksIGF3YWl0IGUsIGF3YWl0IFJhKG4sIHQpLCBcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IEIodCk7XG4gICAgICAgICAgICBlLkZvLmZvckVhY2goKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgb28oZS5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgICAgICB9KSksIGUuTW8udXMoKSwgZS5GbyA9IG5ldyBNYXAsIGUuT28gPSBuZXcgZm4oUnQuY29tcGFyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZWNvbmNpbGUgdGhlIHF1ZXJ5IHZpZXdzIG9mIHRoZSBwcm92aWRlZCBxdWVyeSB0YXJnZXRzIHdpdGggdGhlIHN0YXRlIGZyb21cbiAqIHBlcnNpc3RlbmNlLiBSYWlzZXMgc25hcHNob3RzIGZvciBhbnkgY2hhbmdlcyB0aGF0IGFmZmVjdCB0aGUgbG9jYWxcbiAqIGNsaWVudCBhbmQgcmV0dXJucyB0aGUgdXBkYXRlZCBzdGF0ZSBvZiBhbGwgdGFyZ2V0J3MgcXVlcnkgZGF0YS5cbiAqXG4gKiBAcGFyYW0gc3luY0VuZ2luZSAtIFRoZSBzeW5jIGVuZ2luZSBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHRhcmdldHMgLSB0aGUgbGlzdCBvZiB0YXJnZXRzIHdpdGggdmlld3MgdGhhdCBuZWVkIHRvIGJlIHJlY29tcHV0ZWRcbiAqIEBwYXJhbSB0cmFuc2l0aW9uVG9QcmltYXJ5IC0gYHRydWVgIGlmZiB0aGUgdGFiIHRyYW5zaXRpb25zIGZyb20gYSBzZWNvbmRhcnlcbiAqIHRhYiB0byBhIHByaW1hcnkgdGFiXG4gKi9cbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAgICAgKG4pLCBuLnFvID0gITEsIGF3YWl0IFZvKG4ucmVtb3RlU3RvcmUsICExKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIFJhKHQsIGUsIG4pIHtcbiAgICBjb25zdCBzID0gQih0KSwgaSA9IFtdLCByID0gW107XG4gICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgbGV0IGU7XG4gICAgICAgIGNvbnN0IG4gPSBzLmtvLmdldCh0KTtcbiAgICAgICAgaWYgKG4gJiYgMCAhPT0gbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEZvciBxdWVyaWVzIHRoYXQgaGF2ZSBhIGxvY2FsIFZpZXcsIHdlIGZldGNoIHRoZWlyIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIC8vIGZyb20gTG9jYWxTdG9yZSAoYXMgdGhlIHJlc3VtZSB0b2tlbiBhbmQgdGhlIHNuYXBzaG90IHZlcnNpb25cbiAgICAgICAgICAgIC8vIG1pZ2h0IGhhdmUgY2hhbmdlZCkgYW5kIHJlY29uY2lsZSB0aGVpciB2aWV3cyB3aXRoIHRoZSBwZXJzaXN0ZWRcbiAgICAgICAgICAgIC8vIHN0YXRlICh0aGUgbGlzdCBvZiBzeW5jZWREb2N1bWVudHMgbWF5IGhhdmUgZ290dGVuIG91dCBvZiBzeW5jKS5cbiAgICAgICAgICAgIGUgPSBhd2FpdCB3cihzLmxvY2FsU3RvcmUsIHBlKG5bMF0pKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHMueG8uZ2V0KHQpLCBuID0gYXdhaXQgRWEocywgZSk7XG4gICAgICAgICAgICAgICAgbi5zbmFwc2hvdCAmJiByLnB1c2gobi5zbmFwc2hvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGb3IgcXVlcmllcyB0aGF0IG5ldmVyIGV4ZWN1dGVkIG9uIHRoaXMgY2xpZW50LCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgdGFyZ2V0IGluIExvY2FsU3RvcmUgYW5kIGluaXRpYWxpemUgYSBuZXcgVmlldy5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBhd2FpdCBncihzLmxvY2FsU3RvcmUsIHQpO1xuICAgICAgICAgICAgZSA9IGF3YWl0IHdyKHMubG9jYWxTdG9yZSwgbiksIGF3YWl0IGVhKHMsIGJhKG4pLCB0LCBcbiAgICAgICAgICAgIC8qY3VycmVudD0qLyAhMSk7XG4gICAgICAgIH1cbiAgICAgICAgaS5wdXNoKGUpO1xuICAgIH1cbiAgICByZXR1cm4gcy5Oby5UcihyKSwgaTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFF1ZXJ5YCBvYmplY3QgZnJvbSB0aGUgc3BlY2lmaWVkIGBUYXJnZXRgLiBUaGVyZSBpcyBubyB3YXkgdG9cbiAqIG9idGFpbiB0aGUgb3JpZ2luYWwgYFF1ZXJ5YCwgc28gd2Ugc3ludGhlc2l6ZSBhIGBRdWVyeWAgZnJvbSB0aGUgYFRhcmdldGBcbiAqIG9iamVjdC5cbiAqXG4gKiBUaGUgc3ludGhlc2l6ZWQgcmVzdWx0IG1pZ2h0IGJlIGRpZmZlcmVudCBmcm9tIHRoZSBvcmlnaW5hbCBgUXVlcnlgLCBidXRcbiAqIHNpbmNlIHRoZSBzeW50aGVzaXplZCBgUXVlcnlgIHNob3VsZCByZXR1cm4gdGhlIHNhbWUgcmVzdWx0cyBhcyB0aGVcbiAqIG9yaWdpbmFsIG9uZSAob25seSB0aGUgcHJlc2VudGF0aW9uIG9mIHJlc3VsdHMgbWlnaHQgZGlmZmVyKSwgdGhlIHBvdGVudGlhbFxuICogZGlmZmVyZW5jZSB3aWxsIG5vdCBjYXVzZSBpc3N1ZXMuXG4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBiYSh0KSB7XG4gICAgcmV0dXJuIGxlKHQucGF0aCwgdC5jb2xsZWN0aW9uR3JvdXAsIHQub3JkZXJCeSwgdC5maWx0ZXJzLCB0LmxpbWl0LCBcIkZcIiAvKiBGaXJzdCAqLyAsIHQuc3RhcnRBdCwgdC5lbmRBdCk7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgdGhlIGNsaWVudHMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZS4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBQYSh0KSB7XG4gICAgY29uc3QgZSA9IEIodCk7XG4gICAgcmV0dXJuIEIoQihlLmxvY2FsU3RvcmUpLnBlcnNpc3RlbmNlKS5wbigpO1xufVxuXG4vKiogQXBwbGllcyBhIHF1ZXJ5IHRhcmdldCBjaGFuZ2UgZnJvbSBhIGRpZmZlcmVudCB0YWIuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gdmEodCwgZSwgbiwgcykge1xuICAgIGNvbnN0IGkgPSBCKHQpO1xuICAgIGlmIChpLnFvKSBcbiAgICAvLyBJZiB3ZSByZWNlaXZlIGEgdGFyZ2V0IHN0YXRlIG5vdGlmaWNhdGlvbiB2aWEgV2ViU3RvcmFnZSwgd2UgYXJlXG4gICAgLy8gZWl0aGVyIGFscmVhZHkgc2Vjb25kYXJ5IG9yIGFub3RoZXIgdGFiIGhhcyB0YWtlbiB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICB4KFwiU3luY0VuZ2luZVwiLCBcIklnbm9yaW5nIHVuZXhwZWN0ZWQgcXVlcnkgc3RhdGUgbm90aWZpY2F0aW9uLlwiKTsgZWxzZSBpZiAoaS5rby5oYXMoZSkpIHN3aXRjaCAobikge1xuICAgICAgY2FzZSBcImN1cnJlbnRcIjpcbiAgICAgIGNhc2UgXCJub3QtY3VycmVudFwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ID0gYXdhaXQgeXIoaS5sb2NhbFN0b3JlKSwgcyA9IHZuLmNyZWF0ZVN5bnRoZXNpemVkUmVtb3RlRXZlbnRGb3JDdXJyZW50Q2hhbmdlKGUsIFwiY3VycmVudFwiID09PSBuKTtcbiAgICAgICAgICAgIGF3YWl0IGdhKGksIHQsIHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgIGF3YWl0IF9yKGkubG9jYWxTdG9yZSwgZSwgXG4gICAgICAgIC8qIGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhICovICEwKSwgZmEoaSwgZSwgcyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBGKCk7XG4gICAgfVxufVxuXG4vKiogQWRkcyBvciByZW1vdmVzIFdhdGNoIHRhcmdldHMgZm9yIHF1ZXJpZXMgZnJvbSBkaWZmZXJlbnQgdGFicy4gKi8gYXN5bmMgZnVuY3Rpb24gVmEodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBTYSh0KTtcbiAgICBpZiAocy5xbykge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZSkge1xuICAgICAgICAgICAgaWYgKHMua28uaGFzKHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gQSB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuIGFkZGVkIGluIGEgcHJldmlvdXMgYXR0ZW1wdFxuICAgICAgICAgICAgICAgIHgoXCJTeW5jRW5naW5lXCIsIFwiQWRkaW5nIGFuIGFscmVhZHkgYWN0aXZlIHRhcmdldCBcIiArIHQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZSA9IGF3YWl0IGdyKHMubG9jYWxTdG9yZSwgdCksIG4gPSBhd2FpdCB3cihzLmxvY2FsU3RvcmUsIGUpO1xuICAgICAgICAgICAgYXdhaXQgZWEocywgYmEoZSksIG4udGFyZ2V0SWQsIFxuICAgICAgICAgICAgLypjdXJyZW50PSovICExKSwgcm8ocy5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB0IG9mIG4pIFxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSB0YXJnZXQgaXMgc3RpbGwgYWN0aXZlIHNpbmNlIHRoZSB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuXG4gICAgICAgIC8vIHJlbW92ZWQgaWYgaXQgaGFzIGJlZW4gcmVqZWN0ZWQgYnkgdGhlIGJhY2tlbmQuXG4gICAgICAgIHMua28uaGFzKHQpICYmIFxuICAgICAgICAvLyBSZWxlYXNlIHF1ZXJpZXMgdGhhdCBhcmUgc3RpbGwgYWN0aXZlLlxuICAgICAgICBhd2FpdCBfcihzLmxvY2FsU3RvcmUsIHQsIFxuICAgICAgICAvKiBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YSAqLyAhMSkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgb28ocy5yZW1vdGVTdG9yZSwgdCksIGZhKHMsIHQpO1xuICAgICAgICB9KSkuY2F0Y2goJGkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU2EodCkge1xuICAgIGNvbnN0IGUgPSBCKHQpO1xuICAgIHJldHVybiBlLnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVJlbW90ZUV2ZW50ID0gaWEuYmluZChudWxsLCBlKSwgZS5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCA9IHBhLmJpbmQobnVsbCwgZSksIFxuICAgIGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbiA9IG9hLmJpbmQobnVsbCwgZSksIGUuTm8uVHIgPSBCby5iaW5kKG51bGwsIGUuZXZlbnRNYW5hZ2VyKSwgXG4gICAgZS5Oby5qbyA9IFVvLmJpbmQobnVsbCwgZS5ldmVudE1hbmFnZXIpLCBlO1xufVxuXG5mdW5jdGlvbiBEYSh0KSB7XG4gICAgY29uc3QgZSA9IEIodCk7XG4gICAgcmV0dXJuIGUucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlID0gYWEuYmluZChudWxsLCBlKSwgZS5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0RmFpbGVkV3JpdGUgPSBjYS5iaW5kKG51bGwsIGUpLCBcbiAgICBlO1xufVxuXG4vKipcbiAqIExvYWRzIGEgRmlyZXN0b3JlIGJ1bmRsZSBpbnRvIHRoZSBTREsuIFRoZSByZXR1cm5lZCBwcm9taXNlIHJlc29sdmVzIHdoZW5cbiAqIHRoZSBidW5kbGUgZmluaXNoZWQgbG9hZGluZy5cbiAqXG4gKiBAcGFyYW0gc3luY0VuZ2luZSAtIFN5bmNFbmdpbmUgdG8gdXNlLlxuICogQHBhcmFtIGJ1bmRsZVJlYWRlciAtIEJ1bmRsZSB0byBsb2FkIGludG8gdGhlIFNESy5cbiAqIEBwYXJhbSB0YXNrIC0gTG9hZEJ1bmRsZVRhc2sgdXNlZCB0byB1cGRhdGUgdGhlIGxvYWRpbmcgcHJvZ3Jlc3MgdG8gcHVibGljIEFQSS5cbiAqLyBmdW5jdGlvbiBDYSh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IEIodCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAoYXN5bmMgZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IGUuZ2V0TWV0YWRhdGEoKTtcbiAgICAgICAgICAgIGlmIChhd2FpdCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IEIodCksIHMgPSBxbihlLmNyZWF0ZVRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiaGFzTmV3ZXJCdW5kbGVcIiwgXCJyZWFkb25seVwiLCAodCA9PiBuLkplLmdldEJ1bmRsZU1ldGFkYXRhKHQsIGUuaWQpKSkudGhlbigodCA9PiAhIXQgJiYgdC5jcmVhdGVUaW1lLmNvbXBhcmVUbyhzKSA+PSAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIFNhdmVzIHRoZSBnaXZlbiBgQnVuZGxlTWV0YWRhdGFgIHRvIGxvY2FsIHBlcnNpc3RlbmNlLlxuICovICh0LmxvY2FsU3RvcmUsIHMpKSByZXR1cm4gYXdhaXQgZS5jbG9zZSgpLCB2b2lkIG4uX2NvbXBsZXRlV2l0aChmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza1N0YXRlOiBcIlN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzTG9hZGVkOiB0LnRvdGFsRG9jdW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBieXRlc0xvYWRlZDogdC50b3RhbEJ5dGVzLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbERvY3VtZW50czogdC50b3RhbERvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxCeXRlczogdC50b3RhbEJ5dGVzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0ocykpO1xuICAgICAgICAgICAgbi5fdXBkYXRlUHJvZ3Jlc3MoR28ocykpO1xuICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBXbyhzLCB0LmxvY2FsU3RvcmUsIGUuTik7XG4gICAgICAgICAgICBsZXQgciA9IGF3YWl0IGUuUW8oKTtcbiAgICAgICAgICAgIGZvciAoO3I7ICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBhd2FpdCBpLmZvKHIpO1xuICAgICAgICAgICAgICAgIHQgJiYgbi5fdXBkYXRlUHJvZ3Jlc3ModCksIHIgPSBhd2FpdCBlLlFvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvID0gYXdhaXQgaS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgLy8gVE9ETyhiLzE2MDg3NjQ0Myk6IFRoaXMgY3VycmVudGx5IHJhaXNlcyBzbmFwc2hvdHMgd2l0aFxuICAgICAgICAgICAgLy8gYGZyb21DYWNoZT1mYWxzZWAgaWYgdXNlcnMgYWxyZWFkeSBsaXN0ZW4gdG8gc29tZSBxdWVyaWVzIGFuZCBidW5kbGVzXG4gICAgICAgICAgICAvLyBoYXMgbmV3ZXIgdmVyc2lvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGdhKHQsIG8uVG4sIFxuICAgICAgICAgICAgLyogcmVtb3RlRXZlbnQgKi8gdm9pZCAwKSwgXG4gICAgICAgICAgICAvLyBTYXZlIG1ldGFkYXRhLCBzbyBsb2FkaW5nIHRoZSBzYW1lIGJ1bmRsZSB3aWxsIHNraXAuXG4gICAgICAgICAgICBhd2FpdCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IEIodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIGJ1bmRsZVwiLCBcInJlYWR3cml0ZVwiLCAodCA9PiBuLkplLnNhdmVCdW5kbGVNZXRhZGF0YSh0LCBlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhIGBOYW1lZFF1ZXJ5YCBhc3NvY2lhdGVkIHdpdGggZ2l2ZW4gcXVlcnkgbmFtZS4gUHJvbWlzZVxuICogcmVzb2x2ZXMgdG8gdW5kZWZpbmVkIGlmIG5vIHBlcnNpc3RlZCBkYXRhIGNhbiBiZSBmb3VuZC5cbiAqLyAodC5sb2NhbFN0b3JlLCBzKSwgbi5fY29tcGxldGVXaXRoKG8ucHJvZ3Jlc3MpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAkKFwiU3luY0VuZ2luZVwiLCBgTG9hZGluZyBidW5kbGUgZmFpbGVkIHdpdGggJHt0fWApLCBuLl9mYWlsV2l0aCh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogUHJvdmlkZXMgYWxsIGNvbXBvbmVudHMgbmVlZGVkIGZvciBGaXJlc3RvcmUgd2l0aCBpbi1tZW1vcnkgcGVyc2lzdGVuY2UuXG4gKiBVc2VzIEVhZ2VyR0MgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovKShzLCBlLCBuKS50aGVuKCgoKSA9PiB7XG4gICAgICAgIHMuc2hhcmVkQ2xpZW50U3RhdGUubm90aWZ5QnVuZGxlTG9hZGVkKCk7XG4gICAgfSkpO1xufVxuXG5jbGFzcyBOYSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3luY2hyb25pemVUYWJzID0gITE7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLk4gPSBIcih0LmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSwgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSA9IHRoaXMuV28odCksIHRoaXMucGVyc2lzdGVuY2UgPSB0aGlzLkdvKHQpLCBcbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5zdGFydCgpLCB0aGlzLmdjU2NoZWR1bGVyID0gdGhpcy56byh0KSwgdGhpcy5sb2NhbFN0b3JlID0gdGhpcy5Ibyh0KTtcbiAgICB9XG4gICAgem8odCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgSG8odCkge1xuICAgICAgICByZXR1cm4gYXIodGhpcy5wZXJzaXN0ZW5jZSwgbmV3IHJyLCB0LmluaXRpYWxVc2VyLCB0aGlzLk4pO1xuICAgIH1cbiAgICBHbyh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU3IoQ3IuTnMsIHRoaXMuTik7XG4gICAgfVxuICAgIFdvKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVcjtcbiAgICB9XG4gICAgYXN5bmMgdGVybWluYXRlKCkge1xuICAgICAgICB0aGlzLmdjU2NoZWR1bGVyICYmIHRoaXMuZ2NTY2hlZHVsZXIuc3RvcCgpLCBhd2FpdCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLnNodXRkb3duKCksIFxuICAgICAgICBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlLnNodXRkb3duKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFsbCBjb21wb25lbnRzIG5lZWRlZCBmb3IgRmlyZXN0b3JlIHdpdGggSW5kZXhlZERCIHBlcnNpc3RlbmNlLlxuICovIGNsYXNzIHhhIGV4dGVuZHMgTmEge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5KbyA9IHQsIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSBlLCB0aGlzLmZvcmNlT3duZXJzaGlwID0gbiwgdGhpcy5zeW5jaHJvbml6ZVRhYnMgPSAhMTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUodCksIGF3YWl0IHByKHRoaXMubG9jYWxTdG9yZSksIGF3YWl0IHRoaXMuSm8uaW5pdGlhbGl6ZSh0aGlzLCB0KSwgXG4gICAgICAgIC8vIEVucXVldWUgd3JpdGVzIGZyb20gYSBwcmV2aW91cyBzZXNzaW9uXG4gICAgICAgIGF3YWl0IERhKHRoaXMuSm8uc3luY0VuZ2luZSksIGF3YWl0IHBvKHRoaXMuSm8ucmVtb3RlU3RvcmUpLCBcbiAgICAgICAgLy8gTk9URTogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGxpc3RlbmVyLCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICAgICAgLy8gc2V0IGl0IGFmdGVyIGxvY2FsU3RvcmUgLyByZW1vdGVTdG9yZSBhcmUgc3RhcnRlZC5cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5ubigoKCkgPT4gKHRoaXMuZ2NTY2hlZHVsZXIgJiYgIXRoaXMuZ2NTY2hlZHVsZXIuc3RhcnRlZCAmJiB0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0KHRoaXMubG9jYWxTdG9yZSksIFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKSkpKTtcbiAgICB9XG4gICAgSG8odCkge1xuICAgICAgICByZXR1cm4gYXIodGhpcy5wZXJzaXN0ZW5jZSwgbmV3IHJyLCB0LmluaXRpYWxVc2VyLCB0aGlzLk4pO1xuICAgIH1cbiAgICB6byh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmdhcmJhZ2VDb2xsZWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgTWkoZSwgdC5hc3luY1F1ZXVlKTtcbiAgICB9XG4gICAgR28odCkge1xuICAgICAgICBjb25zdCBlID0gZXIodC5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCwgdC5kYXRhYmFzZUluZm8ucGVyc2lzdGVuY2VLZXkpLCBuID0gdm9pZCAwICE9PSB0aGlzLmNhY2hlU2l6ZUJ5dGVzID8gSWkud2l0aENhY2hlU2l6ZSh0aGlzLmNhY2hlU2l6ZUJ5dGVzKSA6IElpLkRFRkFVTFQ7XG4gICAgICAgIHJldHVybiBuZXcgWGkodGhpcy5zeW5jaHJvbml6ZVRhYnMsIGUsIHQuY2xpZW50SWQsIG4sIHQuYXN5bmNRdWV1ZSwgR3IoKSwgenIoKSwgdGhpcy5OLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLCAhIXRoaXMuZm9yY2VPd25lcnNoaXApO1xuICAgIH1cbiAgICBXbyh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVXI7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFsbCBjb21wb25lbnRzIG5lZWRlZCBmb3IgRmlyZXN0b3JlIHdpdGggbXVsdGktdGFiIEluZGV4ZWREQlxuICogcGVyc2lzdGVuY2UuXG4gKlxuICogSW4gdGhlIGxlZ2FjeSBjbGllbnQsIHRoaXMgcHJvdmlkZXIgaXMgdXNlZCB0byBwcm92aWRlIGJvdGggbXVsdGktdGFiIGFuZFxuICogbm9uLW11bHRpLXRhYiBwZXJzaXN0ZW5jZSBzaW5jZSB3ZSBjYW5ub3QgdGVsbCBhdCBidWlsZCB0aW1lIHdoZXRoZXJcbiAqIGBzeW5jaHJvbml6ZVRhYnNgIHdpbGwgYmUgZW5hYmxlZC5cbiAqLyBjbGFzcyBrYSBleHRlbmRzIHhhIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKHQsIGUsIC8qIGZvcmNlT3duZXJzaGlwPSAqLyAhMSksIHRoaXMuSm8gPSB0LCB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gZSwgdGhpcy5zeW5jaHJvbml6ZVRhYnMgPSAhMDtcbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUodCk7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLkpvLnN5bmNFbmdpbmU7XG4gICAgICAgIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgaW5zdGFuY2VvZiBCciAmJiAodGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zeW5jRW5naW5lID0ge1xuICAgICAgICAgICAgX2k6IElhLmJpbmQobnVsbCwgZSksXG4gICAgICAgICAgICBtaTogdmEuYmluZChudWxsLCBlKSxcbiAgICAgICAgICAgIGdpOiBWYS5iaW5kKG51bGwsIGUpLFxuICAgICAgICAgICAgcG46IFBhLmJpbmQobnVsbCwgZSksXG4gICAgICAgICAgICB3aTogVGEuYmluZChudWxsLCBlKVxuICAgICAgICB9LCBhd2FpdCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN0YXJ0KCkpLCBcbiAgICAgICAgLy8gTk9URTogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGxpc3RlbmVyLCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICAgICAgLy8gc2V0IGl0IGFmdGVyIGxvY2FsU3RvcmUgLyByZW1vdGVTdG9yZSBhcmUgc3RhcnRlZC5cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5ubigoYXN5bmMgdCA9PiB7XG4gICAgICAgICAgICBhd2FpdCBBYSh0aGlzLkpvLnN5bmNFbmdpbmUsIHQpLCB0aGlzLmdjU2NoZWR1bGVyICYmICh0ICYmICF0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0ZWQgPyB0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0KHRoaXMubG9jYWxTdG9yZSkgOiB0IHx8IHRoaXMuZ2NTY2hlZHVsZXIuc3RvcCgpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBXbyh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBHcigpO1xuICAgICAgICBpZiAoIUJyLmJ0KGUpKSB0aHJvdyBuZXcgcShVLlVOSU1QTEVNRU5URUQsIFwiSW5kZXhlZERCIHBlcnNpc3RlbmNlIGlzIG9ubHkgYXZhaWxhYmxlIG9uIHBsYXRmb3JtcyB0aGF0IHN1cHBvcnQgTG9jYWxTdG9yYWdlLlwiKTtcbiAgICAgICAgY29uc3QgbiA9IGVyKHQuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsIHQuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBCcihlLCB0LmFzeW5jUXVldWUsIG4sIHQuY2xpZW50SWQsIHQuaW5pdGlhbFVzZXIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbmQgd2lyZXMgdGhlIGNvbXBvbmVudHMgdGhhdCBhcmUgbmVlZGVkIHRvIGludGVyZmFjZSB3aXRoIHRoZVxuICogbmV0d29yay5cbiAqLyBjbGFzcyAkYSB7XG4gICAgYXN5bmMgaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSB8fCAodGhpcy5sb2NhbFN0b3JlID0gdC5sb2NhbFN0b3JlLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlID0gdC5zaGFyZWRDbGllbnRTdGF0ZSwgXG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gdGhpcy5jcmVhdGVEYXRhc3RvcmUoZSksIHRoaXMucmVtb3RlU3RvcmUgPSB0aGlzLmNyZWF0ZVJlbW90ZVN0b3JlKGUpLCBcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSB0aGlzLmNyZWF0ZUV2ZW50TWFuYWdlcihlKSwgdGhpcy5zeW5jRW5naW5lID0gdGhpcy5jcmVhdGVTeW5jRW5naW5lKGUsIFxuICAgICAgICAvKiBzdGFydEFzUHJpbWFyeT0qLyAhdC5zeW5jaHJvbml6ZVRhYnMpLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLm9ubGluZVN0YXRlSGFuZGxlciA9IHQgPT4gcmEodGhpcy5zeW5jRW5naW5lLCB0LCAxIC8qIFNoYXJlZENsaWVudFN0YXRlICovKSwgXG4gICAgICAgIHRoaXMucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UgPSB5YS5iaW5kKG51bGwsIHRoaXMuc3luY0VuZ2luZSksIFxuICAgICAgICBhd2FpdCBWbyh0aGlzLnJlbW90ZVN0b3JlLCB0aGlzLnN5bmNFbmdpbmUuaXNQcmltYXJ5Q2xpZW50KSk7XG4gICAgfVxuICAgIGNyZWF0ZUV2ZW50TWFuYWdlcih0KSB7XG4gICAgICAgIHJldHVybiBuZXcgRm87XG4gICAgfVxuICAgIGNyZWF0ZURhdGFzdG9yZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBIcih0LmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSwgbiA9IChzID0gdC5kYXRhYmFzZUluZm8sIG5ldyBXcihzKSk7XG4gICAgICAgIHZhciBzO1xuICAgICAgICAvKiogUmV0dXJuIHRoZSBQbGF0Zm9ybS1zcGVjaWZpYyBjb25uZWN0aXZpdHkgbW9uaXRvci4gKi8gICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlLCBuKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRvKHQsIGUsIG4pO1xuICAgICAgICB9KHQuY3JlZGVudGlhbHMsIG4sIGUpO1xuICAgIH1cbiAgICBjcmVhdGVSZW1vdGVTdG9yZSh0KSB7XG4gICAgICAgIHJldHVybiBlID0gdGhpcy5sb2NhbFN0b3JlLCBuID0gdGhpcy5kYXRhc3RvcmUsIHMgPSB0LmFzeW5jUXVldWUsIGkgPSB0ID0+IHJhKHRoaXMuc3luY0VuZ2luZSwgdCwgMCAvKiBSZW1vdGVTdG9yZSAqLyksIFxuICAgICAgICByID0gS3IuYnQoKSA/IG5ldyBLciA6IG5ldyBxciwgbmV3IG5vKGUsIG4sIHMsIGksIHIpO1xuICAgICAgICB2YXIgZSwgbiwgcywgaSwgcjtcbiAgICAgICAgLyoqIFJlLWVuYWJsZXMgdGhlIG5ldHdvcmsuIElkZW1wb3RlbnQuICovICAgIH1cbiAgICBjcmVhdGVTeW5jRW5naW5lKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUsIG4sIFxuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE1hbmFnZXMgc3RhdGUgc3luY2hyb25pemF0aW9uIGluIG11bHRpLXRhYiBlbnZpcm9ubWVudHMuXG4gICAgICAgIHMsIGksIHIsIG8pIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBuZXcgWm8odCwgZSwgbiwgcywgaSwgcik7XG4gICAgICAgICAgICByZXR1cm4gbyAmJiAoYS5xbyA9ICEwKSwgYTtcbiAgICAgICAgfSh0aGlzLmxvY2FsU3RvcmUsIHRoaXMucmVtb3RlU3RvcmUsIHRoaXMuZXZlbnRNYW5hZ2VyLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLCB0LmluaXRpYWxVc2VyLCB0Lm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zLCBlKTtcbiAgICB9XG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IEIodCk7XG4gICAgICAgICAgICB4KFwiUmVtb3RlU3RvcmVcIiwgXCJSZW1vdGVTdG9yZSBzaHV0dGluZyBkb3duLlwiKSwgZS5Lci5hZGQoNSAvKiBTaHV0ZG93biAqLyksIGF3YWl0IGlvKGUpLCBcbiAgICAgICAgICAgIGUuUXIuc2h1dGRvd24oKSwgXG4gICAgICAgICAgICAvLyBTZXQgdGhlIE9ubGluZVN0YXRlIHRvIFVua25vd24gKHJhdGhlciB0aGFuIE9mZmxpbmUpIHRvIGF2b2lkIHBvdGVudGlhbGx5XG4gICAgICAgICAgICAvLyB0cmlnZ2VyaW5nIHNwdXJpb3VzIGxpc3RlbmVyIGV2ZW50cyB3aXRoIGNhY2hlZCBkYXRhLCBldGMuXG4gICAgICAgICAgICBlLldyLnNldChcIlVua25vd25cIiAvKiBVbmtub3duICovKTtcbiAgICAgICAgfSh0aGlzLnJlbW90ZVN0b3JlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhvdyBtYW55IGJ5dGVzIHRvIHJlYWQgZWFjaCB0aW1lIHdoZW4gYFJlYWRhYmxlU3RyZWFtUmVhZGVyLnJlYWQoKWAgaXNcbiAqIGNhbGxlZC4gT25seSBhcHBsaWNhYmxlIGZvciBieXRlIHN0cmVhbXMgdGhhdCB3ZSBjb250cm9sIChlLmcuIHRob3NlIGJhY2tlZFxuICogYnkgYW4gVUludDhBcnJheSkuXG4gKi9cbi8qKlxuICogQnVpbGRzIGEgYEJ5dGVTdHJlYW1SZWFkZXJgIGZyb20gYSBVSW50OEFycmF5LlxuICogQHBhcmFtIHNvdXJjZSAtIFRoZSBkYXRhIHNvdXJjZSB0byB1c2UuXG4gKiBAcGFyYW0gYnl0ZXNQZXJSZWFkIC0gSG93IG1hbnkgYnl0ZXMgZWFjaCBgcmVhZCgpYCBmcm9tIHRoZSByZXR1cm5lZCByZWFkZXJcbiAqICAgICAgICB3aWxsIHJlYWQuXG4gKi9cbmZ1bmN0aW9uIE9hKHQsIGUgPSAxMDI0MCkge1xuICAgIGxldCBuID0gMDtcbiAgICAvLyBUaGUgVHlwZVNjcmlwdCBkZWZpbml0aW9uIGZvciBSZWFkYWJsZVN0cmVhbVJlYWRlciBjaGFuZ2VkLiBXZSB1c2VcbiAgICAvLyBgYW55YCBoZXJlIHRvIGFsbG93IHRoaXMgY29kZSB0byBjb21waWxlIHdpdGggZGlmZmVyZW50IHZlcnNpb25zLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQyOTcwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgYXN5bmMgcmVhZCgpIHtcbiAgICAgICAgICAgIGlmIChuIDwgdC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHQuc2xpY2UobiwgbiArIGUpLFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAhMVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4gKz0gZSwgcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9uZTogITBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNhbmNlbCgpIHt9LFxuICAgICAgICByZWxlYXNlTG9jaygpIHt9LFxuICAgICAgICBjbG9zZWQ6IFByb21pc2UucmVqZWN0KFwidW5pbXBsZW1lbnRlZFwiKVxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE9uIHdlYiwgYSBgUmVhZGFibGVTdHJlYW1gIGlzIHdyYXBwZWQgYXJvdW5kIGJ5IGEgYEJ5dGVTdHJlYW1SZWFkZXJgLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIEEgd3JhcHBlciBpbXBsZW1lbnRhdGlvbiBvZiBPYnNlcnZlcjxUPiB0aGF0IHdpbGwgZGlzcGF0Y2ggZXZlbnRzXG4gKiBhc3luY2hyb25vdXNseS4gVG8gYWxsb3cgaW1tZWRpYXRlIHNpbGVuY2luZywgYSBtdXRlIGNhbGwgaXMgYWRkZWQgd2hpY2hcbiAqIGNhdXNlcyBldmVudHMgc2NoZWR1bGVkIHRvIG5vIGxvbmdlciBiZSByYWlzZWQuXG4gKi9cbmNsYXNzIEZhIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUsIHdpbGwgbm90IHJhaXNlIGZ1dHVyZSBldmVudHMuIE5lY2Vzc2FyeSB0byBkZWFsIHdpdGhcbiAgICAgICAgICogYXN5bmMgZGV0YWNobWVudCBvZiBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXV0ZWQgPSAhMTtcbiAgICB9XG4gICAgbmV4dCh0KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIubmV4dCAmJiB0aGlzLllvKHRoaXMub2JzZXJ2ZXIubmV4dCwgdCk7XG4gICAgfVxuICAgIGVycm9yKHQpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5lcnJvciA/IHRoaXMuWW8odGhpcy5vYnNlcnZlci5lcnJvciwgdCkgOiBjb25zb2xlLmVycm9yKFwiVW5jYXVnaHQgRXJyb3IgaW4gc25hcHNob3QgbGlzdGVuZXI6XCIsIHQpO1xuICAgIH1cbiAgICBYbygpIHtcbiAgICAgICAgdGhpcy5tdXRlZCA9ICEwO1xuICAgIH1cbiAgICBZbyh0LCBlKSB7XG4gICAgICAgIHRoaXMubXV0ZWQgfHwgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tdXRlZCB8fCB0KGUpO1xuICAgICAgICB9KSwgMCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhIGJ1bmRsZS5cbiAqXG4gKiBUYWtlcyBhIGJ1bmRsZSBzdHJlYW0gb3IgYnVmZmVyLCBhbmQgcHJlc2VudHMgYWJzdHJhY3Rpb25zIHRvIHJlYWQgYnVuZGxlZFxuICogZWxlbWVudHMgb3V0IG9mIHRoZSB1bmRlcmx5aW5nIGNvbnRlbnQuXG4gKi8gY2xhc3MgTWEge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgcmVhZGVyIHRvIHJlYWQgZnJvbSB1bmRlcmx5aW5nIGJpbmFyeSBidW5kbGUgZGF0YSBzb3VyY2UuICovXG4gICAgdCwgZSkge1xuICAgICAgICB0aGlzLlpvID0gdCwgdGhpcy5OID0gZSwgXG4gICAgICAgIC8qKiBDYWNoZWQgYnVuZGxlIG1ldGFkYXRhLiAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbmV3IEssIFxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgYnVmZmVyIHRvIGhvbGQgYnVuZGxlIGNvbnRlbnQsIGFjY3VtdWxhdGluZyBpbmNvbXBsZXRlIGVsZW1lbnRcbiAgICAgICAgICogY29udGVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXksIHRoaXMudGEgPSBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKSwgXG4gICAgICAgIC8vIFJlYWQgdGhlIG1ldGFkYXRhICh3aGljaCBpcyB0aGUgZmlyc3QgZWxlbWVudCkuXG4gICAgICAgIHRoaXMuZWEoKS50aGVuKCh0ID0+IHtcbiAgICAgICAgICAgIHQgJiYgdC5obygpID8gdGhpcy5tZXRhZGF0YS5yZXNvbHZlKHQucGF5bG9hZC5tZXRhZGF0YSkgOiB0aGlzLm1ldGFkYXRhLnJlamVjdChuZXcgRXJyb3IoYFRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBidW5kbGUgaXMgbm90IGEgbWV0YWRhdGEsIGl0IGlzXFxuICAgICAgICAgICAgICR7SlNPTi5zdHJpbmdpZnkobnVsbCA9PSB0ID8gdm9pZCAwIDogdC5wYXlsb2FkKX1gKSk7XG4gICAgICAgIH0pLCAodCA9PiB0aGlzLm1ldGFkYXRhLnJlamVjdCh0KSkpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWm8uY2FuY2VsKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldE1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5wcm9taXNlO1xuICAgIH1cbiAgICBhc3luYyBRbygpIHtcbiAgICAgICAgLy8gTWFrZXMgc3VyZSBtZXRhZGF0YSBpcyByZWFkIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNZXRhZGF0YSgpLCB0aGlzLmVhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gdGhlIGhlYWQgb2YgaW50ZXJuYWwgYnVmZmVyLCBhbmQgcHVsbGluZyBtb3JlIGRhdGEgZnJvbVxuICAgICAqIHVuZGVybHlpbmcgc3RyZWFtIGlmIGEgY29tcGxldGUgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQsIHVudGlsIGFuXG4gICAgICogZWxlbWVudChpbmNsdWRpbmcgdGhlIHByZWZpeGVkIGxlbmd0aCBhbmQgdGhlIEpTT04gc3RyaW5nKSBpcyBmb3VuZC5cbiAgICAgKlxuICAgICAqIE9uY2UgYSBjb21wbGV0ZSBlbGVtZW50IGlzIHJlYWQsIGl0IGlzIGRyb3BwZWQgZnJvbSBpbnRlcm5hbCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGVpdGhlciB0aGUgYnVuZGxlZCBlbGVtZW50LCBvciBudWxsIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIG9mXG4gICAgICogdGhlIHN0cmVhbS5cbiAgICAgKi8gICAgYXN5bmMgZWEoKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCB0aGlzLm5hKCk7XG4gICAgICAgIGlmIChudWxsID09PSB0KSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMudGEuZGVjb2RlKHQpLCBuID0gTnVtYmVyKGUpO1xuICAgICAgICBpc05hTihuKSAmJiB0aGlzLnNhKGBsZW5ndGggc3RyaW5nICgke2V9KSBpcyBub3QgdmFsaWQgbnVtYmVyYCk7XG4gICAgICAgIGNvbnN0IHMgPSBhd2FpdCB0aGlzLmlhKG4pO1xuICAgICAgICByZXR1cm4gbmV3IGpvKEpTT04ucGFyc2UocyksIHQubGVuZ3RoICsgbik7XG4gICAgfVxuICAgIC8qKiBGaXJzdCBpbmRleCBvZiAneycgZnJvbSB0aGUgdW5kZXJseWluZyBidWZmZXIuICovICAgIHJhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuZmluZEluZGV4KCh0ID0+IHQgPT09IFwie1wiLmNoYXJDb2RlQXQoMCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBpbnRlcm5hbCBidWZmZXIsIHVudGlsIHRoZSBmaXJzdCAneycsIGFuZFxuICAgICAqIHJldHVybiB0aGUgY29udGVudC5cbiAgICAgKlxuICAgICAqIElmIHJlYWNoZWQgZW5kIG9mIHRoZSBzdHJlYW0sIHJldHVybnMgYSBudWxsLlxuICAgICAqLyAgICBhc3luYyBuYSgpIHtcbiAgICAgICAgZm9yICg7dGhpcy5yYSgpIDwgMDsgKSB7XG4gICAgICAgICAgICBpZiAoYXdhaXQgdGhpcy5vYSgpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBCcm9rZSBvdXQgb2YgdGhlIGxvb3AgYmVjYXVzZSB1bmRlcmx5aW5nIHN0cmVhbSBpcyBjbG9zZWQsIGFuZCB0aGVyZVxuICAgICAgICAvLyBoYXBwZW5zIHRvIGJlIG5vIG1vcmUgZGF0YSB0byBwcm9jZXNzLlxuICAgICAgICAgICAgICAgIGlmICgwID09PSB0aGlzLmJ1ZmZlci5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5yYSgpO1xuICAgICAgICAvLyBCcm9rZSBvdXQgb2YgdGhlIGxvb3AgYmVjYXVzZSB1bmRlcmx5aW5nIHN0cmVhbSBpcyBjbG9zZWQsIGJ1dCBzdGlsbFxuICAgICAgICAvLyBjYW5ub3QgZmluZCBhbiBvcGVuIGJyYWNrZXQuXG4gICAgICAgICAgICAgICAgdCA8IDAgJiYgdGhpcy5zYShcIlJlYWNoZWQgdGhlIGVuZCBvZiBidW5kbGUgd2hlbiBhIGxlbmd0aCBzdHJpbmcgaXMgZXhwZWN0ZWQuXCIpO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgdCk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgaW50ZXJuYWwgYnVmZmVyIHRvIGRyb3AgdGhlIHJlYWQgbGVuZ3RoLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKHQpLCBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBmcm9tIGEgc3BlY2lmaWVkIHBvc2l0aW9uIGZyb20gdGhlIGludGVybmFsIGJ1ZmZlciwgZm9yIGEgc3BlY2lmaWVkXG4gICAgICogbnVtYmVyIG9mIGJ5dGVzLCBwdWxsaW5nIG1vcmUgZGF0YSBmcm9tIHRoZSB1bmRlcmx5aW5nIHN0cmVhbSBpZiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIGRlY29kZWQgZnJvbSB0aGUgcmVhZCBieXRlcy5cbiAgICAgKi8gICAgYXN5bmMgaWEodCkge1xuICAgICAgICBmb3IgKDt0aGlzLmJ1ZmZlci5sZW5ndGggPCB0OyApIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub2EoKSAmJiB0aGlzLnNhKFwiUmVhY2hlZCB0aGUgZW5kIG9mIGJ1bmRsZSB3aGVuIG1vcmUgaXMgZXhwZWN0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnRhLmRlY29kZSh0aGlzLmJ1ZmZlci5zbGljZSgwLCB0KSk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgaW50ZXJuYWwgYnVmZmVyIHRvIGRyb3AgdGhlIHJlYWQganNvbiBzdHJpbmcuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UodCksIGU7XG4gICAgfVxuICAgIHNhKHQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aHJvdyB0aGlzLlpvLmNhbmNlbCgpLCBuZXcgRXJyb3IoYEludmFsaWQgYnVuZGxlIGZvcm1hdDogJHt0fWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWxscyBtb3JlIGRhdGEgZnJvbSB1bmRlcmx5aW5nIHN0cmVhbSB0byBpbnRlcm5hbCBidWZmZXIuXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQuXG4gICAgICovICAgIGFzeW5jIG9hKCkge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgdGhpcy5aby5yZWFkKCk7XG4gICAgICAgIGlmICghdC5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIubGVuZ3RoICsgdC52YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgZS5zZXQodGhpcy5idWZmZXIpLCBlLnNldCh0LnZhbHVlLCB0aGlzLmJ1ZmZlci5sZW5ndGgpLCB0aGlzLmJ1ZmZlciA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQuZG9uZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEludGVybmFsIHRyYW5zYWN0aW9uIG9iamVjdCByZXNwb25zaWJsZSBmb3IgYWNjdW11bGF0aW5nIHRoZSBtdXRhdGlvbnMgdG9cbiAqIHBlcmZvcm0gYW5kIHRoZSBiYXNlIHZlcnNpb25zIGZvciBhbnkgZG9jdW1lbnRzIHJlYWQuXG4gKi9cbmNsYXNzIExhIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gdCwgXG4gICAgICAgIC8vIFRoZSB2ZXJzaW9uIG9mIGVhY2ggZG9jdW1lbnQgdGhhdCB3YXMgcmVhZCBkdXJpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgdGhpcy5yZWFkVmVyc2lvbnMgPSBuZXcgTWFwLCB0aGlzLm11dGF0aW9ucyA9IFtdLCB0aGlzLmNvbW1pdHRlZCA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmZXJyZWQgdXNhZ2UgZXJyb3IgdGhhdCBvY2N1cnJlZCBwcmV2aW91c2x5IGluIHRoaXMgdHJhbnNhY3Rpb24gdGhhdFxuICAgICAgICAgKiB3aWxsIGNhdXNlIHRoZSB0cmFuc2FjdGlvbiB0byBmYWlsIG9uY2UgaXQgYWN0dWFsbHkgY29tbWl0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFdyaXRlRXJyb3IgPSBudWxsLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBvZiBkb2N1bWVudHMgdGhhdCBoYXZlIGJlZW4gd3JpdHRlbiBpbiB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlcmUncyBtb3JlIHRoYW4gb25lIHdyaXRlIHRvIHRoZSBzYW1lIGtleSBpbiBhIHRyYW5zYWN0aW9uLCBhbnlcbiAgICAgICAgICogd3JpdGVzIGFmdGVyIHRoZSBmaXJzdCBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JpdHRlbkRvY3MgPSBuZXcgU2V0O1xuICAgIH1cbiAgICBhc3luYyBsb29rdXAodCkge1xuICAgICAgICBpZiAodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5tdXRhdGlvbnMubGVuZ3RoID4gMCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIkZpcmVzdG9yZSB0cmFuc2FjdGlvbnMgcmVxdWlyZSBhbGwgcmVhZHMgdG8gYmUgZXhlY3V0ZWQgYmVmb3JlIGFsbCB3cml0ZXMuXCIpO1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgYXN5bmMgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IEIodCksIHMgPSBIbihuLk4pICsgXCIvZG9jdW1lbnRzXCIsIGkgPSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzOiBlLm1hcCgodCA9PiBRbihuLk4sIHQpKSlcbiAgICAgICAgICAgIH0sIHIgPSBhd2FpdCBuLktpKFwiQmF0Y2hHZXREb2N1bWVudHNcIiwgcywgaSksIG8gPSBuZXcgTWFwO1xuICAgICAgICAgICAgci5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gWm4obi5OLCB0KTtcbiAgICAgICAgICAgICAgICBvLnNldChlLmtleS50b1N0cmluZygpLCBlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBvLmdldCh0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIE0oISFlKSwgYS5wdXNoKGUpO1xuICAgICAgICAgICAgfSkpLCBhO1xuICAgICAgICB9KHRoaXMuZGF0YXN0b3JlLCB0KTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgodCA9PiB0aGlzLnJlY29yZFZlcnNpb24odCkpKSwgZTtcbiAgICB9XG4gICAgc2V0KHQsIGUpIHtcbiAgICAgICAgdGhpcy53cml0ZShlLnRvTXV0YXRpb24odCwgdGhpcy5wcmVjb25kaXRpb24odCkpKSwgdGhpcy53cml0dGVuRG9jcy5hZGQodC50b1N0cmluZygpKTtcbiAgICB9XG4gICAgdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUoZS50b011dGF0aW9uKHQsIHRoaXMucHJlY29uZGl0aW9uRm9yVXBkYXRlKHQpKSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFdyaXRlRXJyb3IgPSB0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdHRlbkRvY3MuYWRkKHQudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGRlbGV0ZSh0KSB7XG4gICAgICAgIHRoaXMud3JpdGUobmV3IHJuKHQsIHRoaXMucHJlY29uZGl0aW9uKHQpKSksIHRoaXMud3JpdHRlbkRvY3MuYWRkKHQudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGFzeW5jIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksIHRoaXMubGFzdFdyaXRlRXJyb3IpIHRocm93IHRoaXMubGFzdFdyaXRlRXJyb3I7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRWZXJzaW9ucztcbiAgICAgICAgLy8gRm9yIGVhY2ggbXV0YXRpb24sIG5vdGUgdGhhdCB0aGUgZG9jIHdhcyB3cml0dGVuLlxuICAgICAgICAgICAgICAgIHRoaXMubXV0YXRpb25zLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdC5kZWxldGUoZS5rZXkudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pKSwgXG4gICAgICAgIC8vIEZvciBlYWNoIGRvY3VtZW50IHRoYXQgd2FzIHJlYWQgYnV0IG5vdCB3cml0dGVuIHRvLCB3ZSB3YW50IHRvIHBlcmZvcm1cbiAgICAgICAgLy8gYSBgdmVyaWZ5YCBvcGVyYXRpb24uXG4gICAgICAgIHQuZm9yRWFjaCgoKHQsIGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBSdC5mcm9tUGF0aChlKTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25zLnB1c2gobmV3IG9uKG4sIHRoaXMucHJlY29uZGl0aW9uKG4pKSk7XG4gICAgICAgIH0pKSwgYXdhaXQgYXN5bmMgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IEIodCksIHMgPSBIbihuLk4pICsgXCIvZG9jdW1lbnRzXCIsIGkgPSB7XG4gICAgICAgICAgICAgICAgd3JpdGVzOiBlLm1hcCgodCA9PiBlcyhuLk4sIHQpKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBuLkxpKFwiQ29tbWl0XCIsIHMsIGkpO1xuICAgICAgICB9KHRoaXMuZGF0YXN0b3JlLCB0aGlzLm11dGF0aW9ucyksIHRoaXMuY29tbWl0dGVkID0gITA7XG4gICAgfVxuICAgIHJlY29yZFZlcnNpb24odCkge1xuICAgICAgICBsZXQgZTtcbiAgICAgICAgaWYgKHQuaXNGb3VuZERvY3VtZW50KCkpIGUgPSB0LnZlcnNpb247IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0LmlzTm9Eb2N1bWVudCgpKSB0aHJvdyBGKCk7XG4gICAgICAgICAgICAvLyBGb3IgZGVsZXRlZCBkb2NzLCB3ZSBtdXN0IHVzZSBiYXNlVmVyc2lvbiAwIHdoZW4gd2Ugb3ZlcndyaXRlIHRoZW0uXG4gICAgICAgICAgICBlID0gc3QubWluKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbiA9IHRoaXMucmVhZFZlcnNpb25zLmdldCh0LmtleS50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGlmICghZS5pc0VxdWFsKG4pKSBcbiAgICAgICAgICAgIC8vIFRoaXMgdHJhbnNhY3Rpb24gd2lsbCBmYWlsIG5vIG1hdHRlciB3aGF0LlxuICAgICAgICAgICAgdGhyb3cgbmV3IHEoVS5BQk9SVEVELCBcIkRvY3VtZW50IHZlcnNpb24gY2hhbmdlZCBiZXR3ZWVuIHR3byByZWFkcy5cIik7XG4gICAgICAgIH0gZWxzZSB0aGlzLnJlYWRWZXJzaW9ucy5zZXQodC5rZXkudG9TdHJpbmcoKSwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBkb2N1bWVudCB3aGVuIGl0IHdhcyByZWFkIGluIHRoaXMgdHJhbnNhY3Rpb24sXG4gICAgICogYXMgYSBwcmVjb25kaXRpb24sIG9yIG5vIHByZWNvbmRpdGlvbiBpZiBpdCB3YXMgbm90IHJlYWQuXG4gICAgICovICAgIHByZWNvbmRpdGlvbih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQodC50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLndyaXR0ZW5Eb2NzLmhhcyh0LnRvU3RyaW5nKCkpICYmIGUgPyBRZS51cGRhdGVUaW1lKGUpIDogUWUubm9uZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmVjb25kaXRpb24gZm9yIGEgZG9jdW1lbnQgaWYgdGhlIG9wZXJhdGlvbiBpcyBhbiB1cGRhdGUuXG4gICAgICovICAgIHByZWNvbmRpdGlvbkZvclVwZGF0ZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQodC50b1N0cmluZygpKTtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgYSBkb2N1bWVudCBpcyB3cml0dGVuLCB3ZSB3YW50IHRvIHRha2UgaW50byBhY2NvdW50IHRoZVxuICAgICAgICAvLyByZWFkIHRpbWUgYW5kIGV4aXN0ZW5jZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53cml0dGVuRG9jcy5oYXModC50b1N0cmluZygpKSAmJiBlKSB7XG4gICAgICAgICAgICBpZiAoZS5pc0VxdWFsKHN0Lm1pbigpKSkgXG4gICAgICAgICAgICAvLyBUaGUgZG9jdW1lbnQgZG9lc24ndCBleGlzdCwgc28gZmFpbCB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAvLyBUaGlzIGhhcyB0byBiZSB2YWxpZGF0ZWQgbG9jYWxseSBiZWNhdXNlIHlvdSBjYW4ndCBzZW5kIGFcbiAgICAgICAgICAgIC8vIHByZWNvbmRpdGlvbiB0aGF0IGEgZG9jdW1lbnQgZG9lcyBub3QgZXhpc3Qgd2l0aG91dCBjaGFuZ2luZyB0aGVcbiAgICAgICAgICAgIC8vIHNlbWFudGljcyBvZiB0aGUgYmFja2VuZCB3cml0ZSB0byBiZSBhbiBpbnNlcnQuIFRoaXMgaXMgdGhlIHJldmVyc2VcbiAgICAgICAgICAgIC8vIG9mIHdoYXQgd2Ugd2FudCwgc2luY2Ugd2Ugd2FudCB0byBhc3NlcnQgdGhhdCB0aGUgZG9jdW1lbnQgZG9lc24ndFxuICAgICAgICAgICAgLy8gZXhpc3QgYnV0IHRoZW4gc2VuZCB0aGUgdXBkYXRlIGFuZCBoYXZlIGl0IGZhaWwuIFNpbmNlIHdlIGNhbid0XG4gICAgICAgICAgICAvLyBleHByZXNzIHRoYXQgdG8gdGhlIGJhY2tlbmQsIHdlIGhhdmUgdG8gdmFsaWRhdGUgbG9jYWxseS5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgY2FuIGNoYW5nZSBvbmNlIHdlIGNhbiBzZW5kIHNlcGFyYXRlIHZlcmlmeSB3cml0ZXMgaW4gdGhlXG4gICAgICAgICAgICAvLyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJDYW4ndCB1cGRhdGUgYSBkb2N1bWVudCB0aGF0IGRvZXNuJ3QgZXhpc3QuXCIpO1xuICAgICAgICAgICAgLy8gRG9jdW1lbnQgZXhpc3RzLCBiYXNlIHByZWNvbmRpdGlvbiBvbiBkb2N1bWVudCB1cGRhdGUgdGltZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRZS51cGRhdGVUaW1lKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvY3VtZW50IHdhcyBub3QgcmVhZCwgc28gd2UganVzdCB1c2UgdGhlIHByZWNvbmRpdGlvbnMgZm9yIGEgYmxpbmRcbiAgICAgICAgLy8gdXBkYXRlLlxuICAgICAgICByZXR1cm4gUWUuZXhpc3RzKCEwKTtcbiAgICB9XG4gICAgd3JpdGUodCkge1xuICAgICAgICB0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLCB0aGlzLm11dGF0aW9ucy5wdXNoKHQpO1xuICAgIH1cbiAgICBlbnN1cmVDb21taXROb3RDYWxsZWQoKSB7fVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUcmFuc2FjdGlvblJ1bm5lciBlbmNhcHN1bGF0ZXMgdGhlIGxvZ2ljIG5lZWRlZCB0byBydW4gYW5kIHJldHJ5IHRyYW5zYWN0aW9uc1xuICogd2l0aCBiYWNrb2ZmLlxuICovXG5jbGFzcyBCYSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcykge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUgPSB0LCB0aGlzLmRhdGFzdG9yZSA9IGUsIHRoaXMudXBkYXRlRnVuY3Rpb24gPSBuLCB0aGlzLmRlZmVycmVkID0gcywgXG4gICAgICAgIHRoaXMuYWEgPSA1LCB0aGlzLnJyID0gbmV3IEpyKHRoaXMuYXN5bmNRdWV1ZSwgXCJ0cmFuc2FjdGlvbl9yZXRyeVwiIC8qIFRyYW5zYWN0aW9uUmV0cnkgKi8pO1xuICAgIH1cbiAgICAvKiogUnVucyB0aGUgdHJhbnNhY3Rpb24gYW5kIHNldHMgdGhlIHJlc3VsdCBvbiBkZWZlcnJlZC4gKi8gICAgcnVuKCkge1xuICAgICAgICB0aGlzLmFhIC09IDEsIHRoaXMuY2EoKTtcbiAgICB9XG4gICAgY2EoKSB7XG4gICAgICAgIHRoaXMucnIuWGkoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgTGEodGhpcy5kYXRhc3RvcmUpLCBlID0gdGhpcy51YSh0KTtcbiAgICAgICAgICAgIGUgJiYgZS50aGVuKChlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gdC5jb21taXQoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgICB9KSkuY2F0Y2goKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhKHQpO1xuICAgICAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICAgICAgfSkpLmNhdGNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhKHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHVhKHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLnVwZGF0ZUZ1bmN0aW9uKHQpO1xuICAgICAgICAgICAgcmV0dXJuICFUdChlKSAmJiBlLmNhdGNoICYmIGUudGhlbiA/IGUgOiAodGhpcy5kZWZlcnJlZC5yZWplY3QoRXJyb3IoXCJUcmFuc2FjdGlvbiBjYWxsYmFjayBtdXN0IHJldHVybiBhIFByb21pc2VcIikpLCBcbiAgICAgICAgICAgIG51bGwpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgcmV0cnkgZXJyb3JzIHRocm93biBieSB1c2VyIHByb3ZpZGVkIHVwZGF0ZUZ1bmN0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWQucmVqZWN0KHQpLCBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhKHQpIHtcbiAgICAgICAgdGhpcy5hYSA+IDAgJiYgdGhpcy5sYSh0KSA/ICh0aGlzLmFhIC09IDEsIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiAodGhpcy5jYSgpLCBcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSkpIDogdGhpcy5kZWZlcnJlZC5yZWplY3QodCk7XG4gICAgfVxuICAgIGxhKHQpIHtcbiAgICAgICAgaWYgKFwiRmlyZWJhc2VFcnJvclwiID09PSB0Lm5hbWUpIHtcbiAgICAgICAgICAgIC8vIEluIHRyYW5zYWN0aW9ucywgdGhlIGJhY2tlbmQgd2lsbCBmYWlsIG91dGRhdGVkIHJlYWRzIHdpdGggRkFJTEVEX1BSRUNPTkRJVElPTiBhbmRcbiAgICAgICAgICAgIC8vIG5vbi1tYXRjaGluZyBkb2N1bWVudCB2ZXJzaW9ucyB3aXRoIEFCT1JURUQuIFRoZXNlIGVycm9ycyBzaG91bGQgYmUgcmV0cmllZC5cbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNvZGU7XG4gICAgICAgICAgICByZXR1cm4gXCJhYm9ydGVkXCIgPT09IGUgfHwgXCJmYWlsZWQtcHJlY29uZGl0aW9uXCIgPT09IGUgfHwgIWhuKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEZpcmVzdG9yZUNsaWVudCBpcyBhIHRvcC1sZXZlbCBjbGFzcyB0aGF0IGNvbnN0cnVjdHMgYW5kIG93bnMgYWxsIG9mIHRoZVxuICogcGllY2VzIG9mIHRoZSBjbGllbnQgU0RLIGFyY2hpdGVjdHVyZS4gSXQgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoZVxuICogYXN5bmMgcXVldWUgdGhhdCBpcyBzaGFyZWQgYnkgYWxsIG9mIHRoZSBvdGhlciBjb21wb25lbnRzIGluIHRoZSBzeXN0ZW0uXG4gKi9cbmNsYXNzIFVhIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBcbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgcXVldWUgcmVzcG9uc2libGUgZm9yIGFsbCBvZiBvdXIgaW50ZXJuYWwgcHJvY2Vzc2luZy4gV2hlblxuICAgICAqIHdlIGdldCBpbmNvbWluZyB3b3JrIGZyb20gdGhlIHVzZXIgKHZpYSBwdWJsaWMgQVBJKSBvciB0aGUgbmV0d29ya1xuICAgICAqIChpbmNvbWluZyBHUlBDIG1lc3NhZ2VzKSwgd2Ugc2hvdWxkIGFsd2F5cyBzY2hlZHVsZSBvbnRvIHRoaXMgcXVldWUuXG4gICAgICogVGhpcyBlbnN1cmVzIGFsbCBvZiBvdXIgd29yayBpcyBwcm9wZXJseSBzZXJpYWxpemVkIChlLmcuIHdlIGRvbid0XG4gICAgICogc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBvcGVyYXRpb24gd2hpbGUgdGhlIHByZXZpb3VzIG9uZSBpcyB3YWl0aW5nIGZvclxuICAgICAqIGFuIGFzeW5jIEkvTyB0byBjb21wbGV0ZSkuXG4gICAgICovXG4gICAgZSwgbikge1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gdCwgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5kYXRhYmFzZUluZm8gPSBuLCB0aGlzLnVzZXIgPSBWLlVOQVVUSEVOVElDQVRFRCwgXG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBYLkkoKSwgdGhpcy5jcmVkZW50aWFsTGlzdGVuZXIgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSwgdGhpcy5jcmVkZW50aWFscy5zdGFydChlLCAoYXN5bmMgdCA9PiB7XG4gICAgICAgICAgICB4KFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiUmVjZWl2ZWQgdXNlcj1cIiwgdC51aWQpLCBhd2FpdCB0aGlzLmNyZWRlbnRpYWxMaXN0ZW5lcih0KSwgXG4gICAgICAgICAgICB0aGlzLnVzZXIgPSB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGdldENvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhc3luY1F1ZXVlOiB0aGlzLmFzeW5jUXVldWUsXG4gICAgICAgICAgICBkYXRhYmFzZUluZm86IHRoaXMuZGF0YWJhc2VJbmZvLFxuICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogdGhpcy5jcmVkZW50aWFscyxcbiAgICAgICAgICAgIGluaXRpYWxVc2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9uczogMTAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcih0KSB7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbExpc3RlbmVyID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IGJlZW4gdGVybWluYXRlZC4gRW5zdXJlcyB0aGF0IG90aGVyIG1ldGhvZHMgb25cbiAgICAgKiB0aGlzIGNsYXNzIGNhbm5vdCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGNsaWVudCBpcyB0ZXJtaW5hdGVkLlxuICAgICAqLyAgICB2ZXJpZnlOb3RUZXJtaW5hdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5hc3luY1F1ZXVlLmlzU2h1dHRpbmdEb3duKSB0aHJvdyBuZXcgcShVLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuXCIpO1xuICAgIH1cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZS5lbnRlclJlc3RyaWN0ZWRNb2RlKCk7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgSztcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ubGluZUNvbXBvbmVudHMgJiYgYXdhaXQgdGhpcy5vbmxpbmVDb21wb25lbnRzLnRlcm1pbmF0ZSgpLCB0aGlzLm9mZmxpbmVDb21wb25lbnRzICYmIGF3YWl0IHRoaXMub2ZmbGluZUNvbXBvbmVudHMudGVybWluYXRlKCksIFxuICAgICAgICAgICAgICAgIC8vIFRoZSBjcmVkZW50aWFscyBwcm92aWRlciBtdXN0IGJlIHRlcm1pbmF0ZWQgYWZ0ZXIgc2h1dHRpbmcgZG93biB0aGVcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGVTdG9yZSBhcyBpdCB3aWxsIHByZXZlbnQgdGhlIFJlbW90ZVN0b3JlIGZyb20gcmV0cmlldmluZyBhdXRoXG4gICAgICAgICAgICAgICAgLy8gdG9rZW5zLlxuICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbHMuc2h1dGRvd24oKSwgdC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IE5vKGUsIFwiRmFpbGVkIHRvIHNodXRkb3duIHBlcnNpc3RlbmNlXCIpO1xuICAgICAgICAgICAgICAgIHQucmVqZWN0KG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIHQucHJvbWlzZTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHFhKHQsIGUpIHtcbiAgICB0LmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLCB4KFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiSW5pdGlhbGl6aW5nIE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKTtcbiAgICBjb25zdCBuID0gYXdhaXQgdC5nZXRDb25maWd1cmF0aW9uKCk7XG4gICAgYXdhaXQgZS5pbml0aWFsaXplKG4pO1xuICAgIGxldCBzID0gbi5pbml0aWFsVXNlcjtcbiAgICB0LnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcigoYXN5bmMgdCA9PiB7XG4gICAgICAgIHMuaXNFcXVhbCh0KSB8fCAoYXdhaXQgY3IoZS5sb2NhbFN0b3JlLCB0KSwgcyA9IHQpO1xuICAgIH0pKSwgXG4gICAgLy8gV2hlbiBhIHVzZXIgY2FsbHMgY2xlYXJQZXJzaXN0ZW5jZSgpIGluIG9uZSBjbGllbnQsIGFsbCBvdGhlciBjbGllbnRzXG4gICAgLy8gbmVlZCB0byBiZSB0ZXJtaW5hdGVkIHRvIGFsbG93IHRoZSBkZWxldGUgdG8gc3VjY2VlZC5cbiAgICBlLnBlcnNpc3RlbmNlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCgoKSA9PiB0LnRlcm1pbmF0ZSgpKSksIHQub2ZmbGluZUNvbXBvbmVudHMgPSBlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBLYSh0LCBlKSB7XG4gICAgdC5hc3luY1F1ZXVlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKTtcbiAgICBjb25zdCBuID0gYXdhaXQgamEodCk7XG4gICAgeChcIkZpcmVzdG9yZUNsaWVudFwiLCBcIkluaXRpYWxpemluZyBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKTtcbiAgICBjb25zdCBzID0gYXdhaXQgdC5nZXRDb25maWd1cmF0aW9uKCk7XG4gICAgYXdhaXQgZS5pbml0aWFsaXplKG4sIHMpLCBcbiAgICAvLyBUaGUgQ3JlZGVudGlhbENoYW5nZUxpc3RlbmVyIG9mIHRoZSBvbmxpbmUgY29tcG9uZW50IHByb3ZpZGVyIHRha2VzXG4gICAgLy8gcHJlY2VkZW5jZSBvdmVyIHRoZSBvZmZsaW5lIGNvbXBvbmVudCBwcm92aWRlci5cbiAgICB0LnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcigodCA9PiBhc3luYyBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBCKHQpO1xuICAgICAgICBuLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpLCB4KFwiUmVtb3RlU3RvcmVcIiwgXCJSZW1vdGVTdG9yZSByZWNlaXZlZCBuZXcgY3JlZGVudGlhbHNcIik7XG4gICAgICAgIGNvbnN0IHMgPSBsbyhuKTtcbiAgICAgICAgLy8gVGVhciBkb3duIGFuZCByZS1jcmVhdGUgb3VyIG5ldHdvcmsgc3RyZWFtcy4gVGhpcyB3aWxsIGVuc3VyZSB3ZSBnZXQgYVxuICAgICAgICAvLyBmcmVzaCBhdXRoIHRva2VuIGZvciB0aGUgbmV3IHVzZXIgYW5kIHJlLWZpbGwgdGhlIHdyaXRlIHBpcGVsaW5lIHdpdGhcbiAgICAgICAgLy8gbmV3IG11dGF0aW9ucyBmcm9tIHRoZSBMb2NhbFN0b3JlIChzaW5jZSBtdXRhdGlvbnMgYXJlIHBlci11c2VyKS5cbiAgICAgICAgICAgICAgICBuLktyLmFkZCgzIC8qIENyZWRlbnRpYWxDaGFuZ2UgKi8pLCBhd2FpdCBpbyhuKSwgcyAmJiBcbiAgICAgICAgLy8gRG9uJ3Qgc2V0IHRoZSBuZXR3b3JrIHN0YXR1cyB0byBVbmtub3duIGlmIHdlIGFyZSBvZmZsaW5lLlxuICAgICAgICBuLldyLnNldChcIlVua25vd25cIiAvKiBVbmtub3duICovKSwgYXdhaXQgbi5yZW1vdGVTeW5jZXIuaGFuZGxlQ3JlZGVudGlhbENoYW5nZShlKSwgXG4gICAgICAgIG4uS3IuZGVsZXRlKDMgLyogQ3JlZGVudGlhbENoYW5nZSAqLyksIGF3YWl0IHNvKG4pO1xuICAgIH0oZS5yZW1vdGVTdG9yZSwgdCkpKSwgdC5vbmxpbmVDb21wb25lbnRzID0gZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gamEodCkge1xuICAgIHJldHVybiB0Lm9mZmxpbmVDb21wb25lbnRzIHx8ICh4KFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiVXNpbmcgZGVmYXVsdCBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXJcIiksIFxuICAgIGF3YWl0IHFhKHQsIG5ldyBOYSkpLCB0Lm9mZmxpbmVDb21wb25lbnRzO1xufVxuXG5hc3luYyBmdW5jdGlvbiBRYSh0KSB7XG4gICAgcmV0dXJuIHQub25saW5lQ29tcG9uZW50cyB8fCAoeChcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlVzaW5nIGRlZmF1bHQgT25saW5lQ29tcG9uZW50UHJvdmlkZXJcIiksIFxuICAgIGF3YWl0IEthKHQsIG5ldyAkYSkpLCB0Lm9ubGluZUNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIFdhKHQpIHtcbiAgICByZXR1cm4gamEodCkudGhlbigodCA9PiB0LnBlcnNpc3RlbmNlKSk7XG59XG5cbmZ1bmN0aW9uIEdhKHQpIHtcbiAgICByZXR1cm4gamEodCkudGhlbigodCA9PiB0LmxvY2FsU3RvcmUpKTtcbn1cblxuZnVuY3Rpb24gemEodCkge1xuICAgIHJldHVybiBRYSh0KS50aGVuKCh0ID0+IHQucmVtb3RlU3RvcmUpKTtcbn1cblxuZnVuY3Rpb24gSGEodCkge1xuICAgIHJldHVybiBRYSh0KS50aGVuKCh0ID0+IHQuc3luY0VuZ2luZSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBKYSh0KSB7XG4gICAgY29uc3QgZSA9IGF3YWl0IFFhKHQpLCBuID0gZS5ldmVudE1hbmFnZXI7XG4gICAgcmV0dXJuIG4ub25MaXN0ZW4gPSB0YS5iaW5kKG51bGwsIGUuc3luY0VuZ2luZSksIG4ub25Vbmxpc3RlbiA9IG5hLmJpbmQobnVsbCwgZS5zeW5jRW5naW5lKSwgXG4gICAgbjtcbn1cblxuLyoqIEVuYWJsZXMgdGhlIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgcmUtZW5xdWV1ZXMgYWxsIHBlbmRpbmcgb3BlcmF0aW9ucy4gKi8gZnVuY3Rpb24gWWEodCkge1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgV2EodCksIG4gPSBhd2FpdCB6YSh0KTtcbiAgICAgICAgcmV0dXJuIGUuc2V0TmV0d29ya0VuYWJsZWQoITApLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gQih0KTtcbiAgICAgICAgICAgIHJldHVybiBlLktyLmRlbGV0ZSgwIC8qIFVzZXJEaXNhYmxlZCAqLyksIHNvKGUpO1xuICAgICAgICB9KG4pO1xuICAgIH0pKTtcbn1cblxuLyoqIERpc2FibGVzIHRoZSBuZXR3b3JrIGNvbm5lY3Rpb24uIFBlbmRpbmcgb3BlcmF0aW9ucyB3aWxsIG5vdCBjb21wbGV0ZS4gKi8gZnVuY3Rpb24gWGEodCkge1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgV2EodCksIG4gPSBhd2FpdCB6YSh0KTtcbiAgICAgICAgcmV0dXJuIGUuc2V0TmV0d29ya0VuYWJsZWQoITEpLCBhc3luYyBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gQih0KTtcbiAgICAgICAgICAgIGUuS3IuYWRkKDAgLyogVXNlckRpc2FibGVkICovKSwgYXdhaXQgaW8oZSksIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBPbmxpbmVTdGF0ZSB0byBPZmZsaW5lIHNvIGdldCgpcyByZXR1cm4gZnJvbSBjYWNoZSwgZXRjLlxuICAgICAgICAgICAgZS5Xci5zZXQoXCJPZmZsaW5lXCIgLyogT2ZmbGluZSAqLyk7XG4gICAgICAgIH0obik7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgd3JpdGVzIHRoYXQgd2VyZSBwZW5kaW5nIGF0IHRoZSB0aW1lXG4gKiB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkIHJlY2VpdmVkIHNlcnZlciBhY2tub3dsZWRnZW1lbnQuIEFuIGFja25vd2xlZGdlbWVudFxuICogY2FuIGJlIGVpdGhlciBhY2NlcHRhbmNlIG9yIHJlamVjdGlvbi5cbiAqLyBmdW5jdGlvbiBaYSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IG5ldyBLO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gYXN5bmMgZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gQih0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcInJlYWQgZG9jdW1lbnRcIiwgXCJyZWFkb25seVwiLCAodCA9PiBuLlFuLkFuKHQsIGUpKSk7XG4gICAgICAgICAgICB9KHQsIGUpO1xuICAgICAgICAgICAgcy5pc0ZvdW5kRG9jdW1lbnQoKSA/IG4ucmVzb2x2ZShzKSA6IHMuaXNOb0RvY3VtZW50KCkgPyBuLnJlc29sdmUobnVsbCkgOiBuLnJlamVjdChuZXcgcShVLlVOQVZBSUxBQkxFLCBcIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBjYWNoZS4gKEhvd2V2ZXIsIHRoaXMgZG9jdW1lbnQgbWF5IGV4aXN0IG9uIHRoZSBzZXJ2ZXIuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgJ3NvdXJjZScgaW4gdGhlIEdldE9wdGlvbnMgdG8gYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZG9jdW1lbnQgZnJvbSB0aGUgc2VydmVyLilcIikpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICBjb25zdCBzID0gTm8odCwgYEZhaWxlZCB0byBnZXQgZG9jdW1lbnQgJyR7ZX0gZnJvbSBjYWNoZWApO1xuICAgICAgICAgICAgbi5yZWplY3Qocyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gKiBSZXRyaWV2ZXMgYSBsYXRlbmN5LWNvbXBlbnNhdGVkIGRvY3VtZW50IGZyb20gdGhlIGJhY2tlbmQgdmlhIGFcbiAqIFNuYXBzaG90TGlzdGVuZXIuXG4gKi8gKGF3YWl0IEdhKHQpLCBlLCBuKSkpLCBuLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHRjKHQsIGUsIG4gPSB7fSkge1xuICAgIGNvbnN0IHMgPSBuZXcgSztcbiAgICByZXR1cm4gdC5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGZ1bmN0aW9uKHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBGYSh7XG4gICAgICAgICAgICBuZXh0OiByID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcXVlcnkgZmlyc3QgYmVmb3JlIHBhc3NpbmcgZXZlbnQgdG8gdXNlciB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHVzZXIgYWN0aW9ucyBhZmZlY3RpbmcgdGhlIG5vdyBzdGFsZSBxdWVyeS5cbiAgICAgICAgICAgICAgICBlLmVucXVldWVBbmRGb3JnZXQoKCgpID0+IExvKHQsIG8pKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IHIuZG9jcy5oYXMobik7XG4gICAgICAgICAgICAgICAgIWEgJiYgci5mcm9tQ2FjaGUgPyBcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IElmIHdlJ3JlIG9ubGluZSBhbmQgdGhlIGRvY3VtZW50IGRvZXNuJ3RcbiAgICAgICAgICAgICAgICAvLyBleGlzdCB0aGVuIHdlIHJlc29sdmUgd2l0aCBhIGRvYy5leGlzdHMgc2V0IHRvIGZhbHNlLiBJZlxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIG9mZmxpbmUgaG93ZXZlciwgd2UgcmVqZWN0IHRoZSBQcm9taXNlIGluIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBjYXNlLiBUd28gb3B0aW9uczogMSkgQ2FjaGUgdGhlIG5lZ2F0aXZlIHJlc3BvbnNlIGZyb21cbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyIHNvIHdlIGNhbiBkZWxpdmVyIHRoYXQgZXZlbiB3aGVuIHlvdSdyZVxuICAgICAgICAgICAgICAgIC8vIG9mZmxpbmUgMikgQWN0dWFsbHkgcmVqZWN0IHRoZSBQcm9taXNlIGluIHRoZSBvbmxpbmUgY2FzZVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAgICAgICAgICAgIGkucmVqZWN0KG5ldyBxKFUuVU5BVkFJTEFCTEUsIFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCBiZWNhdXNlIHRoZSBjbGllbnQgaXMgb2ZmbGluZS5cIikpIDogYSAmJiByLmZyb21DYWNoZSAmJiBzICYmIFwic2VydmVyXCIgPT09IHMuc291cmNlID8gaS5yZWplY3QobmV3IHEoVS5VTkFWQUlMQUJMRSwgJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IGRvZXMgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnQuKScpKSA6IGkucmVzb2x2ZShyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogdCA9PiBpLnJlamVjdCh0KVxuICAgICAgICB9KSwgbyA9IG5ldyBLbyhmZShuLnBhdGgpLCByLCB7XG4gICAgICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiAhMCxcbiAgICAgICAgICAgIHVvOiAhMFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE1vKHQsIG8pO1xuICAgIH0oYXdhaXQgSmEodCksIHQuYXN5bmNRdWV1ZSwgZSwgbiwgcykpKSwgcy5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBlYyh0LCBlKSB7XG4gICAgY29uc3QgbiA9IG5ldyBLO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gYXN5bmMgZnVuY3Rpb24odCwgZSwgbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGF3YWl0IG1yKHQsIGUsIFxuICAgICAgICAgICAgLyogdXNlUHJldmlvdXNSZXN1bHRzPSAqLyAhMCksIGkgPSBuZXcgSm8oZSwgcy5HbiksIHIgPSBpLklvKHMuZG9jdW1lbnRzKSwgbyA9IGkuYXBwbHlDaGFuZ2VzKHIsIFxuICAgICAgICAgICAgLyogdXBkYXRlTGltYm9Eb2N1bWVudHM9ICovICExKTtcbiAgICAgICAgICAgIG4ucmVzb2x2ZShvLnNuYXBzaG90KTtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgY29uc3QgcyA9IE5vKHQsIGBGYWlsZWQgdG8gZXhlY3V0ZSBxdWVyeSAnJHtlfSBhZ2FpbnN0IGNhY2hlYCk7XG4gICAgICAgICAgICBuLnJlamVjdChzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIFJldHJpZXZlcyBhIGxhdGVuY3ktY29tcGVuc2F0ZWQgcXVlcnkgc25hcHNob3QgZnJvbSB0aGUgYmFja2VuZCB2aWEgYVxuICogU25hcHNob3RMaXN0ZW5lci5cbiAqLyAoYXdhaXQgR2EodCksIGUsIG4pKSksIG4ucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmModCwgZSwgbiA9IHt9KSB7XG4gICAgY29uc3QgcyA9IG5ldyBLO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24odCwgZSwgbiwgcywgaSkge1xuICAgICAgICBjb25zdCByID0gbmV3IEZhKHtcbiAgICAgICAgICAgIG5leHQ6IG4gPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBxdWVyeSBmaXJzdCBiZWZvcmUgcGFzc2luZyBldmVudCB0byB1c2VyIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhY3Rpb25zIGFmZmVjdGluZyB0aGUgbm93IHN0YWxlIHF1ZXJ5LlxuICAgICAgICAgICAgICAgIGUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gTG8odCwgbykpKSwgbi5mcm9tQ2FjaGUgJiYgXCJzZXJ2ZXJcIiA9PT0gcy5zb3VyY2UgPyBpLnJlamVjdChuZXcgcShVLlVOQVZBSUxBQkxFLCAnRmFpbGVkIHRvIGdldCBkb2N1bWVudHMgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGVzZSBkb2N1bWVudHMgbWF5IGV4aXN0IGluIHRoZSBsb2NhbCBjYWNoZS4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyBzb3VyY2UgdG8gXCJzZXJ2ZXJcIiB0byByZXRyaWV2ZSB0aGUgY2FjaGVkIGRvY3VtZW50cy4pJykpIDogaS5yZXNvbHZlKG4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiB0ID0+IGkucmVqZWN0KHQpXG4gICAgICAgIH0pLCBvID0gbmV3IEtvKG4sIHIsIHtcbiAgICAgICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ICEwLFxuICAgICAgICAgICAgdW86ICEwXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTW8odCwgbyk7XG4gICAgfShhd2FpdCBKYSh0KSwgdC5hc3luY1F1ZXVlLCBlLCBuLCBzKSkpLCBzLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHNjKHQsIGUpIHtcbiAgICBjb25zdCBuID0gbmV3IEZhKGUpO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBCKHQpLlpyLmFkZChlKSwgXG4gICAgICAgIC8vIEltbWVkaWF0ZWx5IGZpcmUgYW4gaW5pdGlhbCBldmVudCwgaW5kaWNhdGluZyBhbGwgZXhpc3RpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIGFyZSBpbi1zeW5jLlxuICAgICAgICBlLm5leHQoKTtcbiAgICB9KGF3YWl0IEphKHQpLCBuKSkpLCAoKSA9PiB7XG4gICAgICAgIG4uWG8oKSwgdC5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIEIodCkuWnIuZGVsZXRlKGUpO1xuICAgICAgICB9KGF3YWl0IEphKHQpLCBuKSkpO1xuICAgIH07XG59XG5cbi8qKlxuICogVGFrZXMgYW4gdXBkYXRlRnVuY3Rpb24gaW4gd2hpY2ggYSBzZXQgb2YgcmVhZHMgYW5kIHdyaXRlcyBjYW4gYmUgcGVyZm9ybWVkXG4gKiBhdG9taWNhbGx5LiBJbiB0aGUgdXBkYXRlRnVuY3Rpb24sIHRoZSBjbGllbnQgY2FuIHJlYWQgYW5kIHdyaXRlIHZhbHVlc1xuICogdXNpbmcgdGhlIHN1cHBsaWVkIHRyYW5zYWN0aW9uIG9iamVjdC4gQWZ0ZXIgdGhlIHVwZGF0ZUZ1bmN0aW9uLCBhbGxcbiAqIGNoYW5nZXMgd2lsbCBiZSBjb21taXR0ZWQuIElmIGEgcmV0cnlhYmxlIGVycm9yIG9jY3VycyAoZXg6IHNvbWUgb3RoZXJcbiAqIGNsaWVudCBoYXMgY2hhbmdlZCBhbnkgb2YgdGhlIGRhdGEgcmVmZXJlbmNlZCksIHRoZW4gdGhlIHVwZGF0ZUZ1bmN0aW9uXG4gKiB3aWxsIGJlIGNhbGxlZCBhZ2FpbiBhZnRlciBhIGJhY2tvZmYuIElmIHRoZSB1cGRhdGVGdW5jdGlvbiBzdGlsbCBmYWlsc1xuICogYWZ0ZXIgYWxsIHJldHJpZXMsIHRoZW4gdGhlIHRyYW5zYWN0aW9uIHdpbGwgYmUgcmVqZWN0ZWQuXG4gKlxuICogVGhlIHRyYW5zYWN0aW9uIG9iamVjdCBwYXNzZWQgdG8gdGhlIHVwZGF0ZUZ1bmN0aW9uIGNvbnRhaW5zIG1ldGhvZHMgZm9yXG4gKiBhY2Nlc3NpbmcgZG9jdW1lbnRzIGFuZCBjb2xsZWN0aW9ucy4gVW5saWtlIG90aGVyIGRhdGFzdG9yZSBhY2Nlc3MsIGRhdGFcbiAqIGFjY2Vzc2VkIHdpdGggdGhlIHRyYW5zYWN0aW9uIHdpbGwgbm90IHJlZmxlY3QgbG9jYWwgY2hhbmdlcyB0aGF0IGhhdmUgbm90XG4gKiBiZWVuIGNvbW1pdHRlZC4gRm9yIHRoaXMgcmVhc29uLCBpdCBpcyByZXF1aXJlZCB0aGF0IGFsbCByZWFkcyBhcmVcbiAqIHBlcmZvcm1lZCBiZWZvcmUgYW55IHdyaXRlcy4gVHJhbnNhY3Rpb25zIG11c3QgYmUgcGVyZm9ybWVkIHdoaWxlIG9ubGluZS5cbiAqLyBmdW5jdGlvbiBpYyh0LCBlKSB7XG4gICAgY29uc3QgbiA9IG5ldyBLO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzID0gYXdhaXQgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgcmV0dXJuIFFhKHQpLnRoZW4oKHQgPT4gdC5kYXRhc3RvcmUpKTtcbiAgICAgICAgfSh0KTtcbiAgICAgICAgbmV3IEJhKHQuYXN5bmNRdWV1ZSwgcywgZSwgbikucnVuKCk7XG4gICAgfSkpLCBuLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHJjKHQsIGUsIG4sIHMpIHtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgbiA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyAobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCkgOiB0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYSh0LCBlKTtcbiAgICAgICAgfShmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiBPYSh0LCBlKTtcbiAgICAgICAgICAgIGlmICh0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHJldHVybiBPYShuZXcgVWludDhBcnJheSh0KSwgZSk7XG4gICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKSByZXR1cm4gdC5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvdXJjZSBvZiBgdG9CeXRlU3RyZWFtUmVhZGVyYCBoYXMgdG8gYmUgYSBBcnJheUJ1ZmZlciBvciBSZWFkYWJsZVN0cmVhbVwiKTtcbiAgICAgICAgfShuKSwgZSk7XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChuLCBIcihlKSk7XG4gICAgdC5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgQ2EoYXdhaXQgSGEodCksIGksIHMpO1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gb2ModCwgZSkge1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBjb25zdCBuID0gQih0KTtcbiAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmFtZWQgcXVlcnlcIiwgXCJyZWFkb25seVwiLCAodCA9PiBuLkplLmdldE5hbWVkUXVlcnkodCwgZSkpKTtcbiAgICB9KGF3YWl0IEdhKHQpLCBlKSkpO1xufVxuXG5jbGFzcyBhYyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIERhdGFiYXNlSW5mbyB1c2luZyB0aGUgcHJvdmlkZWQgaG9zdCwgZGF0YWJhc2VJZCBhbmRcbiAgICAgKiBwZXJzaXN0ZW5jZUtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIGRhdGFiYXNlIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0gYXBwSWQgLSBUaGUgRmlyZWJhc2UgQXBwIElkLlxuICAgICAqIEBwYXJhbSBwZXJzaXN0ZW5jZUtleSAtIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgRmlyZXN0b3JlJ3MgbG9jYWxcbiAgICAgKiBzdG9yYWdlICh1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGRhdGFiYXNlSWQpLlxuICAgICAqIEBwYXJhbSBob3N0IC0gVGhlIEZpcmVzdG9yZSBiYWNrZW5kIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKiBAcGFyYW0gc3NsIC0gV2hldGhlciB0byB1c2UgU1NMIHdoZW4gY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gZm9yY2VMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBmb3JjZUxvbmdQb2xsaW5nIG9wdGlvblxuICAgICAqIHdoZW4gdXNpbmcgV2ViQ2hhbm5lbCBhcyB0aGUgbmV0d29yayB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIGF1dG9EZXRlY3RMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBkZXRlY3RCdWZmZXJpbmdQcm94eVxuICAgICAqIG9wdGlvbiB3aGVuIHVzaW5nIFdlYkNoYW5uZWwgYXMgdGhlIG5ldHdvcmsgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSB1c2VGZXRjaFN0cmVhbXMgV2hldGhlciB0byB1c2UgdGhlIEZldGNoIEFQSSBpbnN0ZWFkIG9mXG4gICAgICogWE1MSFRUUFJlcXVlc3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzLCBpLCByLCBvLCBhKSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IHQsIHRoaXMuYXBwSWQgPSBlLCB0aGlzLnBlcnNpc3RlbmNlS2V5ID0gbiwgdGhpcy5ob3N0ID0gcywgdGhpcy5zc2wgPSBpLCBcbiAgICAgICAgdGhpcy5mb3JjZUxvbmdQb2xsaW5nID0gciwgdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgPSBvLCB0aGlzLnVzZUZldGNoU3RyZWFtcyA9IGE7XG4gICAgfVxufVxuXG4vKiogVGhlIGRlZmF1bHQgZGF0YWJhc2UgbmFtZSBmb3IgYSBwcm9qZWN0LiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBkYXRhYmFzZSBJRCBhIEZpcmVzdG9yZSBjbGllbnQgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIGNjIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMucHJvamVjdElkID0gdCwgdGhpcy5kYXRhYmFzZSA9IGUgfHwgXCIoZGVmYXVsdClcIjtcbiAgICB9XG4gICAgZ2V0IGlzRGVmYXVsdERhdGFiYXNlKCkge1xuICAgICAgICByZXR1cm4gXCIoZGVmYXVsdClcIiA9PT0gdGhpcy5kYXRhYmFzZTtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0IGluc3RhbmNlb2YgY2MgJiYgdC5wcm9qZWN0SWQgPT09IHRoaXMucHJvamVjdElkICYmIHQuZGF0YWJhc2UgPT09IHRoaXMuZGF0YWJhc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCB1YyA9IG5ldyBNYXA7XG5cbi8qKlxuICogQW4gaW5zdGFuY2UgbWFwIHRoYXQgZW5zdXJlcyBvbmx5IG9uZSBEYXRhc3RvcmUgZXhpc3RzIHBlciBGaXJlc3RvcmVcbiAqIGluc3RhbmNlLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gaGModCwgZSwgbikge1xuICAgIGlmICghbikgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgRnVuY3Rpb24gJHt0fSgpIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSAke2V9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHR3byBib29sZWFuIG9wdGlvbnMgYXJlIG5vdCBzZXQgYXQgdGhlIHNhbWUgdGltZS5cbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGxjKHQsIGUsIG4sIHMpIHtcbiAgICBpZiAoITAgPT09IGUgJiYgITAgPT09IHMpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYCR7dH0gYW5kICR7bn0gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYHBhdGhgIHJlZmVycyB0byBhIGRvY3VtZW50IChpbmRpY2F0ZWQgYnkgdGhlIGZhY3QgaXQgY29udGFpbnNcbiAqIGFuIGV2ZW4gbnVtYmVycyBvZiBzZWdtZW50cykuXG4gKi8gZnVuY3Rpb24gZmModCkge1xuICAgIGlmICghUnQuaXNEb2N1bWVudEtleSh0KSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBkb2N1bWVudCByZWZlcmVuY2UuIERvY3VtZW50IHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgJHt0fSBoYXMgJHt0Lmxlbmd0aH0uYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYHBhdGhgIHJlZmVycyB0byBhIGNvbGxlY3Rpb24gKGluZGljYXRlZCBieSB0aGUgZmFjdCBpdFxuICogY29udGFpbnMgYW4gb2RkIG51bWJlcnMgb2Ygc2VnbWVudHMpLlxuICovIGZ1bmN0aW9uIGRjKHQpIHtcbiAgICBpZiAoUnQuaXNEb2N1bWVudEtleSh0KSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBjb2xsZWN0aW9uIHJlZmVyZW5jZS4gQ29sbGVjdGlvbiByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgJHt0fSBoYXMgJHt0Lmxlbmd0aH0uYCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGl0J3MgYSBub24tbnVsbCBvYmplY3Qgd2l0aG91dCBhIGN1c3RvbSBwcm90b3R5cGVcbiAqIChpLmUuIGV4Y2x1ZGVzIEFycmF5LCBEYXRlLCBldGMuKS5cbiAqL1xuLyoqIFJldHVybnMgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgdHlwZSAvIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBpbnB1dC4gKi9cbmZ1bmN0aW9uIHdjKHQpIHtcbiAgICBpZiAodm9pZCAwID09PSB0KSByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICBpZiAobnVsbCA9PT0gdCkgcmV0dXJuIFwibnVsbFwiO1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0KSByZXR1cm4gdC5sZW5ndGggPiAyMCAmJiAodCA9IGAke3Quc3Vic3RyaW5nKDAsIDIwKX0uLi5gKSwgXG4gICAgSlNPTi5zdHJpbmdpZnkodCk7XG4gICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIHQgfHwgXCJib29sZWFuXCIgPT0gdHlwZW9mIHQpIHJldHVybiBcIlwiICsgdDtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgdCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gXCJhbiBhcnJheVwiO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gXG4gICAgICAgICAgICAvKiogSGFja3kgbWV0aG9kIHRvIHRyeSB0byBnZXQgdGhlIGNvbnN0cnVjdG9yIG5hbWUgZm9yIGFuIG9iamVjdC4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gL2Z1bmN0aW9uXFxzKyhbXlxccyhdKylcXHMqXFwoLy5leGVjKHQuY29uc3RydWN0b3IudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUubGVuZ3RoID4gMSkgcmV0dXJuIGVbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBDYXN0cyBgb2JqYCB0byBgVGAsIG9wdGlvbmFsbHkgdW53cmFwcGluZyBDb21wYXQgdHlwZXMgdG8gZXhwb3NlIHRoZVxuICogdW5kZXJseWluZyBpbnN0YW5jZS4gVGhyb3dzIGlmICBgb2JqYCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgYFRgLlxuICpcbiAqIFRoaXMgY2FzdCBpcyB1c2VkIGluIHRoZSBMaXRlIGFuZCBGdWxsIFNESyB0byB2ZXJpZnkgaW5zdGFuY2UgdHlwZXMgZm9yXG4gKiBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwdWJsaWMgQVBJLlxuICogQGludGVybmFsXG4gKi8gKHQpO1xuICAgICAgICAgICAgcmV0dXJuIGUgPyBgYSBjdXN0b20gJHtlfSBvYmplY3RgIDogXCJhbiBvYmplY3RcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ID8gXCJhIGZ1bmN0aW9uXCIgOiBGKCk7XG59XG5cbmZ1bmN0aW9uIF9jKHQsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmUpIHtcbiAgICBpZiAoXCJfZGVsZWdhdGVcIiBpbiB0ICYmIChcbiAgICAvLyBVbndyYXAgQ29tcGF0IHR5cGVzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB0ID0gdC5fZGVsZWdhdGUpLCAhKHQgaW5zdGFuY2VvZiBlKSkge1xuICAgICAgICBpZiAoZS5uYW1lID09PSB0LmNvbnN0cnVjdG9yLm5hbWUpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJUeXBlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBpbnN0YW5jZS4gRGlkIHlvdSBwYXNzIGEgcmVmZXJlbmNlIGZyb20gYSBkaWZmZXJlbnQgRmlyZXN0b3JlIFNESz9cIik7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB3Yyh0KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEV4cGVjdGVkIHR5cGUgJyR7ZS5uYW1lfScsIGJ1dCBpdCB3YXM6ICR7bn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbWModCwgZSkge1xuICAgIGlmIChlIDw9IDApIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEZ1bmN0aW9uICR7dH0oKSByZXF1aXJlcyBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGl0IHdhczogJHtlfS5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIHNldHRpbmdzKCkgZGVmYXVsdHM6XG4vKipcbiAqIEEgY29uY3JldGUgdHlwZSBkZXNjcmliaW5nIGFsbCB0aGUgdmFsdWVzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdmlhIGFcbiAqIHVzZXItc3VwcGxpZWQgYEZpcmVzdG9yZVNldHRpbmdzYCBvYmplY3QuIFRoaXMgaXMgYSBzZXBhcmF0ZSB0eXBlIHNvIHRoYXRcbiAqIGRlZmF1bHRzIGNhbiBiZSBzdXBwbGllZCBhbmQgdGhlIHZhbHVlIGNhbiBiZSBjaGVja2VkIGZvciBlcXVhbGl0eS5cbiAqL1xuY2xhc3MgZ2Mge1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdmFyIGU7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IHQuaG9zdCkge1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gdC5zc2wpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJDYW4ndCBwcm92aWRlIHNzbCBvcHRpb24gaWYgaG9zdCBvcHRpb24gaXMgbm90IHNldFwiKTtcbiAgICAgICAgICAgIHRoaXMuaG9zdCA9IFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIsIHRoaXMuc3NsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHRoaXMuaG9zdCA9IHQuaG9zdCwgdGhpcy5zc2wgPSBudWxsID09PSAoZSA9IHQuc3NsKSB8fCB2b2lkIDAgPT09IGUgfHwgZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlZGVudGlhbHMgPSB0LmNyZWRlbnRpYWxzLCB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPSAhIXQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcywgXG4gICAgICAgIHZvaWQgMCA9PT0gdC5jYWNoZVNpemVCeXRlcykgdGhpcy5jYWNoZVNpemVCeXRlcyA9IDQxOTQzMDQwOyBlbHNlIHtcbiAgICAgICAgICAgIGlmICgtMSAhPT0gdC5jYWNoZVNpemVCeXRlcyAmJiB0LmNhY2hlU2l6ZUJ5dGVzIDwgMTA0ODU3NikgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcImNhY2hlU2l6ZUJ5dGVzIG11c3QgYmUgYXQgbGVhc3QgMTA0ODU3NlwiKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSB0LmNhY2hlU2l6ZUJ5dGVzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA9ICEhdC5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLCB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9ICEhdC5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsIFxuICAgICAgICB0aGlzLnVzZUZldGNoU3RyZWFtcyA9ICEhdC51c2VGZXRjaFN0cmVhbXMsIGxjKFwiZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZ1wiLCB0LmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIFwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nXCIsIHQuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nKTtcbiAgICB9XG4gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvc3QgPT09IHQuaG9zdCAmJiB0aGlzLnNzbCA9PT0gdC5zc2wgJiYgdGhpcy5jcmVkZW50aWFscyA9PT0gdC5jcmVkZW50aWFscyAmJiB0aGlzLmNhY2hlU2l6ZUJ5dGVzID09PSB0LmNhY2hlU2l6ZUJ5dGVzICYmIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA9PT0gdC5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nICYmIHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID09PSB0LmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyAmJiB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPT09IHQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyAmJiB0aGlzLnVzZUZldGNoU3RyZWFtcyA9PT0gdC51c2VGZXRjaFN0cmVhbXM7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgQ2xvdWQgRmlyZXN0b3JlIHNlcnZpY2UgaW50ZXJmYWNlLlxuICpcbiAqIERvIG5vdCBjYWxsIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQsIHVzZSB7QGxpbmsgZ2V0RmlyZXN0b3JlfS5cbiAqLyBjbGFzcyB5YyB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuX2NyZWRlbnRpYWxzID0gZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0J3MgYSBGaXJlc3RvcmUgb3IgRmlyZXN0b3JlIExpdGUgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcImZpcmVzdG9yZS1saXRlXCIsIHRoaXMuX3BlcnNpc3RlbmNlS2V5ID0gXCIobGl0ZSlcIiwgdGhpcy5fc2V0dGluZ3MgPSBuZXcgZ2Moe30pLCBcbiAgICAgICAgdGhpcy5fc2V0dGluZ3NGcm96ZW4gPSAhMSwgdCBpbnN0YW5jZW9mIGNjID8gdGhpcy5fZGF0YWJhc2VJZCA9IHQgOiAodGhpcy5fYXBwID0gdCwgXG4gICAgICAgIHRoaXMuX2RhdGFiYXNlSWQgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYXBwbHkodC5vcHRpb25zLCBbIFwicHJvamVjdElkXCIgXSkpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgJ1wicHJvamVjdElkXCIgbm90IHByb3ZpZGVkIGluIGZpcmViYXNlLmluaXRpYWxpemVBcHAuJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNjKHQub3B0aW9ucy5wcm9qZWN0SWQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogTW9kaWZ5IHRoaXMgaW5zdGFuY2UgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGUgQ2xvdWQgRmlyZXN0b3JlIGVtdWxhdG9yLlxuICpcbiAqIE5vdGU6IFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHRoaXMgaW5zdGFuY2UgaGFzIGJlZW4gdXNlZCB0byBkbyBhbnlcbiAqIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSBgRmlyZXN0b3JlYCBpbnN0YW5jZSB0byBjb25maWd1cmUgdG8gY29ubmVjdCB0byB0aGVcbiAqIGVtdWxhdG9yLlxuICogQHBhcmFtIGhvc3QgLSB0aGUgZW11bGF0b3IgaG9zdCAoZXg6IGxvY2FsaG9zdCkuXG4gKiBAcGFyYW0gcG9ydCAtIHRoZSBlbXVsYXRvciBwb3J0IChleDogOTAwMCkuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2NrVXNlclRva2VuIC0gdGhlIG1vY2sgYXV0aCB0b2tlbiB0byB1c2UgZm9yIHVuaXQgdGVzdGluZ1xuICogU2VjdXJpdHkgUnVsZXMuXG4gKi8gKHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBhc3NvY2lhdGVkIHdpdGggdGhpcyBgRmlyZXN0b3JlYCBzZXJ2aWNlXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBhcHAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYXBwKSB0aHJvdyBuZXcgcShVLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiRmlyZXN0b3JlIHdhcyBub3QgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIEZpcmViYXNlIFNESy4gJ2FwcCcgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcDtcbiAgICB9XG4gICAgZ2V0IF9pbml0aWFsaXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzRnJvemVuO1xuICAgIH1cbiAgICBnZXQgX3Rlcm1pbmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHRoaXMuX3Rlcm1pbmF0ZVRhc2s7XG4gICAgfVxuICAgIF9zZXRTZXR0aW5ncyh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5nc0Zyb3plbikgdGhyb3cgbmV3IHEoVS5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIGl0cyBzZXR0aW5ncyBjYW4gbm8gbG9uZ2VyIGJlIGNoYW5nZWQuIFlvdSBjYW4gb25seSBtb2RpZnkgc2V0dGluZ3MgYmVmb3JlIGNhbGxpbmcgYW55IG90aGVyIG1ldGhvZHMgb24gYSBGaXJlc3RvcmUgb2JqZWN0LlwiKTtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBuZXcgZ2ModCksIHZvaWQgMCAhPT0gdC5jcmVkZW50aWFscyAmJiAodGhpcy5fY3JlZGVudGlhbHMgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIXQpIHJldHVybiBuZXcgUTtcbiAgICAgICAgICAgIHN3aXRjaCAodC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJnYXBpXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuY2xpZW50O1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHJlYWxseSBpcyBhIEdhcGkgY2xpZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTSghKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUgfHwgbnVsbCA9PT0gZSB8fCAhZS5hdXRoIHx8ICFlLmF1dGguZ2V0QXV0aEhlYWRlclZhbHVlRm9yRmlyc3RQYXJ0eSkpLCBcbiAgICAgICAgICAgICAgICBuZXcgSChlLCB0LnNlc3Npb25JbmRleCB8fCBcIjBcIiwgdC5pYW1Ub2tlbiB8fCBudWxsKTtcblxuICAgICAgICAgICAgICBjYXNlIFwicHJvdmlkZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5jbGllbnQ7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwibWFrZUNyZWRlbnRpYWxzUHJvdmlkZXIgZmFpbGVkIGR1ZSB0byBpbnZhbGlkIGNyZWRlbnRpYWwgdHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSh0LmNyZWRlbnRpYWxzKSk7XG4gICAgfVxuICAgIF9nZXRTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cbiAgICBfZnJlZXplU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbiA9ICEwLCB0aGlzLl9zZXR0aW5ncztcbiAgICB9XG4gICAgX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZVRhc2sgfHwgKHRoaXMuX3Rlcm1pbmF0ZVRhc2sgPSB0aGlzLl90ZXJtaW5hdGUoKSksIHRoaXMuX3Rlcm1pbmF0ZVRhc2s7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBgRmlyZXN0b3JlYCBpbnN0YW5jZS4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBwOiB0aGlzLl9hcHAsXG4gICAgICAgICAgICBkYXRhYmFzZUlkOiB0aGlzLl9kYXRhYmFzZUlkLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuX3NldHRpbmdzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZXMgYWxsIGNvbXBvbmVudHMgdXNlZCBieSB0aGlzIGNsaWVudC4gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB0byBjbGVhbiB1cCB0aGVpciBvd24gZGVwZW5kZW5jaWVzLCBidXQgbXVzdCBhbHNvIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE9ubHkgZXZlciBjYWxsZWQgb25jZS5cbiAgICAgKi8gICAgX3Rlcm1pbmF0ZSgpIHtcbiAgICAgICAgLyoqXG4gKiBSZW1vdmVzIGFsbCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgaW5zdGFuY2UuIE11c3QgYmUgY2FsbGVkXG4gKiB3aGVuIHRoZSBgRmlyZXN0b3JlYCBpbnN0YW5jZSBpcyB0ZXJtaW5hdGVkLlxuICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdWMuZ2V0KHQpO1xuICAgICAgICAgICAgZSAmJiAoeChcIkNvbXBvbmVudFByb3ZpZGVyXCIsIFwiUmVtb3ZpbmcgRGF0YXN0b3JlXCIpLCB1Yy5kZWxldGUodCksIGUudGVybWluYXRlKCkpO1xuICAgICAgICB9KHRoaXMpLCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBjKHQsIGUsIG4sIHMgPSB7fSkge1xuICAgIHZhciBpO1xuICAgIGNvbnN0IHIgPSAodCA9IF9jKHQsIHljKSkuX2dldFNldHRpbmdzKCk7XG4gICAgaWYgKFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIgIT09IHIuaG9zdCAmJiByLmhvc3QgIT09IGUgJiYgJChcIkhvc3QgaGFzIGJlZW4gc2V0IGluIGJvdGggc2V0dGluZ3MoKSBhbmQgdXNlRW11bGF0b3IoKSwgZW11bGF0b3IgaG9zdCB3aWxsIGJlIHVzZWRcIiksIFxuICAgIHQuX3NldFNldHRpbmdzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgciksIHtcbiAgICAgICAgaG9zdDogYCR7ZX06JHtufWAsXG4gICAgICAgIHNzbDogITFcbiAgICB9KSksIHMubW9ja1VzZXJUb2tlbikge1xuICAgICAgICBsZXQgZSwgbjtcbiAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHMubW9ja1VzZXJUb2tlbikgZSA9IHMubW9ja1VzZXJUb2tlbiwgbiA9IFYuTU9DS19VU0VSOyBlbHNlIHtcbiAgICAgICAgICAgIC8vIExldCBjcmVhdGVNb2NrVXNlclRva2VuIHZhbGlkYXRlIGZpcnN0IChjYXRjaGVzIGNvbW1vbiBtaXN0YWtlcyBsaWtlXG4gICAgICAgICAgICAvLyBpbnZhbGlkIGZpZWxkIFwidWlkXCIgYW5kIG1pc3NpbmcgZmllbGQgXCJzdWJcIiAvIFwidXNlcl9pZFwiLilcbiAgICAgICAgICAgIGUgPSBtKHMubW9ja1VzZXJUb2tlbiwgbnVsbCA9PT0gKGkgPSB0Ll9hcHApIHx8IHZvaWQgMCA9PT0gaSA/IHZvaWQgMCA6IGkub3B0aW9ucy5wcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc3QgciA9IHMubW9ja1VzZXJUb2tlbi5zdWIgfHwgcy5tb2NrVXNlclRva2VuLnVzZXJfaWQ7XG4gICAgICAgICAgICBpZiAoIXIpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhXCIpO1xuICAgICAgICAgICAgbiA9IG5ldyBWKHIpO1xuICAgICAgICB9XG4gICAgICAgIHQuX2NyZWRlbnRpYWxzID0gbmV3IFcobmV3IGooZSwgbikpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBgRG9jdW1lbnRSZWZlcmVuY2VgIHJlZmVycyB0byBhIGRvY3VtZW50IGxvY2F0aW9uIGluIGEgRmlyZXN0b3JlIGRhdGFiYXNlXG4gKiBhbmQgY2FuIGJlIHVzZWQgdG8gd3JpdGUsIHJlYWQsIG9yIGxpc3RlbiB0byB0aGUgbG9jYXRpb24uIFRoZSBkb2N1bWVudCBhdFxuICogdGhlIHJlZmVyZW5jZWQgbG9jYXRpb24gbWF5IG9yIG1heSBub3QgZXhpc3QuXG4gKi8gY2xhc3MgRWMge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IodCwgXG4gICAgLyoqXG4gICAgICogSWYgcHJvdmlkZWQsIHRoZSBgRmlyZXN0b3JlRGF0YUNvbnZlcnRlcmAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZSwgbikge1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IGUsIHRoaXMuX2tleSA9IG4sIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBGaXJlc3RvcmUgcmVmZXJlbmNlLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcImRvY3VtZW50XCIsIHRoaXMuZmlyZXN0b3JlID0gdDtcbiAgICB9XG4gICAgZ2V0IF9wYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudCdzIGlkZW50aWZpZXIgd2l0aGluIGl0cyBjb2xsZWN0aW9uLlxuICAgICAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHBhdGggb2YgdGhlIHJlZmVyZW5jZWQgZG9jdW1lbnQgKHJlbGF0aXZlXG4gICAgICogdG8gdGhlIHJvb3Qgb2YgdGhlIGRhdGFiYXNlKS5cbiAgICAgKi8gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxlY3Rpb24gdGhpcyBgRG9jdW1lbnRSZWZlcmVuY2VgIGJlbG9uZ3MgdG8uXG4gICAgICovICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSWModGhpcy5maXJlc3RvcmUsIHRoaXMuY29udmVydGVyLCB0aGlzLl9rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgIH1cbiAgICB3aXRoQ29udmVydGVyKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFYyh0aGlzLmZpcmVzdG9yZSwgdCwgdGhpcy5fa2V5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgUXVlcnlgIHJlZmVycyB0byBhIHF1ZXJ5IHdoaWNoIHlvdSBjYW4gcmVhZCBvciBsaXN0ZW4gdG8uIFlvdSBjYW4gYWxzb1xuICogY29uc3RydWN0IHJlZmluZWQgYFF1ZXJ5YCBvYmplY3RzIGJ5IGFkZGluZyBmaWx0ZXJzIGFuZCBvcmRlcmluZy5cbiAqLyBjbGFzcyBUYyB7XG4gICAgLy8gVGhpcyBpcyB0aGUgbGl0ZSB2ZXJzaW9uIG9mIHRoZSBRdWVyeSBjbGFzcyBpbiB0aGUgbWFpbiBTREsuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgcHJvdGVjdGVkICovXG4gICAgY29uc3RydWN0b3IodCwgXG4gICAgLyoqXG4gICAgICogSWYgcHJvdmlkZWQsIHRoZSBgRmlyZXN0b3JlRGF0YUNvbnZlcnRlcmAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZSwgbikge1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IGUsIHRoaXMuX3F1ZXJ5ID0gbiwgXG4gICAgICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIEZpcmVzdG9yZSByZWZlcmVuY2UuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwicXVlcnlcIiwgdGhpcy5maXJlc3RvcmUgPSB0O1xuICAgIH1cbiAgICB3aXRoQ29udmVydGVyKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYyh0aGlzLmZpcmVzdG9yZSwgdCwgdGhpcy5fcXVlcnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBDb2xsZWN0aW9uUmVmZXJlbmNlYCBvYmplY3QgY2FuIGJlIHVzZWQgZm9yIGFkZGluZyBkb2N1bWVudHMsIGdldHRpbmdcbiAqIGRvY3VtZW50IHJlZmVyZW5jZXMsIGFuZCBxdWVyeWluZyBmb3IgZG9jdW1lbnRzICh1c2luZyB7QGxpbmsgcXVlcnl9KS5cbiAqLyBjbGFzcyBJYyBleHRlbmRzIFRjIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgc3VwZXIodCwgZSwgZmUobikpLCB0aGlzLl9wYXRoID0gbiwgXG4gICAgICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIEZpcmVzdG9yZSByZWZlcmVuY2UuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiY29sbGVjdGlvblwiO1xuICAgIH1cbiAgICAvKiogVGhlIGNvbGxlY3Rpb24ncyBpZGVudGlmaWVyLiAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWVyeS5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgcmVmZXJlbmNlZCBjb2xsZWN0aW9uIChyZWxhdGl2ZVxuICAgICAqIHRvIHRoZSByb290IG9mIHRoZSBkYXRhYmFzZSkuXG4gICAgICovICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNvbnRhaW5pbmcgYERvY3VtZW50UmVmZXJlbmNlYCBpZiB0aGlzIGlzIGFcbiAgICAgKiBzdWJjb2xsZWN0aW9uLiBJZiB0aGlzIGlzbid0IGEgc3ViY29sbGVjdGlvbiwgdGhlIHJlZmVyZW5jZSBpcyBudWxsLlxuICAgICAqLyAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5fcGF0aC5wb3BMYXN0KCk7XG4gICAgICAgIHJldHVybiB0LmlzRW1wdHkoKSA/IG51bGwgOiBuZXcgRWModGhpcy5maXJlc3RvcmUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIG5ldyBSdCh0KSk7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIodCkge1xuICAgICAgICByZXR1cm4gbmV3IEljKHRoaXMuZmlyZXN0b3JlLCB0LCB0aGlzLl9wYXRoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEFjKHQsIGUsIC4uLm4pIHtcbiAgICBpZiAodCA9IGcodCksIGhjKFwiY29sbGVjdGlvblwiLCBcInBhdGhcIiwgZSksIHQgaW5zdGFuY2VvZiB5Yykge1xuICAgICAgICBjb25zdCBzID0gY3QuZnJvbVN0cmluZyhlLCAuLi5uKTtcbiAgICAgICAgcmV0dXJuIGRjKHMpLCBuZXcgSWModCwgLyogY29udmVydGVyPSAqLyBudWxsLCBzKTtcbiAgICB9XG4gICAge1xuICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgRWMgfHwgdCBpbnN0YW5jZW9mIEljKSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGNvbGxlY3Rpb24oKSB0byBiZSBhIENvbGxlY3Rpb25SZWZlcmVuY2UsIGEgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgRmlyZWJhc2VGaXJlc3RvcmVcIik7XG4gICAgICAgIGNvbnN0IHMgPSB0Ll9wYXRoLmNoaWxkKGN0LmZyb21TdHJpbmcoZSwgLi4ubikpO1xuICAgICAgICByZXR1cm4gZGMocyksIG5ldyBJYyh0LmZpcmVzdG9yZSwgXG4gICAgICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgcyk7XG4gICAgfVxufVxuXG4vLyBUT0RPKGZpcmVzdG9yZWxpdGUpOiBDb25zaWRlciB1c2luZyBFcnJvckZhY3RvcnkgLVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9ibG9iLzAxMzFlMWYvcGFja2FnZXMvdXRpbC9zcmMvZXJyb3JzLnRzI0wxMDZcbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBgUXVlcnlgIGluc3RhbmNlIHRoYXQgaW5jbHVkZXMgYWxsIGRvY3VtZW50cyBpbiB0aGVcbiAqIGRhdGFiYXNlIHRoYXQgYXJlIGNvbnRhaW5lZCBpbiBhIGNvbGxlY3Rpb24gb3Igc3ViY29sbGVjdGlvbiB3aXRoIHRoZVxuICogZ2l2ZW4gYGNvbGxlY3Rpb25JZGAuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSByb290IGBGaXJlc3RvcmVgIGluc3RhbmNlLlxuICogQHBhcmFtIGNvbGxlY3Rpb25JZCAtIElkZW50aWZpZXMgdGhlIGNvbGxlY3Rpb25zIHRvIHF1ZXJ5IG92ZXIuIEV2ZXJ5XG4gKiBjb2xsZWN0aW9uIG9yIHN1YmNvbGxlY3Rpb24gd2l0aCB0aGlzIElEIGFzIHRoZSBsYXN0IHNlZ21lbnQgb2YgaXRzIHBhdGhcbiAqIHdpbGwgYmUgaW5jbHVkZWQuIENhbm5vdCBjb250YWluIGEgc2xhc2guXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBgUXVlcnlgLlxuICovIGZ1bmN0aW9uIFJjKHQsIGUpIHtcbiAgICBpZiAodCA9IF9jKHQsIHljKSwgaGMoXCJjb2xsZWN0aW9uR3JvdXBcIiwgXCJjb2xsZWN0aW9uIGlkXCIsIGUpLCBlLmluZGV4T2YoXCIvXCIpID49IDApIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgY29sbGVjdGlvbiBJRCAnJHtlfScgcGFzc2VkIHRvIGZ1bmN0aW9uIGNvbGxlY3Rpb25Hcm91cCgpLiBDb2xsZWN0aW9uIElEcyBtdXN0IG5vdCBjb250YWluICcvJy5gKTtcbiAgICByZXR1cm4gbmV3IFRjKHQsIFxuICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgXG4gICAgLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFF1ZXJ5IGZvciBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHNcbiAqIHdpdGhpbiB0aGUgcHJvdmlkZWQgY29sbGVjdGlvbiBncm91cC5cbiAqL1xuICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBoZShjdC5lbXB0eVBhdGgoKSwgdCk7XG4gICAgfShlKSk7XG59XG5cbmZ1bmN0aW9uIGJjKHQsIGUsIC4uLm4pIHtcbiAgICBpZiAodCA9IGcodCksIFxuICAgIC8vIFdlIGFsbG93IG9taXNzaW9uIG9mICdwYXRoU3RyaW5nJyBidXQgZXhwbGljaXRseSBwcm9oaWJpdCBwYXNzaW5nIGluIGJvdGhcbiAgICAvLyAndW5kZWZpbmVkJyBhbmQgJ251bGwnLlxuICAgIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgKGUgPSBYLkkoKSksIGhjKFwiZG9jXCIsIFwicGF0aFwiLCBlKSwgdCBpbnN0YW5jZW9mIHljKSB7XG4gICAgICAgIGNvbnN0IHMgPSBjdC5mcm9tU3RyaW5nKGUsIC4uLm4pO1xuICAgICAgICByZXR1cm4gZmMocyksIG5ldyBFYyh0LCBcbiAgICAgICAgLyogY29udmVydGVyPSAqLyBudWxsLCBuZXcgUnQocykpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGlmICghKHQgaW5zdGFuY2VvZiBFYyB8fCB0IGluc3RhbmNlb2YgSWMpKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZVwiKTtcbiAgICAgICAgY29uc3QgcyA9IHQuX3BhdGguY2hpbGQoY3QuZnJvbVN0cmluZyhlLCAuLi5uKSk7XG4gICAgICAgIHJldHVybiBmYyhzKSwgbmV3IEVjKHQuZmlyZXN0b3JlLCB0IGluc3RhbmNlb2YgSWMgPyB0LmNvbnZlcnRlciA6IG51bGwsIG5ldyBSdChzKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgcmVmZXJlbmNlcyBhcmUgZXF1YWwuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBBIHJlZmVyZW5jZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSByZWZlcmVuY2UgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHJlZmVyZW5jZXMgcG9pbnQgdG8gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIHNhbWVcbiAqIEZpcmVzdG9yZSBkYXRhYmFzZS5cbiAqLyBmdW5jdGlvbiBQYyh0LCBlKSB7XG4gICAgcmV0dXJuIHQgPSBnKHQpLCBlID0gZyhlKSwgKHQgaW5zdGFuY2VvZiBFYyB8fCB0IGluc3RhbmNlb2YgSWMpICYmIChlIGluc3RhbmNlb2YgRWMgfHwgZSBpbnN0YW5jZW9mIEljKSAmJiAodC5maXJlc3RvcmUgPT09IGUuZmlyZXN0b3JlICYmIHQucGF0aCA9PT0gZS5wYXRoICYmIHQuY29udmVydGVyID09PSBlLmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBxdWVyaWVzIHBvaW50IHRvIHRoZSBzYW1lIGNvbGxlY3Rpb24gYW5kIGFwcGx5XG4gKiB0aGUgc2FtZSBjb25zdHJhaW50cy5cbiAqXG4gKiBAcGFyYW0gbGVmdCAtIEEgYFF1ZXJ5YCB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSBgUXVlcnlgIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2VzIHBvaW50IHRvIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBzYW1lXG4gKiBGaXJlc3RvcmUgZGF0YWJhc2UuXG4gKi8gZnVuY3Rpb24gdmModCwgZSkge1xuICAgIHJldHVybiB0ID0gZyh0KSwgZSA9IGcoZSksIHQgaW5zdGFuY2VvZiBUYyAmJiBlIGluc3RhbmNlb2YgVGMgJiYgKHQuZmlyZXN0b3JlID09PSBlLmZpcmVzdG9yZSAmJiBUZSh0Ll9xdWVyeSwgZS5fcXVlcnkpICYmIHQuY29udmVydGVyID09PSBlLmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIFZjIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gVGhlIGxhc3QgcHJvbWlzZSBpbiB0aGUgcXVldWUuXG4gICAgICAgIHRoaXMuZmEgPSBQcm9taXNlLnJlc29sdmUoKSwgXG4gICAgICAgIC8vIEEgbGlzdCBvZiByZXRyeWFibGUgb3BlcmF0aW9ucy4gUmV0cnlhYmxlIG9wZXJhdGlvbnMgYXJlIHJ1biBpbiBvcmRlciBhbmRcbiAgICAgICAgLy8gcmV0cmllZCB3aXRoIGJhY2tvZmYuXG4gICAgICAgIHRoaXMuZGEgPSBbXSwgXG4gICAgICAgIC8vIElzIHRoaXMgQXN5bmNRdWV1ZSBiZWluZyBzaHV0IGRvd24/IE9uY2UgaXQgaXMgc2V0IHRvIHRydWUsIGl0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIGNoYW5nZWQgYWdhaW4uXG4gICAgICAgIHRoaXMud2EgPSAhMSwgXG4gICAgICAgIC8vIE9wZXJhdGlvbnMgc2NoZWR1bGVkIHRvIGJlIHF1ZXVlZCBpbiB0aGUgZnV0dXJlLiBPcGVyYXRpb25zIGFyZVxuICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgdGhleSBhcmUgcnVuIG9yIGNhbmNlbGVkLlxuICAgICAgICB0aGlzLl9hID0gW10sIFxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIHRoaXMubWEgPSBudWxsLCBcbiAgICAgICAgLy8gRmxhZyBzZXQgd2hpbGUgdGhlcmUncyBhbiBvdXRzdGFuZGluZyBBc3luY1F1ZXVlIG9wZXJhdGlvbiwgdXNlZCBmb3JcbiAgICAgICAgLy8gYXNzZXJ0aW9uIHNhbml0eS1jaGVja3MuXG4gICAgICAgIHRoaXMuZ2EgPSAhMSwgXG4gICAgICAgIC8vIEVuYWJsZWQgZHVyaW5nIHNodXRkb3duIG9uIFNhZmFyaSB0byBwcmV2ZW50IGZ1dHVyZSBhY2Nlc3MgdG8gSW5kZXhlZERCLlxuICAgICAgICB0aGlzLnlhID0gITEsIFxuICAgICAgICAvLyBMaXN0IG9mIFRpbWVySWRzIHRvIGZhc3QtZm9yd2FyZCBkZWxheXMgZm9yLlxuICAgICAgICB0aGlzLnBhID0gW10sIFxuICAgICAgICAvLyBCYWNrb2ZmIHRpbWVyIHVzZWQgdG8gc2NoZWR1bGUgcmV0cmllcyBmb3IgcmV0cnlhYmxlIG9wZXJhdGlvbnNcbiAgICAgICAgdGhpcy5yciA9IG5ldyBKcih0aGlzLCBcImFzeW5jX3F1ZXVlX3JldHJ5XCIgLyogQXN5bmNRdWV1ZVJldHJ5ICovKSwgXG4gICAgICAgIC8vIFZpc2liaWxpdHkgaGFuZGxlciB0aGF0IHRyaWdnZXJzIGFuIGltbWVkaWF0ZSByZXRyeSBvZiBhbGwgcmV0cnlhYmxlXG4gICAgICAgIC8vIG9wZXJhdGlvbnMuIE1lYW50IHRvIHNwZWVkIHVwIHJlY292ZXJ5IHdoZW4gd2UgcmVnYWluIGZpbGUgc3lzdGVtIGFjY2Vzc1xuICAgICAgICAvLyBhZnRlciBwYWdlIGNvbWVzIGludG8gZm9yZWdyb3VuZC5cbiAgICAgICAgdGhpcy5FYSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB6cigpO1xuICAgICAgICAgICAgdCAmJiB4KFwiQXN5bmNRdWV1ZVwiLCBcIlZpc2liaWxpdHkgc3RhdGUgY2hhbmdlZCB0byBcIiArIHQudmlzaWJpbGl0eVN0YXRlKSwgdGhpcy5yci50cigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0ID0genIoKTtcbiAgICAgICAgdCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lciAmJiB0LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuRWEpO1xuICAgIH1cbiAgICBnZXQgaXNTaHV0dGluZ0Rvd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IG9wZXJhdGlvbiB0byB0aGUgcXVldWUgd2l0aG91dCB3YWl0aW5nIGZvciBpdCB0byBjb21wbGV0ZSAoaS5lLlxuICAgICAqIHdlIGlnbm9yZSB0aGUgUHJvbWlzZSByZXN1bHQpLlxuICAgICAqLyAgICBlbnF1ZXVlQW5kRm9yZ2V0KHQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLmVucXVldWUodCk7XG4gICAgfVxuICAgIGVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKHQpIHtcbiAgICAgICAgdGhpcy5UYSgpLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLklhKHQpO1xuICAgIH1cbiAgICBlbnRlclJlc3RyaWN0ZWRNb2RlKHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLndhKSB7XG4gICAgICAgICAgICB0aGlzLndhID0gITAsIHRoaXMueWEgPSB0IHx8ICExO1xuICAgICAgICAgICAgY29uc3QgZSA9IHpyKCk7XG4gICAgICAgICAgICBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5yZW1vdmVFdmVudExpc3RlbmVyICYmIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5FYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5xdWV1ZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLlRhKCksIHRoaXMud2EpIFxuICAgICAgICAvLyBSZXR1cm4gYSBQcm9taXNlIHdoaWNoIG5ldmVyIHJlc29sdmVzLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCgpID0+IHt9KSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGRlZmVycmVkIFByb21pc2UgdGhhdCB3ZSBjYW4gcmV0dXJuIHRvIHRoZSBjYWxsZWUuIFRoaXNcbiAgICAgICAgLy8gYWxsb3dzIHVzIHRvIHJldHVybiBhIFwiaGFuZ2luZyBQcm9taXNlXCIgb25seSB0byB0aGUgY2FsbGVlIGFuZCBzdGlsbFxuICAgICAgICAvLyBhZHZhbmNlIHRoZSBxdWV1ZSBldmVuIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBub3QgcnVuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgSztcbiAgICAgICAgcmV0dXJuIHRoaXMuSWEoKCgpID0+IHRoaXMud2EgJiYgdGhpcy55YSA/IFByb21pc2UucmVzb2x2ZSgpIDogKHQoKS50aGVuKGUucmVzb2x2ZSwgZS5yZWplY3QpLCBcbiAgICAgICAgZS5wcm9taXNlKSkpLnRoZW4oKCgpID0+IGUucHJvbWlzZSkpO1xuICAgIH1cbiAgICBlbnF1ZXVlUmV0cnlhYmxlKHQpIHtcbiAgICAgICAgdGhpcy5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiAodGhpcy5kYS5wdXNoKHQpLCB0aGlzLkFhKCkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIG5leHQgb3BlcmF0aW9uIGZyb20gdGhlIHJldHJ5YWJsZSBxdWV1ZS4gSWYgdGhlIG9wZXJhdGlvbiBmYWlscyxcbiAgICAgKiByZXNjaGVkdWxlcyB3aXRoIGJhY2tvZmYuXG4gICAgICovICAgIGFzeW5jIEFhKCkge1xuICAgICAgICBpZiAoMCAhPT0gdGhpcy5kYS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5kYVswXSgpLCB0aGlzLmRhLnNoaWZ0KCksIHRoaXMucnIucmVzZXQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUdzKHQpKSB0aHJvdyB0O1xuIC8vIEZhaWx1cmUgd2lsbCBiZSBoYW5kbGVkIGJ5IEFzeW5jUXVldWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeChcIkFzeW5jUXVldWVcIiwgXCJPcGVyYXRpb24gZmFpbGVkIHdpdGggcmV0cnlhYmxlIGVycm9yOiBcIiArIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYS5sZW5ndGggPiAwICYmIFxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFkZGl0aW9uYWwgb3BlcmF0aW9ucywgd2UgcmUtc2NoZWR1bGUgYHJldHJ5TmV4dE9wKClgLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcnVuIHJldHJ5YWJsZSBvcGVyYXRpb25zIHRoYXQgZmFpbGVkIGR1cmluZ1xuICAgICAgICAgICAgLy8gdGhlaXIgaW5pdGlhbCBhdHRlbXB0IHNpbmNlIHdlIGRvbid0IGtub3cgd2hldGhlciB0aGV5IGFyZSBhbHJlYWR5XG4gICAgICAgICAgICAvLyBlbnF1ZXVlZC4gSWYsIGZvciBleGFtcGxlLCBgb3AxYCwgYG9wMmAsIGBvcDNgIGFyZSBlbnF1ZXVlZCBhbmQgYG9wMWBcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvICBiZSByZS1ydW4sIHdlIHdpbGwgcnVuIGBvcDFgLCBgb3AxYCwgYG9wMmAgdXNpbmcgdGhlXG4gICAgICAgICAgICAvLyBhbHJlYWR5IGVucXVldWVkIGNhbGxzIHRvIGByZXRyeU5leHRPcCgpYC4gYG9wMygpYCB3aWxsIHRoZW4gcnVuIGluIHRoZVxuICAgICAgICAgICAgLy8gY2FsbCBzY2hlZHVsZWQgaGVyZS5cbiAgICAgICAgICAgIC8vIFNpbmNlIGBiYWNrb2ZmQW5kUnVuKClgIGNhbmNlbHMgYW4gZXhpc3RpbmcgYmFja29mZiBhbmQgc2NoZWR1bGVzIGFcbiAgICAgICAgICAgIC8vIG5ldyBiYWNrb2ZmIG9uIGV2ZXJ5IGNhbGwsIHRoZXJlIGlzIG9ubHkgZXZlciBhIHNpbmdsZSBhZGRpdGlvbmFsXG4gICAgICAgICAgICAvLyBvcGVyYXRpb24gaW4gdGhlIHF1ZXVlLlxuICAgICAgICAgICAgdGhpcy5yci5YaSgoKCkgPT4gdGhpcy5BYSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSWEodCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5mYS50aGVuKCgoKSA9PiAodGhpcy5nYSA9ICEwLCB0KCkuY2F0Y2goKHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYSA9IHQsIHRoaXMuZ2EgPSAhMTtcbiAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZSBlcnJvciBzbyB0aGF0IHRoaXMudGFpbCBiZWNvbWVzIGEgcmVqZWN0ZWQgUHJvbWlzZSBhbmRcbiAgICAgICAgICAgIC8vIGFsbCBmdXJ0aGVyIGF0dGVtcHRzIHRvIGNoYWluICh2aWEgLnRoZW4pIHdpbGwganVzdCBzaG9ydC1jaXJjdWl0XG4gICAgICAgICAgICAvLyBhbmQgcmV0dXJuIHRoZSByZWplY3RlZCBQcm9taXNlLlxuICAgICAgICAgICAgdGhyb3cgayhcIklOVEVSTkFMIFVOSEFORExFRCBFUlJPUjogXCIsIFxuICAgICAgICAgICAgLyoqXG4gKiBDaHJvbWUgaW5jbHVkZXMgRXJyb3IubWVzc2FnZSBpbiBFcnJvci5zdGFjay4gT3RoZXIgYnJvd3NlcnMgZG8gbm90LlxuICogVGhpcyByZXR1cm5zIGV4cGVjdGVkIG91dHB1dCBvZiBtZXNzYWdlICsgc3RhY2sgd2hlbiBhdmFpbGFibGUuXG4gKiBAcGFyYW0gZXJyb3IgLSBFcnJvciBvciBGaXJlc3RvcmVFcnJvclxuICovXG4gICAgICAgICAgICBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSB0Lm1lc3NhZ2UgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB0LnN0YWNrICYmIChlID0gdC5zdGFjay5pbmNsdWRlcyh0Lm1lc3NhZ2UpID8gdC5zdGFjayA6IHQubWVzc2FnZSArIFwiXFxuXCIgKyB0LnN0YWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0KSksIHQ7XG4gICAgICAgIH0pKS50aGVuKCh0ID0+ICh0aGlzLmdhID0gITEsIHQpKSkpKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZhID0gZSwgZTtcbiAgICB9XG4gICAgZW5xdWV1ZUFmdGVyRGVsYXkodCwgZSwgbikge1xuICAgICAgICB0aGlzLlRhKCksIFxuICAgICAgICAvLyBGYXN0LWZvcndhcmQgZGVsYXlzIGZvciB0aW1lcklkcyB0aGF0IGhhdmUgYmVlbiBvdmVycmlkZW4uXG4gICAgICAgIHRoaXMucGEuaW5kZXhPZih0KSA+IC0xICYmIChlID0gMCk7XG4gICAgICAgIGNvbnN0IHMgPSBDby5jcmVhdGVBbmRTY2hlZHVsZSh0aGlzLCB0LCBlLCBuLCAodCA9PiB0aGlzLlJhKHQpKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hLnB1c2gocyksIHM7XG4gICAgfVxuICAgIFRhKCkge1xuICAgICAgICB0aGlzLm1hICYmIEYoKTtcbiAgICB9XG4gICAgdmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpIHt9XG4gICAgLyoqXG4gICAgICogV2FpdHMgdW50aWwgYWxsIGN1cnJlbnRseSBxdWV1ZWQgdGFza3MgYXJlIGZpbmlzaGVkIGV4ZWN1dGluZy4gRGVsYXllZFxuICAgICAqIG9wZXJhdGlvbnMgYXJlIG5vdCBydW4uXG4gICAgICovICAgIGFzeW5jIGJhKCkge1xuICAgICAgICAvLyBPcGVyYXRpb25zIGluIHRoZSBxdWV1ZSBwcmlvciB0byBkcmFpbmluZyBtYXkgaGF2ZSBlbnF1ZXVlZCBhZGRpdGlvbmFsXG4gICAgICAgIC8vIG9wZXJhdGlvbnMuIEtlZXAgZHJhaW5pbmcgdGhlIHF1ZXVlIHVudGlsIHRoZSB0YWlsIGlzIG5vIGxvbmdlciBhZHZhbmNlZCxcbiAgICAgICAgLy8gd2hpY2ggaW5kaWNhdGVzIHRoYXQgbm8gbW9yZSBuZXcgb3BlcmF0aW9ucyB3ZXJlIGVucXVldWVkIGFuZCB0aGF0IGFsbFxuICAgICAgICAvLyBvcGVyYXRpb25zIHdlcmUgZXhlY3V0ZWQuXG4gICAgICAgIGxldCB0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0ID0gdGhpcy5mYSwgYXdhaXQgdDtcbiAgICAgICAgfSB3aGlsZSAodCAhPT0gdGhpcy5mYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBUZXN0czogRGV0ZXJtaW5lIGlmIGEgZGVsYXllZCBvcGVyYXRpb24gd2l0aCBhIHBhcnRpY3VsYXIgVGltZXJJZFxuICAgICAqIGV4aXN0cy5cbiAgICAgKi8gICAgUGEodCkge1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy5fYSkgaWYgKGUudGltZXJJZCA9PT0gdCkgcmV0dXJuICEwO1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBUZXN0czogUnVucyBzb21lIG9yIGFsbCBkZWxheWVkIG9wZXJhdGlvbnMgZWFybHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFzdFRpbWVySWQgLSBEZWxheWVkIG9wZXJhdGlvbnMgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGlzIFRpbWVySWRcbiAgICAgKiB3aWxsIGJlIGRyYWluZWQuIFBhc3MgVGltZXJJZC5BbGwgdG8gcnVuIGFsbCBkZWxheWVkIG9wZXJhdGlvbnMuXG4gICAgICogQHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBhbGwgb3BlcmF0aW9ucyBoYXZlIGJlZW4gcnVuLlxuICAgICAqLyAgICB2YSh0KSB7XG4gICAgICAgIC8vIE5vdGUgdGhhdCBkcmFpbmluZyBtYXkgZ2VuZXJhdGUgbW9yZSBkZWxheWVkIG9wcywgc28gd2UgZG8gdGhhdCBmaXJzdC5cbiAgICAgICAgcmV0dXJuIHRoaXMuYmEoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBSdW4gb3BzIGluIHRoZSBzYW1lIG9yZGVyIHRoZXknZCBydW4gaWYgdGhleSByYW4gbmF0dXJhbGx5LlxuICAgICAgICAgICAgdGhpcy5fYS5zb3J0KCgodCwgZSkgPT4gdC50YXJnZXRUaW1lTXMgLSBlLnRhcmdldFRpbWVNcykpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuX2EpIGlmIChlLnNraXBEZWxheSgpLCBcImFsbFwiIC8qIEFsbCAqLyAhPT0gdCAmJiBlLnRpbWVySWQgPT09IHQpIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmEoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IFNraXAgYWxsIHN1YnNlcXVlbnQgZGVsYXlzIGZvciBhIHRpbWVyIGlkLlxuICAgICAqLyAgICBWYSh0KSB7XG4gICAgICAgIHRoaXMucGEucHVzaCh0KTtcbiAgICB9XG4gICAgLyoqIENhbGxlZCBvbmNlIGEgRGVsYXllZE9wZXJhdGlvbiBpcyBydW4gb3IgY2FuY2VsZWQuICovICAgIFJhKHQpIHtcbiAgICAgICAgLy8gTk9URTogaW5kZXhPZiAvIHNsaWNlIGFyZSBPKG4pLCBidXQgZGVsYXllZE9wZXJhdGlvbnMgaXMgZXhwZWN0ZWQgdG8gYmUgc21hbGwuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9hLmluZGV4T2YodCk7XG4gICAgICAgIHRoaXMuX2Euc3BsaWNlKGUsIDEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU2ModCkge1xuICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iaiBpcyBhbiBvYmplY3QgYW5kIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBvZiB0aGUgc3BlY2lmaWVkXG4gKiBtZXRob2RzLlxuICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgfHwgbnVsbCA9PT0gdCkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCBuID0gdDtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIGlmICh0IGluIG4gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBuW3RdKSByZXR1cm4gITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAvKipcbiAqIFJlcHJlc2VudHMgdGhlIHRhc2sgb2YgbG9hZGluZyBhIEZpcmVzdG9yZSBidW5kbGUuIEl0IHByb3ZpZGVzIHByb2dyZXNzIG9mIGJ1bmRsZVxuICogbG9hZGluZywgYXMgd2VsbCBhcyB0YXNrIGNvbXBsZXRpb24gYW5kIGVycm9yIGV2ZW50cy5cbiAqXG4gKiBUaGUgQVBJIGlzIGNvbXBhdGlibGUgd2l0aCBgUHJvbWlzZTxMb2FkQnVuZGxlVGFza1Byb2dyZXNzPmAuXG4gKi8gKHQsIFsgXCJuZXh0XCIsIFwiZXJyb3JcIiwgXCJjb21wbGV0ZVwiIF0pO1xufVxuXG5jbGFzcyBEYyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIgPSB7fSwgdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlciA9IG5ldyBLLCB0aGlzLl9sYXN0UHJvZ3Jlc3MgPSB7XG4gICAgICAgICAgICB0YXNrU3RhdGU6IFwiUnVubmluZ1wiLFxuICAgICAgICAgICAgdG90YWxCeXRlczogMCxcbiAgICAgICAgICAgIHRvdGFsRG9jdW1lbnRzOiAwLFxuICAgICAgICAgICAgYnl0ZXNMb2FkZWQ6IDAsXG4gICAgICAgICAgICBkb2N1bWVudHNMb2FkZWQ6IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGZ1bmN0aW9ucyB0byBsaXN0ZW4gdG8gYnVuZGxlIGxvYWRpbmcgcHJvZ3Jlc3MgZXZlbnRzLlxuICAgICAqIEBwYXJhbSBuZXh0IC0gQ2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBwcm9ncmVzcyB1cGRhdGUgZnJvbSBidW5kbGUgbG9hZGluZy4gVHlwaWNhbGx5IGBuZXh0YCBjYWxscyBvY2N1clxuICAgICAqICAgZWFjaCB0aW1lIGEgRmlyZXN0b3JlIGRvY3VtZW50IGlzIGxvYWRlZCBmcm9tIHRoZSBidW5kbGUuXG4gICAgICogQHBhcmFtIGVycm9yIC0gQ2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBidW5kbGUgbG9hZGluZy4gVGhlIHRhc2sgYWJvcnRzIGFmdGVyIHJlcG9ydGluZyB0aGVcbiAgICAgKiAgIGVycm9yLCBhbmQgdGhlcmUgc2hvdWxkIGJlIG5vIG1vcmUgdXBkYXRlcyBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSAtIENhbGxlZCB3aGVuIHRoZSBsb2FkaW5nIHRhc2sgaXMgY29tcGxldGUuXG4gICAgICovICAgIG9uUHJvZ3Jlc3ModCwgZSwgbikge1xuICAgICAgICB0aGlzLl9wcm9ncmVzc09ic2VydmVyID0ge1xuICAgICAgICAgICAgbmV4dDogdCxcbiAgICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICAgICAgY29tcGxldGU6IG5cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyB0aGUgYFByb21pc2U8TG9hZEJ1bmRsZVRhc2tQcm9ncmVzcz4uY2F0Y2hgIGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvblJlamVjdGVkIC0gQ2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBidW5kbGUgbG9hZGluZy5cbiAgICAgKi8gICAgY2F0Y2godCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLmNhdGNoKHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIHRoZSBgUHJvbWlzZTxMb2FkQnVuZGxlVGFza1Byb2dyZXNzPi50aGVuYCBpbnRlcmZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25GdWxmaWxsZWQgLSBDYWxsZWQgb24gdGhlIGNvbXBsZXRpb24gb2YgdGhlIGxvYWRpbmcgdGFzayB3aXRoIGEgZmluYWwgYExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3NgIHVwZGF0ZS5cbiAgICAgKiAgIFRoZSB1cGRhdGUgd2lsbCBhbHdheXMgaGF2ZSBpdHMgYHRhc2tTdGF0ZWAgc2V0IHRvIGBcIlN1Y2Nlc3NcImAuXG4gICAgICogQHBhcmFtIG9uUmVqZWN0ZWQgLSBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGJ1bmRsZSBsb2FkaW5nLlxuICAgICAqLyAgICB0aGVuKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucHJvbWlzZS50aGVuKHQsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgb2JzZXJ2ZXJzIHRoYXQgYnVuZGxlIGxvYWRpbmcgaGFzIGNvbXBsZXRlZCwgd2l0aCBhIHByb3ZpZGVkXG4gICAgICogYExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3NgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovICAgIF9jb21wbGV0ZVdpdGgodCkge1xuICAgICAgICB0aGlzLl91cGRhdGVQcm9ncmVzcyh0KSwgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5jb21wbGV0ZSAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlKCksIFxuICAgICAgICB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnJlc29sdmUodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGFsbCBvYnNlcnZlcnMgdGhhdCBidW5kbGUgbG9hZGluZyBoYXMgZmFpbGVkLCB3aXRoIGEgcHJvdmlkZWRcbiAgICAgKiBgRXJyb3JgIGFzIHRoZSByZWFzb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqLyAgICBfZmFpbFdpdGgodCkge1xuICAgICAgICB0aGlzLl9sYXN0UHJvZ3Jlc3MudGFza1N0YXRlID0gXCJFcnJvclwiLCB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQgJiYgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0KHRoaXMuX2xhc3RQcm9ncmVzcyksIFxuICAgICAgICB0aGlzLl9wcm9ncmVzc09ic2VydmVyLmVycm9yICYmIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuZXJyb3IodCksIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucmVqZWN0KHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhIHByb2dyZXNzIHVwZGF0ZSBvZiBsb2FkaW5nIGEgYnVuZGxlLlxuICAgICAqIEBwYXJhbSBwcm9ncmVzcyAtIFRoZSBuZXcgcHJvZ3Jlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqLyAgICBfdXBkYXRlUHJvZ3Jlc3ModCkge1xuICAgICAgICB0aGlzLl9sYXN0UHJvZ3Jlc3MgPSB0LCB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQgJiYgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0KHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBET01FeGNlcHRpb24gZXJyb3IgY29kZSBjb25zdGFudHMuICovIGNvbnN0IENjID0gLTE7XG5cbi8qKlxuICogVGhlIENsb3VkIEZpcmVzdG9yZSBzZXJ2aWNlIGludGVyZmFjZS5cbiAqXG4gKiBEbyBub3QgY2FsbCB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkLCB1c2Uge0BsaW5rIGdldEZpcmVzdG9yZX0uXG4gKi9cbmNsYXNzIE5jIGV4dGVuZHMgeWMge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBzdXBlcih0LCBlKSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0J3MgYSB7QGxpbmsgRmlyZXN0b3JlfSBvciBGaXJlc3RvcmUgTGl0ZSBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiZmlyZXN0b3JlXCIsIHRoaXMuX3F1ZXVlID0gbmV3IFZjLCB0aGlzLl9wZXJzaXN0ZW5jZUtleSA9IFwibmFtZVwiIGluIHQgPyB0Lm5hbWUgOiBcIltERUZBVUxUXVwiO1xuICAgIH1cbiAgICBfdGVybWluYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZXN0b3JlQ2xpZW50IHx8IFxuICAgICAgICAvLyBUaGUgY2xpZW50IG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gZW5zdXJlIHRoYXQgYWxsIHN1YnNlcXVlbnQgQVBJXG4gICAgICAgIC8vIHVzYWdlIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICAgIE9jKHRoaXMpLCB0aGlzLl9maXJlc3RvcmVDbGllbnQudGVybWluYXRlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBGaXJlc3RvcmV9IHdpdGggdGhlIHByb3ZpZGVkIHNldHRpbmdzLlxuICogQ2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgZnVuY3Rpb24sIGluY2x1ZGluZ1xuICoge0BsaW5rIGdldEZpcmVzdG9yZX0uIElmIHRoZSBjdXN0b20gc2V0dGluZ3MgYXJlIGVtcHR5LCB0aGlzIGZ1bmN0aW9uIGlzXG4gKiBlcXVpdmFsZW50IHRvIGNhbGxpbmcge0BsaW5rIGdldEZpcmVzdG9yZX0uXG4gKlxuICogQHBhcmFtIGFwcCAtIFRoZSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gd2l0aCB3aGljaCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbFxuICogYmUgYXNzb2NpYXRlZC5cbiAqIEBwYXJhbSBzZXR0aW5ncyAtIEEgc2V0dGluZ3Mgb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UuXG4gKiBAcmV0dXJucyBBIG5ld2x5IGluaXRpYWxpemVkIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICovIGZ1bmN0aW9uIHhjKHQsIGUpIHtcbiAgICBjb25zdCBuID0gX2dldFByb3ZpZGVyKHQsIFwiZmlyZXN0b3JlXCIpO1xuICAgIGlmIChuLmlzSW5pdGlhbGl6ZWQoKSkge1xuICAgICAgICBjb25zdCB0ID0gbi5nZXRJbW1lZGlhdGUoKSwgcyA9IG4uZ2V0T3B0aW9ucygpO1xuICAgICAgICBpZiAoeShzLCBlKSkgcmV0dXJuIHQ7XG4gICAgICAgIHRocm93IG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJpbml0aWFsaXplRmlyZXN0b3JlKCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucy4gVG8gYXZvaWQgdGhpcyBlcnJvciwgY2FsbCBpbml0aWFsaXplRmlyZXN0b3JlKCkgd2l0aCB0aGUgc2FtZSBvcHRpb25zIGFzIHdoZW4gaXQgd2FzIG9yaWdpbmFsbHkgY2FsbGVkLCBvciBjYWxsIGdldEZpcmVzdG9yZSgpIHRvIHJldHVybiB0aGUgYWxyZWFkeSBpbml0aWFsaXplZCBpbnN0YW5jZS5cIik7XG4gICAgfVxuICAgIGlmICh2b2lkIDAgIT09IGUuY2FjaGVTaXplQnl0ZXMgJiYgLTEgIT09IGUuY2FjaGVTaXplQnl0ZXMgJiYgZS5jYWNoZVNpemVCeXRlcyA8IDEwNDg1NzYpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJjYWNoZVNpemVCeXRlcyBtdXN0IGJlIGF0IGxlYXN0IDEwNDg1NzZcIik7XG4gICAgcmV0dXJuIG4uaW5pdGlhbGl6ZSh7XG4gICAgICAgIG9wdGlvbnM6IGVcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBleGlzdGluZyB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAqIHByb3ZpZGVkIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfS4gSWYgbm8gaW5zdGFuY2UgZXhpc3RzLCBpbml0aWFsaXplcyBhIG5ld1xuICogaW5zdGFuY2Ugd2l0aCBkZWZhdWx0IHNldHRpbmdzLlxuICpcbiAqIEBwYXJhbSBhcHAgLSBUaGUge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlIHRoYXQgdGhlIHJldHVybmVkIHtAbGluayBGaXJlc3RvcmV9XG4gKiBpbnN0YW5jZSBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKiBAcmV0dXJucyBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVkIGFwcC5cbiAqLyBmdW5jdGlvbiBrYyhlID0gdCgpKSB7XG4gICAgcmV0dXJuIF9nZXRQcm92aWRlcihlLCBcImZpcmVzdG9yZVwiKS5nZXRJbW1lZGlhdGUoKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiAkYyh0KSB7XG4gICAgcmV0dXJuIHQuX2ZpcmVzdG9yZUNsaWVudCB8fCBPYyh0KSwgdC5fZmlyZXN0b3JlQ2xpZW50LnZlcmlmeU5vdFRlcm1pbmF0ZWQoKSwgdC5fZmlyZXN0b3JlQ2xpZW50O1xufVxuXG5mdW5jdGlvbiBPYyh0KSB7XG4gICAgdmFyIGU7XG4gICAgY29uc3QgbiA9IHQuX2ZyZWV6ZVNldHRpbmdzKCksIHMgPSBmdW5jdGlvbih0LCBlLCBuLCBzKSB7XG4gICAgICAgIHJldHVybiBuZXcgYWModCwgZSwgbiwgcy5ob3N0LCBzLnNzbCwgcy5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLCBzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZywgcy51c2VGZXRjaFN0cmVhbXMpO1xuICAgIH0odC5fZGF0YWJhc2VJZCwgKG51bGwgPT09IChlID0gdC5fYXBwKSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLm9wdGlvbnMuYXBwSWQpIHx8IFwiXCIsIHQuX3BlcnNpc3RlbmNlS2V5LCBuKTtcbiAgICB0Ll9maXJlc3RvcmVDbGllbnQgPSBuZXcgVWEodC5fY3JlZGVudGlhbHMsIHQuX3F1ZXVlLCBzKTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgcGVyc2lzdGVudCBzdG9yYWdlLCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgYW55IG90aGVyIGZ1bmN0aW9ucyAob3RoZXIgdGhhblxuICoge0BsaW5rIGluaXRpYWxpemVGaXJlc3RvcmV9LCB7QGxpbmsgZ2V0RmlyZXN0b3JlfSBvclxuICoge0BsaW5rIGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2V9LlxuICpcbiAqIElmIHRoaXMgZmFpbHMsIGBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZSBpdFxuICogcmV0dXJucy4gTm90ZSB0aGF0IGV2ZW4gYWZ0ZXIgdGhpcyBmYWlsdXJlLCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbFxuICogcmVtYWluIHVzYWJsZSwgaG93ZXZlciBvZmZsaW5lIHBlcnNpc3RlbmNlIHdpbGwgYmUgZGlzYWJsZWQuXG4gKlxuICogVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlIGlkZW50aWZpZWQgYnlcbiAqIHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiLlxuICogICAqIHVuaW1wbGVtZW50ZWQ6IFRoZSBicm93c2VyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBvZmZsaW5lXG4gKiAgICAgcGVyc2lzdGVuY2UgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0byBlbmFibGUgcGVyc2lzdGVuY2UgZm9yLlxuICogQHBhcmFtIHBlcnNpc3RlbmNlU2V0dGluZ3MgLSBPcHRpb25hbCBzZXR0aW5ncyBvYmplY3QgdG8gY29uZmlndXJlXG4gKiBwZXJzaXN0ZW5jZS5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVwcmVzZW50cyBzdWNjZXNzZnVsbHkgZW5hYmxpbmcgcGVyc2lzdGVudCBzdG9yYWdlLlxuICovIGZ1bmN0aW9uIEZjKHQsIGUpIHtcbiAgICBHYyh0ID0gX2ModCwgTmMpKTtcbiAgICBjb25zdCBuID0gJGModCksIHMgPSB0Ll9mcmVlemVTZXR0aW5ncygpLCBpID0gbmV3ICRhO1xuICAgIHJldHVybiBMYyhuLCBpLCBuZXcgeGEoaSwgcy5jYWNoZVNpemVCeXRlcywgbnVsbCA9PSBlID8gdm9pZCAwIDogZS5mb3JjZU93bmVyc2hpcCkpO1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGVuYWJsZSBtdWx0aS10YWIgcGVyc2lzdGVudCBzdG9yYWdlLCBpZiBwb3NzaWJsZS4gSWYgZW5hYmxlZFxuICogYWNyb3NzIGFsbCB0YWJzLCBhbGwgb3BlcmF0aW9ucyBzaGFyZSBhY2Nlc3MgdG8gbG9jYWwgcGVyc2lzdGVuY2UsIGluY2x1ZGluZ1xuICogc2hhcmVkIGV4ZWN1dGlvbiBvZiBxdWVyaWVzIGFuZCBsYXRlbmN5LWNvbXBlbnNhdGVkIGxvY2FsIGRvY3VtZW50IHVwZGF0ZXNcbiAqIGFjcm9zcyBhbGwgY29ubmVjdGVkIGluc3RhbmNlcy5cbiAqXG4gKiBJZiB0aGlzIGZhaWxzLCBgZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZVxuICogaXQgcmV0dXJucy4gTm90ZSB0aGF0IGV2ZW4gYWZ0ZXIgdGhpcyBmYWlsdXJlLCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbFxuICogcmVtYWluIHVzYWJsZSwgaG93ZXZlciBvZmZsaW5lIHBlcnNpc3RlbmNlIHdpbGwgYmUgZGlzYWJsZWQuXG4gKlxuICogVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlIGlkZW50aWZpZWQgYnlcbiAqIHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiIGFuZFxuICogICAgIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZC5cbiAqICAgKiB1bmltcGxlbWVudGVkOiBUaGUgYnJvd3NlciBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgb2ZmbGluZVxuICogICAgIHBlcnNpc3RlbmNlIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gZW5hYmxlIHBlcnNpc3RlbmNlIGZvci5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVwcmVzZW50cyBzdWNjZXNzZnVsbHkgZW5hYmxpbmcgcGVyc2lzdGVudFxuICogc3RvcmFnZS5cbiAqLyBmdW5jdGlvbiBNYyh0KSB7XG4gICAgR2ModCA9IF9jKHQsIE5jKSk7XG4gICAgY29uc3QgZSA9ICRjKHQpLCBuID0gdC5fZnJlZXplU2V0dGluZ3MoKSwgcyA9IG5ldyAkYTtcbiAgICByZXR1cm4gTGMoZSwgcywgbmV3IGthKHMsIG4uY2FjaGVTaXplQnl0ZXMpKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYm90aCB0aGUgYE9mZmxpbmVDb21wb25lbnRQcm92aWRlcmAgYW5kIGBPbmxpbmVDb21wb25lbnRQcm92aWRlcmAuXG4gKiBJZiB0aGUgb3BlcmF0aW9uIGZhaWxzIHdpdGggYSByZWNvdmVyYWJsZSBlcnJvciAoc2VlXG4gKiBgY2FuUmVjb3ZlckZyb21JbmRleGVkRGJFcnJvcigpYCBiZWxvdyksIHRoZSByZXR1cm5lZCBQcm9taXNlIGlzIHJlamVjdGVkXG4gKiBidXQgdGhlIGNsaWVudCByZW1haW5zIHVzYWJsZS5cbiAqLyBmdW5jdGlvbiBMYyh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IG5ldyBLO1xuICAgIHJldHVybiB0LmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcWEodCwgbiksIGF3YWl0IEthKHQsIGUpLCBzLnJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgaWYgKCFcbiAgICAgICAgICAgIC8qKlxuICogRGVjaWRlcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBlcnJvciBhbGxvd3MgdXMgdG8gZ3JhY2VmdWxseSBkaXNhYmxlXG4gKiBwZXJzaXN0ZW5jZSAoYXMgb3Bwb3NlZCB0byBjcmFzaGluZyB0aGUgY2xpZW50KS5cbiAqL1xuICAgICAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIGlmIChcIkZpcmViYXNlRXJyb3JcIiA9PT0gdC5uYW1lKSByZXR1cm4gdC5jb2RlID09PSBVLkZBSUxFRF9QUkVDT05ESVRJT04gfHwgdC5jb2RlID09PSBVLlVOSU1QTEVNRU5URUQ7XG4gICAgICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIERPTUV4Y2VwdGlvbiAmJiB0IGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSBcbiAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgYSBmZXcga25vd24gY2lyY3Vtc3RhbmNlcyB3aGVyZSB3ZSBjYW4gb3BlbiBJbmRleGVkRGIgYnV0XG4gICAgICAgICAgICAgICAgLy8gdHJ5aW5nIHRvIHJlYWQvd3JpdGUgd2lsbCBmYWlsIChlLmcuIHF1b3RhIGV4Y2VlZGVkKS4gRm9yXG4gICAgICAgICAgICAgICAgLy8gd2VsbC11bmRlcnN0b29kIGNhc2VzLCB3ZSBhdHRlbXB0IHRvIGRldGVjdCB0aGVzZSBhbmQgdGhlbiBncmFjZWZ1bGx5XG4gICAgICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBSYXRoZXIgdGhhbiBjb250aW51ZSB0byBhZGQgdG8gdGhpcyBsaXN0LCB3ZSBjb3VsZCBkZWNpZGUgdG9cbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgZmFsbCBiYWNrLCB3aXRoIHRoZSByaXNrIHRoYXQgd2UgbWlnaHQgYWNjaWRlbnRhbGx5IGhpZGUgZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gcmVwcmVzZW50aW5nIGFjdHVhbCBTREsgYnVncy5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBicm93c2VyIGlzIG91dCBvZiBxdW90YSB3ZSBjb3VsZCBnZXQgZWl0aGVyIHF1b3RhIGV4Y2VlZGVkXG4gICAgICAgICAgICAgICAgLy8gb3IgYW4gYWJvcnRlZCBlcnJvciBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgZXJyb3IgaGFwcGVuZWQgZHVyaW5nXG4gICAgICAgICAgICAgICAgLy8gc2NoZW1hIG1pZ3JhdGlvbi5cbiAgICAgICAgICAgICAgICByZXR1cm4gMjIgPT09IHQuY29kZSB8fCAyMCA9PT0gdC5jb2RlIHx8IFxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggUHJpdmF0ZSBCcm93c2luZyBtb2RlIGRpc2FibGVzIEluZGV4ZWREYiBhbmQgcmV0dXJuc1xuICAgICAgICAgICAgICAgIC8vIElOVkFMSURfU1RBVEUgZm9yIGFueSB1c2FnZS5cbiAgICAgICAgICAgICAgICAxMSA9PT0gdC5jb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQ2xlYXJzIHRoZSBwZXJzaXN0ZW50IHN0b3JhZ2UuIFRoaXMgaW5jbHVkZXMgcGVuZGluZyB3cml0ZXMgYW5kIGNhY2hlZFxuICogZG9jdW1lbnRzLlxuICpcbiAqIE11c3QgYmUgY2FsbGVkIHdoaWxlIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSBpcyBub3Qgc3RhcnRlZCAoYWZ0ZXIgdGhlIGFwcCBpc1xuICogdGVybWluYXRlZCBvciB3aGVuIHRoZSBhcHAgaXMgZmlyc3QgaW5pdGlhbGl6ZWQpLiBPbiBzdGFydHVwLCB0aGlzIGZ1bmN0aW9uXG4gKiBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgb3RoZXIgZnVuY3Rpb25zIChvdGhlciB0aGFuIHtAbGlua1xuICogaW5pdGlhbGl6ZUZpcmVzdG9yZX0gb3Ige0BsaW5rIGdldEZpcmVzdG9yZX0pKS4gSWYgdGhlIHtAbGluayBGaXJlc3RvcmV9XG4gKiBpbnN0YW5jZSBpcyBzdGlsbCBydW5uaW5nLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIGVycm9yIGNvZGVcbiAqIG9mIGBmYWlsZWQtcHJlY29uZGl0aW9uYC5cbiAqXG4gKiBOb3RlOiBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCBpcyBwcmltYXJpbHkgaW50ZW5kZWQgdG8gaGVscCB3cml0ZVxuICogcmVsaWFibGUgdGVzdHMgdGhhdCB1c2UgQ2xvdWQgRmlyZXN0b3JlLiBJdCB1c2VzIGFuIGVmZmljaWVudCBtZWNoYW5pc20gZm9yXG4gKiBkcm9wcGluZyBleGlzdGluZyBkYXRhIGJ1dCBkb2VzIG5vdCBhdHRlbXB0IHRvIHNlY3VyZWx5IG92ZXJ3cml0ZSBvclxuICogb3RoZXJ3aXNlIG1ha2UgY2FjaGVkIGRhdGEgdW5yZWNvdmVyYWJsZS4gRm9yIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBzZW5zaXRpdmVcbiAqIHRvIHRoZSBkaXNjbG9zdXJlIG9mIGNhY2hlZCBkYXRhIGluIGJldHdlZW4gdXNlciBzZXNzaW9ucywgd2Ugc3Ryb25nbHlcbiAqIHJlY29tbWVuZCBub3QgZW5hYmxpbmcgcGVyc2lzdGVuY2UgYXQgYWxsLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gY2xlYXIgcGVyc2lzdGVuY2UgZm9yLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBwZXJzaXN0ZW50IHN0b3JhZ2UgaXNcbiAqIGNsZWFyZWQuIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAqLyAodCkpIHRocm93IHQ7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBlbmFibGluZyBvZmZsaW5lIHBlcnNpc3RlbmNlLiBGYWxsaW5nIGJhY2sgdG8gcGVyc2lzdGVuY2UgZGlzYWJsZWQ6IFwiICsgdCksIFxuICAgICAgICAgICAgcy5yZWplY3QodCk7XG4gICAgICAgIH1cbiAgICB9KSkudGhlbigoKCkgPT4gcy5wcm9taXNlKSk7XG59XG5cbmZ1bmN0aW9uIEJjKHQpIHtcbiAgICBpZiAodC5faW5pdGlhbGl6ZWQgJiYgIXQuX3Rlcm1pbmF0ZWQpIHRocm93IG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJQZXJzaXN0ZW5jZSBjYW4gb25seSBiZSBjbGVhcmVkIGJlZm9yZSBhIEZpcmVzdG9yZSBpbnN0YW5jZSBpcyBpbml0aWFsaXplZCBvciBhZnRlciBpdCBpcyB0ZXJtaW5hdGVkLlwiKTtcbiAgICBjb25zdCBlID0gbmV3IEs7XG4gICAgcmV0dXJuIHQuX3F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFqcy5idCgpKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQgKyBcIm1haW5cIjtcbiAgICAgICAgICAgICAgICBhd2FpdCBqcy5kZWxldGUoZSk7XG4gICAgICAgICAgICB9KGVyKHQuX2RhdGFiYXNlSWQsIHQuX3BlcnNpc3RlbmNlS2V5KSksIGUucmVzb2x2ZSgpO1xuICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICBlLnJlamVjdCh0KTtcbiAgICAgICAgfVxuICAgIH0pKSwgZS5wcm9taXNlO1xufVxuXG4vKipcbiAqIFdhaXRzIHVudGlsIGFsbCBjdXJyZW50bHkgcGVuZGluZyB3cml0ZXMgZm9yIHRoZSBhY3RpdmUgdXNlciBoYXZlIGJlZW5cbiAqIGFja25vd2xlZGdlZCBieSB0aGUgYmFja2VuZC5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgcHJvbWlzZSByZXNvbHZlcyBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgd3JpdGVzLlxuICogT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSB3YWl0cyBmb3IgYWxsIHByZXZpb3VzbHkgaXNzdWVkIHdyaXRlcyAoaW5jbHVkaW5nXG4gKiB0aG9zZSB3cml0dGVuIGluIGEgcHJldmlvdXMgYXBwIHNlc3Npb24pLCBidXQgaXQgZG9lcyBub3Qgd2FpdCBmb3Igd3JpdGVzXG4gKiB0aGF0IHdlcmUgYWRkZWQgYWZ0ZXIgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC4gSWYgeW91IHdhbnQgdG8gd2FpdCBmb3JcbiAqIGFkZGl0aW9uYWwgd3JpdGVzLCBjYWxsIGB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpYCBhZ2Fpbi5cbiAqXG4gKiBBbnkgb3V0c3RhbmRpbmcgYHdhaXRGb3JQZW5kaW5nV3JpdGVzKClgIHByb21pc2VzIGFyZSByZWplY3RlZCBkdXJpbmcgdXNlclxuICogY2hhbmdlcy5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB3aGljaCByZXNvbHZlcyB3aGVuIGFsbCBjdXJyZW50bHkgcGVuZGluZyB3cml0ZXMgaGF2ZSBiZWVuXG4gKiBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQuXG4gKi8gZnVuY3Rpb24gVWModCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgSztcbiAgICAgICAgcmV0dXJuIHQuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB1YShhd2FpdCBIYSh0KSwgZSkpKSwgZS5wcm9taXNlO1xuICAgIH0oJGModCA9IF9jKHQsIE5jKSkpO1xufVxuXG4vKipcbiAqIFJlLWVuYWJsZXMgdXNlIG9mIHRoZSBuZXR3b3JrIGZvciB0aGlzIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIGFmdGVyIGEgcHJpb3JcbiAqIGNhbGwgdG8ge0BsaW5rIGRpc2FibGVOZXR3b3JrfS5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaGFzIGJlZW4gZW5hYmxlZC5cbiAqLyBmdW5jdGlvbiBxYyh0KSB7XG4gICAgcmV0dXJuIFlhKCRjKHQgPSBfYyh0LCBOYykpKTtcbn1cblxuLyoqXG4gKiBEaXNhYmxlcyBuZXR3b3JrIHVzYWdlIGZvciB0aGlzIGluc3RhbmNlLiBJdCBjYW4gYmUgcmUtZW5hYmxlZCB2aWEge0BsaW5rXG4gKiBlbmFibGVOZXR3b3JrfS4gV2hpbGUgdGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQsIGFueSBzbmFwc2hvdCBsaXN0ZW5lcnMsXG4gKiBgZ2V0RG9jKClgIG9yIGBnZXREb2NzKClgIGNhbGxzIHdpbGwgcmV0dXJuIHJlc3VsdHMgZnJvbSBjYWNoZSwgYW5kIGFueSB3cml0ZVxuICogb3BlcmF0aW9ucyB3aWxsIGJlIHF1ZXVlZCB1bnRpbCB0aGUgbmV0d29yayBpcyByZXN0b3JlZC5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaGFzIGJlZW4gZGlzYWJsZWQuXG4gKi8gZnVuY3Rpb24gS2ModCkge1xuICAgIHJldHVybiBYYSgkYyh0ID0gX2ModCwgTmMpKSk7XG59XG5cbi8qKlxuICogVGVybWluYXRlcyB0aGUgcHJvdmlkZWQge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UuXG4gKlxuICogQWZ0ZXIgY2FsbGluZyBgdGVybWluYXRlKClgIG9ubHkgdGhlIGBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKClgIGZ1bmN0aW9uXG4gKiBtYXkgYmUgdXNlZC4gQW55IG90aGVyIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYSBgRmlyZXN0b3JlRXJyb3JgLlxuICpcbiAqIFRvIHJlc3RhcnQgYWZ0ZXIgdGVybWluYXRpb24sIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBGaXJlYmFzZUZpcmVzdG9yZSB3aXRoXG4gKiB7QGxpbmsgZ2V0RmlyZXN0b3JlfS5cbiAqXG4gKiBUZXJtaW5hdGlvbiBkb2VzIG5vdCBjYW5jZWwgYW55IHBlbmRpbmcgd3JpdGVzLCBhbmQgYW55IHByb21pc2VzIHRoYXQgYXJlXG4gKiBhd2FpdGluZyBhIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB3aWxsIG5vdCBiZSByZXNvbHZlZC4gSWYgeW91IGhhdmVcbiAqIHBlcnNpc3RlbmNlIGVuYWJsZWQsIHRoZSBuZXh0IHRpbWUgeW91IHN0YXJ0IHRoaXMgaW5zdGFuY2UsIGl0IHdpbGwgcmVzdW1lXG4gKiBzZW5kaW5nIHRoZXNlIHdyaXRlcyB0byB0aGUgc2VydmVyLlxuICpcbiAqIE5vdGU6IFVuZGVyIG5vcm1hbCBjaXJjdW1zdGFuY2VzLCBjYWxsaW5nIGB0ZXJtaW5hdGUoKWAgaXMgbm90IHJlcXVpcmVkLiBUaGlzXG4gKiBmdW5jdGlvbiBpcyB1c2VmdWwgb25seSB3aGVuIHlvdSB3YW50IHRvIGZvcmNlIHRoaXMgaW5zdGFuY2UgdG8gcmVsZWFzZSBhbGxcbiAqIG9mIGl0cyByZXNvdXJjZXMgb3IgaW4gY29tYmluYXRpb24gd2l0aCBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCB0b1xuICogZW5zdXJlIHRoYXQgYWxsIGxvY2FsIHN0YXRlIGlzIGRlc3Ryb3llZCBiZXR3ZWVuIHRlc3QgcnVucy5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIGluc3RhbmNlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogdGVybWluYXRlZC5cbiAqLyBmdW5jdGlvbiBqYyh0KSB7XG4gICAgcmV0dXJuIGUodC5hcHAsIFwiZmlyZXN0b3JlXCIpLCB0Ll9kZWxldGUoKTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIEZpcmVzdG9yZSBidW5kbGUgaW50byB0aGUgbG9jYWwgY2FjaGUuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0byBsb2FkIGJ1bmRsZXMgZm9yIGZvci5cbiAqIEBwYXJhbSBidW5kbGVEYXRhIC0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYnVuZGxlIHRvIGJlIGxvYWRlZC4gVmFsaWQgb2JqZWN0cyBhcmVcbiAqICAgYEFycmF5QnVmZmVyYCwgYFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+YCBvciBgc3RyaW5nYC5cbiAqXG4gKiBAcmV0dXJuc1xuICogICBBIGBMb2FkQnVuZGxlVGFza2Agb2JqZWN0LCB3aGljaCBub3RpZmllcyBjYWxsZXJzIHdpdGggcHJvZ3Jlc3MgdXBkYXRlcywgYW5kIGNvbXBsZXRpb25cbiAqICAgb3IgZXJyb3IgZXZlbnRzLiBJdCBjYW4gYmUgdXNlZCBhcyBhIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+YC5cbiAqLyBmdW5jdGlvbiBRYyh0LCBlKSB7XG4gICAgY29uc3QgbiA9ICRjKHQgPSBfYyh0LCBOYykpLCBzID0gbmV3IERjO1xuICAgIHJldHVybiByYyhuLCB0Ll9kYXRhYmFzZUlkLCBlLCBzKSwgcztcbn1cblxuLyoqXG4gKiBSZWFkcyBhIEZpcmVzdG9yZSB7QGxpbmsgUXVlcnl9IGZyb20gbG9jYWwgY2FjaGUsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIG5hbWUuXG4gKlxuICogVGhlIG5hbWVkIHF1ZXJpZXMgYXJlIHBhY2thZ2VkICBpbnRvIGJ1bmRsZXMgb24gdGhlIHNlcnZlciBzaWRlIChhbG9uZ1xuICogd2l0aCByZXN1bHRpbmcgZG9jdW1lbnRzKSwgYW5kIGxvYWRlZCB0byBsb2NhbCBjYWNoZSB1c2luZyBgbG9hZEJ1bmRsZWAuIE9uY2UgaW4gbG9jYWxcbiAqIGNhY2hlLCB1c2UgdGhpcyBtZXRob2QgdG8gZXh0cmFjdCBhIHtAbGluayBRdWVyeX0gYnkgbmFtZS5cbiAqLyBmdW5jdGlvbiBXYyh0LCBlKSB7XG4gICAgcmV0dXJuIG9jKCRjKHQgPSBfYyh0LCBOYykpLCBlKS50aGVuKChlID0+IGUgPyBuZXcgVGModCwgbnVsbCwgZS5xdWVyeSkgOiBudWxsKSk7XG59XG5cbmZ1bmN0aW9uIEdjKHQpIHtcbiAgICBpZiAodC5faW5pdGlhbGl6ZWQgfHwgdC5fdGVybWluYXRlZCkgdGhyb3cgbmV3IHEoVS5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIHBlcnNpc3RlbmNlIGNhbiBubyBsb25nZXIgYmUgZW5hYmxlZC4gWW91IGNhbiBvbmx5IGVuYWJsZSBwZXJzaXN0ZW5jZSBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBgRmllbGRQYXRoYCByZWZlcnMgdG8gYSBmaWVsZCBpbiBhIGRvY3VtZW50LiBUaGUgcGF0aCBtYXkgY29uc2lzdCBvZiBhXG4gKiBzaW5nbGUgZmllbGQgbmFtZSAocmVmZXJyaW5nIHRvIGEgdG9wLWxldmVsIGZpZWxkIGluIHRoZSBkb2N1bWVudCksIG9yIGFcbiAqIGxpc3Qgb2YgZmllbGQgbmFtZXMgKHJlZmVycmluZyB0byBhIG5lc3RlZCBmaWVsZCBpbiB0aGUgZG9jdW1lbnQpLlxuICpcbiAqIENyZWF0ZSBhIGBGaWVsZFBhdGhgIGJ5IHByb3ZpZGluZyBmaWVsZCBuYW1lcy4gSWYgbW9yZSB0aGFuIG9uZSBmaWVsZFxuICogbmFtZSBpcyBwcm92aWRlZCwgdGhlIHBhdGggd2lsbCBwb2ludCB0byBhIG5lc3RlZCBmaWVsZCBpbiBhIGRvY3VtZW50LlxuICovXG5jbGFzcyB6YyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBGaWVsZFBhdGhgIGZyb20gdGhlIHByb3ZpZGVkIGZpZWxkIG5hbWVzLiBJZiBtb3JlIHRoYW4gb25lIGZpZWxkXG4gICAgICogbmFtZSBpcyBwcm92aWRlZCwgdGhlIHBhdGggd2lsbCBwb2ludCB0byBhIG5lc3RlZCBmaWVsZCBpbiBhIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkTmFtZXMgLSBBIGxpc3Qgb2YgZmllbGQgbmFtZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoLi4udCkge1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHQubGVuZ3RoOyArK2UpIGlmICgwID09PSB0W2VdLmxlbmd0aCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFBhdGggPSBuZXcgaHQodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBGaWVsZFBhdGhgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEZpZWxkUGF0aGAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgRmllbGRQYXRoYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsUGF0aC5pc0VxdWFsKHQuX2ludGVybmFsUGF0aCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHNlbnRpbmVsIGBGaWVsZFBhdGhgIHRvIHJlZmVyIHRvIHRoZSBJRCBvZiBhIGRvY3VtZW50LlxuICogSXQgY2FuIGJlIHVzZWQgaW4gcXVlcmllcyB0byBzb3J0IG9yIGZpbHRlciBieSB0aGUgZG9jdW1lbnQgSUQuXG4gKi8gZnVuY3Rpb24gSGMoKSB7XG4gICAgcmV0dXJuIG5ldyB6YyhcIl9fbmFtZV9fXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbW11dGFibGUgb2JqZWN0IHJlcHJlc2VudGluZyBhbiBhcnJheSBvZiBieXRlcy5cbiAqLyBjbGFzcyBKYyB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHRoaXMuX2J5dGVTdHJpbmcgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBCeXRlc2Agb2JqZWN0IGZyb20gdGhlIGdpdmVuIEJhc2U2NCBzdHJpbmcsIGNvbnZlcnRpbmcgaXQgdG9cbiAgICAgKiBieXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiYXNlNjQgLSBUaGUgQmFzZTY0IHN0cmluZyB1c2VkIHRvIGNyZWF0ZSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHN0YXRpYyBmcm9tQmFzZTY0U3RyaW5nKHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSmMoZHQuZnJvbUJhc2U2NFN0cmluZyh0KSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJGYWlsZWQgdG8gY29uc3RydWN0IGRhdGEgZnJvbSBCYXNlNjQgc3RyaW5nOiBcIiArIHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYEJ5dGVzYCBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gVWludDhBcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcnJheSAtIFRoZSBVaW50OEFycmF5IHVzZWQgdG8gY3JlYXRlIHRoZSBgQnl0ZXNgIG9iamVjdC5cbiAgICAgKi8gICAgc3RhdGljIGZyb21VaW50OEFycmF5KHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKYyhkdC5mcm9tVWludDhBcnJheSh0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgYnl0ZXMgYXMgYSBCYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgQmFzZTY0LWVuY29kZWQgc3RyaW5nIGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b0Jhc2U2NCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIGJ5dGVzIGluIGEgbmV3IGBVaW50OEFycmF5YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBVaW50OEFycmF5IGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvVWludDhBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9VaW50OEFycmF5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqLyAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiQnl0ZXMoYmFzZTY0OiBcIiArIHRoaXMudG9CYXNlNjQoKSArIFwiKVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgQnl0ZXNgIG9iamVjdCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyIC0gVGhlIGBCeXRlc2Agb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYEJ5dGVzYCBvYmplY3QgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ieXRlU3RyaW5nLmlzRXF1YWwodC5fYnl0ZVN0cmluZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTZW50aW5lbCB2YWx1ZXMgdGhhdCBjYW4gYmUgdXNlZCB3aGVuIHdyaXRpbmcgZG9jdW1lbnQgZmllbGRzIHdpdGggYHNldCgpYFxuICogb3IgYHVwZGF0ZSgpYC5cbiAqLyBjbGFzcyBZYyB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIF9tZXRob2ROYW1lIC0gVGhlIHB1YmxpYyBBUEkgZW5kcG9pbnQgdGhhdCByZXR1cm5zIHRoaXMgY2xhc3MuXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHQpIHtcbiAgICAgICAgdGhpcy5fbWV0aG9kTmFtZSA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbW11dGFibGUgb2JqZWN0IHJlcHJlc2VudGluZyBhIGdlb2dyYXBoaWMgbG9jYXRpb24gaW4gRmlyZXN0b3JlLiBUaGVcbiAqIGxvY2F0aW9uIGlzIHJlcHJlc2VudGVkIGFzIGxhdGl0dWRlL2xvbmdpdHVkZSBwYWlyLlxuICpcbiAqIExhdGl0dWRlIHZhbHVlcyBhcmUgaW4gdGhlIHJhbmdlIG9mIFstOTAsIDkwXS5cbiAqIExvbmdpdHVkZSB2YWx1ZXMgYXJlIGluIHRoZSByYW5nZSBvZiBbLTE4MCwgMTgwXS5cbiAqLyBjbGFzcyBYYyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbW11dGFibGUgYEdlb1BvaW50YCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQgbGF0aXR1ZGUgYW5kXG4gICAgICogbG9uZ2l0dWRlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gbGF0aXR1ZGUgLSBUaGUgbGF0aXR1ZGUgYXMgbnVtYmVyIGJldHdlZW4gLTkwIGFuZCA5MC5cbiAgICAgKiBAcGFyYW0gbG9uZ2l0dWRlIC0gVGhlIGxvbmdpdHVkZSBhcyBudW1iZXIgYmV0d2VlbiAtMTgwIGFuZCAxODAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICBpZiAoIWlzRmluaXRlKHQpIHx8IHQgPCAtOTAgfHwgdCA+IDkwKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6IFwiICsgdCk7XG4gICAgICAgIGlmICghaXNGaW5pdGUoZSkgfHwgZSA8IC0xODAgfHwgZSA+IDE4MCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIkxvbmdpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLCBidXQgd2FzOiBcIiArIGUpO1xuICAgICAgICB0aGlzLl9sYXQgPSB0LCB0aGlzLl9sb25nID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxhdGl0dWRlIG9mIHRoaXMgYEdlb1BvaW50YCBpbnN0YW5jZS5cbiAgICAgKi8gICAgZ2V0IGxhdGl0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgYEdlb1BvaW50YCBpbnN0YW5jZS5cbiAgICAgKi8gICAgZ2V0IGxvbmdpdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBHZW9Qb2ludGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgR2VvUG9pbnRgIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYEdlb1BvaW50YCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhdCA9PT0gdC5fbGF0ICYmIHRoaXMuX2xvbmcgPT09IHQuX2xvbmc7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBHZW9Qb2ludC4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHRoaXMuX2xhdCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogdGhpcy5fbG9uZ1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcml2YXRlIHRvIEpTIGNvbnN1bWVycyBvZiBvdXIgQVBJLCBzbyB0aGlzIGZ1bmN0aW9uIGlzIHByZWZpeGVkXG4gICAgICogd2l0aCBhbiB1bmRlcnNjb3JlLlxuICAgICAqLyAgICBfY29tcGFyZVRvKHQpIHtcbiAgICAgICAgcmV0dXJuIFoodGhpcy5fbGF0LCB0Ll9sYXQpIHx8IFoodGhpcy5fbG9uZywgdC5fbG9uZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBaYyA9IC9eX18uKl9fJC87XG5cbi8qKiBUaGUgcmVzdWx0IG9mIHBhcnNpbmcgZG9jdW1lbnQgZGF0YSAoZS5nLiBmb3IgYSBzZXREYXRhIGNhbGwpLiAqLyBjbGFzcyB0dSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICB0aGlzLmRhdGEgPSB0LCB0aGlzLmZpZWxkTWFzayA9IGUsIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gbjtcbiAgICB9XG4gICAgdG9NdXRhdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLmZpZWxkTWFzayA/IG5ldyB0bih0LCB0aGlzLmRhdGEsIHRoaXMuZmllbGRNYXNrLCBlLCB0aGlzLmZpZWxkVHJhbnNmb3JtcykgOiBuZXcgWmUodCwgdGhpcy5kYXRhLCBlLCB0aGlzLmZpZWxkVHJhbnNmb3Jtcyk7XG4gICAgfVxufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBwYXJzaW5nIFwidXBkYXRlXCIgZGF0YSAoaS5lLiBmb3IgYW4gdXBkYXRlRGF0YSBjYWxsKS4gKi8gY2xhc3MgZXUge1xuICAgIGNvbnN0cnVjdG9yKHQsIFxuICAgIC8vIFRoZSBmaWVsZE1hc2sgZG9lcyBub3QgaW5jbHVkZSBkb2N1bWVudCB0cmFuc2Zvcm1zLlxuICAgIGUsIG4pIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdCwgdGhpcy5maWVsZE1hc2sgPSBlLCB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IG47XG4gICAgfVxuICAgIHRvTXV0YXRpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRuKHQsIHRoaXMuZGF0YSwgdGhpcy5maWVsZE1hc2ssIGUsIHRoaXMuZmllbGRUcmFuc2Zvcm1zKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG51KHQpIHtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgIGNhc2UgMCAvKiBTZXQgKi8gOlxuIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICAgICAgICBjYXNlIDIgLyogTWVyZ2VTZXQgKi8gOlxuIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICAgICAgICBjYXNlIDEgLyogVXBkYXRlICovIDpcbiAgICAgICAgcmV0dXJuICEwO1xuXG4gICAgICBjYXNlIDMgLyogQXJndW1lbnQgKi8gOlxuICAgICAgY2FzZSA0IC8qIEFycmF5QXJndW1lbnQgKi8gOlxuICAgICAgICByZXR1cm4gITE7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IEYoKTtcbiAgICB9XG59XG5cbi8qKiBBIFwiY29udGV4dFwiIG9iamVjdCBwYXNzZWQgYXJvdW5kIHdoaWxlIHBhcnNpbmcgdXNlciBkYXRhLiAqLyBjbGFzcyBzdSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBQYXJzZUNvbnRleHQgd2l0aCB0aGUgZ2l2ZW4gc291cmNlIGFuZCBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNldHRpbmdzIC0gVGhlIHNldHRpbmdzIGZvciB0aGUgcGFyc2VyLlxuICAgICAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIGRhdGFiYXNlIElEIG9mIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZXIgLSBUaGUgc2VyaWFsaXplciB0byB1c2UgdG8gZ2VuZXJhdGUgdGhlIFZhbHVlIHByb3RvLlxuICAgICAqIEBwYXJhbSBpZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzIC0gV2hldGhlciB0byBpZ25vcmUgdW5kZWZpbmVkIHByb3BlcnRpZXNcbiAgICAgKiByYXRoZXIgdGhhbiB0aHJvdy5cbiAgICAgKiBAcGFyYW0gZmllbGRUcmFuc2Zvcm1zIC0gQSBtdXRhYmxlIGxpc3Qgb2YgZmllbGQgdHJhbnNmb3JtcyBlbmNvdW50ZXJlZFxuICAgICAqIHdoaWxlIHBhcnNpbmcgdGhlIGRhdGEuXG4gICAgICogQHBhcmFtIGZpZWxkTWFzayAtIEEgbXV0YWJsZSBsaXN0IG9mIGZpZWxkIHBhdGhzIGVuY291bnRlcmVkIHdoaWxlIHBhcnNpbmdcbiAgICAgKiB0aGUgZGF0YS5cbiAgICAgKlxuICAgICAqIFRPRE8oYi8zNDg3MTEzMSk6IFdlIGRvbid0IHN1cHBvcnQgYXJyYXkgcGF0aHMgcmlnaHQgbm93LCBzbyBwYXRoIGNhbiBiZVxuICAgICAqIG51bGwgdG8gaW5kaWNhdGUgdGhlIGNvbnRleHQgcmVwcmVzZW50cyBhbnkgbG9jYXRpb24gd2l0aGluIGFuIGFycmF5IChpblxuICAgICAqIHdoaWNoIGNhc2UgY2VydGFpbiBmZWF0dXJlcyB3aWxsIG5vdCB3b3JrIGFuZCBlcnJvcnMgd2lsbCBiZSBzb21ld2hhdFxuICAgICAqIGNvbXByb21pc2VkKS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzLCBpLCByKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0LCB0aGlzLmRhdGFiYXNlSWQgPSBlLCB0aGlzLk4gPSBuLCB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPSBzLCBcbiAgICAgICAgLy8gTWlub3IgaGFjazogSWYgZmllbGRUcmFuc2Zvcm1zIGlzIHVuZGVmaW5lZCwgd2UgYXNzdW1lIHRoaXMgaXMgYW5cbiAgICAgICAgLy8gZXh0ZXJuYWwgY2FsbCBhbmQgd2UgbmVlZCB0byB2YWxpZGF0ZSB0aGUgZW50aXJlIHBhdGguXG4gICAgICAgIHZvaWQgMCA9PT0gaSAmJiB0aGlzLlNhKCksIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gaSB8fCBbXSwgdGhpcy5maWVsZE1hc2sgPSByIHx8IFtdO1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucGF0aDtcbiAgICB9XG4gICAgZ2V0IERhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5EYTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBuZXcgY29udGV4dCB3aXRoIHRoZSBzcGVjaWZpZWQgc2V0dGluZ3Mgb3ZlcndyaXR0ZW4uICovICAgIENhKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzdShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MpLCB0KSwgdGhpcy5kYXRhYmFzZUlkLCB0aGlzLk4sIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcywgdGhpcy5maWVsZFRyYW5zZm9ybXMsIHRoaXMuZmllbGRNYXNrKTtcbiAgICB9XG4gICAgTmEodCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgY29uc3QgbiA9IG51bGwgPT09IChlID0gdGhpcy5wYXRoKSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLmNoaWxkKHQpLCBzID0gdGhpcy5DYSh7XG4gICAgICAgICAgICBwYXRoOiBuLFxuICAgICAgICAgICAgeGE6ICExXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcy5rYSh0KSwgcztcbiAgICB9XG4gICAgJGEodCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgY29uc3QgbiA9IG51bGwgPT09IChlID0gdGhpcy5wYXRoKSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLmNoaWxkKHQpLCBzID0gdGhpcy5DYSh7XG4gICAgICAgICAgICBwYXRoOiBuLFxuICAgICAgICAgICAgeGE6ICExXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcy5TYSgpLCBzO1xuICAgIH1cbiAgICBPYSh0KSB7XG4gICAgICAgIC8vIFRPRE8oYi8zNDg3MTEzMSk6IFdlIGRvbid0IHN1cHBvcnQgYXJyYXkgcGF0aHMgcmlnaHQgbm93OyBzbyBtYWtlIHBhdGhcbiAgICAgICAgLy8gdW5kZWZpbmVkLlxuICAgICAgICByZXR1cm4gdGhpcy5DYSh7XG4gICAgICAgICAgICBwYXRoOiB2b2lkIDAsXG4gICAgICAgICAgICB4YTogITBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEZhKHQpIHtcbiAgICAgICAgcmV0dXJuIEF1KHQsIHRoaXMuc2V0dGluZ3MubWV0aG9kTmFtZSwgdGhpcy5zZXR0aW5ncy5NYSB8fCAhMSwgdGhpcy5wYXRoLCB0aGlzLnNldHRpbmdzLkxhKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgJ3RydWUnIGlmICdmaWVsZFBhdGgnIHdhcyB0cmF2ZXJzZWQgd2hlbiBjcmVhdGluZyB0aGlzIGNvbnRleHQuICovICAgIGNvbnRhaW5zKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5maWVsZE1hc2suZmluZCgoZSA9PiB0LmlzUHJlZml4T2YoZSkpKSB8fCB2b2lkIDAgIT09IHRoaXMuZmllbGRUcmFuc2Zvcm1zLmZpbmQoKGUgPT4gdC5pc1ByZWZpeE9mKGUuZmllbGQpKSk7XG4gICAgfVxuICAgIFNhKCkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBSZW1vdmUgbnVsbCBjaGVjayBvbmNlIHdlIGhhdmUgcHJvcGVyIHBhdGhzIGZvciBmaWVsZHNcbiAgICAgICAgLy8gd2l0aGluIGFycmF5cy5cbiAgICAgICAgaWYgKHRoaXMucGF0aCkgZm9yIChsZXQgdCA9IDA7IHQgPCB0aGlzLnBhdGgubGVuZ3RoOyB0KyspIHRoaXMua2EodGhpcy5wYXRoLmdldCh0KSk7XG4gICAgfVxuICAgIGthKHQpIHtcbiAgICAgICAgaWYgKDAgPT09IHQubGVuZ3RoKSB0aHJvdyB0aGlzLkZhKFwiRG9jdW1lbnQgZmllbGRzIG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICBpZiAobnUodGhpcy5EYSkgJiYgWmMudGVzdCh0KSkgdGhyb3cgdGhpcy5GYSgnRG9jdW1lbnQgZmllbGRzIGNhbm5vdCBiZWdpbiBhbmQgZW5kIHdpdGggXCJfX1wiJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgcGFyc2luZyByYXcgdXNlciBpbnB1dCAocHJvdmlkZWQgdmlhIHRoZSBBUEkpIGludG8gaW50ZXJuYWwgbW9kZWxcbiAqIGNsYXNzZXMuXG4gKi8gY2xhc3MgaXUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gdCwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzID0gZSwgdGhpcy5OID0gbiB8fCBIcih0KTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgdG9wLWxldmVsIHBhcnNlIGNvbnRleHQuICovICAgIEJhKHQsIGUsIG4sIHMgPSAhMSkge1xuICAgICAgICByZXR1cm4gbmV3IHN1KHtcbiAgICAgICAgICAgIERhOiB0LFxuICAgICAgICAgICAgbWV0aG9kTmFtZTogZSxcbiAgICAgICAgICAgIExhOiBuLFxuICAgICAgICAgICAgcGF0aDogaHQuZW1wdHlQYXRoKCksXG4gICAgICAgICAgICB4YTogITEsXG4gICAgICAgICAgICBNYTogc1xuICAgICAgICB9LCB0aGlzLmRhdGFiYXNlSWQsIHRoaXMuTiwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJ1KHQpIHtcbiAgICBjb25zdCBlID0gdC5fZnJlZXplU2V0dGluZ3MoKSwgbiA9IEhyKHQuX2RhdGFiYXNlSWQpO1xuICAgIHJldHVybiBuZXcgaXUodC5fZGF0YWJhc2VJZCwgISFlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsIG4pO1xufVxuXG4vKiogUGFyc2UgZG9jdW1lbnQgZGF0YSBmcm9tIGEgc2V0KCkgY2FsbC4gKi8gZnVuY3Rpb24gb3UodCwgZSwgbiwgcywgaSwgciA9IHt9KSB7XG4gICAgY29uc3QgbyA9IHQuQmEoci5tZXJnZSB8fCByLm1lcmdlRmllbGRzID8gMiAvKiBNZXJnZVNldCAqLyA6IDAgLyogU2V0ICovICwgZSwgbiwgaSk7XG4gICAgcHUoXCJEYXRhIG11c3QgYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzOlwiLCBvLCBzKTtcbiAgICBjb25zdCBhID0gZ3Uocywgbyk7XG4gICAgbGV0IGMsIHU7XG4gICAgaWYgKHIubWVyZ2UpIGMgPSBuZXcgbHQoby5maWVsZE1hc2spLCB1ID0gby5maWVsZFRyYW5zZm9ybXM7IGVsc2UgaWYgKHIubWVyZ2VGaWVsZHMpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygci5tZXJnZUZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgaSA9IEV1KGUsIHMsIG4pO1xuICAgICAgICAgICAgaWYgKCFvLmNvbnRhaW5zKGkpKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIGBGaWVsZCAnJHtpfScgaXMgc3BlY2lmaWVkIGluIHlvdXIgZmllbGQgbWFzayBidXQgbWlzc2luZyBmcm9tIHlvdXIgaW5wdXQgZGF0YS5gKTtcbiAgICAgICAgICAgIFJ1KHQsIGkpIHx8IHQucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBjID0gbmV3IGx0KHQpLCB1ID0gby5maWVsZFRyYW5zZm9ybXMuZmlsdGVyKCh0ID0+IGMuY292ZXJzKHQuZmllbGQpKSk7XG4gICAgfSBlbHNlIGMgPSBudWxsLCB1ID0gby5maWVsZFRyYW5zZm9ybXM7XG4gICAgcmV0dXJuIG5ldyB0dShuZXcgTHQoYSksIGMsIHUpO1xufVxuXG5jbGFzcyBhdSBleHRlbmRzIFljIHtcbiAgICBfdG9GaWVsZFRyYW5zZm9ybSh0KSB7XG4gICAgICAgIGlmICgyIC8qIE1lcmdlU2V0ICovICE9PSB0LkRhKSB0aHJvdyAxIC8qIFVwZGF0ZSAqLyA9PT0gdC5EYSA/IHQuRmEoYCR7dGhpcy5fbWV0aG9kTmFtZX0oKSBjYW4gb25seSBhcHBlYXIgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIHVwZGF0ZSBkYXRhYCkgOiB0LkZhKGAke3RoaXMuX21ldGhvZE5hbWV9KCkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXQoKSB1bmxlc3MgeW91IHBhc3Mge21lcmdlOnRydWV9YCk7XG4gICAgICAgIC8vIE5vIHRyYW5zZm9ybSB0byBhZGQgZm9yIGEgZGVsZXRlLCBidXQgd2UgbmVlZCB0byBhZGQgaXQgdG8gb3VyXG4gICAgICAgIC8vIGZpZWxkTWFzayBzbyBpdCBnZXRzIGRlbGV0ZWQuXG4gICAgICAgIHJldHVybiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCksIG51bGw7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIGF1O1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2hpbGQgY29udGV4dCBmb3IgcGFyc2luZyBTZXJpYWxpemFibGVGaWVsZFZhbHVlcy5cbiAqXG4gKiBUaGlzIGlzIGRpZmZlcmVudCB0aGFuIGNhbGxpbmcgYFBhcnNlQ29udGV4dC5jb250ZXh0V2l0aGAgYmVjYXVzZSBpdCBrZWVwc1xuICogdGhlIGZpZWxkVHJhbnNmb3JtcyBhbmQgZmllbGRNYXNrIHNlcGFyYXRlLlxuICpcbiAqIFRoZSBjcmVhdGVkIGNvbnRleHQgaGFzIGl0cyBgZGF0YVNvdXJjZWAgc2V0IHRvIGBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudGAuXG4gKiBBbHRob3VnaCB0aGVzZSB2YWx1ZXMgYXJlIHVzZWQgd2l0aCB3cml0ZXMsIGFueSBlbGVtZW50cyBpbiB0aGVzZSBGaWVsZFZhbHVlc1xuICogYXJlIG5vdCBjb25zaWRlcmVkIHdyaXRlcyBzaW5jZSB0aGV5IGNhbm5vdCBjb250YWluIGFueSBGaWVsZFZhbHVlIHNlbnRpbmVscyxcbiAqIGV0Yy5cbiAqXG4gKiBAcGFyYW0gZmllbGRWYWx1ZSAtIFRoZSBzZW50aW5lbCBGaWVsZFZhbHVlIGZvciB3aGljaCB0byBjcmVhdGUgYSBjaGlsZFxuICogICAgIGNvbnRleHQuXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBwYXJlbnQgY29udGV4dC5cbiAqIEBwYXJhbSBhcnJheUVsZW1lbnQgLSBXaGV0aGVyIG9yIG5vdCB0aGUgRmllbGRWYWx1ZSBoYXMgYW4gYXJyYXkuXG4gKi8gZnVuY3Rpb24gY3UodCwgZSwgbikge1xuICAgIHJldHVybiBuZXcgc3Uoe1xuICAgICAgICBEYTogMyAvKiBBcmd1bWVudCAqLyAsXG4gICAgICAgIExhOiBlLnNldHRpbmdzLkxhLFxuICAgICAgICBtZXRob2ROYW1lOiB0Ll9tZXRob2ROYW1lLFxuICAgICAgICB4YTogblxuICAgIH0sIGUuZGF0YWJhc2VJZCwgZS5OLCBlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpO1xufVxuXG5jbGFzcyB1dSBleHRlbmRzIFljIHtcbiAgICBfdG9GaWVsZFRyYW5zZm9ybSh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgcWUodC5wYXRoLCBuZXcga2UpO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgaW5zdGFuY2VvZiB1dTtcbiAgICB9XG59XG5cbmNsYXNzIGh1IGV4dGVuZHMgWWMge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIodCksIHRoaXMuVWEgPSBlO1xuICAgIH1cbiAgICBfdG9GaWVsZFRyYW5zZm9ybSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBjdSh0aGlzLCB0LCBcbiAgICAgICAgLyphcnJheT0qLyAhMCksIG4gPSB0aGlzLlVhLm1hcCgodCA9PiBtdSh0LCBlKSkpLCBzID0gbmV3ICRlKG4pO1xuICAgICAgICByZXR1cm4gbmV3IHFlKHQucGF0aCwgcyk7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICAvLyBUT0RPKG1yc2NobWlkdCk6IEltcGxlbWVudCBpc0VxdWFsc1xuICAgICAgICByZXR1cm4gdGhpcyA9PT0gdDtcbiAgICB9XG59XG5cbmNsYXNzIGx1IGV4dGVuZHMgWWMge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIodCksIHRoaXMuVWEgPSBlO1xuICAgIH1cbiAgICBfdG9GaWVsZFRyYW5zZm9ybSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBjdSh0aGlzLCB0LCBcbiAgICAgICAgLyphcnJheT0qLyAhMCksIG4gPSB0aGlzLlVhLm1hcCgodCA9PiBtdSh0LCBlKSkpLCBzID0gbmV3IEZlKG4pO1xuICAgICAgICByZXR1cm4gbmV3IHFlKHQucGF0aCwgcyk7XG4gICAgfVxuICAgIGlzRXF1YWwodCkge1xuICAgICAgICAvLyBUT0RPKG1yc2NobWlkdCk6IEltcGxlbWVudCBpc0VxdWFsc1xuICAgICAgICByZXR1cm4gdGhpcyA9PT0gdDtcbiAgICB9XG59XG5cbmNsYXNzIGZ1IGV4dGVuZHMgWWMge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIodCksIHRoaXMucWEgPSBlO1xuICAgIH1cbiAgICBfdG9GaWVsZFRyYW5zZm9ybSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgTGUodC5OLCBTZSh0Lk4sIHRoaXMucWEpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBxZSh0LnBhdGgsIGUpO1xuICAgIH1cbiAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgLy8gVE9ETyhtcnNjaG1pZHQpOiBJbXBsZW1lbnQgaXNFcXVhbHNcbiAgICAgICAgcmV0dXJuIHRoaXMgPT09IHQ7XG4gICAgfVxufVxuXG4vKiogUGFyc2UgdXBkYXRlIGRhdGEgZnJvbSBhbiB1cGRhdGUoKSBjYWxsLiAqLyBmdW5jdGlvbiBkdSh0LCBlLCBuLCBzKSB7XG4gICAgY29uc3QgaSA9IHQuQmEoMSAvKiBVcGRhdGUgKi8gLCBlLCBuKTtcbiAgICBwdShcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIsIGksIHMpO1xuICAgIGNvbnN0IHIgPSBbXSwgbyA9IEx0LmVtcHR5KCk7XG4gICAgcnQocywgKCh0LCBzKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSBJdShlLCB0LCBuKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIHMgPSBnKHMpO1xuICAgICAgICBjb25zdCBjID0gaS4kYShhKTtcbiAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBhdSkgXG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgZmllbGQgbWFzaywgYnV0IGRvbid0IGFkZCBhbnl0aGluZyB0byB1cGRhdGVEYXRhLlxuICAgICAgICByLnB1c2goYSk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdCA9IG11KHMsIGMpO1xuICAgICAgICAgICAgbnVsbCAhPSB0ICYmIChyLnB1c2goYSksIG8uc2V0KGEsIHQpKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBjb25zdCBhID0gbmV3IGx0KHIpO1xuICAgIHJldHVybiBuZXcgZXUobywgYSwgaS5maWVsZFRyYW5zZm9ybXMpO1xufVxuXG4vKiogUGFyc2UgdXBkYXRlIGRhdGEgZnJvbSBhIGxpc3Qgb2YgZmllbGQvdmFsdWUgYXJndW1lbnRzLiAqLyBmdW5jdGlvbiB3dSh0LCBlLCBuLCBzLCBpLCByKSB7XG4gICAgY29uc3QgbyA9IHQuQmEoMSAvKiBVcGRhdGUgKi8gLCBlLCBuKSwgYSA9IFsgRXUoZSwgcywgbikgXSwgYyA9IFsgaSBdO1xuICAgIGlmIChyLmxlbmd0aCAlIDIgIT0gMCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgRnVuY3Rpb24gJHtlfSgpIG5lZWRzIHRvIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IGFsdGVybmF0ZSBiZXR3ZWVuIGZpZWxkIG5hbWVzIGFuZCB2YWx1ZXMuYCk7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCArPSAyKSBhLnB1c2goRXUoZSwgclt0XSkpLCBjLnB1c2goclt0ICsgMV0pO1xuICAgIGNvbnN0IHUgPSBbXSwgaCA9IEx0LmVtcHR5KCk7XG4gICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIG9yZGVyIHRvIHBpY2sgdGhlIGxhc3QgdmFsdWUgZm9yIGEgZmllbGQgaWYgdGhlXG4gICAgLy8gdXNlciBzcGVjaWZpZWQgdGhlIGZpZWxkIG11bHRpcGxlIHRpbWVzLlxuICAgIGZvciAobGV0IHQgPSBhLmxlbmd0aCAtIDE7IHQgPj0gMDsgLS10KSBpZiAoIVJ1KHUsIGFbdF0pKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhW3RdO1xuICAgICAgICBsZXQgbiA9IGNbdF07XG4gICAgICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBuID0gZyhuKTtcbiAgICAgICAgY29uc3QgcyA9IG8uJGEoZSk7XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgYXUpIFxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGZpZWxkIG1hc2ssIGJ1dCBkb24ndCBhZGQgYW55dGhpbmcgdG8gdXBkYXRlRGF0YS5cbiAgICAgICAgdS5wdXNoKGUpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBtdShuLCBzKTtcbiAgICAgICAgICAgIG51bGwgIT0gdCAmJiAodS5wdXNoKGUpLCBoLnNldChlLCB0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbCA9IG5ldyBsdCh1KTtcbiAgICByZXR1cm4gbmV3IGV1KGgsIGwsIG8uZmllbGRUcmFuc2Zvcm1zKTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIFwicXVlcnkgdmFsdWVcIiAoZS5nLiB2YWx1ZSBpbiBhIHdoZXJlIGZpbHRlciBvciBhIHZhbHVlIGluIGEgY3Vyc29yXG4gKiBib3VuZCkuXG4gKlxuICogQHBhcmFtIGFsbG93QXJyYXlzIC0gV2hldGhlciB0aGUgcXVlcnkgdmFsdWUgaXMgYW4gYXJyYXkgdGhhdCBtYXkgZGlyZWN0bHlcbiAqIGNvbnRhaW4gYWRkaXRpb25hbCBhcnJheXMgKGUuZy4gdGhlIG9wZXJhbmQgb2YgYW4gYGluYCBxdWVyeSkuXG4gKi8gZnVuY3Rpb24gX3UodCwgZSwgbiwgcyA9ICExKSB7XG4gICAgcmV0dXJuIG11KG4sIHQuQmEocyA/IDQgLyogQXJyYXlBcmd1bWVudCAqLyA6IDMgLyogQXJndW1lbnQgKi8gLCBlKSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHVzZXIgZGF0YSB0byBQcm90b2J1ZiBWYWx1ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gRGF0YSB0byBiZSBwYXJzZWQuXG4gKiBAcGFyYW0gY29udGV4dCAtIEEgY29udGV4dCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHBhdGggYmVpbmcgcGFyc2VkLFxuICogdGhlIHNvdXJjZSBvZiB0aGUgZGF0YSBiZWluZyBwYXJzZWQsIGV0Yy5cbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHZhbHVlIHdhcyBhIEZpZWxkVmFsdWUgc2VudGluZWxcbiAqIHRoYXQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIHBhcnNlZCBkYXRhLlxuICovIGZ1bmN0aW9uIG11KHQsIGUpIHtcbiAgICBpZiAoeXUoXG4gICAgLy8gVW53cmFwIHRoZSBBUEkgdHlwZSBmcm9tIHRoZSBDb21wYXQgU0RLLiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBBUEkgdHlwZVxuICAgIC8vIGZyb20gZmlyZXN0b3JlLWV4cC5cbiAgICB0ID0gZyh0KSkpIHJldHVybiBwdShcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOlwiLCBlLCB0KSwgZ3UodCwgZSk7XG4gICAgaWYgKHQgaW5zdGFuY2VvZiBZYykgXG4gICAgLy8gRmllbGRWYWx1ZXMgdXN1YWxseSBwYXJzZSBpbnRvIHRyYW5zZm9ybXMgKGV4Y2VwdCBGaWVsZFZhbHVlLmRlbGV0ZSgpKVxuICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gaW5jbHVkZSB0aGlzIGZpZWxkIGluIG91ciBwYXJzZWQgZGF0YVxuICAgIC8vIChhcyBkb2luZyBzbyB3aWxsIG92ZXJ3cml0ZSB0aGUgZmllbGQgZGlyZWN0bHkgcHJpb3IgdG8gdGhlIHRyYW5zZm9ybVxuICAgIC8vIHRyeWluZyB0byB0cmFuc2Zvcm0gaXQpLiBTbyB3ZSBkb24ndCBhZGQgdGhpcyBsb2NhdGlvbiB0b1xuICAgIC8vIGNvbnRleHQuZmllbGRNYXNrIGFuZCB3ZSByZXR1cm4gbnVsbCBhcyBvdXIgcGFyc2luZyByZXN1bHQuXG4gICAgLyoqXG4gKiBcIlBhcnNlc1wiIHRoZSBwcm92aWRlZCBGaWVsZFZhbHVlSW1wbCwgYWRkaW5nIGFueSBuZWNlc3NhcnkgdHJhbnNmb3JtcyB0b1xuICogY29udGV4dC5maWVsZFRyYW5zZm9ybXMuXG4gKi9cbiAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAvLyBTZW50aW5lbHMgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggd3JpdGVzLCBhbmQgbm90IHdpdGhpbiBhcnJheXMuXG4gICAgICAgIGlmICghbnUoZS5EYSkpIHRocm93IGUuRmEoYCR7dC5fbWV0aG9kTmFtZX0oKSBjYW4gb25seSBiZSB1c2VkIHdpdGggdXBkYXRlKCkgYW5kIHNldCgpYCk7XG4gICAgICAgIGlmICghZS5wYXRoKSB0aHJvdyBlLkZhKGAke3QuX21ldGhvZE5hbWV9KCkgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW5zaWRlIGFycmF5c2ApO1xuICAgICAgICBjb25zdCBuID0gdC5fdG9GaWVsZFRyYW5zZm9ybShlKTtcbiAgICAgICAgbiAmJiBlLmZpZWxkVHJhbnNmb3Jtcy5wdXNoKG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEhlbHBlciB0byBwYXJzZSBhIHNjYWxhciB2YWx1ZSAoaS5lLiBub3QgYW4gT2JqZWN0LCBBcnJheSwgb3IgRmllbGRWYWx1ZSlcbiAqXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIHZhbHVlXG4gKi8gKHQsIGUpLCBudWxsO1xuICAgIGlmICh2b2lkIDAgPT09IHQgJiYgZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKSBcbiAgICAvLyBJZiB0aGUgaW5wdXQgaXMgdW5kZWZpbmVkIGl0IGNhbiBuZXZlciBwYXJ0aWNpcGF0ZSBpbiB0aGUgZmllbGRNYXNrLCBzb1xuICAgIC8vIGRvbid0IGhhbmRsZSB0aGlzIGJlbG93LiBJZiBgaWdub3JlVW5kZWZpbmVkUHJvcGVydGllc2AgaXMgZmFsc2UsXG4gICAgLy8gYHBhcnNlU2NhbGFyVmFsdWVgIHdpbGwgcmVqZWN0IGFuIHVuZGVmaW5lZCB2YWx1ZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoXG4gICAgLy8gSWYgY29udGV4dC5wYXRoIGlzIG51bGwgd2UgYXJlIGluc2lkZSBhbiBhcnJheSBhbmQgd2UgZG9uJ3Qgc3VwcG9ydFxuICAgIC8vIGZpZWxkIG1hc2sgcGF0aHMgbW9yZSBncmFudWxhciB0aGFuIHRoZSB0b3AtbGV2ZWwgYXJyYXkuXG4gICAgZS5wYXRoICYmIGUuZmllbGRNYXNrLnB1c2goZS5wYXRoKSwgdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIC8vIFRPRE8oYi8zNDg3MTEzMSk6IEluY2x1ZGUgdGhlIHBhdGggY29udGFpbmluZyB0aGUgYXJyYXkgaW4gdGhlIGVycm9yXG4gICAgICAgIC8vIG1lc3NhZ2UuXG4gICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIElOIHF1ZXJpZXMsIHRoZSBwYXJzZWQgZGF0YSBpcyBhbiBhcnJheSAocmVwcmVzZW50aW5nXG4gICAgICAgIC8vIHRoZSBzZXQgb2YgdmFsdWVzIHRvIGJlIGluY2x1ZGVkIGZvciB0aGUgSU4gcXVlcnkpIHRoYXQgbWF5IGRpcmVjdGx5XG4gICAgICAgIC8vIGNvbnRhaW4gYWRkaXRpb25hbCBhcnJheXMgKGVhY2ggcmVwcmVzZW50aW5nIGFuIGluZGl2aWR1YWwgZmllbGRcbiAgICAgICAgLy8gdmFsdWUpLCBzbyB3ZSBkaXNhYmxlIHRoaXMgdmFsaWRhdGlvbi5cbiAgICAgICAgaWYgKGUuc2V0dGluZ3MueGEgJiYgNCAvKiBBcnJheUFyZ3VtZW50ICovICE9PSBlLkRhKSB0aHJvdyBlLkZhKFwiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiB0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSBtdShpLCBlLk9hKHMpKTtcbiAgICAgICAgICAgICAgICBudWxsID09IHQgJiYgKFxuICAgICAgICAgICAgICAgIC8vIEp1c3QgaW5jbHVkZSBudWxscyBpbiB0aGUgYXJyYXkgZm9yIGZpZWxkcyBiZWluZyByZXBsYWNlZCB3aXRoIGFcbiAgICAgICAgICAgICAgICAvLyBzZW50aW5lbC5cbiAgICAgICAgICAgICAgICB0ID0ge1xuICAgICAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICAgICAgfSksIG4ucHVzaCh0KSwgcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCwgZSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGlmIChudWxsID09PSAodCA9IGcodCkpKSByZXR1cm4ge1xuICAgICAgICAgICAgbnVsbFZhbHVlOiBcIk5VTExfVkFMVUVcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgdCkgcmV0dXJuIFNlKGUuTiwgdCk7XG4gICAgICAgIGlmIChcImJvb2xlYW5cIiA9PSB0eXBlb2YgdCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvb2xlYW5WYWx1ZTogdFxuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCkgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0cmluZ1ZhbHVlOiB0XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IG50LmZyb21EYXRlKHQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBWYWx1ZTogTG4oZS5OLCBuKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIG50KSB7XG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgYmFja2VuZCB0cnVuY2F0ZXMgcHJlY2lzaW9uIGRvd24gdG8gbWljcm9zZWNvbmRzLiBUbyBlbnN1cmVcbiAgICAgICAgICAgIC8vIG9mZmxpbmUgbW9kZSB3b3JrcyB0aGUgc2FtZSB3aXRoIHJlZ2FyZHMgdG8gdHJ1bmNhdGlvbiwgcGVyZm9ybSB0aGVcbiAgICAgICAgICAgIC8vIHRydW5jYXRpb24gaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgYmFja2VuZCB0byBkbyB0aGF0LlxuICAgICAgICAgICAgY29uc3QgbiA9IG5ldyBudCh0LnNlY29uZHMsIDFlMyAqIE1hdGguZmxvb3IodC5uYW5vc2Vjb25kcyAvIDFlMykpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBWYWx1ZTogTG4oZS5OLCBuKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFhjKSByZXR1cm4ge1xuICAgICAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgICAgIGxhdGl0dWRlOiB0LmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogdC5sb25naXR1ZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBKYykgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ5dGVzVmFsdWU6IEJuKGUuTiwgdC5fYnl0ZVN0cmluZylcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBFYykge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuZGF0YWJhc2VJZCwgcyA9IHQuZmlyZXN0b3JlLl9kYXRhYmFzZUlkO1xuICAgICAgICAgICAgaWYgKCFzLmlzRXF1YWwobikpIHRocm93IGUuRmEoYERvY3VtZW50IHJlZmVyZW5jZSBpcyBmb3IgZGF0YWJhc2UgJHtzLnByb2plY3RJZH0vJHtzLmRhdGFiYXNlfSBidXQgc2hvdWxkIGJlIGZvciBkYXRhYmFzZSAke24ucHJvamVjdElkfS8ke24uZGF0YWJhc2V9YCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZVZhbHVlOiBLbih0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZCB8fCBlLmRhdGFiYXNlSWQsIHQuX2tleS5wYXRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlLkZhKGBVbnN1cHBvcnRlZCBmaWVsZCB2YWx1ZTogJHt3Yyh0KX1gKTtcbiAgICB9XG4gICAgLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbiBvYmplY3QgbG9va3MgbGlrZSBhIEpTT04gb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICogaW50byBhIHN0cnVjdC4gTm9ybWFsIGNsYXNzL3Byb3RvdHlwZSBpbnN0YW5jZXMgYXJlIGNvbnNpZGVyZWQgdG8gbG9vayBsaWtlXG4gKiBKU09OIG9iamVjdHMgc2luY2UgdGhleSBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgc3RydWN0IHZhbHVlLiBBcnJheXMsIERhdGVzLFxuICogR2VvUG9pbnRzLCBldGMuIGFyZSBub3QgY29uc2lkZXJlZCB0byBsb29rIGxpa2UgSlNPTiBvYmplY3RzIHNpbmNlIHRoZXkgbWFwXG4gKiB0byBzcGVjaWZpYyBGaWVsZFZhbHVlIHR5cGVzIG90aGVyIHRoYW4gT2JqZWN0VmFsdWUuXG4gKi8gKHQsIGUpO1xufVxuXG5mdW5jdGlvbiBndSh0LCBlKSB7XG4gICAgY29uc3QgbiA9IHt9O1xuICAgIHJldHVybiBvdCh0KSA/IFxuICAgIC8vIElmIHdlIGVuY291bnRlciBhbiBlbXB0eSBvYmplY3QsIHdlIGV4cGxpY2l0bHkgYWRkIGl0IHRvIHRoZSB1cGRhdGVcbiAgICAvLyBtYXNrIHRvIGVuc3VyZSB0aGF0IHRoZSBzZXJ2ZXIgY3JlYXRlcyBhIG1hcCBlbnRyeS5cbiAgICBlLnBhdGggJiYgZS5wYXRoLmxlbmd0aCA+IDAgJiYgZS5maWVsZE1hc2sucHVzaChlLnBhdGgpIDogcnQodCwgKCh0LCBzKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBtdShzLCBlLk5hKHQpKTtcbiAgICAgICAgbnVsbCAhPSBpICYmIChuW3RdID0gaSk7XG4gICAgfSkpLCB7XG4gICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICBmaWVsZHM6IG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHl1KHQpIHtcbiAgICByZXR1cm4gIShcIm9iamVjdFwiICE9IHR5cGVvZiB0IHx8IG51bGwgPT09IHQgfHwgdCBpbnN0YW5jZW9mIEFycmF5IHx8IHQgaW5zdGFuY2VvZiBEYXRlIHx8IHQgaW5zdGFuY2VvZiBudCB8fCB0IGluc3RhbmNlb2YgWGMgfHwgdCBpbnN0YW5jZW9mIEpjIHx8IHQgaW5zdGFuY2VvZiBFYyB8fCB0IGluc3RhbmNlb2YgWWMpO1xufVxuXG5mdW5jdGlvbiBwdSh0LCBlLCBuKSB7XG4gICAgaWYgKCF5dShuKSB8fCAhZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCAmJiBudWxsICE9PSB0ICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgbnVsbCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKTtcbiAgICB9KG4pKSB7XG4gICAgICAgIGNvbnN0IHMgPSB3YyhuKTtcbiAgICAgICAgdGhyb3cgXCJhbiBvYmplY3RcIiA9PT0gcyA/IGUuRmEodCArIFwiIGEgY3VzdG9tIG9iamVjdFwiKSA6IGUuRmEodCArIFwiIFwiICsgcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IGNhbGxzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoKSBidXQgd3JhcHMgYW55IGVycm9yIHRocm93bi5cbiAqLyBmdW5jdGlvbiBFdSh0LCBlLCBuKSB7XG4gICAgaWYgKChcbiAgICAvLyBJZiByZXF1aXJlZCwgcmVwbGFjZSB0aGUgRmllbGRQYXRoIENvbXBhdCBjbGFzcyB3aXRoIHdpdGggdGhlIGZpcmVzdG9yZS1leHBcbiAgICAvLyBGaWVsZFBhdGguXG4gICAgZSA9IGcoZSkpIGluc3RhbmNlb2YgemMpIHJldHVybiBlLl9pbnRlcm5hbFBhdGg7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBJdSh0LCBlKTtcbiAgICB0aHJvdyBBdShcIkZpZWxkIHBhdGggYXJndW1lbnRzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcgb3IgRmllbGRQYXRoLlwiLCB0LCBcbiAgICAvKiBoYXNDb252ZXJ0ZXI9ICovICExLCBcbiAgICAvKiBwYXRoPSAqLyB2b2lkIDAsIG4pO1xufVxuXG4vKipcbiAqIE1hdGNoZXMgYW55IGNoYXJhY3RlcnMgaW4gYSBmaWVsZCBwYXRoIHN0cmluZyB0aGF0IGFyZSByZXNlcnZlZC5cbiAqLyBjb25zdCBUdSA9IG5ldyBSZWdFeHAoXCJbflxcXFwqL1xcXFxbXFxcXF1dXCIpO1xuXG4vKipcbiAqIFdyYXBzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcgd2l0aCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IHRoZSBtZXRob2QgdGhhdFxuICogd2FzIHRocm93bi5cbiAqIEBwYXJhbSBtZXRob2ROYW1lIC0gVGhlIHB1YmxpY2x5IHZpc2libGUgbWV0aG9kIG5hbWVcbiAqIEBwYXJhbSBwYXRoIC0gVGhlIGRvdC1zZXBhcmF0ZWQgc3RyaW5nIGZvcm0gb2YgYSBmaWVsZCBwYXRoIHdoaWNoIHdpbGwgYmVcbiAqIHNwbGl0IG9uIGRvdHMuXG4gKiBAcGFyYW0gdGFyZ2V0RG9jIC0gVGhlIGRvY3VtZW50IGFnYWluc3Qgd2hpY2ggdGhlIGZpZWxkIHBhdGggd2lsbCBiZVxuICogZXZhbHVhdGVkLlxuICovIGZ1bmN0aW9uIEl1KHQsIGUsIG4pIHtcbiAgICBpZiAoZS5zZWFyY2goVHUpID49IDApIHRocm93IEF1KGBJbnZhbGlkIGZpZWxkIHBhdGggKCR7ZX0pLiBQYXRocyBtdXN0IG5vdCBjb250YWluICd+JywgJyonLCAnLycsICdbJywgb3IgJ10nYCwgdCwgXG4gICAgLyogaGFzQ29udmVydGVyPSAqLyAhMSwgXG4gICAgLyogcGF0aD0gKi8gdm9pZCAwLCBuKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IHpjKC4uLmUuc3BsaXQoXCIuXCIpKS5faW50ZXJuYWxQYXRoO1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgdGhyb3cgQXUoYEludmFsaWQgZmllbGQgcGF0aCAoJHtlfSkuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLidgLCB0LCBcbiAgICAgICAgLyogaGFzQ29udmVydGVyPSAqLyAhMSwgXG4gICAgICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBBdSh0LCBlLCBuLCBzLCBpKSB7XG4gICAgY29uc3QgciA9IHMgJiYgIXMuaXNFbXB0eSgpLCBvID0gdm9pZCAwICE9PSBpO1xuICAgIGxldCBhID0gYEZ1bmN0aW9uICR7ZX0oKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGRhdGFgO1xuICAgIG4gJiYgKGEgKz0gXCIgKHZpYSBgdG9GaXJlc3RvcmUoKWApXCIpLCBhICs9IFwiLiBcIjtcbiAgICBsZXQgYyA9IFwiXCI7XG4gICAgcmV0dXJuIChyIHx8IG8pICYmIChjICs9IFwiIChmb3VuZFwiLCByICYmIChjICs9IGAgaW4gZmllbGQgJHtzfWApLCBvICYmIChjICs9IGAgaW4gZG9jdW1lbnQgJHtpfWApLCBcbiAgICBjICs9IFwiKVwiKSwgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBhICsgdCArIGMpO1xufVxuXG4vKiogQ2hlY2tzIGBoYXlzdGFja2AgaWYgRmllbGRQYXRoIGBuZWVkbGVgIGlzIHByZXNlbnQuIFJ1bnMgaW4gTyhuKS4gKi8gZnVuY3Rpb24gUnUodCwgZSkge1xuICAgIHJldHVybiB0LnNvbWUoKHQgPT4gdC5pc0VxdWFsKGUpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91ciBGaXJlc3RvcmVcbiAqIGRhdGFiYXNlLiBUaGUgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0b1xuICogZ2V0IGEgc3BlY2lmaWMgZmllbGQuXG4gKlxuICogRm9yIGEgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcG9pbnRzIHRvIGEgbm9uLWV4aXN0aW5nIGRvY3VtZW50LCBhbnkgZGF0YVxuICogYWNjZXNzIHdpbGwgcmV0dXJuICd1bmRlZmluZWQnLiBZb3UgY2FuIHVzZSB0aGUgYGV4aXN0cygpYCBtZXRob2QgdG9cbiAqIGV4cGxpY2l0bHkgdmVyaWZ5IGEgZG9jdW1lbnQncyBleGlzdGVuY2UuXG4gKi8gY2xhc3MgYnUge1xuICAgIC8vIE5vdGU6IFRoaXMgY2xhc3MgaXMgc3RyaXBwZWQgZG93biB2ZXJzaW9uIG9mIHRoZSBEb2N1bWVudFNuYXBzaG90IGluXG4gICAgLy8gdGhlIGxlZ2FjeSBTREsuIFRoZSBjaGFuZ2VzIGFyZTpcbiAgICAvLyAtIE5vIHN1cHBvcnQgZm9yIFNuYXBzaG90TWV0YWRhdGEuXG4gICAgLy8gLSBObyBzdXBwb3J0IGZvciBTbmFwc2hvdE9wdGlvbnMuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgcHJvdGVjdGVkICovXG4gICAgY29uc3RydWN0b3IodCwgZSwgbiwgcywgaSkge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSB0LCB0aGlzLl91c2VyRGF0YVdyaXRlciA9IGUsIHRoaXMuX2tleSA9IG4sIHRoaXMuX2RvY3VtZW50ID0gcywgXG4gICAgICAgIHRoaXMuX2NvbnZlcnRlciA9IGk7XG4gICAgfVxuICAgIC8qKiBQcm9wZXJ0eSBvZiB0aGUgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcHJvdmlkZXMgdGhlIGRvY3VtZW50J3MgSUQuICovICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleS5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgRG9jdW1lbnRSZWZlcmVuY2VgIGZvciB0aGUgZG9jdW1lbnQgaW5jbHVkZWQgaW4gdGhlIGBEb2N1bWVudFNuYXBzaG90YC5cbiAgICAgKi8gICAgZ2V0IHJlZigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFYyh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX2NvbnZlcnRlciwgdGhpcy5fa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2lnbmFscyB3aGV0aGVyIG9yIG5vdCB0aGUgZG9jdW1lbnQgYXQgdGhlIHNuYXBzaG90J3MgbG9jYXRpb24gZXhpc3RzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZG9jdW1lbnQgZXhpc3RzLlxuICAgICAqLyAgICBleGlzdHMoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLl9kb2N1bWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IGFzIGFuIGBPYmplY3RgLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmXG4gICAgICogdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IG9yIGB1bmRlZmluZWRgXG4gICAgICogaWYgdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICovICAgIGRhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnZlcnRlcikge1xuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB1c2UgdGhlIGNvbnZlcnRlciBhbmQgY3JlYXRlIGEgbmV3IERvY3VtZW50U25hcHNob3RcbiAgICAgICAgICAgICAgICAvLyBpZiBhIGNvbnZlcnRlciBoYXMgYmVlbiBwcm92aWRlZC5cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gbmV3IFB1KHRoaXMuX2ZpcmVzdG9yZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIsIHRoaXMuX2tleSwgdGhpcy5fZG9jdW1lbnQsIFxuICAgICAgICAgICAgICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRlci5mcm9tRmlyZXN0b3JlKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0aGlzLl9kb2N1bWVudC5kYXRhLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGZpZWxkIHNwZWNpZmllZCBieSBgZmllbGRQYXRoYC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCBvciBmaWVsZCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkUGF0aCAtIFRoZSBwYXRoIChmb3IgZXhhbXBsZSAnZm9vJyBvciAnZm9vLmJhcicpIHRvIGEgc3BlY2lmaWNcbiAgICAgKiBmaWVsZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGZpZWxkIGxvY2F0aW9uIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoXG4gICAgICogZmllbGQgZXhpc3RzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICAvLyBXZSBhcmUgdXNpbmcgYGFueWAgaGVyZSB0byBhdm9pZCBhbiBleHBsaWNpdCBjYXN0IGJ5IG91ciB1c2Vycy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdldCh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuX2RvY3VtZW50LmRhdGEuZmllbGQodnUoXCJEb2N1bWVudFNuYXBzaG90LmdldFwiLCB0KSk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZSkgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZShlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91clxuICogRmlyZXN0b3JlIGRhdGFiYXNlIGFzIHBhcnQgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAqIGFuZCBpdHMgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0byBnZXQgYVxuICogc3BlY2lmaWMgZmllbGQuXG4gKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBvZmZlcnMgdGhlIHNhbWUgQVBJIHN1cmZhY2UgYXMgYVxuICogYERvY3VtZW50U25hcHNob3RgLiBTaW5jZSBxdWVyeSByZXN1bHRzIGNvbnRhaW4gb25seSBleGlzdGluZyBkb2N1bWVudHMsIHRoZVxuICogYGV4aXN0c2AgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgdHJ1ZSBhbmQgYGRhdGEoKWAgd2lsbCBuZXZlciByZXR1cm5cbiAqICd1bmRlZmluZWQnLlxuICovIGNsYXNzIFB1IGV4dGVuZHMgYnUge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm5zIEFuIGBPYmplY3RgIGNvbnRhaW5pbmcgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRhdGEoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRoYXQgY2FsbHMgYGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoKWAgYnV0IHdyYXBzIGFueSBlcnJvciB0aHJvd24uXG4gKi8gZnVuY3Rpb24gdnUodCwgZSkge1xuICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gSXUodCwgZSkgOiBlIGluc3RhbmNlb2YgemMgPyBlLl9pbnRlcm5hbFBhdGggOiBlLl9kZWxlZ2F0ZS5faW50ZXJuYWxQYXRoO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBNZXRhZGF0YSBhYm91dCBhIHNuYXBzaG90LCBkZXNjcmliaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc25hcHNob3QuXG4gKi8gY2xhc3MgVnUge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdXcml0ZXMgPSB0LCB0aGlzLmZyb21DYWNoZSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBTbmFwc2hvdE1ldGFkYXRhYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyIC0gVGhlIGBTbmFwc2hvdE1ldGFkYXRhYCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBTbmFwc2hvdE1ldGFkYXRhYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGVuZGluZ1dyaXRlcyA9PT0gdC5oYXNQZW5kaW5nV3JpdGVzICYmIHRoaXMuZnJvbUNhY2hlID09PSB0LmZyb21DYWNoZTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbnMgZGF0YSByZWFkIGZyb20gYSBkb2N1bWVudCBpbiB5b3VyIEZpcmVzdG9yZVxuICogZGF0YWJhc2UuIFRoZSBkYXRhIGNhbiBiZSBleHRyYWN0ZWQgd2l0aCBgLmRhdGEoKWAgb3IgYC5nZXQoPGZpZWxkPilgIHRvXG4gKiBnZXQgYSBzcGVjaWZpYyBmaWVsZC5cbiAqXG4gKiBGb3IgYSBgRG9jdW1lbnRTbmFwc2hvdGAgdGhhdCBwb2ludHMgdG8gYSBub24tZXhpc3RpbmcgZG9jdW1lbnQsIGFueSBkYXRhXG4gKiBhY2Nlc3Mgd2lsbCByZXR1cm4gJ3VuZGVmaW5lZCcuIFlvdSBjYW4gdXNlIHRoZSBgZXhpc3RzKClgIG1ldGhvZCB0b1xuICogZXhwbGljaXRseSB2ZXJpZnkgYSBkb2N1bWVudCdzIGV4aXN0ZW5jZS5cbiAqLyBjbGFzcyBTdSBleHRlbmRzIGJ1IHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciBwcm90ZWN0ZWQgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzLCBpLCByKSB7XG4gICAgICAgIHN1cGVyKHQsIGUsIG4sIHMsIHIpLCB0aGlzLl9maXJlc3RvcmUgPSB0LCB0aGlzLl9maXJlc3RvcmVJbXBsID0gdCwgdGhpcy5tZXRhZGF0YSA9IGk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IG9mIHRoZSBgRG9jdW1lbnRTbmFwc2hvdGAgdGhhdCBzaWduYWxzIHdoZXRoZXIgb3Igbm90IHRoZSBkYXRhXG4gICAgICogZXhpc3RzLiBUcnVlIGlmIHRoZSBkb2N1bWVudCBleGlzdHMuXG4gICAgICovICAgIGV4aXN0cygpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmV4aXN0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQgYXMgYW4gYE9iamVjdGAuIFJldHVybnMgYHVuZGVmaW5lZGAgaWZcbiAgICAgKiB0aGUgZG9jdW1lbnQgZG9lc24ndCBleGlzdC5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGBGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpYCB2YWx1ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlblxuICAgICAqIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGFzIGBudWxsYC4gWW91IGNhbiBvdmVycmlkZVxuICAgICAqIHRoaXMgYnkgcGFzc2luZyBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gY29uZmlndXJlIGhvdyBkYXRhIGlzIHJldHJpZXZlZCBmcm9tXG4gICAgICogdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHMgdGhhdFxuICAgICAqIGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBvciBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqLyAgICBkYXRhKHQgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb252ZXJ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBjb252ZXJ0ZXIgYW5kIGNyZWF0ZSBhIG5ldyBEb2N1bWVudFNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjb252ZXJ0ZXIgaGFzIGJlZW4gcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBEdSh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCB0aGlzLl9rZXksIHRoaXMuX2RvY3VtZW50LCB0aGlzLm1ldGFkYXRhLCBcbiAgICAgICAgICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZShlLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodGhpcy5fZG9jdW1lbnQuZGF0YS52YWx1ZSwgdC5zZXJ2ZXJUaW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGZpZWxkIHNwZWNpZmllZCBieSBgZmllbGRQYXRoYC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCBvciBmaWVsZCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYSBgRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKWAgdGhhdCBoYXMgbm90IHlldCBiZWVuIHNldCB0b1xuICAgICAqIGl0cyBmaW5hbCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGFzIGBudWxsYC4gWW91IGNhbiBvdmVycmlkZSB0aGlzIGJ5XG4gICAgICogcGFzc2luZyBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCAoZm9yIGV4YW1wbGUgJ2Zvbycgb3IgJ2Zvby5iYXInKSB0byBhIHNwZWNpZmljXG4gICAgICogZmllbGQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgaG93IHRoZSBmaWVsZCBpcyByZXRyaWV2ZWRcbiAgICAgKiBmcm9tIHRoZSBzbmFwc2hvdCAoZm9yIGV4YW1wbGUgdGhlIGRlc2lyZWQgYmVoYXZpb3IgZm9yIHNlcnZlciB0aW1lc3RhbXBzXG4gICAgICogdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBzZXQgdG8gdGhlaXIgZmluYWwgdmFsdWUpLlxuICAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGF0IHRoZSBzcGVjaWZpZWQgZmllbGQgbG9jYXRpb24gb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2hcbiAgICAgKiBmaWVsZCBleGlzdHMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIC8vIFdlIGFyZSB1c2luZyBgYW55YCBoZXJlIHRvIGF2b2lkIGFuIGV4cGxpY2l0IGNhc3QgYnkgb3VyIHVzZXJzLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0KHQsIGUgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLl9kb2N1bWVudC5kYXRhLmZpZWxkKHZ1KFwiRG9jdW1lbnRTbmFwc2hvdC5nZXRcIiwgdCkpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IG4pIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUobiwgZS5zZXJ2ZXJUaW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91clxuICogRmlyZXN0b3JlIGRhdGFiYXNlIGFzIHBhcnQgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAqIGFuZCBpdHMgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0byBnZXQgYVxuICogc3BlY2lmaWMgZmllbGQuXG4gKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBvZmZlcnMgdGhlIHNhbWUgQVBJIHN1cmZhY2UgYXMgYVxuICogYERvY3VtZW50U25hcHNob3RgLiBTaW5jZSBxdWVyeSByZXN1bHRzIGNvbnRhaW4gb25seSBleGlzdGluZyBkb2N1bWVudHMsIHRoZVxuICogYGV4aXN0c2AgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgdHJ1ZSBhbmQgYGRhdGEoKWAgd2lsbCBuZXZlciByZXR1cm5cbiAqICd1bmRlZmluZWQnLlxuICovIGNsYXNzIER1IGV4dGVuZHMgU3Uge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGBGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpYCB2YWx1ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlblxuICAgICAqIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGFzIGBudWxsYC4gWW91IGNhbiBvdmVycmlkZVxuICAgICAqIHRoaXMgYnkgcGFzc2luZyBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gY29uZmlndXJlIGhvdyBkYXRhIGlzIHJldHJpZXZlZCBmcm9tXG4gICAgICogdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHMgdGhhdFxuICAgICAqIGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICBkYXRhKHQgPSB7fSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZGF0YSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgUXVlcnlTbmFwc2hvdGAgY29udGFpbnMgemVybyBvciBtb3JlIGBEb2N1bWVudFNuYXBzaG90YCBvYmplY3RzXG4gKiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdHMgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50cyBjYW4gYmUgYWNjZXNzZWQgYXMgYW5cbiAqIGFycmF5IHZpYSB0aGUgYGRvY3NgIHByb3BlcnR5IG9yIGVudW1lcmF0ZWQgdXNpbmcgdGhlIGBmb3JFYWNoYCBtZXRob2QuIFRoZVxuICogbnVtYmVyIG9mIGRvY3VtZW50cyBjYW4gYmUgZGV0ZXJtaW5lZCB2aWEgdGhlIGBlbXB0eWAgYW5kIGBzaXplYFxuICogcHJvcGVydGllcy5cbiAqLyBjbGFzcyBDdSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuLCBzKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVzdG9yZSA9IHQsIHRoaXMuX3VzZXJEYXRhV3JpdGVyID0gZSwgdGhpcy5fc25hcHNob3QgPSBzLCB0aGlzLm1ldGFkYXRhID0gbmV3IFZ1KHMuaGFzUGVuZGluZ1dyaXRlcywgcy5mcm9tQ2FjaGUpLCBcbiAgICAgICAgdGhpcy5xdWVyeSA9IG47XG4gICAgfVxuICAgIC8qKiBBbiBhcnJheSBvZiBhbGwgdGhlIGRvY3VtZW50cyBpbiB0aGUgYFF1ZXJ5U25hcHNob3RgLiAqLyAgICBnZXQgZG9jcygpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlID0+IHQucHVzaChlKSkpLCB0O1xuICAgIH1cbiAgICAvKiogVGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbmFwc2hvdC5kb2NzLnNpemU7XG4gICAgfVxuICAgIC8qKiBUcnVlIGlmIHRoZXJlIGFyZSBubyBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gMCA9PT0gdGhpcy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGVzIGFsbCBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBgUXVlcnlTbmFwc2hvdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIGEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgZm9yXG4gICAgICogZWFjaCBkb2N1bWVudCBpbiB0aGUgc25hcHNob3QuXG4gICAgICogQHBhcmFtIHRoaXNBcmcgLSBUaGUgYHRoaXNgIGJpbmRpbmcgZm9yIHRoZSBjYWxsYmFjay5cbiAgICAgKi8gICAgZm9yRWFjaCh0LCBlKSB7XG4gICAgICAgIHRoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICB0LmNhbGwoZSwgbmV3IER1KHRoaXMuX2ZpcmVzdG9yZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIsIG4ua2V5LCBuLCBuZXcgVnUodGhpcy5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKG4ua2V5KSwgdGhpcy5fc25hcHNob3QuZnJvbUNhY2hlKSwgdGhpcy5xdWVyeS5jb252ZXJ0ZXIpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBkb2N1bWVudHMgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBzbmFwc2hvdC4gSWYgdGhpc1xuICAgICAqIGlzIHRoZSBmaXJzdCBzbmFwc2hvdCwgYWxsIGRvY3VtZW50cyB3aWxsIGJlIGluIHRoZSBsaXN0IGFzICdhZGRlZCdcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBgU25hcHNob3RMaXN0ZW5PcHRpb25zYCB0aGF0IGNvbnRyb2wgd2hldGhlciBtZXRhZGF0YS1vbmx5XG4gICAgICogY2hhbmdlcyAoaS5lLiBvbmx5IGBEb2N1bWVudFNuYXBzaG90Lm1ldGFkYXRhYCBjaGFuZ2VkKSBzaG91bGQgdHJpZ2dlclxuICAgICAqIHNuYXBzaG90IGV2ZW50cy5cbiAgICAgKi8gICAgZG9jQ2hhbmdlcyh0ID0ge30pIHtcbiAgICAgICAgY29uc3QgZSA9ICEhdC5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO1xuICAgICAgICBpZiAoZSAmJiB0aGlzLl9zbmFwc2hvdC5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcykgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlRvIGluY2x1ZGUgbWV0YWRhdGEgY2hhbmdlcyB3aXRoIHlvdXIgZG9jdW1lbnQgY2hhbmdlcywgeW91IG11c3QgYWxzbyBwYXNzIHsgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczp0cnVlIH0gdG8gb25TbmFwc2hvdCgpLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZENoYW5nZXMgJiYgdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXMgPT09IGUgfHwgKHRoaXMuX2NhY2hlZENoYW5nZXMgPSBcbiAgICAgICAgLyoqIENhbGN1bGF0ZXMgdGhlIGFycmF5IG9mIGBEb2N1bWVudENoYW5nZWBzIGZvciBhIGdpdmVuIGBWaWV3U25hcHNob3RgLiAqL1xuICAgICAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBpZiAodC5fc25hcHNob3Qub2xkRG9jcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZSA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuX3NuYXBzaG90LmRvY0NoYW5nZXMubWFwKChuID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWRkZWRcIixcbiAgICAgICAgICAgICAgICAgICAgZG9jOiBuZXcgRHUodC5fZmlyZXN0b3JlLCB0Ll91c2VyRGF0YVdyaXRlciwgbi5kb2Mua2V5LCBuLmRvYywgbmV3IFZ1KHQuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyhuLmRvYy5rZXkpLCB0Ll9zbmFwc2hvdC5mcm9tQ2FjaGUpLCB0LnF1ZXJ5LmNvbnZlcnRlciksXG4gICAgICAgICAgICAgICAgICAgIG9sZEluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXg6IGUrK1xuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQSBgRG9jdW1lbnRTZXRgIHRoYXQgaXMgdXBkYXRlZCBpbmNyZW1lbnRhbGx5IGFzIGNoYW5nZXMgYXJlIGFwcGxpZWQgdG8gdXNlXG4gICAgICAgICAgICAgICAgLy8gdG8gbG9va3VwIHRoZSBpbmRleCBvZiBhIGRvY3VtZW50LlxuICAgICAgICAgICAgICAgIGxldCBuID0gdC5fc25hcHNob3Qub2xkRG9jcztcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5fc25hcHNob3QuZG9jQ2hhbmdlcy5maWx0ZXIoKHQgPT4gZSB8fCAzIC8qIE1ldGFkYXRhICovICE9PSB0LnR5cGUpKS5tYXAoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IER1KHQuX2ZpcmVzdG9yZSwgdC5fdXNlckRhdGFXcml0ZXIsIGUuZG9jLmtleSwgZS5kb2MsIG5ldyBWdSh0Ll9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXMoZS5kb2Mua2V5KSwgdC5fc25hcHNob3QuZnJvbUNhY2hlKSwgdC5xdWVyeS5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xLCByID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIEFkZGVkICovICE9PSBlLnR5cGUgJiYgKGkgPSBuLmluZGV4T2YoZS5kb2Mua2V5KSwgbiA9IG4uZGVsZXRlKGUuZG9jLmtleSkpLCBcbiAgICAgICAgICAgICAgICAgICAgMSAvKiBSZW1vdmVkICovICE9PSBlLnR5cGUgJiYgKG4gPSBuLmFkZChlLmRvYyksIHIgPSBuLmluZGV4T2YoZS5kb2Mua2V5KSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE51KGUudHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2M6IHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4OiByXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHRoaXMsIGUpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzSW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyA9IGUpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gTnUodCkge1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSAwIC8qIEFkZGVkICovIDpcbiAgICAgICAgcmV0dXJuIFwiYWRkZWRcIjtcblxuICAgICAgY2FzZSAyIC8qIE1vZGlmaWVkICovIDpcbiAgICAgIGNhc2UgMyAvKiBNZXRhZGF0YSAqLyA6XG4gICAgICAgIHJldHVybiBcIm1vZGlmaWVkXCI7XG5cbiAgICAgIGNhc2UgMSAvKiBSZW1vdmVkICovIDpcbiAgICAgICAgcmV0dXJuIFwicmVtb3ZlZFwiO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gRigpO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmVleHApOiBBZGQgdGVzdHMgZm9yIHNuYXBzaG90RXF1YWwgd2l0aCBkaWZmZXJlbnQgc25hcHNob3Rcbi8vIG1ldGFkYXRhXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgc25hcHNob3RzIGFyZSBlcXVhbC5cbiAqXG4gKiBAcGFyYW0gbGVmdCAtIEEgc25hcHNob3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIEEgc25hcHNob3QgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNuYXBzaG90cyBhcmUgZXF1YWwuXG4gKi8gZnVuY3Rpb24geHUodCwgZSkge1xuICAgIHJldHVybiB0IGluc3RhbmNlb2YgU3UgJiYgZSBpbnN0YW5jZW9mIFN1ID8gdC5fZmlyZXN0b3JlID09PSBlLl9maXJlc3RvcmUgJiYgdC5fa2V5LmlzRXF1YWwoZS5fa2V5KSAmJiAobnVsbCA9PT0gdC5fZG9jdW1lbnQgPyBudWxsID09PSBlLl9kb2N1bWVudCA6IHQuX2RvY3VtZW50LmlzRXF1YWwoZS5fZG9jdW1lbnQpKSAmJiB0Ll9jb252ZXJ0ZXIgPT09IGUuX2NvbnZlcnRlciA6IHQgaW5zdGFuY2VvZiBDdSAmJiBlIGluc3RhbmNlb2YgQ3UgJiYgKHQuX2ZpcmVzdG9yZSA9PT0gZS5fZmlyZXN0b3JlICYmIHZjKHQucXVlcnksIGUucXVlcnkpICYmIHQubWV0YWRhdGEuaXNFcXVhbChlLm1ldGFkYXRhKSAmJiB0Ll9zbmFwc2hvdC5pc0VxdWFsKGUuX3NuYXBzaG90KSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGZ1bmN0aW9uIGt1KHQpIHtcbiAgICBpZiAod2UodCkgJiYgMCA9PT0gdC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoKSB0aHJvdyBuZXcgcShVLlVOSU1QTEVNRU5URUQsIFwibGltaXRUb0xhc3QoKSBxdWVyaWVzIHJlcXVpcmUgc3BlY2lmeWluZyBhdCBsZWFzdCBvbmUgb3JkZXJCeSgpIGNsYXVzZVwiKTtcbn1cblxuLyoqXG4gKiBBIGBRdWVyeUNvbnN0cmFpbnRgIGlzIHVzZWQgdG8gbmFycm93IHRoZSBzZXQgb2YgZG9jdW1lbnRzIHJldHVybmVkIGJ5IGFcbiAqIEZpcmVzdG9yZSBxdWVyeS4gYFF1ZXJ5Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayB3aGVyZX0sXG4gKiB7QGxpbmsgb3JkZXJCeX0sIHtAbGluayAoc3RhcnRBdDoxKX0sIHtAbGluayAoc3RhcnRBZnRlcjoxKX0sIHtAbGlua1xuICogZW5kQmVmb3JlOjF9LCB7QGxpbmsgKGVuZEF0OjEpfSwge0BsaW5rIGxpbWl0fSBvciB7QGxpbmsgbGltaXRUb0xhc3R9IGFuZFxuICogY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayBxdWVyeX0gdG8gY3JlYXRlIGEgbmV3IHF1ZXJ5IGluc3RhbmNlIHRoYXRcbiAqIGFsc28gY29udGFpbnMgdGhpcyBgUXVlcnlDb25zdHJhaW50YC5cbiAqLyBjbGFzcyAkdSB7fVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW1tdXRhYmxlIGluc3RhbmNlIG9mIHtAbGluayBRdWVyeX0gdGhhdCBpcyBleHRlbmRlZCB0byBhbHNvIGluY2x1ZGVcbiAqIGFkZGl0aW9uYWwgcXVlcnkgY29uc3RyYWludHMuXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gVGhlIHtAbGluayBRdWVyeX0gaW5zdGFuY2UgdG8gdXNlIGFzIGEgYmFzZSBmb3IgdGhlIG5ldyBjb25zdHJhaW50cy5cbiAqIEBwYXJhbSBxdWVyeUNvbnN0cmFpbnRzIC0gVGhlIGxpc3Qgb2Yge0BsaW5rIFF1ZXJ5Q29uc3RyYWludH1zIHRvIGFwcGx5LlxuICogQHRocm93cyBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIHF1ZXJ5IGNvbnN0cmFpbnRzIGNhbm5vdCBiZSBjb21iaW5lZCB3aXRoIHRoZVxuICogZXhpc3Rpbmcgb3IgbmV3IGNvbnN0cmFpbnRzLlxuICovIGZ1bmN0aW9uIE91KHQsIC4uLmUpIHtcbiAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdCA9IG4uX2FwcGx5KHQpO1xuICAgIHJldHVybiB0O1xufVxuXG5jbGFzcyBGdSBleHRlbmRzICR1IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuS2EgPSB0LCB0aGlzLmphID0gZSwgdGhpcy5RYSA9IG4sIHRoaXMudHlwZSA9IFwid2hlcmVcIjtcbiAgICB9XG4gICAgX2FwcGx5KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IHJ1KHQuZmlyZXN0b3JlKSwgbiA9IGZ1bmN0aW9uKHQsIGUsIG4sIHMsIGksIHIsIG8pIHtcbiAgICAgICAgICAgIGxldCBhO1xuICAgICAgICAgICAgaWYgKGkuaXNLZXlGaWVsZCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiYXJyYXktY29udGFpbnNcIiAvKiBBUlJBWV9DT05UQUlOUyAqLyA9PT0gciB8fCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gcikgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBRdWVyeS4gWW91IGNhbid0IHBlcmZvcm0gJyR7cn0nIHF1ZXJpZXMgb24gRmllbGRQYXRoLmRvY3VtZW50SWQoKS5gKTtcbiAgICAgICAgICAgICAgICBpZiAoXCJpblwiIC8qIElOICovID09PSByIHx8IFwibm90LWluXCIgLyogTk9UX0lOICovID09PSByKSB7XG4gICAgICAgICAgICAgICAgICAgIFh1KG8sIHIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBvKSBlLnB1c2goWXUocywgdCwgbikpO1xuICAgICAgICAgICAgICAgICAgICBhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBhID0gWXUocywgdCwgbyk7XG4gICAgICAgICAgICB9IGVsc2UgXCJpblwiIC8qIElOICovICE9PSByICYmIFwibm90LWluXCIgLyogTk9UX0lOICovICE9PSByICYmIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogQVJSQVlfQ09OVEFJTlNfQU5ZICovICE9PSByIHx8IFh1KG8sIHIpLCBcbiAgICAgICAgICAgIGEgPSBfdShuLCBlLCBvLCBcbiAgICAgICAgICAgIC8qIGFsbG93QXJyYXlzPSAqLyBcImluXCIgLyogSU4gKi8gPT09IHIgfHwgXCJub3QtaW5cIiAvKiBOT1RfSU4gKi8gPT09IHIpO1xuICAgICAgICAgICAgY29uc3QgYyA9IHp0LmNyZWF0ZShpLCByLCBhKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBtZSh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IG4gJiYgIW4uaXNFcXVhbChlLmZpZWxkKSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gQWxsIHdoZXJlIGZpbHRlcnMgd2l0aCBhbiBpbmVxdWFsaXR5ICg8LCA8PSwgIT0sIG5vdC1pbiwgPiwgb3IgPj0pIG11c3QgYmUgb24gdGhlIHNhbWUgZmllbGQuIEJ1dCB5b3UgaGF2ZSBpbmVxdWFsaXR5IGZpbHRlcnMgb24gJyR7bi50b1N0cmluZygpfScgYW5kICcke2UuZmllbGQudG9TdHJpbmcoKX0nYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBfZSh0KTtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcyAmJiBadSh0LCBlLmZpZWxkLCBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHQuZmlsdGVycykgaWYgKGUuaW5kZXhPZihuLm9wKSA+PSAwKSByZXR1cm4gbi5vcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfSh0LCBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEdpdmVuIGFuIG9wZXJhdG9yLCByZXR1cm5zIHRoZSBzZXQgb2Ygb3BlcmF0b3JzIHRoYXQgY2Fubm90IGJlIHVzZWQgd2l0aCBpdC5cbiAqXG4gKiBPcGVyYXRvcnMgaW4gYSBxdWVyeSBtdXN0IGFkaGVyZSB0byB0aGUgZm9sbG93aW5nIHNldCBvZiBydWxlczpcbiAqIDEuIE9ubHkgb25lIGFycmF5IG9wZXJhdG9yIGlzIGFsbG93ZWQuXG4gKiAyLiBPbmx5IG9uZSBkaXNqdW5jdGl2ZSBvcGVyYXRvciBpcyBhbGxvd2VkLlxuICogMy4gYE5PVF9FUVVBTGAgY2Fubm90IGJlIHVzZWQgd2l0aCBhbm90aGVyIGBOT1RfRVFVQUxgIG9wZXJhdG9yLlxuICogNC4gYE5PVF9JTmAgY2Fubm90IGJlIHVzZWQgd2l0aCBhcnJheSwgZGlzanVuY3RpdmUsIG9yIGBOT1RfRVFVQUxgIG9wZXJhdG9ycy5cbiAqXG4gKiBBcnJheSBvcGVyYXRvcnM6IGBBUlJBWV9DT05UQUlOU2AsIGBBUlJBWV9DT05UQUlOU19BTllgXG4gKiBEaXNqdW5jdGl2ZSBvcGVyYXRvcnM6IGBJTmAsIGBBUlJBWV9DT05UQUlOU19BTllgLCBgTk9UX0lOYFxuICovXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBOT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgXCIhPVwiIC8qIE5PVF9FUVVBTCAqLyAsIFwibm90LWluXCIgLyogTk9UX0lOICovIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnNcIiAvKiBBUlJBWV9DT05UQUlOUyAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBcImFycmF5LWNvbnRhaW5zXCIgLyogQVJSQVlfQ09OVEFJTlMgKi8gLCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIFwibm90LWluXCIgLyogTk9UX0lOICovIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5cIiAvKiBJTiAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIEFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIFwiaW5cIiAvKiBJTiAqLyAsIFwibm90LWluXCIgLyogTk9UX0lOICovIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogQVJSQVlfQ09OVEFJTlNfQU5ZICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbIFwiYXJyYXktY29udGFpbnNcIiAvKiBBUlJBWV9DT05UQUlOUyAqLyAsIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogQVJSQVlfQ09OVEFJTlNfQU5ZICovICwgXCJpblwiIC8qIElOICovICwgXCJub3QtaW5cIiAvKiBOT1RfSU4gKi8gXTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub3QtaW5cIiAvKiBOT1RfSU4gKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgXCJhcnJheS1jb250YWluc1wiIC8qIEFSUkFZX0NPTlRBSU5TICovICwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBBUlJBWV9DT05UQUlOU19BTlkgKi8gLCBcImluXCIgLyogSU4gKi8gLCBcIm5vdC1pblwiIC8qIE5PVF9JTiAqLyAsIFwiIT1cIiAvKiBOT1RfRVFVQUwgKi8gXTtcblxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KGUub3ApKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gbikgXG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHdoZW4gaXQncyBhIGR1cGxpY2F0ZSBvcCB0byBnaXZlIGEgc2xpZ2h0bHkgY2xlYXJlciBlcnJvciBtZXNzYWdlLlxuICAgICAgICAgICAgICAgIHRocm93IG4gPT09IGUub3AgPyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSBtb3JlIHRoYW4gb25lICcke2Uub3AudG9TdHJpbmcoKX0nIGZpbHRlci5gKSA6IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlICcke2Uub3AudG9TdHJpbmcoKX0nIGZpbHRlcnMgd2l0aCAnJHtuLnRvU3RyaW5nKCl9JyBmaWx0ZXJzLmApO1xuICAgICAgICAgICAgfSh0LCBjKSwgYztcbiAgICAgICAgfSh0Ll9xdWVyeSwgXCJ3aGVyZVwiLCBlLCB0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZCwgdGhpcy5LYSwgdGhpcy5qYSwgdGhpcy5RYSk7XG4gICAgICAgIHJldHVybiBuZXcgVGModC5maXJlc3RvcmUsIHQuY29udmVydGVyLCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdC5maWx0ZXJzLmNvbmNhdChbIGUgXSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGhlKHQucGF0aCwgdC5jb2xsZWN0aW9uR3JvdXAsIHQuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIG4sIHQubGltaXQsIHQubGltaXRUeXBlLCB0LnN0YXJ0QXQsIHQuZW5kQXQpO1xuICAgICAgICB9KHQuX3F1ZXJ5LCBuKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUXVlcnlDb25zdHJhaW50fSB0aGF0IGVuZm9yY2VzIHRoYXQgZG9jdW1lbnRzIG11c3QgY29udGFpbiB0aGVcbiAqIHNwZWNpZmllZCBmaWVsZCBhbmQgdGhhdCB0aGUgdmFsdWUgc2hvdWxkIHNhdGlzZnkgdGhlIHJlbGF0aW9uIGNvbnN0cmFpbnRcbiAqIHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCB0byBjb21wYXJlXG4gKiBAcGFyYW0gb3BTdHIgLSBUaGUgb3BlcmF0aW9uIHN0cmluZyAoZS5nIFwiJmx0O1wiLCBcIiZsdDs9XCIsIFwiPT1cIiwgXCImbHQ7XCIsXG4gKiAgIFwiJmx0Oz1cIiwgXCIhPVwiKS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBmb3IgY29tcGFyaXNvblxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5fS5cbiAqLyBmdW5jdGlvbiBNdSh0LCBlLCBuKSB7XG4gICAgY29uc3QgcyA9IGUsIGkgPSB2dShcIndoZXJlXCIsIHQpO1xuICAgIHJldHVybiBuZXcgRnUoaSwgcywgbik7XG59XG5cbmNsYXNzIEx1IGV4dGVuZHMgJHUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5LYSA9IHQsIHRoaXMuV2EgPSBlLCB0aGlzLnR5cGUgPSBcIm9yZGVyQnlcIjtcbiAgICB9XG4gICAgX2FwcGx5KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uKHQsIGUsIG4pIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0LnN0YXJ0QXQpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgbXVzdCBub3QgY2FsbCBzdGFydEF0KCkgb3Igc3RhcnRBZnRlcigpIGJlZm9yZSBjYWxsaW5nIG9yZGVyQnkoKS5cIik7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdC5lbmRBdCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgcXVlcnkuIFlvdSBtdXN0IG5vdCBjYWxsIGVuZEF0KCkgb3IgZW5kQmVmb3JlKCkgYmVmb3JlIGNhbGxpbmcgb3JkZXJCeSgpLlwiKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgb2UoZSwgbik7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBfZSh0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBvcmRlciBieS4gSXQgbXVzdCBtYXRjaCBhbnkgaW5lcXVhbGl0eS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IG1lKHQpO1xuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBuICYmIFp1KHQsIG4sIGUuZmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0odCwgcyksIHM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBDcmVhdGUgYSBgQm91bmRgIGZyb20gYSBxdWVyeSBhbmQgYSBkb2N1bWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIGBCb3VuZGAgd2lsbCBhbHdheXMgaW5jbHVkZSB0aGUga2V5IG9mIHRoZSBkb2N1bWVudFxuICogYW5kIHNvIG9ubHkgdGhlIHByb3ZpZGVkIGRvY3VtZW50IHdpbGwgY29tcGFyZSBlcXVhbCB0byB0aGUgcmV0dXJuZWRcbiAqIHBvc2l0aW9uLlxuICpcbiAqIFdpbGwgdGhyb3cgaWYgdGhlIGRvY3VtZW50IGRvZXMgbm90IGNvbnRhaW4gYWxsIGZpZWxkcyBvZiB0aGUgb3JkZXIgYnlcbiAqIG9mIHRoZSBxdWVyeSBvciBpZiBhbnkgb2YgdGhlIGZpZWxkcyBpbiB0aGUgb3JkZXIgYnkgYXJlIGFuIHVuY29tbWl0dGVkXG4gKiBzZXJ2ZXIgdGltZXN0YW1wLlxuICovICh0Ll9xdWVyeSwgdGhpcy5LYSwgdGhpcy5XYSk7XG4gICAgICAgIHJldHVybiBuZXcgVGModC5maXJlc3RvcmUsIHQuY29udmVydGVyLCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IHZhbGlkYXRlIHRoYXQgb3JkZXJCeSBkb2VzIG5vdCBsaXN0IHRoZSBzYW1lIGtleSB0d2ljZS5cbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LmV4cGxpY2l0T3JkZXJCeS5jb25jYXQoWyBlIF0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBoZSh0LnBhdGgsIHQuY29sbGVjdGlvbkdyb3VwLCBuLCB0LmZpbHRlcnMuc2xpY2UoKSwgdC5saW1pdCwgdC5saW1pdFR5cGUsIHQuc3RhcnRBdCwgdC5lbmRBdCk7XG4gICAgICAgIH0odC5fcXVlcnksIGUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUNvbnN0cmFpbnR9IHRoYXQgc29ydHMgdGhlIHF1ZXJ5IHJlc3VsdCBieSB0aGVcbiAqIHNwZWNpZmllZCBmaWVsZCwgb3B0aW9uYWxseSBpbiBkZXNjZW5kaW5nIG9yZGVyIGluc3RlYWQgb2YgYXNjZW5kaW5nLlxuICpcbiAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgZmllbGQgdG8gc29ydCBieS5cbiAqIEBwYXJhbSBkaXJlY3Rpb25TdHIgLSBPcHRpb25hbCBkaXJlY3Rpb24gdG8gc29ydCBieSAoJ2FzYycgb3IgJ2Rlc2MnKS4gSWZcbiAqIG5vdCBzcGVjaWZpZWQsIG9yZGVyIHdpbGwgYmUgYXNjZW5kaW5nLlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5fS5cbiAqLyBmdW5jdGlvbiBCdSh0LCBlID0gXCJhc2NcIikge1xuICAgIGNvbnN0IG4gPSBlLCBzID0gdnUoXCJvcmRlckJ5XCIsIHQpO1xuICAgIHJldHVybiBuZXcgTHUocywgbik7XG59XG5cbmNsYXNzIFV1IGV4dGVuZHMgJHUge1xuICAgIGNvbnN0cnVjdG9yKHQsIGUsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy50eXBlID0gdCwgdGhpcy5HYSA9IGUsIHRoaXMuemEgPSBuO1xuICAgIH1cbiAgICBfYXBwbHkodCkge1xuICAgICAgICByZXR1cm4gbmV3IFRjKHQuZmlyZXN0b3JlLCB0LmNvbnZlcnRlciwgRWUodC5fcXVlcnksIHRoaXMuR2EsIHRoaXMuemEpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUNvbnN0cmFpbnR9IHRoYXQgb25seSByZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBkb2N1bWVudHMuXG4gKlxuICogQHBhcmFtIGxpbWl0IC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybi5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeX0uXG4gKi8gZnVuY3Rpb24gcXUodCkge1xuICAgIHJldHVybiBtYyhcImxpbWl0XCIsIHQpLCBuZXcgVXUoXCJsaW1pdFwiLCB0LCBcIkZcIiAvKiBGaXJzdCAqLyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUNvbnN0cmFpbnR9IHRoYXQgb25seSByZXR1cm5zIHRoZSBsYXN0IG1hdGNoaW5nIGRvY3VtZW50cy5cbiAqXG4gKiBZb3UgbXVzdCBzcGVjaWZ5IGF0IGxlYXN0IG9uZSBgb3JkZXJCeWAgY2xhdXNlIGZvciBgbGltaXRUb0xhc3RgIHF1ZXJpZXMsXG4gKiBvdGhlcndpc2UgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIGR1cmluZyBleGVjdXRpb24uXG4gKlxuICogQHBhcmFtIGxpbWl0IC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybi5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeX0uXG4gKi8gZnVuY3Rpb24gS3UodCkge1xuICAgIHJldHVybiBtYyhcImxpbWl0VG9MYXN0XCIsIHQpLCBuZXcgVXUoXCJsaW1pdFRvTGFzdFwiLCB0LCBcIkxcIiAvKiBMYXN0ICovKTtcbn1cblxuY2xhc3MganUgZXh0ZW5kcyAkdSB7XG4gICAgY29uc3RydWN0b3IodCwgZSwgbikge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnR5cGUgPSB0LCB0aGlzLkhhID0gZSwgdGhpcy5KYSA9IG47XG4gICAgfVxuICAgIF9hcHBseSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSBKdSh0LCB0aGlzLnR5cGUsIHRoaXMuSGEsIHRoaXMuSmEpO1xuICAgICAgICByZXR1cm4gbmV3IFRjKHQuZmlyZXN0b3JlLCB0LmNvbnZlcnRlciwgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBoZSh0LnBhdGgsIHQuY29sbGVjdGlvbkdyb3VwLCB0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCB0LmZpbHRlcnMuc2xpY2UoKSwgdC5saW1pdCwgdC5saW1pdFR5cGUsIGUsIHQuZW5kQXQpO1xuICAgICAgICB9KHQuX3F1ZXJ5LCBlKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBRdSguLi50KSB7XG4gICAgcmV0dXJuIG5ldyBqdShcInN0YXJ0QXRcIiwgdCwgLypiZWZvcmU9Ki8gITApO1xufVxuXG5mdW5jdGlvbiBXdSguLi50KSB7XG4gICAgcmV0dXJuIG5ldyBqdShcInN0YXJ0QWZ0ZXJcIiwgdCwgXG4gICAgLypiZWZvcmU9Ki8gITEpO1xufVxuXG5jbGFzcyBHdSBleHRlbmRzICR1IHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBlLCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IHQsIHRoaXMuSGEgPSBlLCB0aGlzLkphID0gbjtcbiAgICB9XG4gICAgX2FwcGx5KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IEp1KHQsIHRoaXMudHlwZSwgdGhpcy5IYSwgdGhpcy5KYSk7XG4gICAgICAgIHJldHVybiBuZXcgVGModC5maXJlc3RvcmUsIHQuY29udmVydGVyLCBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGhlKHQucGF0aCwgdC5jb2xsZWN0aW9uR3JvdXAsIHQuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIHQuZmlsdGVycy5zbGljZSgpLCB0LmxpbWl0LCB0LmxpbWl0VHlwZSwgdC5zdGFydEF0LCBlKTtcbiAgICAgICAgfSh0Ll9xdWVyeSwgZSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24genUoLi4udCkge1xuICAgIHJldHVybiBuZXcgR3UoXCJlbmRCZWZvcmVcIiwgdCwgLypiZWZvcmU9Ki8gITApO1xufVxuXG5mdW5jdGlvbiBIdSguLi50KSB7XG4gICAgcmV0dXJuIG5ldyBHdShcImVuZEF0XCIsIHQsIC8qYmVmb3JlPSovICExKTtcbn1cblxuLyoqIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBib3VuZCBmcm9tIGEgZG9jdW1lbnQgb3IgZmllbGRzICovIGZ1bmN0aW9uIEp1KHQsIGUsIG4sIHMpIHtcbiAgICBpZiAoblswXSA9IGcoblswXSksIG5bMF0gaW5zdGFuY2VvZiBidSkgcmV0dXJuIGZ1bmN0aW9uKHQsIGUsIG4sIHMsIGkpIHtcbiAgICAgICAgaWYgKCFzKSB0aHJvdyBuZXcgcShVLk5PVF9GT1VORCwgYENhbid0IHVzZSBhIERvY3VtZW50U25hcHNob3QgdGhhdCBkb2Vzbid0IGV4aXN0IGZvciAke259KCkuYCk7XG4gICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgLy8gQmVjYXVzZSBwZW9wbGUgZXhwZWN0IHRvIGNvbnRpbnVlL2VuZCBhIHF1ZXJ5IGF0IHRoZSBleGFjdCBkb2N1bWVudFxuICAgICAgICAvLyBwcm92aWRlZCwgd2UgbmVlZCB0byB1c2UgdGhlIGltcGxpY2l0IHNvcnQgb3JkZXIgcmF0aGVyIHRoYW4gdGhlIGV4cGxpY2l0XG4gICAgICAgIC8vIHNvcnQgb3JkZXIsIGJlY2F1c2UgaXQncyBndWFyYW50ZWVkIHRvIGNvbnRhaW4gdGhlIGRvY3VtZW50IGtleS4gVGhhdCB3YXlcbiAgICAgICAgLy8gdGhlIHBvc2l0aW9uIGJlY29tZXMgdW5hbWJpZ3VvdXMgYW5kIHRoZSBxdWVyeSBjb250aW51ZXMvZW5kcyBleGFjdGx5IGF0XG4gICAgICAgIC8vIHRoZSBwcm92aWRlZCBkb2N1bWVudC4gV2l0aG91dCB0aGUga2V5IChieSB1c2luZyB0aGUgZXhwbGljaXQgc29ydFxuICAgICAgICAvLyBvcmRlcnMpLCBtdWx0aXBsZSBkb2N1bWVudHMgY291bGQgbWF0Y2ggdGhlIHBvc2l0aW9uLCB5aWVsZGluZyBkdXBsaWNhdGVcbiAgICAgICAgLy8gcmVzdWx0cy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgeWUodCkpIGlmIChuLmZpZWxkLmlzS2V5RmllbGQoKSkgci5wdXNoKE50KGUsIHMua2V5KSk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdCA9IHMuZGF0YS5maWVsZChuLmZpZWxkKTtcbiAgICAgICAgICAgIGlmICh5dCh0KSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCAnSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkIFwiJyArIG4uZmllbGQgKyAnXCIgaXMgYW4gdW5jb21taXR0ZWQgc2VydmVyIHRpbWVzdGFtcC4gKFNpbmNlIHRoZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGlzIHVua25vd24sIHlvdSBjYW5ub3Qgc3RhcnQvZW5kIGEgcXVlcnkgd2l0aCBpdC4pJyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCAnJHt0fScgKHVzZWQgYXMgdGhlIG9yZGVyQnkpIGRvZXMgbm90IGV4aXN0LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgaWUociwgaSk7XG4gICAgfVxuICAgIC8qKlxuICogQ29udmVydHMgYSBsaXN0IG9mIGZpZWxkIHZhbHVlcyB0byBhIGBCb3VuZGAgZm9yIHRoZSBnaXZlbiBxdWVyeS5cbiAqLyAodC5fcXVlcnksIHQuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLCBlLCBuWzBdLl9kb2N1bWVudCwgcyk7XG4gICAge1xuICAgICAgICBjb25zdCBpID0gcnUodC5maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgZSwgbiwgcywgaSwgcikge1xuICAgICAgICAgICAgLy8gVXNlIGV4cGxpY2l0IG9yZGVyIGJ5J3MgYmVjYXVzZSBpdCBoYXMgdG8gbWF0Y2ggdGhlIHF1ZXJ5IHRoZSB1c2VyIG1hZGVcbiAgICAgICAgICAgIGNvbnN0IG8gPSB0LmV4cGxpY2l0T3JkZXJCeTtcbiAgICAgICAgICAgIGlmIChpLmxlbmd0aCA+IG8ubGVuZ3RoKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIGBUb28gbWFueSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gJHtzfSgpLiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIG9yZGVyQnkoKSBjbGF1c2VzYCk7XG4gICAgICAgICAgICBjb25zdCBhID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gaVtyXTtcbiAgICAgICAgICAgICAgICBpZiAob1tyXS5maWVsZC5pc0tleUZpZWxkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGMpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIEV4cGVjdGVkIGEgc3RyaW5nIGZvciBkb2N1bWVudCBJRCBpbiAke3N9KCksIGJ1dCBnb3QgYSAke3R5cGVvZiBjfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdlKHQpICYmIC0xICE9PSBjLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBhbmQgb3JkZXJpbmcgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHBhc3NlZCB0byAke3N9KCkgbXVzdCBiZSBhIHBsYWluIGRvY3VtZW50IElELCBidXQgJyR7Y30nIGNvbnRhaW5zIGEgc2xhc2guYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0LnBhdGguY2hpbGQoY3QuZnJvbVN0cmluZyhjKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghUnQuaXNEb2N1bWVudEtleShuKSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYW5kIG9yZGVyaW5nIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwYXNzZWQgdG8gJHtzfSgpIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICcke259JyBpcyBub3QgYmVjYXVzZSBpdCBjb250YWlucyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLmApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gbmV3IFJ0KG4pO1xuICAgICAgICAgICAgICAgICAgICBhLnB1c2goTnQoZSwgaSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfdShuLCBzLCBjKTtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgaWUoYSwgcik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIGBkb2N1bWVudElkVmFsdWVgIGludG8gYSBgUmVmZXJlbmNlVmFsdWVgLCB0aHJvd2luZ1xuICogYXBwcm9wcmlhdGUgZXJyb3JzIGlmIHRoZSB2YWx1ZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIGEgYERvY3VtZW50UmVmZXJlbmNlYFxuICogb3IgYHN0cmluZ2AsIG9yIGlmIHRoZSBzdHJpbmcgaXMgbWFsZm9ybWVkLlxuICovICh0Ll9xdWVyeSwgdC5maXJlc3RvcmUuX2RhdGFiYXNlSWQsIGksIGUsIG4sIHMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gWXUodCwgZSwgbikge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAobiA9IGcobikpKSB7XG4gICAgICAgIGlmIChcIlwiID09PSBuKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBkb2N1bWVudCBJRCwgYnV0IGl0IHdhcyBhbiBlbXB0eSBzdHJpbmcuXCIpO1xuICAgICAgICBpZiAoIWdlKGUpICYmIC0xICE9PSBuLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgcShVLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnJHtufScgY29udGFpbnMgYSAnLycgY2hhcmFjdGVyLmApO1xuICAgICAgICBjb25zdCBzID0gZS5wYXRoLmNoaWxkKGN0LmZyb21TdHJpbmcobikpO1xuICAgICAgICBpZiAoIVJ0LmlzRG9jdW1lbnRLZXkocykpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGdyb3VwIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwcm92aWRlZCBtdXN0IHJlc3VsdCBpbiBhIHZhbGlkIGRvY3VtZW50IHBhdGgsIGJ1dCAnJHtzfScgaXMgbm90IGJlY2F1c2UgaXQgaGFzIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMgKCR7cy5sZW5ndGh9KS5gKTtcbiAgICAgICAgcmV0dXJuIE50KHQsIG5ldyBSdChzKSk7XG4gICAgfVxuICAgIGlmIChuIGluc3RhbmNlb2YgRWMpIHJldHVybiBOdCh0LCBuLl9rZXkpO1xuICAgIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgc3RyaW5nIG9yIGEgRG9jdW1lbnRSZWZlcmVuY2UsIGJ1dCBpdCB3YXM6ICR7d2Mobil9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW50byBhIGRpc2p1bmN0aXZlIGZpbHRlciBzYXRpc2ZpZXMgYWxsXG4gKiBhcnJheSByZXF1aXJlbWVudHMuXG4gKi8gZnVuY3Rpb24gWHUodCwgZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0KSB8fCAwID09PSB0Lmxlbmd0aCkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBRdWVyeS4gQSBub24tZW1wdHkgYXJyYXkgaXMgcmVxdWlyZWQgZm9yICcke2UudG9TdHJpbmcoKX0nIGZpbHRlcnMuYCk7XG4gICAgaWYgKHQubGVuZ3RoID4gMTApIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgUXVlcnkuICcke2UudG9TdHJpbmcoKX0nIGZpbHRlcnMgc3VwcG9ydCBhIG1heGltdW0gb2YgMTAgZWxlbWVudHMgaW4gdGhlIHZhbHVlIGFycmF5LmApO1xufVxuXG5mdW5jdGlvbiBadSh0LCBlLCBuKSB7XG4gICAgaWYgKCFuLmlzRXF1YWwoZSkpIHRocm93IG5ldyBxKFUuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFlvdSBoYXZlIGEgd2hlcmUgZmlsdGVyIHdpdGggYW4gaW5lcXVhbGl0eSAoPCwgPD0sICE9LCBub3QtaW4sID4sIG9yID49KSBvbiBmaWVsZCAnJHtlLnRvU3RyaW5nKCl9JyBhbmQgc28geW91IG11c3QgYWxzbyB1c2UgJyR7ZS50b1N0cmluZygpfScgYXMgeW91ciBmaXJzdCBhcmd1bWVudCB0byBvcmRlckJ5KCksIGJ1dCB5b3VyIGZpcnN0IG9yZGVyQnkoKSBpcyBvbiBmaWVsZCAnJHtuLnRvU3RyaW5nKCl9JyBpbnN0ZWFkLmApO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb252ZXJ0cyBGaXJlc3RvcmUncyBpbnRlcm5hbCB0eXBlcyB0byB0aGUgSmF2YVNjcmlwdCB0eXBlcyB0aGF0IHdlIGV4cG9zZVxuICogdG8gdGhlIHVzZXIuXG4gKlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgdGgge1xuICAgIGNvbnZlcnRWYWx1ZSh0LCBlID0gXCJub25lXCIpIHtcbiAgICAgICAgc3dpdGNoIChidCh0KSkge1xuICAgICAgICAgIGNhc2UgMCAvKiBOdWxsVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICBjYXNlIDEgLyogQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0LmJvb2xlYW5WYWx1ZTtcblxuICAgICAgICAgIGNhc2UgMiAvKiBOdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gbXQodC5pbnRlZ2VyVmFsdWUgfHwgdC5kb3VibGVWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDMgLyogVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcCh0LnRpbWVzdGFtcFZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgNCAvKiBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0U2VydmVyVGltZXN0YW1wKHQsIGUpO1xuXG4gICAgICAgICAgY2FzZSA1IC8qIFN0cmluZ1ZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0LnN0cmluZ1ZhbHVlO1xuXG4gICAgICAgICAgY2FzZSA2IC8qIEJsb2JWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0Qnl0ZXMoZ3QodC5ieXRlc1ZhbHVlKSk7XG5cbiAgICAgICAgICBjYXNlIDcgLyogUmVmVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydFJlZmVyZW5jZSh0LnJlZmVyZW5jZVZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgOCAvKiBHZW9Qb2ludFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRHZW9Qb2ludCh0Lmdlb1BvaW50VmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSA5IC8qIEFycmF5VmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEFycmF5KHQuYXJyYXlWYWx1ZSwgZSk7XG5cbiAgICAgICAgICBjYXNlIDEwIC8qIE9iamVjdFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRPYmplY3QodC5tYXBWYWx1ZSwgZSk7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnZlcnRPYmplY3QodCwgZSkge1xuICAgICAgICBjb25zdCBuID0ge307XG4gICAgICAgIHJldHVybiBydCh0LmZpZWxkcywgKCh0LCBzKSA9PiB7XG4gICAgICAgICAgICBuW3RdID0gdGhpcy5jb252ZXJ0VmFsdWUocywgZSk7XG4gICAgICAgIH0pKSwgbjtcbiAgICB9XG4gICAgY29udmVydEdlb1BvaW50KHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYYyhtdCh0LmxhdGl0dWRlKSwgbXQodC5sb25naXR1ZGUpKTtcbiAgICB9XG4gICAgY29udmVydEFycmF5KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuICh0LnZhbHVlcyB8fCBbXSkubWFwKCh0ID0+IHRoaXMuY29udmVydFZhbHVlKHQsIGUpKSk7XG4gICAgfVxuICAgIGNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAodCwgZSkge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwicHJldmlvdXNcIjpcbiAgICAgICAgICAgIGNvbnN0IG4gPSBwdCh0KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsID09IG4gPyBudWxsIDogdGhpcy5jb252ZXJ0VmFsdWUobiwgZSk7XG5cbiAgICAgICAgICBjYXNlIFwiZXN0aW1hdGVcIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoRXQodCkpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnZlcnRUaW1lc3RhbXAodCkge1xuICAgICAgICBjb25zdCBlID0gX3QodCk7XG4gICAgICAgIHJldHVybiBuZXcgbnQoZS5zZWNvbmRzLCBlLm5hbm9zKTtcbiAgICB9XG4gICAgY29udmVydERvY3VtZW50S2V5KHQsIGUpIHtcbiAgICAgICAgY29uc3QgbiA9IGN0LmZyb21TdHJpbmcodCk7XG4gICAgICAgIE0oeXMobikpO1xuICAgICAgICBjb25zdCBzID0gbmV3IGNjKG4uZ2V0KDEpLCBuLmdldCgzKSksIGkgPSBuZXcgUnQobi5wb3BGaXJzdCg1KSk7XG4gICAgICAgIHJldHVybiBzLmlzRXF1YWwoZSkgfHwgXG4gICAgICAgIC8vIFRPRE8oYi82NDEzMDIwMik6IFNvbWVob3cgc3VwcG9ydCBmb3JlaWduIHJlZmVyZW5jZXMuXG4gICAgICAgIGsoYERvY3VtZW50ICR7aX0gY29udGFpbnMgYSBkb2N1bWVudCByZWZlcmVuY2Ugd2l0aGluIGEgZGlmZmVyZW50IGRhdGFiYXNlICgke3MucHJvamVjdElkfS8ke3MuZGF0YWJhc2V9KSB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLiBJdCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSByZWZlcmVuY2UgaW4gdGhlIGN1cnJlbnQgZGF0YWJhc2UgKCR7ZS5wcm9qZWN0SWR9LyR7ZS5kYXRhYmFzZX0pIGluc3RlYWQuYCksIFxuICAgICAgICBpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ29udmVydHMgY3VzdG9tIG1vZGVsIG9iamVjdCBvZiB0eXBlIFQgaW50byBgRG9jdW1lbnREYXRhYCBieSBhcHBseWluZyB0aGVcbiAqIGNvbnZlcnRlciBpZiBpdCBleGlzdHMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoZW4gY29udmVydGluZyB1c2VyIG9iamVjdHMgdG8gYERvY3VtZW50RGF0YWBcbiAqIGJlY2F1c2Ugd2Ugd2FudCB0byBwcm92aWRlIHRoZSB1c2VyIHdpdGggYSBtb3JlIHNwZWNpZmljIGVycm9yIG1lc3NhZ2UgaWZcbiAqIHRoZWlyIGBzZXQoKWAgb3IgZmFpbHMgZHVlIHRvIGludmFsaWQgZGF0YSBvcmlnaW5hdGluZyBmcm9tIGEgYHRvRmlyZXN0b3JlKClgXG4gKiBjYWxsLlxuICovIGZ1bmN0aW9uIGVoKHQsIGUsIG4pIHtcbiAgICBsZXQgcztcbiAgICAvLyBDYXN0IHRvIGBhbnlgIGluIG9yZGVyIHRvIHNhdGlzZnkgdGhlIHVuaW9uIHR5cGUgY29uc3RyYWludCBvblxuICAgIC8vIHRvRmlyZXN0b3JlKCkuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gcyA9IHQgPyBuICYmIChuLm1lcmdlIHx8IG4ubWVyZ2VGaWVsZHMpID8gdC50b0ZpcmVzdG9yZShlLCBuKSA6IHQudG9GaXJlc3RvcmUoZSkgOiBlLCBcbiAgICBzO1xufVxuXG5jbGFzcyBuaCBleHRlbmRzIHRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmlyZXN0b3JlID0gdDtcbiAgICB9XG4gICAgY29udmVydEJ5dGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKYyh0KTtcbiAgICB9XG4gICAgY29udmVydFJlZmVyZW5jZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LCB0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCk7XG4gICAgICAgIHJldHVybiBuZXcgRWModGhpcy5maXJlc3RvcmUsIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHdyaXRlIGJhdGNoLCB1c2VkIHRvIHBlcmZvcm0gbXVsdGlwbGUgd3JpdGVzIGFzIGEgc2luZ2xlIGF0b21pYyB1bml0LlxuICpcbiAqIEEgYFdyaXRlQmF0Y2hgIG9iamVjdCBjYW4gYmUgYWNxdWlyZWQgYnkgY2FsbGluZyB7QGxpbmsgd3JpdGVCYXRjaH0uIEl0XG4gKiBwcm92aWRlcyBtZXRob2RzIGZvciBhZGRpbmcgd3JpdGVzIHRvIHRoZSB3cml0ZSBiYXRjaC4gTm9uZSBvZiB0aGUgd3JpdGVzXG4gKiB3aWxsIGJlIGNvbW1pdHRlZCAob3IgdmlzaWJsZSBsb2NhbGx5KSB1bnRpbCB7QGxpbmsgV3JpdGVCYXRjaC5jb21taXR9IGlzXG4gKiBjYWxsZWQuXG4gKi8gY2xhc3Mgc2gge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IodCwgZSkge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSB0LCB0aGlzLl9jb21taXRIYW5kbGVyID0gZSwgdGhpcy5fbXV0YXRpb25zID0gW10sIHRoaXMuX2NvbW1pdHRlZCA9ICExLCBcbiAgICAgICAgdGhpcy5fZGF0YVJlYWRlciA9IHJ1KHQpO1xuICAgIH1cbiAgICBzZXQodCwgZSwgbikge1xuICAgICAgICB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTtcbiAgICAgICAgY29uc3QgcyA9IGloKHQsIHRoaXMuX2ZpcmVzdG9yZSksIGkgPSBlaChzLmNvbnZlcnRlciwgZSwgbiksIHIgPSBvdSh0aGlzLl9kYXRhUmVhZGVyLCBcIldyaXRlQmF0Y2guc2V0XCIsIHMuX2tleSwgaSwgbnVsbCAhPT0gcy5jb252ZXJ0ZXIsIG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0YXRpb25zLnB1c2goci50b011dGF0aW9uKHMuX2tleSwgUWUubm9uZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZSh0LCBlLCBuLCAuLi5zKSB7XG4gICAgICAgIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO1xuICAgICAgICBjb25zdCBpID0gaWgodCwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGxldCByO1xuICAgICAgICByZXR1cm4gciA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIChlID0gZyhlKSkgfHwgZSBpbnN0YW5jZW9mIHpjID8gd3UodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLCBpLl9rZXksIGUsIG4sIHMpIDogZHUodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLCBpLl9rZXksIGUpLCBcbiAgICAgICAgdGhpcy5fbXV0YXRpb25zLnB1c2goci50b011dGF0aW9uKGkuX2tleSwgUWUuZXhpc3RzKCEwKSkpLCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSBkZWxldGVkLlxuICAgICAqIEByZXR1cm5zIFRoaXMgYFdyaXRlQmF0Y2hgIGluc3RhbmNlLiBVc2VkIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovICAgIGRlbGV0ZSh0KSB7XG4gICAgICAgIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO1xuICAgICAgICBjb25zdCBlID0gaWgodCwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX211dGF0aW9ucyA9IHRoaXMuX211dGF0aW9ucy5jb25jYXQobmV3IHJuKGUuX2tleSwgUWUubm9uZSgpKSksIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbW1pdHMgYWxsIG9mIHRoZSB3cml0ZXMgaW4gdGhpcyB3cml0ZSBiYXRjaCBhcyBhIHNpbmdsZSBhdG9taWMgdW5pdC5cbiAgICAgKlxuICAgICAqIFRoZSByZXN1bHQgb2YgdGhlc2Ugd3JpdGVzIHdpbGwgb25seSBiZSByZWZsZWN0ZWQgaW4gZG9jdW1lbnQgcmVhZHMgdGhhdFxuICAgICAqIG9jY3VyIGFmdGVyIHRoZSByZXR1cm5lZCBwcm9taXNlIHJlc29sdmVzLiBJZiB0aGUgY2xpZW50IGlzIG9mZmxpbmUsIHRoZVxuICAgICAqIHdyaXRlIGZhaWxzLiBJZiB5b3Ugd291bGQgbGlrZSB0byBzZWUgbG9jYWwgbW9kaWZpY2F0aW9ucyBvciBidWZmZXIgd3JpdGVzXG4gICAgICogdW50aWwgdGhlIGNsaWVudCBpcyBvbmxpbmUsIHVzZSB0aGUgZnVsbCBGaXJlc3RvcmUgU0RLLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBgUHJvbWlzZWAgcmVzb2x2ZWQgb25jZSBhbGwgb2YgdGhlIHdyaXRlcyBpbiB0aGUgYmF0Y2ggaGF2ZSBiZWVuXG4gICAgICogc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4gdG8gdGhlIGJhY2tlbmQgYXMgYW4gYXRvbWljIHVuaXQgKG5vdGUgdGhhdCBpdCB3b24ndFxuICAgICAqIHJlc29sdmUgd2hpbGUgeW91J3JlIG9mZmxpbmUpLlxuICAgICAqLyAgICBjb21taXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKSwgdGhpcy5fY29tbWl0dGVkID0gITAsIHRoaXMuX211dGF0aW9ucy5sZW5ndGggPiAwID8gdGhpcy5fY29tbWl0SGFuZGxlcih0aGlzLl9tdXRhdGlvbnMpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIF92ZXJpZnlOb3RDb21taXR0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21taXR0ZWQpIHRocm93IG5ldyBxKFUuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJBIHdyaXRlIGJhdGNoIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlciBjb21taXQoKSBoYXMgYmVlbiBjYWxsZWQuXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaWgodCwgZSkge1xuICAgIGlmICgodCA9IGcodCkpLmZpcmVzdG9yZSAhPT0gZSkgdGhyb3cgbmV3IHEoVS5JTlZBTElEX0FSR1VNRU5ULCBcIlByb3ZpZGVkIGRvY3VtZW50IHJlZmVyZW5jZSBpcyBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBpbnN0YW5jZS5cIik7XG4gICAgcmV0dXJuIHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBUT0RPKG1yc2NobWlkdCkgQ29uc2lkZXIgdXNpbmcgYEJhc2VUcmFuc2FjdGlvbmAgYXMgdGhlIGJhc2UgY2xhc3MgaW4gdGhlXG4vLyBsZWdhY3kgU0RLLlxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhIHRyYW5zYWN0aW9uLlxuICpcbiAqIFRoZSBgVHJhbnNhY3Rpb25gIG9iamVjdCBwYXNzZWQgdG8gYSB0cmFuc2FjdGlvbidzIGB1cGRhdGVGdW5jdGlvbmAgcHJvdmlkZXNcbiAqIHRoZSBtZXRob2RzIHRvIHJlYWQgYW5kIHdyaXRlIGRhdGEgd2l0aGluIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0LiBTZWVcbiAqIHtAbGluayBydW5UcmFuc2FjdGlvbn0uXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGlzIGBEb2N1bWVudFJlZmVyZW5jZWAuXG4gKlxuICogTm90ZTogYGdldERvYygpYCBhdHRlbXB0cyB0byBwcm92aWRlIHVwLXRvLWRhdGUgZGF0YSB3aGVuIHBvc3NpYmxlIGJ5IHdhaXRpbmdcbiAqIGZvciBkYXRhIGZyb20gdGhlIHNlcnZlciwgYnV0IGl0IG1heSByZXR1cm4gY2FjaGVkIGRhdGEgb3IgZmFpbCBpZiB5b3UgYXJlXG4gKiBvZmZsaW5lIGFuZCB0aGUgc2VydmVyIGNhbm5vdCBiZSByZWFjaGVkLiBUbyBzcGVjaWZ5IHRoaXMgYmVoYXZpb3IsIGludm9rZVxuICoge0BsaW5rIGdldERvY0Zyb21DYWNoZX0gb3Ige0BsaW5rIGdldERvY0Zyb21TZXJ2ZXJ9LlxuICpcbiAqIEBwYXJhbSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIG9mIHRoZSBkb2N1bWVudCB0byBmZXRjaC5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSByZXNvbHZlZCB3aXRoIGEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5pbmcgdGhlXG4gKiBjdXJyZW50IGRvY3VtZW50IGNvbnRlbnRzLlxuICovXG5mdW5jdGlvbiByaCh0KSB7XG4gICAgdCA9IF9jKHQsIEVjKTtcbiAgICBjb25zdCBlID0gX2ModC5maXJlc3RvcmUsIE5jKTtcbiAgICByZXR1cm4gdGMoJGMoZSksIHQuX2tleSkudGhlbigobiA9PiBwaChlLCB0LCBuKSkpO1xufVxuXG5jbGFzcyBvaCBleHRlbmRzIHRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmlyZXN0b3JlID0gdDtcbiAgICB9XG4gICAgY29udmVydEJ5dGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKYyh0KTtcbiAgICB9XG4gICAgY29udmVydFJlZmVyZW5jZSh0KSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LCB0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCk7XG4gICAgICAgIHJldHVybiBuZXcgRWModGhpcy5maXJlc3RvcmUsIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGlzIGBEb2N1bWVudFJlZmVyZW5jZWAgZnJvbSBjYWNoZS5cbiAqIFJldHVybnMgYW4gZXJyb3IgaWYgdGhlIGRvY3VtZW50IGlzIG5vdCBjdXJyZW50bHkgY2FjaGVkLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbmluZyB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQgY29udGVudHMuXG4gKi8gZnVuY3Rpb24gYWgodCkge1xuICAgIHQgPSBfYyh0LCBFYyk7XG4gICAgY29uc3QgZSA9IF9jKHQuZmlyZXN0b3JlLCBOYyksIG4gPSAkYyhlKSwgcyA9IG5ldyBvaChlKTtcbiAgICByZXR1cm4gWmEobiwgdC5fa2V5KS50aGVuKChuID0+IG5ldyBTdShlLCBzLCB0Ll9rZXksIG4sIG5ldyBWdShudWxsICE9PSBuICYmIG4uaGFzTG9jYWxNdXRhdGlvbnMsIFxuICAgIC8qIGZyb21DYWNoZT0gKi8gITApLCB0LmNvbnZlcnRlcikpKTtcbn1cblxuLyoqXG4gKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhpcyBgRG9jdW1lbnRSZWZlcmVuY2VgIGZyb20gdGhlIHNlcnZlci5cbiAqIFJldHVybnMgYW4gZXJyb3IgaWYgdGhlIG5ldHdvcmsgaXMgbm90IGF2YWlsYWJsZS5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCB3aXRoIGEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5pbmcgdGhlXG4gKiBjdXJyZW50IGRvY3VtZW50IGNvbnRlbnRzLlxuICovIGZ1bmN0aW9uIGNoKHQpIHtcbiAgICB0ID0gX2ModCwgRWMpO1xuICAgIGNvbnN0IGUgPSBfYyh0LmZpcmVzdG9yZSwgTmMpO1xuICAgIHJldHVybiB0YygkYyhlKSwgdC5fa2V5LCB7XG4gICAgICAgIHNvdXJjZTogXCJzZXJ2ZXJcIlxuICAgIH0pLnRoZW4oKG4gPT4gcGgoZSwgdCwgbikpKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcXVlcnkgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMgYXMgYSBgUXVlcnlTbmFwc2hvdGAuXG4gKlxuICogTm90ZTogYGdldERvY3MoKWAgYXR0ZW1wdHMgdG8gcHJvdmlkZSB1cC10by1kYXRlIGRhdGEgd2hlbiBwb3NzaWJsZSBieVxuICogd2FpdGluZyBmb3IgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCBtYXkgcmV0dXJuIGNhY2hlZCBkYXRhIG9yIGZhaWwgaWZcbiAqIHlvdSBhcmUgb2ZmbGluZSBhbmQgdGhlIHNlcnZlciBjYW5ub3QgYmUgcmVhY2hlZC4gVG8gc3BlY2lmeSB0aGlzIGJlaGF2aW9yLFxuICogaW52b2tlIHtAbGluayBnZXREb2NzRnJvbUNhY2hlfSBvciB7QGxpbmsgZ2V0RG9jc0Zyb21TZXJ2ZXJ9LlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiB1aCh0KSB7XG4gICAgdCA9IF9jKHQsIFRjKTtcbiAgICBjb25zdCBlID0gX2ModC5maXJlc3RvcmUsIE5jKSwgbiA9ICRjKGUpLCBzID0gbmV3IG9oKGUpO1xuICAgIHJldHVybiBrdSh0Ll9xdWVyeSksIG5jKG4sIHQuX3F1ZXJ5KS50aGVuKChuID0+IG5ldyBDdShlLCBzLCB0LCBuKSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyBhcyBhIGBRdWVyeVNuYXBzaG90YCBmcm9tIGNhY2hlLlxuICogUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgZG9jdW1lbnQgaXMgbm90IGN1cnJlbnRseSBjYWNoZWQuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGhoKHQpIHtcbiAgICB0ID0gX2ModCwgVGMpO1xuICAgIGNvbnN0IGUgPSBfYyh0LmZpcmVzdG9yZSwgTmMpLCBuID0gJGMoZSksIHMgPSBuZXcgb2goZSk7XG4gICAgcmV0dXJuIGVjKG4sIHQuX3F1ZXJ5KS50aGVuKChuID0+IG5ldyBDdShlLCBzLCB0LCBuKSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyBhcyBhIGBRdWVyeVNuYXBzaG90YCBmcm9tIHRoZVxuICogc2VydmVyLiBSZXR1cm5zIGFuIGVycm9yIGlmIHRoZSBuZXR3b3JrIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGxoKHQpIHtcbiAgICB0ID0gX2ModCwgVGMpO1xuICAgIGNvbnN0IGUgPSBfYyh0LmZpcmVzdG9yZSwgTmMpLCBuID0gJGMoZSksIHMgPSBuZXcgb2goZSk7XG4gICAgcmV0dXJuIG5jKG4sIHQuX3F1ZXJ5LCB7XG4gICAgICAgIHNvdXJjZTogXCJzZXJ2ZXJcIlxuICAgIH0pLnRoZW4oKG4gPT4gbmV3IEN1KGUsIHMsIHQsIG4pKSk7XG59XG5cbmZ1bmN0aW9uIGZoKHQsIGUsIG4pIHtcbiAgICB0ID0gX2ModCwgRWMpO1xuICAgIGNvbnN0IHMgPSBfYyh0LmZpcmVzdG9yZSwgTmMpLCBpID0gZWgodC5jb252ZXJ0ZXIsIGUsIG4pO1xuICAgIHJldHVybiB5aChzLCBbIG91KHJ1KHMpLCBcInNldERvY1wiLCB0Ll9rZXksIGksIG51bGwgIT09IHQuY29udmVydGVyLCBuKS50b011dGF0aW9uKHQuX2tleSwgUWUubm9uZSgpKSBdKTtcbn1cblxuZnVuY3Rpb24gZGgodCwgZSwgbiwgLi4ucykge1xuICAgIHQgPSBfYyh0LCBFYyk7XG4gICAgY29uc3QgaSA9IF9jKHQuZmlyZXN0b3JlLCBOYyksIHIgPSBydShpKTtcbiAgICBsZXQgbztcbiAgICBvID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgKFxuICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgIGUgPSBnKGUpKSB8fCBlIGluc3RhbmNlb2YgemMgPyB3dShyLCBcInVwZGF0ZURvY1wiLCB0Ll9rZXksIGUsIG4sIHMpIDogZHUociwgXCJ1cGRhdGVEb2NcIiwgdC5fa2V5LCBlKTtcbiAgICByZXR1cm4geWgoaSwgWyBvLnRvTXV0YXRpb24odC5fa2V5LCBRZS5leGlzdHMoITApKSBdKTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgc3BlY2lmaWVkIGBEb2N1bWVudFJlZmVyZW5jZWAuXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBkZWxldGUuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgcmVzb2x2ZWQgb25jZSB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiBkZWxldGVkIGZyb20gdGhlIGJhY2tlbmQgKG5vdGUgdGhhdCBpdCB3b24ndCByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAqLyBmdW5jdGlvbiB3aCh0KSB7XG4gICAgcmV0dXJuIHloKF9jKHQuZmlyZXN0b3JlLCBOYyksIFsgbmV3IHJuKHQuX2tleSwgUWUubm9uZSgpKSBdKTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgZG9jdW1lbnQgdG8gc3BlY2lmaWVkIGBDb2xsZWN0aW9uUmVmZXJlbmNlYCB3aXRoIHRoZSBnaXZlbiBkYXRhLFxuICogYXNzaWduaW5nIGl0IGEgZG9jdW1lbnQgSUQgYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcGFyYW0gcmVmZXJlbmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIGNvbGxlY3Rpb24gdG8gYWRkIHRoaXMgZG9jdW1lbnQgdG8uXG4gKiBAcGFyYW0gZGF0YSAtIEFuIE9iamVjdCBjb250YWluaW5nIHRoZSBkYXRhIGZvciB0aGUgbmV3IGRvY3VtZW50LlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgcmVzb2x2ZWQgd2l0aCBhIGBEb2N1bWVudFJlZmVyZW5jZWAgcG9pbnRpbmcgdG8gdGhlXG4gKiBuZXdseSBjcmVhdGVkIGRvY3VtZW50IGFmdGVyIGl0IGhhcyBiZWVuIHdyaXR0ZW4gdG8gdGhlIGJhY2tlbmQgKE5vdGUgdGhhdCBpdFxuICogd29uJ3QgcmVzb2x2ZSB3aGlsZSB5b3UncmUgb2ZmbGluZSkuXG4gKi8gZnVuY3Rpb24gX2godCwgZSkge1xuICAgIGNvbnN0IG4gPSBfYyh0LmZpcmVzdG9yZSwgTmMpLCBzID0gYmModCksIGkgPSBlaCh0LmNvbnZlcnRlciwgZSk7XG4gICAgcmV0dXJuIHloKG4sIFsgb3UocnUodC5maXJlc3RvcmUpLCBcImFkZERvY1wiLCBzLl9rZXksIGksIG51bGwgIT09IHQuY29udmVydGVyLCB7fSkudG9NdXRhdGlvbihzLl9rZXksIFFlLmV4aXN0cyghMSkpIF0pLnRoZW4oKCgpID0+IHMpKTtcbn1cblxuZnVuY3Rpb24gbWgodCwgLi4uZSkge1xuICAgIHZhciBuLCBzLCBpO1xuICAgIHQgPSBnKHQpO1xuICAgIGxldCByID0ge1xuICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiAhMVxuICAgIH0sIG8gPSAwO1xuICAgIFwib2JqZWN0XCIgIT0gdHlwZW9mIGVbb10gfHwgU2MoZVtvXSkgfHwgKHIgPSBlW29dLCBvKyspO1xuICAgIGNvbnN0IGEgPSB7XG4gICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6IHIuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlc1xuICAgIH07XG4gICAgaWYgKFNjKGVbb10pKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlW29dO1xuICAgICAgICBlW29dID0gbnVsbCA9PT0gKG4gPSB0Lm5leHQpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uYmluZCh0KSwgZVtvICsgMV0gPSBudWxsID09PSAocyA9IHQuZXJyb3IpIHx8IHZvaWQgMCA9PT0gcyA/IHZvaWQgMCA6IHMuYmluZCh0KSwgXG4gICAgICAgIGVbbyArIDJdID0gbnVsbCA9PT0gKGkgPSB0LmNvbXBsZXRlKSB8fCB2b2lkIDAgPT09IGkgPyB2b2lkIDAgOiBpLmJpbmQodCk7XG4gICAgfVxuICAgIGxldCBjLCB1LCBoO1xuICAgIGlmICh0IGluc3RhbmNlb2YgRWMpIHUgPSBfYyh0LmZpcmVzdG9yZSwgTmMpLCBoID0gZmUodC5fa2V5LnBhdGgpLCBjID0ge1xuICAgICAgICBuZXh0OiBuID0+IHtcbiAgICAgICAgICAgIGVbb10gJiYgZVtvXShwaCh1LCB0LCBuKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBlW28gKyAxXSxcbiAgICAgICAgY29tcGxldGU6IGVbbyArIDJdXG4gICAgfTsgZWxzZSB7XG4gICAgICAgIGNvbnN0IG4gPSBfYyh0LCBUYyk7XG4gICAgICAgIHUgPSBfYyhuLmZpcmVzdG9yZSwgTmMpLCBoID0gbi5fcXVlcnk7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgb2godSk7XG4gICAgICAgIGMgPSB7XG4gICAgICAgICAgICBuZXh0OiB0ID0+IHtcbiAgICAgICAgICAgICAgICBlW29dICYmIGVbb10obmV3IEN1KHUsIHMsIG4sIHQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZVtvICsgMV0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZVtvICsgMl1cbiAgICAgICAgfSwga3UodC5fcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24odCwgZSwgbiwgcykge1xuICAgICAgICBjb25zdCBpID0gbmV3IEZhKHMpLCByID0gbmV3IEtvKGUsIGksIG4pO1xuICAgICAgICByZXR1cm4gdC5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IE1vKGF3YWl0IEphKHQpLCByKSkpLCAoKSA9PiB7XG4gICAgICAgICAgICBpLlhvKCksIHQuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBMbyhhd2FpdCBKYSh0KSwgcikpKTtcbiAgICAgICAgfTtcbiAgICB9KCRjKHUpLCBoLCBhLCBjKTtcbn1cblxuZnVuY3Rpb24gZ2godCwgZSkge1xuICAgIHJldHVybiBzYygkYyh0ID0gX2ModCwgTmMpKSwgU2MoZSkgPyBlIDoge1xuICAgICAgICBuZXh0OiBlXG4gICAgfSk7XG59XG5cbi8qKlxuICogTG9jYWxseSB3cml0ZXMgYG11dGF0aW9uc2Agb24gdGhlIGFzeW5jIHF1ZXVlLlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24geWgodCwgZSkge1xuICAgIHJldHVybiBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgSztcbiAgICAgICAgcmV0dXJuIHQuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBzYShhd2FpdCBIYSh0KSwgZSwgbikpKSwgbi5wcm9taXNlO1xuICAgIH0oJGModCksIGUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEge0BsaW5rIFZpZXdTbmFwc2hvdH0gdGhhdCBjb250YWlucyB0aGUgc2luZ2xlIGRvY3VtZW50IHNwZWNpZmllZCBieSBgcmVmYFxuICogdG8gYSB7QGxpbmsgRG9jdW1lbnRTbmFwc2hvdH0uXG4gKi8gZnVuY3Rpb24gcGgodCwgZSwgbikge1xuICAgIGNvbnN0IHMgPSBuLmRvY3MuZ2V0KGUuX2tleSksIGkgPSBuZXcgb2godCk7XG4gICAgcmV0dXJuIG5ldyBTdSh0LCBpLCBlLl9rZXksIHMsIG5ldyBWdShuLmhhc1BlbmRpbmdXcml0ZXMsIG4uZnJvbUNhY2hlKSwgZS5jb252ZXJ0ZXIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhIHRyYW5zYWN0aW9uLlxuICpcbiAqIFRoZSBgVHJhbnNhY3Rpb25gIG9iamVjdCBwYXNzZWQgdG8gYSB0cmFuc2FjdGlvbidzIGB1cGRhdGVGdW5jdGlvbmAgcHJvdmlkZXNcbiAqIHRoZSBtZXRob2RzIHRvIHJlYWQgYW5kIHdyaXRlIGRhdGEgd2l0aGluIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0LiBTZWVcbiAqIHtAbGluayBydW5UcmFuc2FjdGlvbn0uXG4gKi8gY2xhc3MgRWggZXh0ZW5kcyBjbGFzcyB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVzdG9yZSA9IHQsIHRoaXMuX3RyYW5zYWN0aW9uID0gZSwgdGhpcy5fZGF0YVJlYWRlciA9IHJ1KHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IGloKHQsIHRoaXMuX2ZpcmVzdG9yZSksIG4gPSBuZXcgbmgodGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbIGUuX2tleSBdKS50aGVuKCh0ID0+IHtcbiAgICAgICAgICAgIGlmICghdCB8fCAxICE9PSB0Lmxlbmd0aCkgcmV0dXJuIEYoKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0WzBdO1xuICAgICAgICAgICAgaWYgKHMuaXNGb3VuZERvY3VtZW50KCkpIHJldHVybiBuZXcgYnUodGhpcy5fZmlyZXN0b3JlLCBuLCBzLmtleSwgcywgZS5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgaWYgKHMuaXNOb0RvY3VtZW50KCkpIHJldHVybiBuZXcgYnUodGhpcy5fZmlyZXN0b3JlLCBuLCBlLl9rZXksIG51bGwsIGUuY29udmVydGVyKTtcbiAgICAgICAgICAgIHRocm93IEYoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzZXQodCwgZSwgbikge1xuICAgICAgICBjb25zdCBzID0gaWgodCwgdGhpcy5fZmlyZXN0b3JlKSwgaSA9IGVoKHMuY29udmVydGVyLCBlLCBuKSwgciA9IG91KHRoaXMuX2RhdGFSZWFkZXIsIFwiVHJhbnNhY3Rpb24uc2V0XCIsIHMuX2tleSwgaSwgbnVsbCAhPT0gcy5jb252ZXJ0ZXIsIG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uc2V0KHMuX2tleSwgciksIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZSh0LCBlLCBuLCAuLi5zKSB7XG4gICAgICAgIGNvbnN0IGkgPSBpaCh0LCB0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgICAgICAvLyBwZXJmb3JtaW5nIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IHI7XG4gICAgICAgIHJldHVybiByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgKGUgPSBnKGUpKSB8fCBlIGluc3RhbmNlb2YgemMgPyB3dSh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnVwZGF0ZVwiLCBpLl9rZXksIGUsIG4sIHMpIDogZHUodGhpcy5fZGF0YVJlYWRlciwgXCJUcmFuc2FjdGlvbi51cGRhdGVcIiwgaS5fa2V5LCBlKSwgXG4gICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uLnVwZGF0ZShpLl9rZXksIHIpLCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSBkZWxldGVkLlxuICAgICAqIEByZXR1cm5zIFRoaXMgYFRyYW5zYWN0aW9uYCBpbnN0YW5jZS4gVXNlZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqLyAgICBkZWxldGUodCkge1xuICAgICAgICBjb25zdCBlID0gaWgodCwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmRlbGV0ZShlLl9rZXkpLCB0aGlzO1xuICAgIH1cbn0ge1xuICAgIC8vIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgc2FtZSBsb2dpYyBhcyB0aGUgVHJhbnNhY3Rpb24gQVBJIGluIHRoZSBMaXRlIFNES1xuICAgIC8vIGJ1dCBpcyBzdWJjbGFzc2VkIGluIG9yZGVyIHRvIHJldHVybiBpdHMgb3duIERvY3VtZW50U25hcHNob3QgdHlwZXMuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3Rvcih0LCBlKSB7XG4gICAgICAgIHN1cGVyKHQsIGUpLCB0aGlzLl9maXJlc3RvcmUgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KHQpIHtcbiAgICAgICAgY29uc3QgZSA9IGloKHQsIHRoaXMuX2ZpcmVzdG9yZSksIG4gPSBuZXcgb2godGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldCh0KS50aGVuKCh0ID0+IG5ldyBTdSh0aGlzLl9maXJlc3RvcmUsIG4sIGUuX2tleSwgdC5fZG9jdW1lbnQsIG5ldyBWdShcbiAgICAgICAgLyogaGFzUGVuZGluZ1dyaXRlcz0gKi8gITEsIFxuICAgICAgICAvKiBmcm9tQ2FjaGU9ICovICExKSwgZS5jb252ZXJ0ZXIpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBnaXZlbiBgdXBkYXRlRnVuY3Rpb25gIGFuZCB0aGVuIGF0dGVtcHRzIHRvIGNvbW1pdCB0aGUgY2hhbmdlc1xuICogYXBwbGllZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uLiBJZiBhbnkgZG9jdW1lbnQgcmVhZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBoYXMgY2hhbmdlZCwgQ2xvdWQgRmlyZXN0b3JlIHJldHJpZXMgdGhlIGB1cGRhdGVGdW5jdGlvbmAuIElmIGl0IGZhaWxzIHRvXG4gKiBjb21taXQgYWZ0ZXIgNSBhdHRlbXB0cywgdGhlIHRyYW5zYWN0aW9uIGZhaWxzLlxuICpcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB3cml0ZXMgYWxsb3dlZCBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBpcyA1MDAuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBGaXJlc3RvcmUgZGF0YWJhc2UgdG8gcnVuIHRoaXNcbiAqIHRyYW5zYWN0aW9uIGFnYWluc3QuXG4gKiBAcGFyYW0gdXBkYXRlRnVuY3Rpb24gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBjb250ZXh0LlxuICogQHJldHVybnMgSWYgdGhlIHRyYW5zYWN0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgb3Igd2FzIGV4cGxpY2l0bHkgYWJvcnRlZFxuICogKHRoZSBgdXBkYXRlRnVuY3Rpb25gIHJldHVybmVkIGEgZmFpbGVkIHByb21pc2UpLCB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGVcbiAqIGB1cGRhdGVGdW5jdGlvbiBgaXMgcmV0dXJuZWQgaGVyZS4gT3RoZXJ3aXNlLCBpZiB0aGUgdHJhbnNhY3Rpb24gZmFpbGVkLCBhXG4gKiByZWplY3RlZCBwcm9taXNlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgZmFpbHVyZSBlcnJvciBpcyByZXR1cm5lZC5cbiAqLyBmdW5jdGlvbiBUaCh0LCBlKSB7XG4gICAgcmV0dXJuIGljKCRjKHQpLCAobiA9PiBlKG5ldyBFaCh0LCBuKSkpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIHNlbnRpbmVsIGZvciB1c2Ugd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IG9yXG4gKiB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IHdpdGggYHttZXJnZTogdHJ1ZX1gIHRvIG1hcmsgYSBmaWVsZCBmb3IgZGVsZXRpb24uXG4gKi8gZnVuY3Rpb24gSWgoKSB7XG4gICAgcmV0dXJuIG5ldyBhdShcImRlbGV0ZUZpZWxkXCIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzZW50aW5lbCB1c2VkIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSBvciB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IHRvXG4gKiBpbmNsdWRlIGEgc2VydmVyLWdlbmVyYXRlZCB0aW1lc3RhbXAgaW4gdGhlIHdyaXR0ZW4gZGF0YS5cbiAqLyBmdW5jdGlvbiBBaCgpIHtcbiAgICByZXR1cm4gbmV3IHV1KFwic2VydmVyVGltZXN0YW1wXCIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IG9yIHtAbGlua1xuICogQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IHRoYXQgdGVsbHMgdGhlIHNlcnZlciB0byB1bmlvbiB0aGUgZ2l2ZW4gZWxlbWVudHMgd2l0aCBhbnkgYXJyYXlcbiAqIHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHNlcnZlci4gRWFjaCBzcGVjaWZpZWQgZWxlbWVudCB0aGF0IGRvZXNuJ3RcbiAqIGFscmVhZHkgZXhpc3QgaW4gdGhlIGFycmF5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVuZC4gSWYgdGhlIGZpZWxkIGJlaW5nXG4gKiBtb2RpZmllZCBpcyBub3QgYWxyZWFkeSBhbiBhcnJheSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggYW4gYXJyYXlcbiAqIGNvbnRhaW5pbmcgZXhhY3RseSB0aGUgc3BlY2lmaWVkIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byB1bmlvbiBpbnRvIHRoZSBhcnJheS5cbiAqIEByZXR1cm5zIFRoZSBgRmllbGRWYWx1ZWAgc2VudGluZWwgZm9yIHVzZSBpbiBhIGNhbGwgdG8gYHNldERvYygpYCBvclxuICogYHVwZGF0ZURvYygpYC5cbiAqLyBmdW5jdGlvbiBSaCguLi50KSB7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgYWN0dWFsbHkgcGFyc2UgdGhlIGRhdGEgdW50aWwgaXQncyB1c2VkIGluIHNldCgpIG9yXG4gICAgLy8gdXBkYXRlKCkgc2luY2Ugd2UnZCBuZWVkIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UgdG8gZG8gdGhpcy5cbiAgICByZXR1cm4gbmV3IGh1KFwiYXJyYXlVbmlvblwiLCB0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3BlY2lhbCB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIChzZXREb2M6MSl9IG9yIHtAbGlua1xuICogdXBkYXRlRG9jOjF9IHRoYXQgdGVsbHMgdGhlIHNlcnZlciB0byByZW1vdmUgdGhlIGdpdmVuIGVsZW1lbnRzIGZyb20gYW55XG4gKiBhcnJheSB2YWx1ZSB0aGF0IGFscmVhZHkgZXhpc3RzIG9uIHRoZSBzZXJ2ZXIuIEFsbCBpbnN0YW5jZXMgb2YgZWFjaCBlbGVtZW50XG4gKiBzcGVjaWZpZWQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGFycmF5LiBJZiB0aGUgZmllbGQgYmVpbmcgbW9kaWZpZWQgaXMgbm90XG4gKiBhbHJlYWR5IGFuIGFycmF5IGl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCBhbiBlbXB0eSBhcnJheS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudHMgLSBUaGUgZWxlbWVudHMgdG8gcmVtb3ZlIGZyb20gdGhlIGFycmF5LlxuICogQHJldHVybnMgVGhlIGBGaWVsZFZhbHVlYCBzZW50aW5lbCBmb3IgdXNlIGluIGEgY2FsbCB0byBgc2V0RG9jKClgIG9yXG4gKiBgdXBkYXRlRG9jKClgXG4gKi8gZnVuY3Rpb24gYmgoLi4udCkge1xuICAgIC8vIE5PVEU6IFdlIGRvbid0IGFjdHVhbGx5IHBhcnNlIHRoZSBkYXRhIHVudGlsIGl0J3MgdXNlZCBpbiBzZXQoKSBvclxuICAgIC8vIHVwZGF0ZSgpIHNpbmNlIHdlJ2QgbmVlZCB0aGUgRmlyZXN0b3JlIGluc3RhbmNlIHRvIGRvIHRoaXMuXG4gICAgcmV0dXJuIG5ldyBsdShcImFycmF5UmVtb3ZlXCIsIHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IG9yIHtAbGlua1xuICogQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IHRoYXQgdGVsbHMgdGhlIHNlcnZlciB0byBpbmNyZW1lbnQgdGhlIGZpZWxkJ3MgY3VycmVudCB2YWx1ZSBieVxuICogdGhlIGdpdmVuIHZhbHVlLlxuICpcbiAqIElmIGVpdGhlciB0aGUgb3BlcmFuZCBvciB0aGUgY3VycmVudCBmaWVsZCB2YWx1ZSB1c2VzIGZsb2F0aW5nIHBvaW50XG4gKiBwcmVjaXNpb24sIGFsbCBhcml0aG1ldGljIGZvbGxvd3MgSUVFRSA3NTQgc2VtYW50aWNzLiBJZiBib3RoIHZhbHVlcyBhcmVcbiAqIGludGVnZXJzLCB2YWx1ZXMgb3V0c2lkZSBvZiBKYXZhU2NyaXB0J3Mgc2FmZSBudW1iZXIgcmFuZ2VcbiAqIChgTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJgIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmApIGFyZSBhbHNvIHN1YmplY3QgdG9cbiAqIHByZWNpc2lvbiBsb3NzLiBGdXJ0aGVybW9yZSwgb25jZSBwcm9jZXNzZWQgYnkgdGhlIEZpcmVzdG9yZSBiYWNrZW5kLCBhbGxcbiAqIGludGVnZXIgb3BlcmF0aW9ucyBhcmUgY2FwcGVkIGJldHdlZW4gLTJeNjMgYW5kIDJeNjMtMS5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBmaWVsZCB2YWx1ZSBpcyBub3Qgb2YgdHlwZSBgbnVtYmVyYCwgb3IgaWYgdGhlIGZpZWxkIGRvZXMgbm90XG4gKiB5ZXQgZXhpc3QsIHRoZSB0cmFuc2Zvcm1hdGlvbiBzZXRzIHRoZSBmaWVsZCB0byB0aGUgZ2l2ZW4gdmFsdWUuXG4gKlxuICogQHBhcmFtIG4gLSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IGJ5LlxuICogQHJldHVybnMgVGhlIGBGaWVsZFZhbHVlYCBzZW50aW5lbCBmb3IgdXNlIGluIGEgY2FsbCB0byBgc2V0RG9jKClgIG9yXG4gKiBgdXBkYXRlRG9jKClgXG4gKi8gZnVuY3Rpb24gUGgodCkge1xuICAgIHJldHVybiBuZXcgZnUoXCJpbmNyZW1lbnRcIiwgdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENyZWF0ZXMgYSB3cml0ZSBiYXRjaCwgdXNlZCBmb3IgcGVyZm9ybWluZyBtdWx0aXBsZSB3cml0ZXMgYXMgYSBzaW5nbGVcbiAqIGF0b21pYyBvcGVyYXRpb24uIFRoZSBtYXhpbXVtIG51bWJlciBvZiB3cml0ZXMgYWxsb3dlZCBpbiBhIHNpbmdsZSB7QGxpbmsgV3JpdGVCYXRjaH1cbiAqIGlzIDUwMC5cbiAqXG4gKiBVbmxpa2UgdHJhbnNhY3Rpb25zLCB3cml0ZSBiYXRjaGVzIGFyZSBwZXJzaXN0ZWQgb2ZmbGluZSBhbmQgdGhlcmVmb3JlIGFyZVxuICogcHJlZmVyYWJsZSB3aGVuIHlvdSBkb24ndCBuZWVkIHRvIGNvbmRpdGlvbiB5b3VyIHdyaXRlcyBvbiByZWFkIGRhdGEuXG4gKlxuICogQHJldHVybnMgQSB7QGxpbmsgV3JpdGVCYXRjaH0gdGhhdCBjYW4gYmUgdXNlZCB0byBhdG9taWNhbGx5IGV4ZWN1dGUgbXVsdGlwbGVcbiAqIHdyaXRlcy5cbiAqLyBmdW5jdGlvbiB2aCh0KSB7XG4gICAgcmV0dXJuICRjKHQgPSBfYyh0LCBOYykpLCBuZXcgc2godCwgKGUgPT4geWgodCwgZSkpKTtcbn1cblxuLyoqXG4gKiBDbG91ZCBGaXJlc3RvcmVcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqLyB2YXIgVmg7XG5cbiFmdW5jdGlvbih0KSB7XG4gICAgUyA9IHQ7XG59KGkpLCBuKG5ldyByKFwiZmlyZXN0b3JlXCIsICgodCwge29wdGlvbnM6IGV9KSA9PiB7XG4gICAgY29uc3QgbiA9IHQuZ2V0UHJvdmlkZXIoXCJhcHBcIikuZ2V0SW1tZWRpYXRlKCksIHMgPSBuZXcgTmMobiwgbmV3IEcodC5nZXRQcm92aWRlcihcImF1dGgtaW50ZXJuYWxcIikpKTtcbiAgICByZXR1cm4gZSA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB1c2VGZXRjaFN0cmVhbXM6ICEwXG4gICAgfSwgZSksIHMuX3NldFNldHRpbmdzKGUpLCBzO1xufSksIFwiUFVCTElDXCIgLyogUFVCTElDICovKSksIHMoXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIsIFwiMy4wLjJcIiwgVmgpO1xuXG5leHBvcnQgeyB0aCBhcyBBYnN0cmFjdFVzZXJEYXRhV3JpdGVyLCBKYyBhcyBCeXRlcywgQ2MgYXMgQ0FDSEVfU0laRV9VTkxJTUlURUQsIEljIGFzIENvbGxlY3Rpb25SZWZlcmVuY2UsIEVjIGFzIERvY3VtZW50UmVmZXJlbmNlLCBTdSBhcyBEb2N1bWVudFNuYXBzaG90LCB6YyBhcyBGaWVsZFBhdGgsIFljIGFzIEZpZWxkVmFsdWUsIE5jIGFzIEZpcmVzdG9yZSwgcSBhcyBGaXJlc3RvcmVFcnJvciwgWGMgYXMgR2VvUG9pbnQsIERjIGFzIExvYWRCdW5kbGVUYXNrLCBUYyBhcyBRdWVyeSwgJHUgYXMgUXVlcnlDb25zdHJhaW50LCBEdSBhcyBRdWVyeURvY3VtZW50U25hcHNob3QsIEN1IGFzIFF1ZXJ5U25hcHNob3QsIFZ1IGFzIFNuYXBzaG90TWV0YWRhdGEsIG50IGFzIFRpbWVzdGFtcCwgRWggYXMgVHJhbnNhY3Rpb24sIHNoIGFzIFdyaXRlQmF0Y2gsIGNjIGFzIF9EYXRhYmFzZUlkLCBSdCBhcyBfRG9jdW1lbnRLZXksIFEgYXMgX0VtcHR5Q3JlZGVudGlhbHNQcm92aWRlciwgaHQgYXMgX0ZpZWxkUGF0aCwgX2MgYXMgX2Nhc3QsIEwgYXMgX2RlYnVnQXNzZXJ0LCBmdCBhcyBfaXNCYXNlNjRBdmFpbGFibGUsICQgYXMgX2xvZ1dhcm4sIGxjIGFzIF92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyLCBfaCBhcyBhZGREb2MsIGJoIGFzIGFycmF5UmVtb3ZlLCBSaCBhcyBhcnJheVVuaW9uLCBCYyBhcyBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlLCBBYyBhcyBjb2xsZWN0aW9uLCBSYyBhcyBjb2xsZWN0aW9uR3JvdXAsIHBjIGFzIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciwgd2ggYXMgZGVsZXRlRG9jLCBJaCBhcyBkZWxldGVGaWVsZCwgS2MgYXMgZGlzYWJsZU5ldHdvcmssIGJjIGFzIGRvYywgSGMgYXMgZG9jdW1lbnRJZCwgRmMgYXMgZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UsIE1jIGFzIGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UsIHFjIGFzIGVuYWJsZU5ldHdvcmssIEh1IGFzIGVuZEF0LCB6dSBhcyBlbmRCZWZvcmUsICRjIGFzIGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQsIHloIGFzIGV4ZWN1dGVXcml0ZSwgcmggYXMgZ2V0RG9jLCBhaCBhcyBnZXREb2NGcm9tQ2FjaGUsIGNoIGFzIGdldERvY0Zyb21TZXJ2ZXIsIHVoIGFzIGdldERvY3MsIGhoIGFzIGdldERvY3NGcm9tQ2FjaGUsIGxoIGFzIGdldERvY3NGcm9tU2VydmVyLCBrYyBhcyBnZXRGaXJlc3RvcmUsIFBoIGFzIGluY3JlbWVudCwgeGMgYXMgaW5pdGlhbGl6ZUZpcmVzdG9yZSwgcXUgYXMgbGltaXQsIEt1IGFzIGxpbWl0VG9MYXN0LCBRYyBhcyBsb2FkQnVuZGxlLCBXYyBhcyBuYW1lZFF1ZXJ5LCBtaCBhcyBvblNuYXBzaG90LCBnaCBhcyBvblNuYXBzaG90c0luU3luYywgQnUgYXMgb3JkZXJCeSwgT3UgYXMgcXVlcnksIHZjIGFzIHF1ZXJ5RXF1YWwsIFBjIGFzIHJlZkVxdWFsLCBUaCBhcyBydW5UcmFuc2FjdGlvbiwgQWggYXMgc2VydmVyVGltZXN0YW1wLCBmaCBhcyBzZXREb2MsIE4gYXMgc2V0TG9nTGV2ZWwsIHh1IGFzIHNuYXBzaG90RXF1YWwsIFd1IGFzIHN0YXJ0QWZ0ZXIsIFF1IGFzIHN0YXJ0QXQsIGpjIGFzIHRlcm1pbmF0ZSwgZGggYXMgdXBkYXRlRG9jLCBVYyBhcyB3YWl0Rm9yUGVuZGluZ1dyaXRlcywgTXUgYXMgd2hlcmUsIHZoIGFzIHdyaXRlQmF0Y2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbTIwMTcuanMubWFwXG4iLCJpbXBvcnQgeyBJQXBwU3RvcmFnZSB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSBcImZpcmViYXNlL2FwcFwiXHJcblxyXG5pbXBvcnQgeyBkZWxldGVEb2MsIGRvYywgZ2V0RG9jcywgZ2V0RmlyZXN0b3JlLCB1cGRhdGVEb2MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcblxyXG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBhZGREb2MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7IE5vdGUgfSBmcm9tIFwiLi9Ob3RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwRmlyZVN0b3JlU3RvcmFnZSBpbXBsZW1lbnRzIElBcHBTdG9yYWdlIHtcclxuXHJcbiAgICBmaXJlYmFzZUNvbmZpZyA9IHtcclxuXHJcbiAgICAgICAgYXBpS2V5OiBcIkFJemFTeUMyMVhoUnR0ejk1bmJyLXZPaWtKeFZobHpPY0I0clBUWVwiLFxyXG5cclxuICAgICAgICBhdXRoRG9tYWluOiBcIm5vdGVrZWVwLWEzNWQyLmZpcmViYXNlYXBwLmNvbVwiLFxyXG5cclxuICAgICAgICBwcm9qZWN0SWQ6IFwibm90ZWtlZXAtYTM1ZDJcIixcclxuXHJcbiAgICAgICAgc3RvcmFnZUJ1Y2tldDogXCJub3Rla2VlcC1hMzVkMi5hcHBzcG90LmNvbVwiLFxyXG5cclxuICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIxMjMxMTA0MTA5OVwiLFxyXG5cclxuICAgICAgICBhcHBJZDogXCIxOjEyMzExMDQxMDk5OndlYjo2YzI0ZjZlOWUxZTRjNGJkNGNlOWNlXCIsXHJcblxyXG4gICAgICAgIG1lYXN1cmVtZW50SWQ6IFwiRy1KOE5MTlRLRlEyXCJcclxuXHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBkYjtcclxuICAgIHByaXZhdGUgbm90YXRraTogc3RyaW5nID0gXCJOb3RhdGtpXCJcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGFwcCA9IGluaXRpYWxpemVBcHAodGhpcy5maXJlYmFzZUNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5kYiA9IGdldEZpcmVzdG9yZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzYXZlTm90ZXMobm90ZXM6IE5vdGVbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciBhd2FpdCAobGV0IG5vdGF0a2Egb2Ygbm90ZXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbih0aGlzLmRiLCB0aGlzLm5vdGF0a2kpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG5vdGF0a2EuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5vdGF0a2EudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IG5vdGF0a2EudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG5vdGF0a2EuY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNQaW5uZWQ6IG5vdGF0a2EuaXNQaW5uZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogbm90YXRrYS5kYXRlXHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRvY3VtZW50IHdyaXR0ZW4gd2l0aCBJRDogXCIsIGRvY1JlZi5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiBcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgZ2V0Tm90ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbih0aGlzLmRiLCB0aGlzLm5vdGF0a2kpKTtcclxuICAgICAgICBsZXQgdGVtcDogTm90ZVtdID0gW11cclxuICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKClcclxuICAgICAgICAgICAgdGVtcC5wdXNoKG5ldyBOb3RlKGRvYy5pZCwgZG9jLmRhdGEoKS50aXRsZSwgZG9jLmRhdGEoKS50ZXh0Q29udGVudCwgZG9jLmRhdGEoKS5jb2xvciwgZG9jLmRhdGEoKS5pc1Bpbm5lZCkpXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdGVtcFxyXG4gICAgfVxyXG4gICAgYXN5bmMgcmVtb3ZlTm90ZShpbmRleDogc3RyaW5nKSB7XHJcbiAgICAgICAgYXdhaXQgZGVsZXRlRG9jKGRvYyh0aGlzLmRiLCB0aGlzLm5vdGF0a2ksIGluZGV4KSkudGhlbigoZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYWRkKG5vdGU6IE5vdGUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbih0aGlzLmRiLCB0aGlzLm5vdGF0a2kpLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogbm90ZS5pZCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBub3RlLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IG5vdGUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogbm90ZS5jb2xvcixcclxuICAgICAgICAgICAgICAgIGlzUGlubmVkOiBub3RlLmlzUGlubmVkLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogbm90ZS5kYXRlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG9jdW1lbnQgd3JpdHRlbiB3aXRoIElEOiBcIiwgZG9jUmVmLmlkKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZTogdW5rbm93bikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGUoaWQ6IHN0cmluZywgbm90ZTogTm90ZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlkKVxyXG4gICAgICAgIGNvbnN0IHJlZmVycmFsID0gZG9jKHRoaXMuZGIsIHRoaXMubm90YXRraSwgaWQpO1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhyZWZlcnJhbCwge1xyXG4gICAgICAgICAgICBpZDogbm90ZS5pZCxcclxuICAgICAgICAgICAgdGl0bGU6IG5vdGUudGl0bGUsXHJcbiAgICAgICAgICAgIHRleHRDb250ZW50OiBub3RlLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBjb2xvcjogbm90ZS5jb2xvcixcclxuICAgICAgICAgICAgaXNQaW5uZWQ6IG5vdGUuaXNQaW5uZWQsXHJcbiAgICAgICAgICAgIGRhdGU6IG5vdGUuZGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgbG9jYXRpb25PZlNhdmluZyB9IGZyb20gXCIuL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBJQXBwU3RvcmFnZSB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBOb3RlIH0gZnJvbSBcIi4vTm90ZVwiO1xyXG5cclxuLy8gPyBsb2NhbHN0b3JhZ2UgXHJcbmV4cG9ydCBjbGFzcyBBcHBTdG9yYWdlIGltcGxlbWVudHMgSUFwcFN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVOb3Rlcyhub3RlczogTm90ZVtdKSB7XHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaCgoZWw6IE5vdGUpID0+IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYE5vdGF0a2Eke2VsLmlkfWAsIEpTT04uc3RyaW5naWZ5KGVsKSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGdldE5vdGVzKCk6IFByb21pc2U8Tm90ZVtdPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlcyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJOb3RhdGthXCIpKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtrZXldKSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWVzKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTm90ZShpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYE5vdGF0a2Eke2lkfWApXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFkZCgpOiB2b2lkIHtcclxuICAgICAgICAvLyEgRE9FUyBOT1RISU5HIDopXHJcblxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGlkOiBzdHJpbmcsIG5vdGU6IE5vdGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgTm90YXRrYSR7aWR9YClcclxuICAgICAgICBjb25zb2xlLmxvZyhub3RlKVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBOb3RhdGthJHtpZH1gLCBKU09OLnN0cmluZ2lmeShub3RlKSlcclxuICAgIH1cclxuXHJcbn0iLCJcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RlIHtcclxuXHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuICAgIHRleHRDb250ZW50OiBzdHJpbmc7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgaXNQaW5uZWQ6IGJvb2xlYW47XHJcbiAgICBkYXRlOiBEYXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHRleHRDb250ZW50OiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIHBpbm5lZDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZFxyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudFxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvclxyXG4gICAgICAgIHRoaXMuaXNQaW5uZWQgPSBwaW5uZWQ7XHJcbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICB9XHJcblxyXG59IiwiXHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBBcHBGaXJlU3RvcmVTdG9yYWdlIH0gZnJvbSBcIi4vQXBwRmlyZVN0b3JlU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBBcHBTdG9yYWdlIH0gZnJvbSBcIi4vQXBwU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBsb2NhdGlvbk9mU2F2aW5nIH0gZnJvbSBcIi4vY29uZmlnXCI7XHJcbmltcG9ydCB7IElBcHBTdG9yYWdlIH0gZnJvbSBcIi4vaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5vdGUgfSBmcm9tIFwiLi9Ob3RlXCI7XHJcbmltcG9ydCB7IHVzZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi91c2VySW50ZXJmYWNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVzIHtcclxuXHJcbiAgICBub3RhdGtpOiBOb3RlW10gPSBbXTtcclxuICAgIHN0b3JhZ2U6IElBcHBTdG9yYWdlO1xyXG4gICAgdWk6IHVzZXJJbnRlcmZhY2U7XHJcbiAgICBjb25zdHJ1Y3Rvcih1c2VySW50ZXJmYWNlOiB1c2VySW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy51aSA9IHVzZXJJbnRlcmZhY2VcclxuXHJcblxyXG5cclxuICAgICAgICAvLyAhIG1vY2t1cCBmb3Igbm93IFxyXG4gICAgICAgIGNvbnN0IG5vdGF0a2EgPSBuZXcgTm90ZShcIjFcIiwgXCJUeXR1xYJcIiwgXCJ0ZXh0Q29udGVudFwiLCBcIiNmZmZmZmZcIiwgdHJ1ZSlcclxuICAgICAgICBjb25zdCBub3RhdGthMSA9IG5ldyBOb3RlKFwiMlwiLCBcIlR5dHXFglwiLCBcInRleHRDb250ZW50XCIsIFwiI2ZmZmZmZlwiLCBmYWxzZSlcclxuXHJcbiAgICAgICAgLy8gdGhpcy5ub3RhdGtpLnB1c2gobm90YXRrYSlcclxuICAgICAgICAvLyB0aGlzLm5vdGF0a2kucHVzaChub3RhdGthMSlcclxuICAgICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbk9mU2F2aW5nKVxyXG4gICAgICAgIC8vID8gZm9yIG5vdyBpdHMganVzdCBhIHN0dWZmXHJcblxyXG4gICAgICAgIGlmIChsb2NhdGlvbk9mU2F2aW5nID09PSBcImZpcmVzdG9yZVwiKSB7IHRoaXMuc3RvcmFnZSA9IG5ldyBBcHBGaXJlU3RvcmVTdG9yYWdlKCk7IH0gZWxzZSB7IHRoaXMuc3RvcmFnZSA9IG5ldyBBcHBTdG9yYWdlKCkgfVxyXG4gICAgICAgIHRoaXMuZ2V0Tm90ZXMoKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFzeW5jIGdldE5vdGVzKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc3RvcmFnZS5nZXROb3RlcygpLnRoZW4oKGU6IE5vdGVbXSkgPT4ge1xyXG4gICAgICAgICAgICBlLmZvckVhY2goKGU6IE5vdGUpID0+IHRoaXMubm90YXRraS5wdXNoKGUpKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5vdGF0a2kpXHJcbiAgICAgICAgICAgIHRoaXMudWkucmVuZGVyTm90ZXMoZSlcclxuXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5yZW1vdmVCdXR0b25zRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKVxyXG4gICAgICAgIHRoaXMudXBkYXRlTm90ZSgpO1xyXG5cclxuICAgIH1cclxuICAgIGFzeW5jIGRlbGV0ZU5vdGVzKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm5vdGF0a2kgPSB0aGlzLm5vdGF0a2kuZmlsdGVyKChlKSA9PiBlLmlkICE9PSBpZClcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5vdGF0a2kpXHJcbiAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZU5vdGUoaWQpXHJcbiAgICB9XHJcbiAgICBhc3luYyBhZGQobm90ZTogTm90ZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5hZGQobm90ZSlcclxuICAgIH1cclxuICAgIGFzeW5jIHVwZGF0ZShpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uT2ZTYXZpbmcgPT09IFwibG9jYWxcIikge1xyXG4gICAgICAgICAgICBsZXQgdGVtcEluZCA9IHRoaXMubm90YXRraS5maW5kKHggPT4geC5pZCA9PT0gaWQpLmlkXHJcbiAgICAgICAgICAgIHRoaXMubm90YXRraVsrdGVtcEluZF0uaXNQaW5uZWQgPSAhdGhpcy5ub3RhdGtpWyt0ZW1wSW5kXS5pc1Bpbm5lZFxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UudXBkYXRlKGlkLCB0aGlzLm5vdGF0a2lbK3RlbXBJbmRdKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBOb3RlID0gdGhpcy5ub3RhdGtpLmZpbmQoKGU6IE5vdGUpID0+IGUuaWQudG9TdHJpbmcoKSA9PSBpZClcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGVtcE5vdGUpXHJcbiAgICAgICAgICAgIHRlbXBOb3RlLmlzUGlubmVkID0gIXRlbXBOb3RlLmlzUGlubmVkXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXBOb3RlKVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UudXBkYXRlKGlkLCB0ZW1wTm90ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBjcmVhdGVOb3RlKCkge1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY2VwdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIikgYXMgSFRNTElucHV0RWxlbWVudFxyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbG9yXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuXHJcbiAgICAgICAgICAgIGxldCB0ZW1wTm90ZSA9IG5ldyBOb3RlKHRoaXMubm90YXRraS5sZW5ndGgudG9TdHJpbmcoKSwgdGl0bGUudmFsdWUsIGNvbnRlbnQudmFsdWUsIGNvbG9yLnZhbHVlLCBmYWxzZSlcclxuICAgICAgICAgICAgdGhpcy5ub3RhdGtpLnB1c2godGVtcE5vdGUpXHJcbiAgICAgICAgICAgIHRoaXMudWkucmVuZGVyTm90ZXModGhpcy5ub3RhdGtpKVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UuYWRkKHRlbXBOb3RlKVxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUJ1dHRvbnNFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGUoKTtcclxuXHJcblxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gbGV0IHRlbXBOb3RlID0gbmV3IE5vdGUodGhpcy5ub3RhdGtpLmxlbmd0aC50b1N0cmluZygpLCB0aXRsZSwpXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVOb3RlKCkge1xyXG4gICAgICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXBpbi1idXR0b25cIik7XHJcbiAgICAgICAgYnV0dG9ucy5mb3JFYWNoKChidXR0b246IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b24ucGFyZW50RWxlbWVudC5pZClcclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlLmNsYXNzTmFtZSA9PSBcInVucGluXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmVUbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGlubmVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZS5jbGFzc05hbWUgPSBcInBpblwiXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRvLmluc2VydEJlZm9yZShtb3ZlLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1bnBpbm5lZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUuY2xhc3NOYW1lID0gXCJ1bnBpblwiXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRvLmluc2VydEJlZm9yZShtb3ZlLCBudWxsKVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKGJ1dHRvbi5wYXJlbnRFbGVtZW50LmlkKVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUJ1dHRvbnNFdmVudCgpIHtcclxuICAgICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLWJ1dHRvblwiKTtcclxuICAgICAgICBidXR0b25zLmZvckVhY2goKGJ1dHRvbjogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b24ucGFyZW50RWxlbWVudC5pZCkucmVtb3ZlKClcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTm90ZXMoYnV0dG9uLnBhcmVudEVsZW1lbnQuaWQpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGVCdXR0b25FdmVudCgpIHtcclxuICAgIC8vICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVwaW4tYnV0dG9uXCIpO1xyXG4gICAgLy8gICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgLy8gICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbi5wYXJlbnRFbGVtZW50LmlkKS5yZW1vdmUoKVxyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5kZWxldGVOb3RlcyhidXR0b24ucGFyZW50RWxlbWVudC5pZClcclxuICAgIC8vICAgICAgICAgfSlcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gfVxyXG5cclxufSIsIlxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBsb2NhdGlvbk9mU2F2aW5nOiBcImxvY2FsXCIgfCBcImZpcmVzdG9yZVwiID0gXCJmaXJlc3RvcmVcIiIsIi8vIGltcG9ydCB7IElXZWF0aGVyRGF0YSB9IGZyb20gJy4vaW50ZXJmYWNlJztcclxuXHJcbmltcG9ydCB7IE5vdGUgfSBmcm9tIFwiLi9Ob3RlXCI7XHJcbmltcG9ydCB7IE5vdGVzIH0gZnJvbSBcIi4vTm90ZXNcIjtcclxuXHJcbi8vIGV4cG9ydCBjbGFzcyB1c2VySW50ZXJmYWNle1xyXG4vLyAgICAgbmFtZTogc3RyaW5nO1xyXG4vLyAgICAgdGVtcDogbnVtYmVyO1xyXG4vLyAgICAgd3JhcHBlcjogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoKSB7XHJcbi8vICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgZ2V0V3JhcHBlcigpe1xyXG4vLyAgICAgICAgIHRoaXMud3JhcHBlciA9IDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlcicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJlbW92ZUNpdHkobmFtZTogc3RyaW5nKXtcclxuLy8gICAgICAgICBjb25zdCBjaXR5ID0gPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWUpO1xyXG4vLyAgICAgICAgIGNvbnN0IGFsbENpdGllczogc3RyaW5nW10gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXRpZXMnKSk7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coYWxsQ2l0aWVzKTtcclxuLy8gICAgICAgICBjb25zdCBuZXdDaXRpZXMgPSBhbGxDaXRpZXMuZmlsdGVyKChlKSA9PiBlICE9PSBuYW1lKTtcclxuLy8gICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0aWVzJywgSlNPTi5zdHJpbmdpZnkobmV3Q2l0aWVzKSk7XHJcbi8vICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUNoaWxkKGNpdHkpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJlbmRlcldlYXRoZXJFbGVtZW50KHdlYXRoZXJEYXRhOiBJV2VhdGhlckRhdGEpe1xyXG4vLyAgICAgICAgIGNvbnN0IHdlYXRoZXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbi8vICAgICAgICAgd2VhdGhlcldyYXBwZXIuY2xhc3NOYW1lID0gXCJ3ZWF0aGVyV3JhcHBlclwiO1xyXG4vLyAgICAgICAgIHdlYXRoZXJXcmFwcGVyLmlkID0gd2VhdGhlckRhdGEubmFtZTtcclxuXHJcbi8vICAgICAgICAgLy9taWFzdG8rdGVtcCtpa29ua2FcclxuLy8gICAgICAgICBjb25zdCB3ZWF0aGVyTWFpbkluZm9XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbi8vICAgICAgICAgd2VhdGhlck1haW5JbmZvV3JhcHBlci5jbGFzc05hbWUgPSBcIndlYXRoZXJNYWluXCJcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2VhdGhlckNpdHlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuLy8gICAgICAgICB3ZWF0aGVyQ2l0eU5hbWUudGV4dENvbnRlbnQgPSB3ZWF0aGVyRGF0YS5uYW1lICsgXCIgXCI7XHJcbi8vICAgICAgICAgd2VhdGhlckNpdHlOYW1lLmNsYXNzTmFtZSA9IFwid2VhdGhlckNpdHlcIjtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2VhdGhlckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4vLyAgICAgICAgIHdlYXRoZXJJY29uLnNyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke3dlYXRoZXJEYXRhLndlYXRoZXJbMF0uaWNvbn1AMngucG5nYDtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2VhdGhlclRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuLy8gICAgICAgICB3ZWF0aGVyVGVtcC50ZXh0Q29udGVudCA9IGAke3dlYXRoZXJEYXRhLm1haW4udGVtcC50b0ZpeGVkKDEpfSDCsENgO1xyXG4vLyAgICAgICAgIHdlYXRoZXJUZW1wLmNsYXNzTmFtZSA9IFwid2VhdGhlclRlbXBcIjtcclxuXHJcbi8vICAgICAgICAgd2VhdGhlck1haW5JbmZvV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVySWNvbik7XHJcbi8vICAgICAgICAgd2VhdGhlck1haW5JbmZvV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVyQ2l0eU5hbWUpO1xyXG4vLyAgICAgICAgIHdlYXRoZXJNYWluSW5mb1dyYXBwZXIuYXBwZW5kQ2hpbGQod2VhdGhlclRlbXApO1xyXG5cclxuLy8gICAgICAgICAvLyB3aWxnb3Rub3NjK2Npc25pZW5pZVxyXG4vLyAgICAgICAgIGNvbnN0IHdlYXRoZXJEZXRhaWxJbmZvV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4vLyAgICAgICAgIHdlYXRoZXJEZXRhaWxJbmZvV3JhcHBlci5jbGFzc05hbWUgPSBcIndlYXRoZXJEZXRhaWxzXCI7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHdlYXRoZXJIdW1pZGl0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbi8vICAgICAgICAgd2VhdGhlckh1bWlkaXR5LnRleHRDb250ZW50ID0gYFdpbGdvdG5vxZvEhzogJHsod2VhdGhlckRhdGEubWFpbi5odW1pZGl0eSl9JSBgO1xyXG4vLyAgICAgICAgIHdlYXRoZXJIdW1pZGl0eS5jbGFzc05hbWUgPSBcIndlYXRoZXJIdW1pZGl0eVwiO1xyXG5cclxuLy8gICAgICAgICBjb25zdCB3ZWF0aGVyUHJlc3N1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuLy8gICAgICAgICB3ZWF0aGVyUHJlc3N1cmUudGV4dENvbnRlbnQgPSBgQ2nFm25pZW5pZTogJHsod2VhdGhlckRhdGEubWFpbi5wcmVzc3VyZSl9aFBhIGA7XHJcbi8vICAgICAgICAgd2VhdGhlclByZXNzdXJlLmNsYXNzTmFtZSA9IFwid2VhdGhlclByZXNzdXJlXCI7XHJcblxyXG4vLyAgICAgICAgIC8vdXN1d2FuaWUgbWlhc3RhIHByenkgdXp5Y2l1IHByenljaXNrdVxyXG4vLyAgICAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbi8vICAgICAgICAgcmVtb3ZlQnRuLnRleHRDb250ZW50PSBcIlVzdcWEIG1pYXN0b1wiO1xyXG4vLyAgICAgICAgIHJlbW92ZUJ0bi5jbGFzc05hbWUgPSBcInJlbW92ZUNpdHlCdXR0b25cIjtcclxuLy8gICAgICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbi8vICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2l0eSh3ZWF0aGVyV3JhcHBlci5pZCk7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIHdlYXRoZXJEZXRhaWxJbmZvV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVySHVtaWRpdHkpO1xyXG4vLyAgICAgICAgIHdlYXRoZXJEZXRhaWxJbmZvV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVyUHJlc3N1cmUpO1xyXG4vLyAgICAgICAgIHdlYXRoZXJEZXRhaWxJbmZvV3JhcHBlci5hcHBlbmRDaGlsZChyZW1vdmVCdG4pO1xyXG5cclxuLy8gICAgICAgICB3ZWF0aGVyV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVyTWFpbkluZm9XcmFwcGVyKTtcclxuLy8gICAgICAgICB3ZWF0aGVyV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWF0aGVyRGV0YWlsSW5mb1dyYXBwZXIpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQod2VhdGhlcldyYXBwZXIpO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5leHBvcnQgY2xhc3MgdXNlckludGVyZmFjZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG4gICAgcmVuZGVyTm90ZXMobm90ZXM6IE5vdGVbXSkge1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpbm5lZFwiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidW5waW5uZWRcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBub3Rlcy5mb3JFYWNoKChub3RlOiBOb3RlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5vdGUuaXNQaW5uZWQgPyBcInBpbm5lZFwiIDogXCJ1bnBpbm5lZFwiKVxyXG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpXHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxuICAgICAgICAgICAgbGV0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgIGxldCByZXBpbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcclxuXHJcbiAgICAgICAgICAgIC8vICoqKiBzdHlsaW5nIFxyXG4gICAgICAgICAgICAvLyA/IGRpdlxyXG4gICAgICAgICAgICBkaXYuaWQgPSBub3RlLmlkXHJcbiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAhbm90ZS5pc1Bpbm5lZCA/IFwidW5waW5cIiA6IFwicGluXCJcclxuICAgICAgICAgICAgZGl2LnN0eWxlLm1hcmdpbiA9IFwiMWVtXCJcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG5vdGUuY29sb3JcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IFwiMTBlbVwiXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IFwiMjBlbVwiXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjEwJVwiO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwiY29sdW1uXCJcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiXHJcbiAgICAgICAgICAgIC8vID8gdGl0bGVcclxuICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBub3RlLnRpdGxlXHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aXRsZSlcclxuICAgICAgICAgICAgLy8gPyBjb250ZW50XHJcbiAgICAgICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBub3RlLnRleHRDb250ZW50XHJcbiAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUubWFyZ2luID0gXCIwXCJcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGNvbnRlbnQpXHJcbiAgICAgICAgICAgIC8vID8gYnV0dG9uc1xyXG4gICAgICAgICAgICByZW1vdmVCdXR0b24uY2xhc3NOYW1lID0gXCJyZW1vdmUtYnV0dG9uXCJcclxuICAgICAgICAgICAgcmVtb3ZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJyZW1vdmVcIlxyXG5cclxuICAgICAgICAgICAgcmVwaW5CdXR0b24uY2xhc3NOYW1lID0gXCJyZXBpbi1idXR0b25cIlxyXG4gICAgICAgICAgICByZXBpbkJ1dHRvbi50ZXh0Q29udGVudCA9IFwicmVwaW5cIlxyXG5cclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHJlbW92ZUJ1dHRvbilcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHJlcGluQnV0dG9uKVxyXG5cclxuICAgICAgICAgICAgLy8gZGl2LnRleHRDb250ZW50ID0gbm90ZS50aXRsZVxyXG4gICAgICAgICAgICBsb2NhdGlvbi5hcHBlbmRDaGlsZChkaXYpXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gdGhpcy5yZW1vdmVCdXR0b25zRXZlbnQoKVxyXG5cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyJdLCJuYW1lcyI6WyJQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsIiwiY29uc3RydWN0b3IiLCJjb250YWluZXIiLCJ0aGlzIiwiZ2V0UGxhdGZvcm1JbmZvU3RyaW5nIiwiZ2V0UHJvdmlkZXJzIiwibWFwIiwicHJvdmlkZXIiLCJjb21wb25lbnQiLCJnZXRDb21wb25lbnQiLCJ0eXBlIiwiaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyIiwic2VydmljZSIsImdldEltbWVkaWF0ZSIsImxpYnJhcnkiLCJ2ZXJzaW9uIiwiZmlsdGVyIiwibG9nU3RyaW5nIiwiam9pbiIsIm5hbWUkbyIsImxvZ2dlciIsIkRFRkFVTFRfRU5UUllfTkFNRSIsIlBMQVRGT1JNX0xPR19TVFJJTkciLCJfYXBwcyIsIk1hcCIsIl9jb21wb25lbnRzIiwiX2FkZENvbXBvbmVudCIsImFwcCIsImFkZENvbXBvbmVudCIsImUiLCJkZWJ1ZyIsIm5hbWUiLCJfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQiLCJhZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsIl9yZWdpc3RlckNvbXBvbmVudCIsImNvbXBvbmVudE5hbWUiLCJoYXMiLCJzZXQiLCJ2YWx1ZXMiLCJfZ2V0UHJvdmlkZXIiLCJnZXRQcm92aWRlciIsIl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UiLCJpbnN0YW5jZUlkZW50aWZpZXIiLCJjbGVhckluc3RhbmNlIiwiX2NsZWFyQ29tcG9uZW50cyIsImNsZWFyIiwiRVJST1JfRkFDVE9SWSIsIkZpcmViYXNlQXBwSW1wbCIsIm9wdGlvbnMiLCJjb25maWciLCJfaXNEZWxldGVkIiwiX29wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJfY29uZmlnIiwiX25hbWUiLCJfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiX2NvbnRhaW5lciIsImNoZWNrRGVzdHJveWVkIiwidmFsIiwiaXNEZWxldGVkIiwiY3JlYXRlIiwiYXBwTmFtZSIsIlNES19WRVJTSU9OIiwiaW5pdGlhbGl6ZUFwcCIsInJhd0NvbmZpZyIsIlN0cmluZyIsImV4aXN0aW5nQXBwIiwiZ2V0IiwibmV3QXBwIiwiZ2V0QXBwIiwiZ2V0QXBwcyIsIkFycmF5IiwiZnJvbSIsImFzeW5jIiwiZGVsZXRlQXBwIiwiZGVsZXRlIiwiUHJvbWlzZSIsImFsbCIsInJlZ2lzdGVyVmVyc2lvbiIsImxpYnJhcnlLZXlPck5hbWUiLCJ2YXJpYW50IiwiX2EiLCJsaWJyYXJ5TWlzbWF0Y2giLCJtYXRjaCIsInZlcnNpb25NaXNtYXRjaCIsIndhcm5pbmciLCJwdXNoIiwid2FybiIsIm9uTG9nIiwibG9nQ2FsbGJhY2siLCJzZXRMb2dMZXZlbCIsImxvZ0xldmVsIiwiQ29tcG9uZW50IiwiaW5zdGFuY2VGYWN0b3J5IiwibXVsdGlwbGVJbnN0YW5jZXMiLCJzZXJ2aWNlUHJvcHMiLCJpbnN0YW50aWF0aW9uTW9kZSIsIm9uSW5zdGFuY2VDcmVhdGVkIiwicHJvdG90eXBlIiwic2V0SW5zdGFudGlhdGlvbk1vZGUiLCJtb2RlIiwic2V0TXVsdGlwbGVJbnN0YW5jZXMiLCJzZXRTZXJ2aWNlUHJvcHMiLCJwcm9wcyIsInNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrIiwiY2FsbGJhY2siLCJQcm92aWRlciIsImluc3RhbmNlcyIsImluc3RhbmNlc0RlZmVycmVkIiwiaW5zdGFuY2VzT3B0aW9ucyIsIm9uSW5pdENhbGxiYWNrcyIsImlkZW50aWZpZXIiLCJub3JtYWxpemVkSWRlbnRpZmllciIsIm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciIsImRlZmVycmVkIiwiaXNJbml0aWFsaXplZCIsInNob3VsZEF1dG9Jbml0aWFsaXplIiwiaW5zdGFuY2UiLCJnZXRPckluaXRpYWxpemVTZXJ2aWNlIiwicmVzb2x2ZSIsInByb21pc2UiLCJvcHRpb25hbCIsIkVycm9yIiwic2V0Q29tcG9uZW50IiwiZV8xIiwiaXNDb21wb25lbnRFYWdlciIsIl9iIiwiZW50cmllcyIsIl9jIiwibmV4dCIsImRvbmUiLCJfZCIsInZhbHVlIiwiaW5zdGFuY2VEZWZlcnJlZCIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJjYWxsIiwic2VydmljZXMiLCJsYWJlbCIsIklOVEVSTkFMIiwiX2RlbGV0ZSIsInNlbnQiLCJpc0NvbXBvbmVudFNldCIsImdldE9wdGlvbnMiLCJpbml0aWFsaXplIiwib3B0cyIsImVfMiIsIl9lIiwiZV8yXzEiLCJvbkluaXQiLCJleGlzdGluZ0NhbGxiYWNrcyIsIlNldCIsImFkZCIsImV4aXN0aW5nSW5zdGFuY2UiLCJpbnZva2VPbkluaXRDYWxsYmFja3MiLCJlXzMiLCJjYWxsYmFja3MiLCJjYWxsYmFja3NfMSIsImNhbGxiYWNrc18xXzEiLCJlXzNfMSIsInVuZGVmaW5lZCIsIkNvbXBvbmVudENvbnRhaW5lciIsInByb3ZpZGVycyIsIl9fc3ByZWFkQXJyYXlzIiwicyIsImkiLCJpbCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJrIiwiYSIsImoiLCJqbCIsIkxvZ0xldmVsIiwibGV2ZWxTdHJpbmdUb0VudW0iLCJERUJVRyIsIlZFUkJPU0UiLCJJTkZPIiwiV0FSTiIsIkVSUk9SIiwiU0lMRU5UIiwiZGVmYXVsdExvZ0xldmVsIiwiQ29uc29sZU1ldGhvZCIsImRlZmF1bHRMb2dIYW5kbGVyIiwibG9nVHlwZSIsImFyZ3MiLCJfaSIsIm5vdyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1ldGhvZCIsImNvbnNvbGUiLCJhcHBseSIsIkxvZ2dlciIsIl9sb2dMZXZlbCIsIl9sb2dIYW5kbGVyIiwiX3VzZXJMb2dIYW5kbGVyIiwiZGVmaW5lUHJvcGVydHkiLCJUeXBlRXJyb3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwibG9nIiwiaW5mbyIsImxldmVsIiwiZm9yRWFjaCIsImluc3QiLCJzZXRVc2VyTG9nSGFuZGxlciIsIl9sb29wXzEiLCJjdXN0b21Mb2dMZXZlbCIsInVzZXJMb2dIYW5kbGVyIiwibWVzc2FnZSIsImFyZyIsInRvU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImlnbm9yZWQiLCJ0b0xvd2VyQ2FzZSIsImluc3RhbmNlc18xIiwic3RyaW5nVG9CeXRlQXJyYXkkMSIsInN0ciIsIm91dCIsInAiLCJjIiwiY2hhckNvZGVBdCIsImJhc2U2NCIsImJ5dGVUb0NoYXJNYXBfIiwiY2hhclRvQnl0ZU1hcF8iLCJieXRlVG9DaGFyTWFwV2ViU2FmZV8iLCJjaGFyVG9CeXRlTWFwV2ViU2FmZV8iLCJFTkNPREVEX1ZBTFNfQkFTRSIsIkVOQ09ERURfVkFMUyIsIkVOQ09ERURfVkFMU19XRUJTQUZFIiwiSEFTX05BVElWRV9TVVBQT1JUIiwiYXRvYiIsImVuY29kZUJ5dGVBcnJheSIsImlucHV0Iiwid2ViU2FmZSIsImlzQXJyYXkiLCJpbml0XyIsImJ5dGVUb0NoYXJNYXAiLCJvdXRwdXQiLCJieXRlMSIsImhhdmVCeXRlMiIsImJ5dGUyIiwiaGF2ZUJ5dGUzIiwiYnl0ZTMiLCJvdXRCeXRlMSIsIm91dEJ5dGUyIiwib3V0Qnl0ZTMiLCJvdXRCeXRlNCIsImVuY29kZVN0cmluZyIsImJ0b2EiLCJkZWNvZGVTdHJpbmciLCJieXRlcyIsInBvcyIsImMxIiwiZnJvbUNoYXJDb2RlIiwiYzIiLCJ1IiwiYzMiLCJieXRlQXJyYXlUb1N0cmluZyIsImRlY29kZVN0cmluZ1RvQnl0ZUFycmF5IiwiY2hhclRvQnl0ZU1hcCIsImNoYXJBdCIsImJ5dGU0IiwiYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmciLCJ1dGY4Qnl0ZXMiLCJiYXNlNjRFbmNvZGUiLCJyZXBsYWNlIiwiRGVmZXJyZWQiLCJfdGhpcyIsInJlamVjdCIsIndyYXBDYWxsYmFjayIsImNhdGNoIiwiY3JlYXRlTW9ja1VzZXJUb2tlbiIsInRva2VuIiwicHJvamVjdElkIiwidWlkIiwicHJvamVjdCIsImlhdCIsInN1YiIsInVzZXJfaWQiLCJwYXlsb2FkIiwiaXNzIiwiYXVkIiwiZXhwIiwiYXV0aF90aW1lIiwiZmlyZWJhc2UiLCJzaWduX2luX3Byb3ZpZGVyIiwiaWRlbnRpdGllcyIsImFsZyIsImdldFVBIiwibmF2aWdhdG9yIiwiaXNNb2JpbGVDb3Jkb3ZhIiwid2luZG93IiwidGVzdCIsImlzQnJvd3NlckV4dGVuc2lvbiIsInJ1bnRpbWUiLCJjaHJvbWUiLCJicm93c2VyIiwiaWQiLCJpc1JlYWN0TmF0aXZlIiwiaXNFbGVjdHJvbiIsImluZGV4T2YiLCJpc0lFIiwidWEiLCJpc1VXUCIsImlzU2FmYXJpIiwiZyIsInByb2Nlc3MiLCJpc05vZGUiLCJ1c2VyQWdlbnQiLCJpbmNsdWRlcyIsIkZpcmViYXNlRXJyb3IiLCJfc3VwZXIiLCJjb2RlIiwiY3VzdG9tRGF0YSIsInNldFByb3RvdHlwZU9mIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJFcnJvckZhY3RvcnkiLCJzZXJ2aWNlTmFtZSIsImVycm9ycyIsImRhdGEiLCJmdWxsQ29kZSIsInRlbXBsYXRlIiwicmVwbGFjZVRlbXBsYXRlIiwiZnVsbE1lc3NhZ2UiLCJQQVRURVJOIiwiXyIsImtleSIsImRlZXBFcXVhbCIsImIiLCJhS2V5cyIsImtleXMiLCJiS2V5cyIsImFLZXlzXzEiLCJhUHJvcCIsImJQcm9wIiwiaXNPYmplY3QiLCJiS2V5c18xIiwidGhpbmciLCJub29wIiwiZ2V0TW9kdWxhckluc3RhbmNlIiwiX2RlbGVnYXRlIiwiU2hhMSIsImNoYWluXyIsImJ1Zl8iLCJXXyIsInBhZF8iLCJpbmJ1Zl8iLCJ0b3RhbF8iLCJibG9ja1NpemUiLCJyZXNldCIsImNvbXByZXNzXyIsImJ1ZiIsIm9mZnNldCIsIlciLCJ0IiwiZiIsImQiLCJ1cGRhdGUiLCJsZW5ndGhNaW51c0Jsb2NrIiwibiIsImluYnVmIiwiZGlnZXN0IiwidG90YWxCaXRzIiwiT2JzZXJ2ZXJQcm94eSIsImV4ZWN1dG9yIiwib25Ob09ic2VydmVycyIsIm9ic2VydmVycyIsInVuc3Vic2NyaWJlcyIsIm9ic2VydmVyQ291bnQiLCJ0YXNrIiwiZmluYWxpemVkIiwidGhlbiIsImZvckVhY2hPYnNlcnZlciIsIm9ic2VydmVyIiwiY2xvc2UiLCJjb21wbGV0ZSIsInN1YnNjcmliZSIsIm5leHRPck9ic2VydmVyIiwib2JqIiwibWV0aG9kcyIsIm1ldGhvZHNfMSIsImltcGxlbWVudHNBbnlNZXRob2RzIiwidW5zdWIiLCJ1bnN1YnNjcmliZU9uZSIsImJpbmQiLCJmaW5hbEVycm9yIiwiZm4iLCJzZW5kT25lIiwiZXJyIiwiZXh0ZW5kU3RhdGljcyIsIl9fcHJvdG9fXyIsImhhc093blByb3BlcnR5IiwiX192YWx1ZXMiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJtIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwic2VsZiIsImdvb2ciLCJsIiwiYWEiLCJiYSIsImVhIiwiTWF0aCIsInJhbmRvbSIsImZhIiwiaGEiLCJpYSIsInNsaWNlIiwidW5zaGlmdCIsInEiLCJGdW5jdGlvbiIsImphIiwiWiIsIlZiIiwiaCIsInYiLCJsYSIsIm5hIiwiTSIsImRhIiwic2hpZnQiLCJtYSIsInNwbGl0IiwicWEiLCJjb25jYXQiLCJyYSIsInNhIiwieCIsInRhIiwidHJpbSIsImV4ZWMiLCJ3IiwidmEiLCJ3YSIsInhhIiwieWEiLCJ6YSIsIkFhIiwiQ2EiLCJOYSIsIkhhIiwieSIsIklhIiwiSmEiLCJLYSIsIkxhIiwiTWEiLCJkb2N1bWVudCIsImRvY3VtZW50TW9kZSIsIk9hIiwiUGEiLCJRYSIsInBhcnNlRmxvYXQiLCJTYSIsIkdhIiwiUmEiLCJtYXgiLCJwYXJzZUludCIsIlVhIiwiVmEiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInoiLCJ0YXJnZXQiLCJkZWZhdWx0UHJldmVudGVkIiwiQSIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b24iLCJzY3JlZW5ZIiwic2NyZWVuWCIsImNsaWVudFkiLCJjbGllbnRYIiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInN0YXRlIiwicG9pbnRlcklkIiwicG9pbnRlclR5cGUiLCJjaGFuZ2VkVG91Y2hlcyIsInNyY0VsZW1lbnQiLCJub2RlTmFtZSIsImZyb21FbGVtZW50IiwidG9FbGVtZW50IiwicGFnZVgiLCJwYWdlWSIsIldhIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsIkIiLCJYYSIsIllhIiwibGlzdGVuZXIiLCJwcm94eSIsInNyYyIsImNhcHR1cmUiLCJjYSIsIlphIiwiJGEiLCJiYiIsInNwbGljZSIsImFiIiwiY2IiLCJkYiIsImZiIiwib25jZSIsImdiIiwiaGIiLCJOIiwiaWIiLCJqYiIsIm1iIiwia2IiLCJhdHRhY2hFdmVudCIsImxiIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsIk8iLCJuYiIsIm9iIiwiZGV0YWNoRXZlbnQiLCJwYiIsImhhbmRsZUV2ZW50IiwiQyIsIlAiLCJJIiwiRCIsInFiIiwicmIiLCJzYiIsInRiIiwiQWIiLCJ1YiIsInZiIiwiY2xhc3NfMiIsIndiIiwieWIiLCJzZXRUaW1lb3V0IiwiemIiLCJEYiIsIkJiIiwiQ2IiLCJFYiIsIkZiIiwiUyIsImNsZWFyVGltZW91dCIsIkdiIiwiTnVtYmVyIiwiSGIiLCJzdGFydCIsIkliIiwiX18iLCJfX2V4dGVuZHMiLCJFIiwiSmIiLCJLYiIsIkxiIiwiTWIiLCJGIiwicGFyc2UiLCJQYiIsIkgiLCJSYiIsIlNiIiwiVGIiLCJVYiIsIlNUQVRfRVZFTlQiLCJzdGF0IiwiSiIsInNpemUiLCJLIiwiV2IiLCJOT19FUlJPUiIsInhiIiwiVElNRU9VVCIsIlhiIiwiWWIiLCJaYiIsIiRiIiwiY2MiLCJMIiwiT1BFTiIsImFjIiwiYmMiLCJkYyIsIlgiLCJWIiwiZWMiLCJZIiwiJCIsIlUiLCJmYyIsIlhNTEh0dHBSZXF1ZXN0IiwiZ2MiLCJoYyIsImljIiwiamMiLCJrYyIsImxjIiwibWMiLCJuYyIsIkciLCJOYiIsInFjIiwiQmEiLCJ0YyIsInZjIiwic2MiLCJ3YyIsInJjIiwic3Vic3RyaW5nIiwiaXNOYU4iLCJzdWJzdHIiLCJ4YyIsImViIiwicGMiLCJ1YyIsImFib3J0IiwieWMiLCJ6YyIsIkFjIiwiQmMiLCJDYyIsImthIiwiUSIsIkRhIiwiRWEiLCJnZXRSZXNwb25zZUhlYWRlciIsIkRjIiwiUiIsIm9hIiwiRWMiLCJGYyIsIkdjIiwiSGMiLCJJYyIsIktjIiwiVCIsIkpjIiwiTGMiLCJnYSIsIm9jIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJzdHJlYW0iLCJPYiIsImNhbmNlbCIsIlFiIiwiTWMiLCJPYyIsIlBjIiwiUWMiLCJSYyIsIlNjIiwiVGMiLCJkZCIsIlpjIiwiVWMiLCIkYyIsImZsb29yIiwiYWJzIiwiZGVjb2RlVVJJIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJIiwiY2QiLCJWYyIsImVuY29kZVVSSUNvbXBvbmVudCIsIldjIiwiWGMiLCJZYyIsIk5jIiwiZWQiLCJmZCIsImdkIiwiaGQiLCJQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmciLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeVR5cGUiLCJuZXh0SG9wUHJvdG9jb2wiLCJqZCIsImtkIiwibGQiLCJtZCIsIm9kIiwib25sb2FkIiwib25lcnJvciIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJwZCIsInFkIiwicmVhZHlTdGF0ZSIsInJkIiwic3RhdHVzIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiSGVhZGVycyIsInVkIiwicmVhZCIsInRkIiwic2QiLCJvcGVuIiwic2VuZCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsImNhY2hlIiwiYm9keSIsImZldGNoIiwiUmVxdWVzdCIsImFycmF5QnVmZmVyIiwiVGEiLCJSZWFkYWJsZVN0cmVhbSIsImdldFJlYWRlciIsInRleHQiLCJVaW50OEFycmF5Iiwic2V0UmVxdWVzdEhlYWRlciIsImFwcGVuZCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInZkIiwid2QiLCJ4ZCIsInlkIiwicGEiLCJ6ZCIsIkNkIiwiRGQiLCJFZCIsIkZhIiwibG9jYXRpb24iLCJwcm90b2NvbCIsIkFkIiwibW96UmVzcG9uc2VBcnJheUJ1ZmZlciIsIkdkIiwiRmQiLCJIZCIsImludGVybmFsQ2hhbm5lbFBhcmFtcyIsIklkIiwieG1sSHR0cEZhY3RvcnkiLCJzdXBwb3J0c0Nyb3NzRG9tYWluWGhyIiwiY29uY3VycmVudFJlcXVlc3RMaW1pdCIsImZhc3RIYW5kc2hha2UiLCJmb3JjZUxvbmdQb2xsaW5nIiwiZGV0ZWN0QnVmZmVyaW5nUHJveHkiLCJKZCIsIktkIiwic2VuZEJlYWNvbiIsIkltYWdlIiwiTGQiLCJNZCIsIlFkIiwiUGQiLCJyb3VuZCIsIm1pbiIsIk9kIiwiUmQiLCJOZCIsImRfMSIsIm5kIiwiYWQiLCJiZCIsImhvc3RuYW1lIiwicG9ydCIsIlNkIiwiVGQiLCJtZXNzYWdlVXJsUGFyYW1zIiwibWVzc2FnZUhlYWRlcnMiLCJjbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkIiwiaW5pdE1lc3NhZ2VIZWFkZXJzIiwibWVzc2FnZUNvbnRlbnRUeXBlIiwiaHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbSIsInNlbmRSYXdKc29uIiwiaHR0cFNlc3Npb25JZFBhcmFtIiwiVWQiLCJfX3NtX18iLCJWZCIsInRvVXBwZXJDYXNlIiwiRm9ybURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ0aW1lb3V0IiwiQmQiLCJfX2RhdGFfXyIsImNyZWF0ZVdlYkNoYW5uZWwiLCJIVFRQX0VSUk9SIiwiQ09NUExFVEUiLCJFdmVudFR5cGUiLCJDTE9TRSIsIk1FU1NBR0UiLCJsaXN0ZW4iLCJsaXN0ZW5PbmNlIiwiZ2V0TGFzdEVycm9yIiwiZ2V0TGFzdEVycm9yQ29kZSIsImdldFN0YXR1cyIsImdldFJlc3BvbnNlSnNvbiIsImdldFJlc3BvbnNlVGV4dCIsIkVycm9yQ29kZSIsIkV2ZW50IiwiU3RhdCIsIkZldGNoWG1sSHR0cEZhY3RvcnkiLCJXZWJDaGFubmVsIiwiWGhySW8iLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0b0tleSIsImlzRXF1YWwiLCJVTkFVVEhFTlRJQ0FURUQiLCJHT09HTEVfQ1JFREVOVElBTFMiLCJGSVJTVF9QQVJUWSIsIk1PQ0tfVVNFUiIsIk9LIiwiQ0FOQ0VMTEVEIiwiVU5LTk9XTiIsIklOVkFMSURfQVJHVU1FTlQiLCJERUFETElORV9FWENFRURFRCIsIk5PVF9GT1VORCIsIkFMUkVBRFlfRVhJU1RTIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJSRVNPVVJDRV9FWEhBVVNURUQiLCJGQUlMRURfUFJFQ09ORElUSU9OIiwiQUJPUlRFRCIsIk9VVF9PRl9SQU5HRSIsIlVOSU1QTEVNRU5URUQiLCJVTkFWQUlMQUJMRSIsIkRBVEFfTE9TUyIsInN1cGVyIiwidXNlciIsImF1dGhIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImdldFRva2VuIiwiaW52YWxpZGF0ZVRva2VuIiwiZW5xdWV1ZVJldHJ5YWJsZSIsInNodXRkb3duIiwiY2hhbmdlTGlzdGVuZXIiLCJjdXJyZW50VXNlciIsImZvcmNlUmVmcmVzaCIsImF1dGgiLCJhZGRBdXRoVG9rZW5MaXN0ZW5lciIsImFjY2Vzc1Rva2VuIiwicmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIiLCJnZXRVaWQiLCJnZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5IiwicHJldmlvdXNWYWx1ZSIsInNlcXVlbmNlTnVtYmVySGFuZGxlciIsIndyaXRlU2VxdWVuY2VOdW1iZXIiLCJjcnlwdG8iLCJtc0NyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsInN0YXRpYyIsInR0IiwiZXZlcnkiLCJldCIsIm50Iiwic2Vjb25kcyIsIm5hbm9zZWNvbmRzIiwiZnJvbU1pbGxpcyIsImdldFRpbWUiLCJ0b0RhdGUiLCJ0b01pbGxpcyIsIl9jb21wYXJlVG8iLCJ0b0pTT04iLCJ2YWx1ZU9mIiwicGFkU3RhcnQiLCJzdCIsInRpbWVzdGFtcCIsImNvbXBhcmVUbyIsInRvTWljcm9zZWNvbmRzIiwidG9UaW1lc3RhbXAiLCJpdCIsInJ0Iiwib3QiLCJhdCIsInNlZ21lbnRzIiwibGVuIiwiY29tcGFyYXRvciIsImNoaWxkIiwibGltaXQiLCJjb25zdHJ1Y3QiLCJwb3BGaXJzdCIsInBvcExhc3QiLCJmaXJzdFNlZ21lbnQiLCJsYXN0U2VnbWVudCIsImlzRW1wdHkiLCJpc1ByZWZpeE9mIiwiaXNJbW1lZGlhdGVQYXJlbnRPZiIsInRvQXJyYXkiLCJjdCIsImNhbm9uaWNhbFN0cmluZyIsInV0IiwiaHQiLCJpc1ZhbGlkSWRlbnRpZmllciIsImlzS2V5RmllbGQiLCJsdCIsImZpZWxkcyIsInNvcnQiLCJjb3ZlcnMiLCJmdCIsImR0IiwiYmluYXJ5U3RyaW5nIiwidG9CYXNlNjQiLCJ0b1VpbnQ4QXJyYXkiLCJhcHByb3hpbWF0ZUJ5dGVTaXplIiwiRU1QVFlfQllURV9TVFJJTkciLCJ3dCIsIlJlZ0V4cCIsIl90IiwibmFub3MiLCJtdCIsImd0IiwiZnJvbUJhc2U2NFN0cmluZyIsImZyb21VaW50OEFycmF5IiwieXQiLCJtYXBWYWx1ZSIsIl9fdHlwZV9fIiwic3RyaW5nVmFsdWUiLCJwdCIsIl9fcHJldmlvdXNfdmFsdWVfXyIsIkV0IiwiX19sb2NhbF93cml0ZV90aW1lX18iLCJ0aW1lc3RhbXBWYWx1ZSIsIlR0IiwiSXQiLCJBdCIsImlzSW50ZWdlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNSU5fU0FGRV9JTlRFR0VSIiwiUnQiLCJwYXRoIiwiZnJvbVN0cmluZyIsImhhc0NvbGxlY3Rpb25JZCIsImJ0IiwiUHQiLCJib29sZWFuVmFsdWUiLCJieXRlc1ZhbHVlIiwicmVmZXJlbmNlVmFsdWUiLCJnZW9Qb2ludFZhbHVlIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJpbnRlZ2VyVmFsdWUiLCJkb3VibGVWYWx1ZSIsImFycmF5VmFsdWUiLCJ2dCIsImZpbmQiLCJWdCIsIlN0IiwiRHQiLCJDdCIsImZyb21OYW1lIiwiTnQiLCJkYXRhYmFzZSIsInh0Iiwia3QiLCIkdCIsIk90IiwiRnQiLCJNdCIsIkx0IiwiZmllbGQiLCJnZXRGaWVsZHNNYXAiLCJzZXRBbGwiLCJlbXB0eVBhdGgiLCJhcHBseUNoYW5nZXMiLCJjbG9uZSIsIkJ0IiwiVXQiLCJkb2N1bWVudFR5cGUiLCJkb2N1bWVudFN0YXRlIiwiZW1wdHkiLCJjb252ZXJ0VG9Gb3VuZERvY3VtZW50IiwiY29udmVydFRvTm9Eb2N1bWVudCIsImNvbnZlcnRUb1Vua25vd25Eb2N1bWVudCIsInNldEhhc0NvbW1pdHRlZE11dGF0aW9ucyIsInNldEhhc0xvY2FsTXV0YXRpb25zIiwiaGFzTG9jYWxNdXRhdGlvbnMiLCJoYXNDb21taXR0ZWRNdXRhdGlvbnMiLCJoYXNQZW5kaW5nV3JpdGVzIiwiaXNWYWxpZERvY3VtZW50IiwiaXNGb3VuZERvY3VtZW50IiwiaXNOb0RvY3VtZW50IiwiaXNVbmtub3duRG9jdW1lbnQiLCJxdCIsImNvbGxlY3Rpb25Hcm91cCIsIm9yZGVyQnkiLCJmaWx0ZXJzIiwic3RhcnRBdCIsImVuZEF0IiwiS3QiLCJqdCIsIm9wIiwiSHQiLCJkaXIiLCJyZSIsIld0IiwiYWUiLCJ1ZSIsIkd0IiwiaXNEb2N1bWVudEtleSIsInp0IiwiSnQiLCJ0ZSIsImVlIiwibmUiLCJzZSIsIll0IiwiWHQiLCJtYXRjaGVzIiwiWnQiLCJzb21lIiwibnVsbFZhbHVlIiwiaWUiLCJwb3NpdGlvbiIsImJlZm9yZSIsIm9lIiwiY2UiLCJoZSIsImV4cGxpY2l0T3JkZXJCeSIsImxpbWl0VHlwZSIsImxlIiwiZmUiLCJkZSIsIndlIiwibWUiLCJnZSIsInllIiwia2V5RmllbGQiLCJwZSIsIkVlIiwiVGUiLCJJZSIsIkFlIiwiUXQiLCJSZSIsImJlIiwiUGUiLCJ2ZSIsIlZlIiwiU2UiLCJEZSIsIkNlIiwia2UiLCIkZSIsIk9lIiwiRmUiLCJNZSIsInhlIiwiQmUiLCJOZSIsIkxlIiwiZWxlbWVudHMiLCJVZSIsInFlIiwidHJhbnNmb3JtIiwiamUiLCJ0cmFuc2Zvcm1SZXN1bHRzIiwiUWUiLCJ1cGRhdGVUaW1lIiwiZXhpc3RzIiwiaXNOb25lIiwiV2UiLCJHZSIsInplIiwiWmUiLCJubiIsImZpZWxkVHJhbnNmb3JtcyIsInRuIiwicHJlY29uZGl0aW9uIiwiZW4iLCJIZSIsInNuIiwiWGUiLCJKZSIsIlllIiwiS2UiLCJmaWVsZE1hc2siLCJybiIsIm9uIiwiYW4iLCJjb3VudCIsImNuIiwidW4iLCJobiIsImxuIiwicm9vdCIsInduIiwiRU1QVFkiLCJpbnNlcnQiLCJjb3B5IiwiQkxBQ0siLCJyZW1vdmUiLCJsZWZ0IiwicmlnaHQiLCJtaW5LZXkiLCJtYXhLZXkiLCJpbm9yZGVyVHJhdmVyc2FsIiwicmV2ZXJzZVRyYXZlcnNhbCIsImdldEl0ZXJhdG9yIiwiZG4iLCJnZXRJdGVyYXRvckZyb20iLCJnZXRSZXZlcnNlSXRlcmF0b3IiLCJnZXRSZXZlcnNlSXRlcmF0b3JGcm9tIiwiaXNSZXZlcnNlIiwibm9kZVN0YWNrIiwiZ2V0TmV4dCIsInBvcCIsImhhc05leHQiLCJwZWVrIiwiY29sb3IiLCJSRUQiLCJmaXhVcCIsInJlbW92ZU1pbiIsImlzUmVkIiwibW92ZVJlZExlZnQiLCJyb3RhdGVSaWdodCIsIm1vdmVSZWRSaWdodCIsInJvdGF0ZUxlZnQiLCJjb2xvckZsaXAiLCJjaGVja01heERlcHRoIiwiY2hlY2siLCJwb3ciLCJfbiIsImZpcnN0IiwibGFzdCIsImZvckVhY2hJblJhbmdlIiwiZm9yRWFjaFdoaWxlIiwiZmlyc3RBZnRlck9yRXF1YWwiLCJtbiIsInVuaW9uV2l0aCIsIml0ZXIiLCJnbiIsInluIiwicG4iLCJFbiIsIlRuIiwiSW4iLCJBbiIsIlJuIiwiYm4iLCJQbiIsInZuIiwic25hcHNob3RWZXJzaW9uIiwidGFyZ2V0Q2hhbmdlcyIsInRhcmdldE1pc21hdGNoZXMiLCJkb2N1bWVudFVwZGF0ZXMiLCJyZXNvbHZlZExpbWJvRG9jdW1lbnRzIiwiVm4iLCJjcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UiLCJyZXN1bWVUb2tlbiIsImN1cnJlbnQiLCJhZGRlZERvY3VtZW50cyIsIm1vZGlmaWVkRG9jdW1lbnRzIiwicmVtb3ZlZERvY3VtZW50cyIsIlNuIiwicmVtb3ZlZFRhcmdldElkcyIsIkRuIiwidGFyZ2V0SWQiLCJDbiIsInRhcmdldElkcyIsImNhdXNlIiwiTm4iLCIkbiIsInhuIiwia24iLCJmb3JFYWNoVGFyZ2V0IiwicmVtb3ZlVGFyZ2V0IiwibmV3Tm9Eb2N1bWVudCIsInB1cnBvc2UiLCJnZXRSZW1vdGVLZXlzRm9yVGFyZ2V0IiwiT24iLCJhc2MiLCJkZXNjIiwiRm4iLCJpbiIsIk1uIiwiZGF0YWJhc2VJZCIsIkxuIiwiQm4iLCJVbiIsInFuIiwiZnJvbVRpbWVzdGFtcCIsIktuIiwiam4iLCJ5cyIsIlFuIiwiV24iLCJKbiIsIkduIiwiem4iLCJIbiIsIlluIiwiWG4iLCJuZXdGb3VuZERvY3VtZW50IiwiZXMiLCJ1cGRhdGVNYXNrIiwiZ3MiLCJ2ZXJpZnkiLCJ1cGRhdGVUcmFuc2Zvcm1zIiwiZmllbGRQYXRoIiwic2V0VG9TZXJ2ZXJWYWx1ZSIsImFwcGVuZE1pc3NpbmdFbGVtZW50cyIsInJlbW92ZUFsbEZyb21BcnJheSIsImluY3JlbWVudCIsImN1cnJlbnREb2N1bWVudCIsIm5zIiwibm9uZSIsImZyb21TZXJ2ZXJGb3JtYXQiLCJmaWVsZFBhdGhzIiwiaXMiLCJkb2N1bWVudHMiLCJycyIsInN0cnVjdHVyZWRRdWVyeSIsInBhcmVudCIsImNvbGxlY3Rpb25JZCIsImFsbERlc2NlbmRhbnRzIiwidW5hcnlGaWx0ZXIiLCJkcyIsImZpZWxkRmlsdGVyIiwiZnMiLCJjb21wb3NpdGVGaWx0ZXIiLCJ3aGVyZSIsImRpcmVjdGlvbiIsImxzIiwidXMiLCJvcyIsImNzIiwid3MiLCJocyIsIm1zIiwiX3MiLCJyZWR1Y2UiLCJOYU4iLCJwcyIsIlRzIiwiRXMiLCJJcyIsIkFzIiwiUnMiLCJvd25lcklkIiwiYWxsb3dUYWJTeW5jaHJvbml6YXRpb24iLCJsZWFzZVRpbWVzdGFtcE1zIiwic3RvcmUiLCJicyIsInVzZXJJZCIsImxhc3RBY2tub3dsZWRnZWRCYXRjaElkIiwibGFzdFN0cmVhbVRva2VuIiwia2V5UGF0aCIsIlBzIiwiYmF0Y2hJZCIsImxvY2FsV3JpdGVUaW1lTXMiLCJiYXNlTXV0YXRpb25zIiwibXV0YXRpb25zIiwidXNlck11dGF0aW9uc0luZGV4IiwidXNlck11dGF0aW9uc0tleVBhdGgiLCJ2cyIsIlBMQUNFSE9MREVSIiwiVnMiLCJyZWFkVGltZSIsIlNzIiwiRHMiLCJ1bmtub3duRG9jdW1lbnQiLCJub0RvY3VtZW50IiwicGFyZW50UGF0aCIsInJlYWRUaW1lSW5kZXgiLCJyZWFkVGltZUluZGV4UGF0aCIsImNvbGxlY3Rpb25SZWFkVGltZUluZGV4IiwiY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoIiwiQ3MiLCJieXRlU2l6ZSIsIk5zIiwiY2Fub25pY2FsSWQiLCJsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIiLCJsYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uIiwicXVlcnkiLCJxdWVyeVRhcmdldHNJbmRleE5hbWUiLCJxdWVyeVRhcmdldHNLZXlQYXRoIiwieHMiLCJzZXF1ZW5jZU51bWJlciIsImRvY3VtZW50VGFyZ2V0c0luZGV4IiwiZG9jdW1lbnRUYXJnZXRzS2V5UGF0aCIsImtzIiwiaGlnaGVzdFRhcmdldElkIiwiaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyIiwibGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsInRhcmdldENvdW50IiwiJHMiLCJPcyIsImNsaWVudElkIiwidXBkYXRlVGltZU1zIiwibmV0d29ya0VuYWJsZWQiLCJpbkZvcmVncm91bmQiLCJGcyIsImJ1bmRsZUlkIiwiY3JlYXRlVGltZSIsIk1zIiwiYnVuZGxlZFF1ZXJ5IiwiTHMiLCJCcyIsIlVzIiwib25Db21taXR0ZWRMaXN0ZW5lcnMiLCJhZGRPbkNvbW1pdHRlZExpc3RlbmVyIiwicmFpc2VPbkNvbW1pdHRlZEV2ZW50IiwicXMiLCJuZXh0Q2FsbGJhY2siLCJjYXRjaENhbGxiYWNrIiwicmVzdWx0IiwiaXNEb25lIiwiY2FsbGJhY2tBdHRhY2hlZCIsIndyYXBGYWlsdXJlIiwid3JhcFN1Y2Nlc3MiLCJ0b1Byb21pc2UiLCJ3cmFwVXNlckZ1bmN0aW9uIiwid2FpdEZvciIsIktzIiwiYWN0aW9uIiwidHJhbnNhY3Rpb24iLCJhYm9ydGVkIiwib25jb21wbGV0ZSIsIldzIiwiWXMiLCJvYmplY3RTdG9yZSIsInpzIiwianMiLCJIcyIsImluZGV4ZWREQiIsImRlbGV0ZURhdGFiYXNlIiwiZW52Iiwib25zdWNjZXNzIiwib25ibG9ja2VkIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsIm9udmVyc2lvbmNoYW5nZSIsIlFzIiwiY3Vyc29yIiwiR3MiLCJwdXQiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJpbmRleCIsInJhbmdlIiwicmV2ZXJzZSIsIm9wZW5LZXlDdXJzb3IiLCJvcGVuQ3Vyc29yIiwiSnMiLCJYcyIsImN1cnJlbnRTZXF1ZW5jZU51bWJlciIsIlpzIiwidGkiLCJsb2NhbFdyaXRlVGltZSIsImFwcGx5VG9SZW1vdGVEb2N1bWVudCIsIm11dGF0aW9uUmVzdWx0cyIsImFwcGx5VG9Mb2NhbFZpZXciLCJhcHBseVRvTG9jYWxEb2N1bWVudFNldCIsImVpIiwiYmF0Y2giLCJjb21taXRWZXJzaW9uIiwiZG9jVmVyc2lvbnMiLCJuaSIsIndpdGhTZXF1ZW5jZU51bWJlciIsIndpdGhSZXN1bWVUb2tlbiIsIndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uIiwic2kiLCJpaSIsImZyb21TZWdtZW50cyIsInVpIiwibmV3VW5rbm93bkRvY3VtZW50IiwicmkiLCJvaSIsImNpIiwiYWkiLCJoaSIsImxpIiwiZmkiLCJkaSIsIndpIiwiZ2V0QnVuZGxlTWV0YWRhdGEiLCJzYXZlQnVuZGxlTWV0YWRhdGEiLCJnZXROYW1lZFF1ZXJ5IiwibWkiLCJzYXZlTmFtZWRRdWVyeSIsImdpIiwieWkiLCJhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCIsImdldENvbGxlY3Rpb25QYXJlbnRzIiwiZ2V0RW50cmllcyIsInBpIiwiRWkiLCJJREJLZXlSYW5nZSIsImJvdW5kIiwiVGkiLCJkaWRSdW4iLCJzZXF1ZW5jZU51bWJlcnNDb2xsZWN0ZWQiLCJ0YXJnZXRzUmVtb3ZlZCIsImRvY3VtZW50c1JlbW92ZWQiLCJJaSIsImNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQiLCJwZXJjZW50aWxlVG9Db2xsZWN0IiwibWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCIsIkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFIiwiREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUIiwiQWkiLCJvbmx5IiwiUmkiLCJERUZBVUxUIiwiRElTQUJMRUQiLCJiaSIsInJlZmVyZW5jZURlbGVnYXRlIiwiY2hlY2tFbXB0eSIsIk5FR0FUSVZFX0lORklOSVRZIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJ2aSIsImFkZE11dGF0aW9uQmF0Y2giLCJWaSIsImxvb2t1cE11dGF0aW9uQmF0Y2giLCJnZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZCIsImxvd2VyQm91bmQiLCJnZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkIiwidXBwZXJCb3VuZCIsImdldEFsbE11dGF0aW9uQmF0Y2hlcyIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5IiwicHJlZml4Rm9yUGF0aCIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5IiwicmVtb3ZlTXV0YXRpb25CYXRjaCIsIm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkIiwicGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2siLCJwcmVmaXhGb3JVc2VyIiwiY29udGFpbnNLZXkiLCJQaSIsIlNpIiwiRGkiLCJDaSIsImFsbG9jYXRlVGFyZ2V0SWQiLCJnZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uIiwiZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyIiwic2V0VGFyZ2V0c01ldGFkYXRhIiwiYWRkVGFyZ2V0RGF0YSIsInVwZGF0ZVRhcmdldERhdGEiLCJyZW1vdmVUYXJnZXREYXRhIiwicmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQiLCJOaSIsInJlbW92ZVRhcmdldHMiLCJ4aSIsImdldFRhcmdldENvdW50IiwiZ2V0VGFyZ2V0RGF0YSIsImFkZE1hdGNoaW5nS2V5cyIsImtpIiwiYWRkUmVmZXJlbmNlIiwicmVtb3ZlTWF0Y2hpbmdLZXlzIiwicmVtb3ZlUmVmZXJlbmNlIiwiZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQiLCIkaSIsIk9pIiwiRmkiLCJidWZmZXIiLCJtYXhWYWx1ZSIsIk1pIiwiZ2FyYmFnZUNvbGxlY3RvciIsImFzeW5jUXVldWUiLCJwYXJhbXMiLCJzdG9wIiwic3RhcnRlZCIsImVucXVldWVBZnRlckRlbGF5IiwiY29sbGVjdEdhcmJhZ2UiLCJMaSIsImNhbGN1bGF0ZVRhcmdldENvdW50IiwibnRoU2VxdWVuY2VOdW1iZXIiLCJyZW1vdmVPcnBoYW5lZERvY3VtZW50cyIsImNvbGxlY3QiLCJnZXRDYWNoZVNpemUiLCJCaSIsImdldFRhcmdldENhY2hlIiwiVWkiLCJnZXRSZW1vdGVEb2N1bWVudENhY2hlIiwibmV3Q2hhbmdlQnVmZmVyIiwiZ2V0RW50cnkiLCJyZW1vdmVFbnRyeSIsInVwZGF0ZUxpbWJvRG9jdW1lbnQiLCJnZXRTaXplIiwicWkiLCJtYXBLZXlGbiIsImVxdWFsc0ZuIiwiaW5uZXIiLCJLaSIsImNoYW5nZXMiLCJjaGFuZ2VzQXBwbGllZCIsImdldFJlYWRUaW1lIiwiYWRkRW50cnkiLCJhc3NlcnROb3RBcHBsaWVkIiwibmV3SW52YWxpZERvY3VtZW50IiwiZ2V0RnJvbUNhY2hlIiwiZ2V0QWxsRnJvbUNhY2hlIiwiamkiLCJHaSIsInppIiwidXBkYXRlTWV0YWRhdGEiLCJnZXRNZXRhZGF0YSIsImdldERvY3VtZW50c01hdGNoaW5nUXVlcnkiLCJRaSIsInRyYWNrUmVtb3ZhbHMiLCJXaSIsIkhpIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJhdXRvSW5jcmVtZW50IiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJKaSIsImRlbGV0ZU9iamVjdFN0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwiWWkiLCJYaSIsInBlcnNpc3RlbmNlS2V5IiwiaXNQcmltYXJ5IiwibG9jYWxTdG9yYWdlIiwicnVuVHJhbnNhY3Rpb24iLCJzZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lciIsIm5ld1ZlcnNpb24iLCJzZXROZXR3b3JrRW5hYmxlZCIsImVucXVldWVBbmRGb3JnZXQiLCJ0ciIsIlppIiwicmVtb3ZlSXRlbSIsImdldE11dGF0aW9uUXVldWUiLCJnZXRJbmRleE1hbmFnZXIiLCJnZXRCdW5kbGVDYWNoZSIsInZpc2liaWxpdHlTdGF0ZSIsImFwcFZlcnNpb24iLCJlbnRlclJlc3RyaWN0ZWRNb2RlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJlciIsImlzRGVmYXVsdERhdGFiYXNlIiwibnIiLCJwcm9ncmVzcyIsInNyIiwiaXIiLCJmcm9tQ2FjaGUiLCJkb2NDaGFuZ2VzIiwiZG9jIiwicnIiLCJvciIsInBlcnNpc3RlbmNlIiwiYXIiLCJjciIsInJlbW92ZWRCYXRjaElkcyIsImFkZGVkQmF0Y2hJZHMiLCJociIsImZyIiwiZHIiLCJ3ciIsIl9yIiwibXIiLCJnciIsInlyIiwiVHIiLCJJciIsIkFyIiwiWm4iLCJSciIsInRzIiwic3MiLCJiciIsIlByIiwiZG9jcyIsInZyIiwiVnIiLCJTciIsIkRyIiwiQ3IiLCJmcm9tUGF0aCIsIk5yIiwieHIiLCJrciIsIiRyIiwiT3IiLCJGciIsImFjdGl2ZVRhcmdldElkcyIsIk1yIiwib25saW5lU3RhdGUiLCJMciIsIkJyIiwic3luY0VuZ2luZSIsIm9ubGluZVN0YXRlSGFuZGxlciIsInN0b3JhZ2UiLCJnZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMiLCJpc0FjdGl2ZVF1ZXJ5VGFyZ2V0IiwiYWRkUGVuZGluZ011dGF0aW9uIiwidXBkYXRlTXV0YXRpb25TdGF0ZSIsImFkZExvY2FsUXVlcnlUYXJnZXQiLCJyZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0IiwiaXNMb2NhbFF1ZXJ5VGFyZ2V0IiwiY2xlYXJRdWVyeVN0YXRlIiwidXBkYXRlUXVlcnlTdGF0ZSIsImhhbmRsZVVzZXJDaGFuZ2UiLCJzZXRPbmxpbmVTdGF0ZSIsIm5vdGlmeUJ1bmRsZUxvYWRlZCIsInN0b3JhZ2VBcmVhIiwibmV3VmFsdWUiLCJVciIsInFyIiwiS3IiLCJqciIsIkJhdGNoR2V0RG9jdW1lbnRzIiwiQ29tbWl0IiwiUnVuUXVlcnkiLCJRciIsIm9uTWVzc2FnZSIsIldyIiwiZGF0YWJhc2VJbmZvIiwic3NsIiwiaG9zdCIsImFwcElkIiwiYXV0b0RldGVjdExvbmdQb2xsaW5nIiwidXNlRmV0Y2hTdHJlYW1zIiwiZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zIiwiR3IiLCJ6ciIsIkhyIiwiSnIiLCJ0aW1lcklkIiwic2tpcERlbGF5IiwiWXIiLCJjcmVkZW50aWFsc1Byb3ZpZGVyIiwidXIiLCJsciIsInByIiwiRXIiLCJYciIsInRhcmdldENoYW5nZSIsInRhcmdldENoYW5nZVR5cGUiLCJkb2N1bWVudENoYW5nZSIsImRvY3VtZW50RGVsZXRlIiwiZG9jdW1lbnRSZW1vdmUiLCJhZGRUYXJnZXQiLCJhcyIsImxhYmVscyIsIlpyIiwic3RyZWFtVG9rZW4iLCJ3cml0ZVJlc3VsdHMiLCJjb21taXRUaW1lIiwid3JpdGVzIiwidG8iLCJ0ZXJtaW5hdGUiLCJlbyIsIm5vIiwibG9jYWxTdG9yZSIsImRhdGFzdG9yZSIsInJlbW90ZVN5bmNlciIsImxvIiwiaW8iLCJzbyIsInJvIiwiaG8iLCJ1byIsIlNvIiwiYW8iLCJvbyIsImNvIiwiZm8iLCJ3byIsIl9vIiwibW8iLCJyZWplY3RMaXN0ZW4iLCJnbyIsImFwcGx5UmVtb3RlRXZlbnQiLCJ5byIsInBvIiwiRG8iLCJFbyIsIlRvIiwiSW8iLCJBbyIsIlJvIiwiYm8iLCJQbyIsImFwcGx5U3VjY2Vzc2Z1bFdyaXRlIiwidm8iLCJyZWplY3RGYWlsZWRXcml0ZSIsIlZvIiwiQ28iLCJ0YXJnZXRUaW1lTXMiLCJyZW1vdmFsQ2FsbGJhY2siLCJ0aW1lckhhbmRsZSIsImhhbmRsZURlbGF5RWxhcHNlZCIsIk5vIiwieG8iLCJrZXllZE1hcCIsInNvcnRlZFNldCIsImtvIiwidHJhY2siLCIkbyIsIm9sZERvY3MiLCJtdXRhdGVkS2V5cyIsInN5bmNTdGF0ZUNoYW5nZWQiLCJleGNsdWRlc01ldGFkYXRhQ2hhbmdlcyIsImVtcHR5U2V0IiwiT28iLCJsaXN0ZW5lcnMiLCJGbyIsInF1ZXJpZXMiLCJNbyIsIm9uTGlzdGVuIiwib25FcnJvciIsInFvIiwiTG8iLCJvblVubGlzdGVuIiwiQm8iLCJVbyIsIktvIiwiaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyIsImZyb21Jbml0aWFsRG9jdW1lbnRzIiwiam8iLCJieXRlTGVuZ3RoIiwiUW8iLCJtZXRhZGF0YSIsIldvIiwiR28iLCJieXRlc0xvYWRlZCIsImRvY3VtZW50c0xvYWRlZCIsIm5hbWVkUXVlcnkiLCJkb2N1bWVudE1ldGFkYXRhIiwidGFza1N0YXRlIiwidG90YWxEb2N1bWVudHMiLCJ0b3RhbEJ5dGVzIiwiem8iLCJIbyIsIkpvIiwic25hcHNob3QiLCJZbyIsInZpZXciLCJYbyIsIlpvIiwicmVtb3RlU3RvcmUiLCJldmVudE1hbmFnZXIiLCJzaGFyZWRDbGllbnRTdGF0ZSIsIm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zIiwiaXNQcmltYXJ5Q2xpZW50IiwiY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UiLCJzeW5jaHJvbml6ZVRhYnMiLCJnY1NjaGVkdWxlciIsImluaXRpYWxVc2VyIiwiY2FjaGVTaXplQnl0ZXMiLCJmb3JjZU93bmVyc2hpcCIsIndpdGhDYWNoZVNpemUiLCJjcmVhdGVEYXRhc3RvcmUiLCJjcmVhdGVSZW1vdGVTdG9yZSIsImNyZWF0ZUV2ZW50TWFuYWdlciIsImNyZWF0ZVN5bmNFbmdpbmUiLCJoYW5kbGVDcmVkZW50aWFsQ2hhbmdlIiwicmVsZWFzZUxvY2siLCJjbG9zZWQiLCJtdXRlZCIsImZpbmRJbmRleCIsInJlYWRWZXJzaW9ucyIsImNvbW1pdHRlZCIsImxhc3RXcml0ZUVycm9yIiwid3JpdHRlbkRvY3MiLCJlbnN1cmVDb21taXROb3RDYWxsZWQiLCJmb3VuZCIsIm1pc3NpbmciLCJyZWNvcmRWZXJzaW9uIiwid3JpdGUiLCJ0b011dGF0aW9uIiwicHJlY29uZGl0aW9uRm9yVXBkYXRlIiwidXBkYXRlRnVuY3Rpb24iLCJydW4iLCJjb21taXQiLCJjcmVkZW50aWFsTGlzdGVuZXIiLCJzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIiLCJ2ZXJpZnlOb3RUZXJtaW5hdGVkIiwiaXNTaHV0dGluZ0Rvd24iLCJlbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCIsIm9ubGluZUNvbXBvbmVudHMiLCJvZmZsaW5lQ29tcG9uZW50cyIsInZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MiLCJnZXRDb25maWd1cmF0aW9uIiwic291cmNlIiwiaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyIsImV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmciLCJleHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmciLCJfY3JlZGVudGlhbHMiLCJfcGVyc2lzdGVuY2VLZXkiLCJfc2V0dGluZ3MiLCJfc2V0dGluZ3NGcm96ZW4iLCJfZGF0YWJhc2VJZCIsIl9hcHAiLCJfaW5pdGlhbGl6ZWQiLCJfdGVybWluYXRlZCIsIl90ZXJtaW5hdGVUYXNrIiwiX3NldFNldHRpbmdzIiwiY2xpZW50Iiwic2Vzc2lvbkluZGV4IiwiaWFtVG9rZW4iLCJfZ2V0U2V0dGluZ3MiLCJfZnJlZXplU2V0dGluZ3MiLCJfdGVybWluYXRlIiwic2V0dGluZ3MiLCJtb2NrVXNlclRva2VuIiwiY29udmVydGVyIiwiX2tleSIsImZpcmVzdG9yZSIsIl9wYXRoIiwid2l0aENvbnZlcnRlciIsIl9xdWVyeSIsImVucXVldWUiLCJzdGFjayIsImNyZWF0ZUFuZFNjaGVkdWxlIiwiX3Byb2dyZXNzT2JzZXJ2ZXIiLCJfdGFza0NvbXBsZXRpb25SZXNvbHZlciIsIl9sYXN0UHJvZ3Jlc3MiLCJvblByb2dyZXNzIiwiX2NvbXBsZXRlV2l0aCIsIl91cGRhdGVQcm9ncmVzcyIsIl9mYWlsV2l0aCIsIl9xdWV1ZSIsIl9maXJlc3RvcmVDbGllbnQiLCJET01FeGNlcHRpb24iLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIkFycmF5QnVmZmVyIiwiX2ludGVybmFsUGF0aCIsIl9ieXRlU3RyaW5nIiwiX21ldGhvZE5hbWUiLCJpc0Zpbml0ZSIsIl9sYXQiLCJfbG9uZyIsInR1IiwiZXUiLCJudSIsInN1IiwiQXUiLCJtZXRob2ROYW1lIiwiaXUiLCJydSIsIm91IiwibWVyZ2UiLCJtZXJnZUZpZWxkcyIsInB1IiwiZ3UiLCJFdSIsIlJ1IiwiYXUiLCJfdG9GaWVsZFRyYW5zZm9ybSIsImN1IiwidXUiLCJodSIsIm11IiwibHUiLCJmdSIsImR1IiwiSXUiLCJ3dSIsIl91IiwieXUiLCJmcm9tRGF0ZSIsImdldFByb3RvdHlwZU9mIiwiVHUiLCJzZWFyY2giLCJidSIsIl9maXJlc3RvcmUiLCJfdXNlckRhdGFXcml0ZXIiLCJfZG9jdW1lbnQiLCJfY29udmVydGVyIiwicmVmIiwiUHUiLCJmcm9tRmlyZXN0b3JlIiwiY29udmVydFZhbHVlIiwidnUiLCJWdSIsIlN1IiwiX2ZpcmVzdG9yZUltcGwiLCJEdSIsInNlcnZlclRpbWVzdGFtcHMiLCJDdSIsIl9zbmFwc2hvdCIsIl9jYWNoZWRDaGFuZ2VzIiwiX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIk51IiwieHUiLCJrdSIsIiR1IiwiT3UiLCJfYXBwbHkiLCJGdSIsIlh1IiwiWXUiLCJadSIsIk11IiwiTHUiLCJCdSIsIlV1IiwicXUiLCJLdSIsImp1IiwiSnUiLCJRdSIsIld1IiwiR3UiLCJ6dSIsIkh1IiwidGgiLCJjb252ZXJ0VGltZXN0YW1wIiwiY29udmVydFNlcnZlclRpbWVzdGFtcCIsImNvbnZlcnRCeXRlcyIsImNvbnZlcnRSZWZlcmVuY2UiLCJjb252ZXJ0R2VvUG9pbnQiLCJjb252ZXJ0QXJyYXkiLCJjb252ZXJ0T2JqZWN0IiwiY29udmVydERvY3VtZW50S2V5IiwiZWgiLCJ0b0ZpcmVzdG9yZSIsIm5oIiwic2giLCJfY29tbWl0SGFuZGxlciIsIl9tdXRhdGlvbnMiLCJfY29tbWl0dGVkIiwiX2RhdGFSZWFkZXIiLCJfdmVyaWZ5Tm90Q29tbWl0dGVkIiwiaWgiLCJyaCIsInBoIiwib2giLCJhaCIsImNoIiwidWgiLCJoaCIsImxoIiwiZmgiLCJ5aCIsImRoIiwid2giLCJfaCIsIm1oIiwiZ2giLCJFaCIsIl90cmFuc2FjdGlvbiIsImxvb2t1cCIsIlRoIiwiSWgiLCJBaCIsIlJoIiwiYmgiLCJQaCIsInZoIiwiVmgiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsImF1dGhEb21haW4iLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJtZWFzdXJlbWVudElkIiwibm90YXRraSIsImdldEZpcmVzdG9yZSIsInNhdmVOb3RlcyIsIm5vdGVzIiwibm90YXRrYSIsImFkZERvYyIsImNvbGxlY3Rpb24iLCJ0aXRsZSIsInRleHRDb250ZW50IiwiaXNQaW5uZWQiLCJkYXRlIiwiZG9jUmVmIiwiZ2V0Tm90ZXMiLCJnZXREb2NzIiwicXVlcnlTbmFwc2hvdCIsInRlbXAiLCJOb3RlIiwicmVtb3ZlTm90ZSIsImRlbGV0ZURvYyIsIm5vdGUiLCJyZWZlcnJhbCIsInVwZGF0ZURvYyIsIkFwcEZpcmVTdG9yZVN0b3JhZ2UiLCJlbCIsInN0YXJ0c1dpdGgiLCJBcHBTdG9yYWdlIiwicGlubmVkIiwidXNlckludGVyZmFjZSIsImxvY2F0aW9uT2ZTYXZpbmciLCJyZW5kZXJOb3RlcyIsInJlbW92ZUJ1dHRvbnNFdmVudCIsImNyZWF0ZU5vdGUiLCJ1cGRhdGVOb3RlIiwiZGVsZXRlTm90ZXMiLCJ0ZW1wSW5kIiwidGVtcE5vdGUiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW92ZSIsInBhcmVudEVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbnNlcnRCZWZvcmUiLCJOb3RlcyIsImlubmVySFRNTCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJyZW1vdmVCdXR0b24iLCJyZXBpbkJ1dHRvbiIsInN0eWxlIiwibWFyZ2luIiwiYmFja2dyb3VuZENvbG9yIiwiaGVpZ2h0Iiwid2lkdGgiLCJib3JkZXJSYWRpdXMiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJhcHBlbmRDaGlsZCIsIl9fYXNzaWduIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJfX2dlbmVyYXRvciIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiX19yZWFkIiwiX19zcHJlYWRBcnJheSIsInBhY2siLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJwcm9wIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9
